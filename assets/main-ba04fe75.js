var Un=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var q=(t,e,n)=>(Un(t,e,"read from private field"),n?n.call(t):e.get(t)),ct=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},et=(t,e,n,l)=>(Un(t,e,"write to private field"),l?l.call(t,n):e.set(t,n),n);var wn=(t,e,n)=>(Un(t,e,"access private method"),n);import{c as kn,g as Wr,_ as Q,i as pi,a as mi,G as sn,d as pn,r as at,b as Xe,m as vi,e as Ot,u as mn,o as rt,f as lt,h as C,j,k as Lt,S as Jr,l as Pt,n as Tt,t as pt,F as Xt,p as Ye,q as qn,s as Yt,v as Qt,w as Ct,x as en,y as zn,z as Gr,A as Xn,M as _i,B as gi,C as It,D as Nn,E as Zr,H as qt,I as Qe,J as Kr,K as er,L as Ln,N as Hr,O as qr,P as bi,Q as yi,R as wi,T as ki,U as Si}from"./openPlot-19746b40.js";const Xr=""+new URL("../banner_dark.png",import.meta.url).href,Yr=""+new URL("../banner.png",import.meta.url).href;function Sn(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qr={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(l,o,r){function a(_,p){if(!o[_]){if(!l[_]){var v=typeof Sn=="function"&&Sn;if(!p&&v)return v(_,!0);if(s)return s(_,!0);var b=new Error("Cannot find module '"+_+"'");throw b.code="MODULE_NOT_FOUND",b}var d=o[_]={exports:{}};l[_][0].call(d.exports,function(g){var u=l[_][1][g];return a(u||g)},d,d.exports,n,l,o,r)}return o[_].exports}for(var s=typeof Sn=="function"&&Sn,h=0;h<r.length;h++)a(r[h]);return a}({1:[function(n,l,o){var r=n("./utils"),a=n("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(h){for(var _,p,v,b,d,g,u,m=[],f=0,y=h.length,S=y,I=r.getTypeOf(h)!=="string";f<h.length;)S=y-f,v=I?(_=h[f++],p=f<y?h[f++]:0,f<y?h[f++]:0):(_=h.charCodeAt(f++),p=f<y?h.charCodeAt(f++):0,f<y?h.charCodeAt(f++):0),b=_>>2,d=(3&_)<<4|p>>4,g=1<S?(15&p)<<2|v>>6:64,u=2<S?63&v:64,m.push(s.charAt(b)+s.charAt(d)+s.charAt(g)+s.charAt(u));return m.join("")},o.decode=function(h){var _,p,v,b,d,g,u=0,m=0,f="data:";if(h.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var y,S=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===s.charAt(64)&&S--,h.charAt(h.length-2)===s.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=a.uint8array?new Uint8Array(0|S):new Array(0|S);u<h.length;)_=s.indexOf(h.charAt(u++))<<2|(b=s.indexOf(h.charAt(u++)))>>4,p=(15&b)<<4|(d=s.indexOf(h.charAt(u++)))>>2,v=(3&d)<<6|(g=s.indexOf(h.charAt(u++))),y[m++]=_,d!==64&&(y[m++]=p),g!==64&&(y[m++]=v);return y}},{"./support":30,"./utils":32}],2:[function(n,l,o){var r=n("./external"),a=n("./stream/DataWorker"),s=n("./stream/Crc32Probe"),h=n("./stream/DataLengthProbe");function _(p,v,b,d,g){this.compressedSize=p,this.uncompressedSize=v,this.crc32=b,this.compression=d,this.compressedContent=g}_.prototype={getContentWorker:function(){var p=new a(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),v=this;return p.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new a(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},_.createWorkerFrom=function(p,v,b){return p.pipe(new s).pipe(new h("uncompressedSize")).pipe(v.compressWorker(b)).pipe(new h("compressedSize")).withStreamInfo("compression",v)},l.exports=_},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,l,o){var r=n("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},o.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,l,o){var r=n("./utils"),a=function(){for(var s,h=[],_=0;_<256;_++){s=_;for(var p=0;p<8;p++)s=1&s?3988292384^s>>>1:s>>>1;h[_]=s}return h}();l.exports=function(s,h){return s!==void 0&&s.length?r.getTypeOf(s)!=="string"?function(_,p,v,b){var d=a,g=b+v;_^=-1;for(var u=b;u<g;u++)_=_>>>8^d[255&(_^p[u])];return-1^_}(0|h,s,s.length,0):function(_,p,v,b){var d=a,g=b+v;_^=-1;for(var u=b;u<g;u++)_=_>>>8^d[255&(_^p.charCodeAt(u))];return-1^_}(0|h,s,s.length,0):0}},{"./utils":32}],5:[function(n,l,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(n,l,o){var r=null;r=typeof Promise<"u"?Promise:n("lie"),l.exports={Promise:r}},{lie:37}],7:[function(n,l,o){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),s=n("./utils"),h=n("./stream/GenericWorker"),_=r?"uint8array":"array";function p(v,b){h.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=b,this.meta={}}o.magic="\b\0",s.inherits(p,h),p.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(_,v.data),!1)},p.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(b){v.push({data:b,meta:v.meta})}},o.compressWorker=function(v){return new p("Deflate",v)},o.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,l,o){function r(d,g){var u,m="";for(u=0;u<g;u++)m+=String.fromCharCode(255&d),d>>>=8;return m}function a(d,g,u,m,f,y){var S,I,O=d.file,B=d.compression,A=y!==_.utf8encode,D=s.transformTo("string",y(O.name)),P=s.transformTo("string",_.utf8encode(O.name)),W=O.comment,tt=s.transformTo("string",y(W)),x=s.transformTo("string",_.utf8encode(W)),z=P.length!==O.name.length,c=x.length!==W.length,$="",st="",M="",ut=O.dir,J=O.date,ot={crc32:0,compressedSize:0,uncompressedSize:0};g&&!u||(ot.crc32=d.crc32,ot.compressedSize=d.compressedSize,ot.uncompressedSize=d.uncompressedSize);var T=0;g&&(T|=8),A||!z&&!c||(T|=2048);var N=0,it=0;ut&&(N|=16),f==="UNIX"?(it=798,N|=function(H,wt){var Nt=H;return H||(Nt=wt?16893:33204),(65535&Nt)<<16}(O.unixPermissions,ut)):(it=20,N|=function(H){return 63&(H||0)}(O.dosPermissions)),S=J.getUTCHours(),S<<=6,S|=J.getUTCMinutes(),S<<=5,S|=J.getUTCSeconds()/2,I=J.getUTCFullYear()-1980,I<<=4,I|=J.getUTCMonth()+1,I<<=5,I|=J.getUTCDate(),z&&(st=r(1,1)+r(p(D),4)+P,$+="up"+r(st.length,2)+st),c&&(M=r(1,1)+r(p(tt),4)+x,$+="uc"+r(M.length,2)+M);var X="";return X+=`
\0`,X+=r(T,2),X+=B.magic,X+=r(S,2),X+=r(I,2),X+=r(ot.crc32,4),X+=r(ot.compressedSize,4),X+=r(ot.uncompressedSize,4),X+=r(D.length,2),X+=r($.length,2),{fileRecord:v.LOCAL_FILE_HEADER+X+D+$,dirRecord:v.CENTRAL_FILE_HEADER+r(it,2)+X+r(tt.length,2)+"\0\0\0\0"+r(N,4)+r(m,4)+D+$+tt}}var s=n("../utils"),h=n("../stream/GenericWorker"),_=n("../utf8"),p=n("../crc32"),v=n("../signature");function b(d,g,u,m){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=u,this.encodeFileName=m,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(b,h),b.prototype.push=function(d){var g=d.meta.percent||0,u=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,h.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:u?(g+100*(u-m-1))/u:100}}))},b.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var g=this.streamFiles&&!d.file.dir;if(g){var u=a(d,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:u.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(d){this.accumulate=!1;var g=this.streamFiles&&!d.file.dir,u=a(d,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(u.dirRecord),g)this.push({data:function(m){return v.DATA_DESCRIPTOR+r(m.crc32,4)+r(m.compressedSize,4)+r(m.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:u.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var d=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var u=this.bytesWritten-d,m=function(f,y,S,I,O){var B=s.transformTo("string",O(I));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(f,2)+r(f,2)+r(y,4)+r(S,4)+r(B.length,2)+B}(this.dirRecords.length,u,d,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(d){this._sources.push(d);var g=this;return d.on("data",function(u){g.processChunk(u)}),d.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),d.on("error",function(u){g.error(u)}),this},b.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(d){var g=this._sources;if(!h.prototype.error.call(this,d))return!1;for(var u=0;u<g.length;u++)try{g[u].error(d)}catch{}return!0},b.prototype.lock=function(){h.prototype.lock.call(this);for(var d=this._sources,g=0;g<d.length;g++)d[g].lock()},l.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,l,o){var r=n("../compressions"),a=n("./ZipFileWorker");o.generateWorker=function(s,h,_){var p=new a(h.streamFiles,_,h.platform,h.encodeFileName),v=0;try{s.forEach(function(b,d){v++;var g=function(y,S){var I=y||S,O=r[I];if(!O)throw new Error(I+" is not a valid compression method !");return O}(d.options.compression,h.compression),u=d.options.compressionOptions||h.compressionOptions||{},m=d.dir,f=d.date;d._compressWorker(g,u).withStreamInfo("file",{name:b,dir:m,date:f,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(p)}),p.entriesCount=v}catch(b){p.error(b)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,l,o){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new r;for(var s in this)typeof this[s]!="function"&&(a[s]=this[s]);return a}}(r.prototype=n("./object")).loadAsync=n("./load"),r.support=n("./support"),r.defaults=n("./defaults"),r.version="3.10.1",r.loadAsync=function(a,s){return new r().loadAsync(a,s)},r.external=n("./external"),l.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,l,o){var r=n("./utils"),a=n("./external"),s=n("./utf8"),h=n("./zipEntries"),_=n("./stream/Crc32Probe"),p=n("./nodejsUtils");function v(b){return new a.Promise(function(d,g){var u=b.decompressed.getContentWorker().pipe(new _);u.on("error",function(m){g(m)}).on("end",function(){u.streamInfo.crc32!==b.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}l.exports=function(b,d){var g=this;return d=r.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),p.isNode&&p.isStream(b)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",b,!0,d.optimizedBinaryString,d.base64).then(function(u){var m=new h(d);return m.load(u),m}).then(function(u){var m=[a.Promise.resolve(u)],f=u.files;if(d.checkCRC32)for(var y=0;y<f.length;y++)m.push(v(f[y]));return a.Promise.all(m)}).then(function(u){for(var m=u.shift(),f=m.files,y=0;y<f.length;y++){var S=f[y],I=S.fileNameStr,O=r.resolve(S.fileNameStr);g.file(O,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:d.createFolders}),S.dir||(g.file(O).unsafeOriginalName=I)}return m.zipComment.length&&(g.comment=m.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,l,o){var r=n("../utils"),a=n("../stream/GenericWorker");function s(h,_){a.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(_)}r.inherits(s,a),s.prototype._bindStream=function(h){var _=this;(this._stream=h).pause(),h.on("data",function(p){_.push({data:p,meta:{percent:0}})}).on("error",function(p){_.isPaused?this.generatedError=p:_.error(p)}).on("end",function(){_.isPaused?_._upstreamEnded=!0:_.end()})},s.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},l.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,l,o){var r=n("readable-stream").Readable;function a(s,h,_){r.call(this,h),this._helper=s;var p=this;s.on("data",function(v,b){p.push(v)||p._helper.pause(),_&&_(b)}).on("error",function(v){p.emit("error",v)}).on("end",function(){p.push(null)})}n("../utils").inherits(a,r),a.prototype._read=function(){this._helper.resume()},l.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,l,o){l.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,a);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,a)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var a=new Buffer(r);return a.fill(0),a},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(n,l,o){function r(O,B,A){var D,P=s.getTypeOf(B),W=s.extend(A||{},p);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(O=f(O)),W.createFolders&&(D=m(O))&&y.call(this,D,!0);var tt=P==="string"&&W.binary===!1&&W.base64===!1;A&&A.binary!==void 0||(W.binary=!tt),(B instanceof v&&B.uncompressedSize===0||W.dir||!B||B.length===0)&&(W.base64=!1,W.binary=!0,B="",W.compression="STORE",P="string");var x=null;x=B instanceof v||B instanceof h?B:g.isNode&&g.isStream(B)?new u(O,B):s.prepareContent(O,B,W.binary,W.optimizedBinaryString,W.base64);var z=new b(O,x,W);this.files[O]=z}var a=n("./utf8"),s=n("./utils"),h=n("./stream/GenericWorker"),_=n("./stream/StreamHelper"),p=n("./defaults"),v=n("./compressedObject"),b=n("./zipObject"),d=n("./generate"),g=n("./nodejsUtils"),u=n("./nodejs/NodejsStreamInputAdapter"),m=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var B=O.lastIndexOf("/");return 0<B?O.substring(0,B):""},f=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},y=function(O,B){return B=B!==void 0?B:p.createFolders,O=f(O),this.files[O]||r.call(this,O,null,{dir:!0,createFolders:B}),this.files[O]};function S(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var B,A,D;for(B in this.files)D=this.files[B],(A=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&O(A,D)},filter:function(O){var B=[];return this.forEach(function(A,D){O(A,D)&&B.push(D)}),B},file:function(O,B,A){if(arguments.length!==1)return O=this.root+O,r.call(this,O,B,A),this;if(S(O)){var D=O;return this.filter(function(W,tt){return!tt.dir&&D.test(W)})}var P=this.files[this.root+O];return P&&!P.dir?P:null},folder:function(O){if(!O)return this;if(S(O))return this.filter(function(P,W){return W.dir&&O.test(P)});var B=this.root+O,A=y.call(this,B),D=this.clone();return D.root=A.name,D},remove:function(O){O=this.root+O;var B=this.files[O];if(B||(O.slice(-1)!=="/"&&(O+="/"),B=this.files[O]),B&&!B.dir)delete this.files[O];else for(var A=this.filter(function(P,W){return W.name.slice(0,O.length)===O}),D=0;D<A.length;D++)delete this.files[A[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var B,A={};try{if((A=s.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");s.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var D=A.comment||this.comment||"";B=d.generateWorker(this,A,D)}catch(P){(B=new h("error")).error(P)}return new _(B,A.type||"string",A.mimeType)},generateAsync:function(O,B){return this.generateInternalStream(O).accumulate(B)},generateNodeStream:function(O,B){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(B)}};l.exports=I},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,l,o){l.exports=n("stream")},{stream:void 0}],17:[function(n,l,o){var r=n("./DataReader");function a(s){r.call(this,s);for(var h=0;h<this.data.length;h++)s[h]=255&s[h]}n("../utils").inherits(a,r),a.prototype.byteAt=function(s){return this.data[this.zero+s]},a.prototype.lastIndexOfSignature=function(s){for(var h=s.charCodeAt(0),_=s.charCodeAt(1),p=s.charCodeAt(2),v=s.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===h&&this.data[b+1]===_&&this.data[b+2]===p&&this.data[b+3]===v)return b-this.zero;return-1},a.prototype.readAndCheckSignature=function(s){var h=s.charCodeAt(0),_=s.charCodeAt(1),p=s.charCodeAt(2),v=s.charCodeAt(3),b=this.readData(4);return h===b[0]&&_===b[1]&&p===b[2]&&v===b[3]},a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,h},l.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,l,o){var r=n("../utils");function a(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var h,_=0;for(this.checkOffset(s),h=this.index+s-1;h>=this.index;h--)_=(_<<8)+this.byteAt(h);return this.index+=s,_},readString:function(s){return r.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},l.exports=a},{"../utils":32}],19:[function(n,l,o){var r=n("./Uint8ArrayReader");function a(s){r.call(this,s)}n("../utils").inherits(a,r),a.prototype.readData=function(s){this.checkOffset(s);var h=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,h},l.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,l,o){var r=n("./DataReader");function a(s){r.call(this,s)}n("../utils").inherits(a,r),a.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},a.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},a.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},a.prototype.readData=function(s){this.checkOffset(s);var h=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,h},l.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,l,o){var r=n("./ArrayReader");function a(s){r.call(this,s)}n("../utils").inherits(a,r),a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,h},l.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,l,o){var r=n("../utils"),a=n("../support"),s=n("./ArrayReader"),h=n("./StringReader"),_=n("./NodeBufferReader"),p=n("./Uint8ArrayReader");l.exports=function(v){var b=r.getTypeOf(v);return r.checkSupport(b),b!=="string"||a.uint8array?b==="nodebuffer"?new _(v):a.uint8array?new p(r.transformTo("uint8array",v)):new s(r.transformTo("array",v)):new h(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,l,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,l,o){var r=n("./GenericWorker"),a=n("../utils");function s(h){r.call(this,"ConvertWorker to "+h),this.destType=h}a.inherits(s,r),s.prototype.processChunk=function(h){this.push({data:a.transformTo(this.destType,h.data),meta:h.meta})},l.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(n,l,o){var r=n("./GenericWorker"),a=n("../crc32");function s(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(s,r),s.prototype.processChunk=function(h){this.streamInfo.crc32=a(h.data,this.streamInfo.crc32||0),this.push(h)},l.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,l,o){var r=n("../utils"),a=n("./GenericWorker");function s(h){a.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}r.inherits(s,a),s.prototype.processChunk=function(h){if(h){var _=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=_+h.data.length}a.prototype.processChunk.call(this,h)},l.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(n,l,o){var r=n("../utils"),a=n("./GenericWorker");function s(h){a.call(this,"DataWorker");var _=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(p){_.dataIsReady=!0,_.data=p,_.max=p&&p.length||0,_.type=r.getTypeOf(p),_.isPaused||_._tickAndRepeat()},function(p){_.error(p)})}r.inherits(s,a),s.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,_=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,_);break;case"uint8array":h=this.data.subarray(this.index,_);break;case"array":case"nodebuffer":h=this.data.slice(this.index,_)}return this.index=_,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},l.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(n,l,o){function r(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,s){return this._listeners[a].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,s){if(this._listeners[a])for(var h=0;h<this._listeners[a].length;h++)this._listeners[a][h].call(this,s)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var s=this;return a.on("data",function(h){s.processChunk(h)}),a.on("end",function(){s.end()}),a.on("error",function(h){s.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,s){return this.extraStreamInfo[a]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},l.exports=r},{}],29:[function(n,l,o){var r=n("../utils"),a=n("./ConvertWorker"),s=n("./GenericWorker"),h=n("../base64"),_=n("../support"),p=n("../external"),v=null;if(_.nodestream)try{v=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(g,u){return new p.Promise(function(m,f){var y=[],S=g._internalType,I=g._outputType,O=g._mimeType;g.on("data",function(B,A){y.push(B),u&&u(A)}).on("error",function(B){y=[],f(B)}).on("end",function(){try{var B=function(A,D,P){switch(A){case"blob":return r.newBlob(r.transformTo("arraybuffer",D),P);case"base64":return h.encode(D);default:return r.transformTo(A,D)}}(I,function(A,D){var P,W=0,tt=null,x=0;for(P=0;P<D.length;P++)x+=D[P].length;switch(A){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(tt=new Uint8Array(x),P=0;P<D.length;P++)tt.set(D[P],W),W+=D[P].length;return tt;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+A+"'")}}(S,y),O);m(B)}catch(A){f(A)}y=[]}).resume()})}function d(g,u,m){var f=u;switch(u){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=u,this._mimeType=m,r.checkSupport(f),this._worker=g.pipe(new a(f)),g.lock()}catch(y){this._worker=new s("error"),this._worker.error(y)}}d.prototype={accumulate:function(g){return b(this,g)},on:function(g,u){var m=this;return g==="data"?this._worker.on(g,function(f){u.call(m,f.data,f.meta)}):this._worker.on(g,function(){r.delay(u,arguments,m)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},g)}},l.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,l,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var r=new ArrayBuffer(0);try{o.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(r),o.blob=a.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!n("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(n,l,o){for(var r=n("./utils"),a=n("./support"),s=n("./nodejsUtils"),h=n("./stream/GenericWorker"),_=new Array(256),p=0;p<256;p++)_[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;_[254]=_[254]=1;function v(){h.call(this,"utf-8 decode"),this.leftOver=null}function b(){h.call(this,"utf-8 encode")}o.utf8encode=function(d){return a.nodebuffer?s.newBufferFrom(d,"utf-8"):function(g){var u,m,f,y,S,I=g.length,O=0;for(y=0;y<I;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<I&&(64512&(f=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(f-56320),y++),O+=m<128?1:m<2048?2:m<65536?3:4;for(u=a.uint8array?new Uint8Array(O):new Array(O),y=S=0;S<O;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<I&&(64512&(f=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(f-56320),y++),m<128?u[S++]=m:(m<2048?u[S++]=192|m>>>6:(m<65536?u[S++]=224|m>>>12:(u[S++]=240|m>>>18,u[S++]=128|m>>>12&63),u[S++]=128|m>>>6&63),u[S++]=128|63&m);return u}(d)},o.utf8decode=function(d){return a.nodebuffer?r.transformTo("nodebuffer",d).toString("utf-8"):function(g){var u,m,f,y,S=g.length,I=new Array(2*S);for(u=m=0;u<S;)if((f=g[u++])<128)I[m++]=f;else if(4<(y=_[f]))I[m++]=65533,u+=y-1;else{for(f&=y===2?31:y===3?15:7;1<y&&u<S;)f=f<<6|63&g[u++],y--;1<y?I[m++]=65533:f<65536?I[m++]=f:(f-=65536,I[m++]=55296|f>>10&1023,I[m++]=56320|1023&f)}return I.length!==m&&(I.subarray?I=I.subarray(0,m):I.length=m),r.applyFromCharCode(I)}(d=r.transformTo(a.uint8array?"uint8array":"array",d))},r.inherits(v,h),v.prototype.processChunk=function(d){var g=r.transformTo(a.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var u=g;(g=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),g.set(u,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var m=function(y,S){var I;for((S=S||y.length)>y.length&&(S=y.length),I=S-1;0<=I&&(192&y[I])==128;)I--;return I<0||I===0?S:I+_[y[I]]>S?I:S}(g),f=g;m!==g.length&&(a.uint8array?(f=g.subarray(0,m),this.leftOver=g.subarray(m,g.length)):(f=g.slice(0,m),this.leftOver=g.slice(m,g.length))),this.push({data:o.utf8decode(f),meta:d.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=v,r.inherits(b,h),b.prototype.processChunk=function(d){this.push({data:o.utf8encode(d.data),meta:d.meta})},o.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,l,o){var r=n("./support"),a=n("./base64"),s=n("./nodejsUtils"),h=n("./external");function _(u){return u}function p(u,m){for(var f=0;f<u.length;++f)m[f]=255&u.charCodeAt(f);return m}n("setimmediate"),o.newBlob=function(u,m){o.checkSupport("blob");try{return new Blob([u],{type:m})}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return f.append(u),f.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(u,m,f){var y=[],S=0,I=u.length;if(I<=f)return String.fromCharCode.apply(null,u);for(;S<I;)m==="array"||m==="nodebuffer"?y.push(String.fromCharCode.apply(null,u.slice(S,Math.min(S+f,I)))):y.push(String.fromCharCode.apply(null,u.subarray(S,Math.min(S+f,I)))),S+=f;return y.join("")},stringifyByChar:function(u){for(var m="",f=0;f<u.length;f++)m+=String.fromCharCode(u[f]);return m},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function b(u){var m=65536,f=o.getTypeOf(u),y=!0;if(f==="uint8array"?y=v.applyCanBeUsed.uint8array:f==="nodebuffer"&&(y=v.applyCanBeUsed.nodebuffer),y)for(;1<m;)try{return v.stringifyByChunk(u,f,m)}catch{m=Math.floor(m/2)}return v.stringifyByChar(u)}function d(u,m){for(var f=0;f<u.length;f++)m[f]=u[f];return m}o.applyFromCharCode=b;var g={};g.string={string:_,array:function(u){return p(u,new Array(u.length))},arraybuffer:function(u){return g.string.uint8array(u).buffer},uint8array:function(u){return p(u,new Uint8Array(u.length))},nodebuffer:function(u){return p(u,s.allocBuffer(u.length))}},g.array={string:b,array:_,arraybuffer:function(u){return new Uint8Array(u).buffer},uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return s.newBufferFrom(u)}},g.arraybuffer={string:function(u){return b(new Uint8Array(u))},array:function(u){return d(new Uint8Array(u),new Array(u.byteLength))},arraybuffer:_,uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return s.newBufferFrom(new Uint8Array(u))}},g.uint8array={string:b,array:function(u){return d(u,new Array(u.length))},arraybuffer:function(u){return u.buffer},uint8array:_,nodebuffer:function(u){return s.newBufferFrom(u)}},g.nodebuffer={string:b,array:function(u){return d(u,new Array(u.length))},arraybuffer:function(u){return g.nodebuffer.uint8array(u).buffer},uint8array:function(u){return d(u,new Uint8Array(u.length))},nodebuffer:_},o.transformTo=function(u,m){if(m=m||"",!u)return m;o.checkSupport(u);var f=o.getTypeOf(m);return g[f][u](m)},o.resolve=function(u){for(var m=u.split("/"),f=[],y=0;y<m.length;y++){var S=m[y];S==="."||S===""&&y!==0&&y!==m.length-1||(S===".."?f.pop():f.push(S))}return f.join("/")},o.getTypeOf=function(u){return typeof u=="string"?"string":Object.prototype.toString.call(u)==="[object Array]"?"array":r.nodebuffer&&s.isBuffer(u)?"nodebuffer":r.uint8array&&u instanceof Uint8Array?"uint8array":r.arraybuffer&&u instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(u){if(!r[u.toLowerCase()])throw new Error(u+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(u){var m,f,y="";for(f=0;f<(u||"").length;f++)y+="\\x"+((m=u.charCodeAt(f))<16?"0":"")+m.toString(16).toUpperCase();return y},o.delay=function(u,m,f){setImmediate(function(){u.apply(f||null,m||[])})},o.inherits=function(u,m){function f(){}f.prototype=m.prototype,u.prototype=new f},o.extend=function(){var u,m,f={};for(u=0;u<arguments.length;u++)for(m in arguments[u])Object.prototype.hasOwnProperty.call(arguments[u],m)&&f[m]===void 0&&(f[m]=arguments[u][m]);return f},o.prepareContent=function(u,m,f,y,S){return h.Promise.resolve(m).then(function(I){return r.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1)&&typeof FileReader<"u"?new h.Promise(function(O,B){var A=new FileReader;A.onload=function(D){O(D.target.result)},A.onerror=function(D){B(D.target.error)},A.readAsArrayBuffer(I)}):I}).then(function(I){var O=o.getTypeOf(I);return O?(O==="arraybuffer"?I=o.transformTo("uint8array",I):O==="string"&&(S?I=a.decode(I):f&&y!==!0&&(I=function(B){return p(B,r.uint8array?new Uint8Array(B.length):new Array(B.length))}(I))),I):h.Promise.reject(new Error("Can't read the data of '"+u+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,l,o){var r=n("./reader/readerFor"),a=n("./utils"),s=n("./signature"),h=n("./zipEntry"),_=n("./support");function p(v){this.files=[],this.loadOptions=v}p.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(b)+", expected "+a.pretty(v)+")")}},isSignature:function(v,b){var d=this.reader.index;this.reader.setIndex(v);var g=this.reader.readString(4)===b;return this.reader.setIndex(d),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),b=_.uint8array?"uint8array":"array",d=a.transformTo(b,v);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,b,d,g=this.zip64EndOfCentralSize-44;0<g;)v=this.reader.readInt(2),b=this.reader.readInt(4),d=this.reader.readData(b),this.zip64ExtensibleData[v]={id:v,length:b,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,b;for(v=0;v<this.files.length;v++)b=this.files[v],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(v=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var b=v;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var g=b-d;if(0<g)this.isSignature(b,s.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(v){this.reader=r(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},l.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,l,o){var r=n("./reader/readerFor"),a=n("./utils"),s=n("./compressedObject"),h=n("./crc32"),_=n("./utf8"),p=n("./compressions"),v=n("./support");function b(d,g){this.options=d,this.loadOptions=g}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var g,u;if(d.skip(22),this.fileNameLength=d.readInt(2),u=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(m){for(var f in p)if(Object.prototype.hasOwnProperty.call(p,f)&&p[f].magic===m)return p[f];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,g,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var g=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(g),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=r(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var g,u,m,f=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<f;)g=d.readInt(2),u=d.readInt(2),m=d.readData(u),this.extraFields[g]={id:g,length:u,value:m};d.setIndex(f)},handleUTF8:function(){var d=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=_.utf8decode(this.fileName),this.fileCommentStr=_.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var u=a.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var f=a.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var g=r(d.value);return g.readInt(1)!==1||h(this.fileName)!==g.readInt(4)?null:_.utf8decode(g.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var g=r(d.value);return g.readInt(1)!==1||h(this.fileComment)!==g.readInt(4)?null:_.utf8decode(g.readData(d.length-5))}return null}},l.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,l,o){function r(g,u,m){this.name=g,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=u,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var a=n("./stream/StreamHelper"),s=n("./stream/DataWorker"),h=n("./utf8"),_=n("./compressedObject"),p=n("./stream/GenericWorker");r.prototype={internalStream:function(g){var u=null,m="string";try{if(!g)throw new Error("No output type specified.");var f=(m=g.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),u=this._decompressWorker();var y=!this._dataBinary;y&&!f&&(u=u.pipe(new h.Utf8EncodeWorker)),!y&&f&&(u=u.pipe(new h.Utf8DecodeWorker))}catch(S){(u=new p("error")).error(S)}return new a(u,m,"")},async:function(g,u){return this.internalStream(g).accumulate(u)},nodeStream:function(g,u){return this.internalStream(g||"nodebuffer").toNodejsStream(u)},_compressWorker:function(g,u){if(this._data instanceof _&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new h.Utf8EncodeWorker)),_.createWorkerFrom(m,g,u)},_decompressWorker:function(){return this._data instanceof _?this._data.getContentWorker():this._data instanceof p?this._data:new s(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<v.length;d++)r.prototype[v[d]]=b;l.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,l,o){(function(r){var a,s,h=r.MutationObserver||r.WebKitMutationObserver;if(h){var _=0,p=new h(g),v=r.document.createTextNode("");p.observe(v,{characterData:!0}),a=function(){v.data=_=++_%2}}else if(r.setImmediate||r.MessageChannel===void 0)a="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var u=r.document.createElement("script");u.onreadystatechange=function(){g(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},r.document.documentElement.appendChild(u)}:function(){setTimeout(g,0)};else{var b=new r.MessageChannel;b.port1.onmessage=g,a=function(){b.port2.postMessage(0)}}var d=[];function g(){var u,m;s=!0;for(var f=d.length;f;){for(m=d,d=[],u=-1;++u<f;)m[u]();f=d.length}s=!1}l.exports=function(u){d.push(u)!==1||s||a()}}).call(this,typeof kn<"u"?kn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,l,o){var r=n("immediate");function a(){}var s={},h=["REJECTED"],_=["FULFILLED"],p=["PENDING"];function v(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,f!==a&&u(this,f)}function b(f,y,S){this.promise=f,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function d(f,y,S){r(function(){var I;try{I=y(S)}catch(O){return s.reject(f,O)}I===f?s.reject(f,new TypeError("Cannot resolve promise with itself")):s.resolve(f,I)})}function g(f){var y=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof y=="function")return function(){y.apply(f,arguments)}}function u(f,y){var S=!1;function I(A){S||(S=!0,s.reject(f,A))}function O(A){S||(S=!0,s.resolve(f,A))}var B=m(function(){y(O,I)});B.status==="error"&&I(B.value)}function m(f,y){var S={};try{S.value=f(y),S.status="success"}catch(I){S.status="error",S.value=I}return S}(l.exports=v).prototype.finally=function(f){if(typeof f!="function")return this;var y=this.constructor;return this.then(function(S){return y.resolve(f()).then(function(){return S})},function(S){return y.resolve(f()).then(function(){throw S})})},v.prototype.catch=function(f){return this.then(null,f)},v.prototype.then=function(f,y){if(typeof f!="function"&&this.state===_||typeof y!="function"&&this.state===h)return this;var S=new this.constructor(a);return this.state!==p?d(S,this.state===_?f:y,this.outcome):this.queue.push(new b(S,f,y)),S},b.prototype.callFulfilled=function(f){s.resolve(this.promise,f)},b.prototype.otherCallFulfilled=function(f){d(this.promise,this.onFulfilled,f)},b.prototype.callRejected=function(f){s.reject(this.promise,f)},b.prototype.otherCallRejected=function(f){d(this.promise,this.onRejected,f)},s.resolve=function(f,y){var S=m(g,y);if(S.status==="error")return s.reject(f,S.value);var I=S.value;if(I)u(f,I);else{f.state=_,f.outcome=y;for(var O=-1,B=f.queue.length;++O<B;)f.queue[O].callFulfilled(y)}return f},s.reject=function(f,y){f.state=h,f.outcome=y;for(var S=-1,I=f.queue.length;++S<I;)f.queue[S].callRejected(y);return f},v.resolve=function(f){return f instanceof this?f:s.resolve(new this(a),f)},v.reject=function(f){var y=new this(a);return s.reject(y,f)},v.all=function(f){var y=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=f.length,I=!1;if(!S)return this.resolve([]);for(var O=new Array(S),B=0,A=-1,D=new this(a);++A<S;)P(f[A],A);return D;function P(W,tt){y.resolve(W).then(function(x){O[tt]=x,++B!==S||I||(I=!0,s.resolve(D,O))},function(x){I||(I=!0,s.reject(D,x))})}},v.race=function(f){var y=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=f.length,I=!1;if(!S)return this.resolve([]);for(var O=-1,B=new this(a);++O<S;)A=f[O],y.resolve(A).then(function(D){I||(I=!0,s.resolve(B,D))},function(D){I||(I=!0,s.reject(B,D))});var A;return B}},{immediate:36}],38:[function(n,l,o){var r={};(0,n("./lib/utils/common").assign)(r,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),l.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,l,o){var r=n("./zlib/deflate"),a=n("./utils/common"),s=n("./utils/strings"),h=n("./zlib/messages"),_=n("./zlib/zstream"),p=Object.prototype.toString,v=0,b=-1,d=0,g=8;function u(f){if(!(this instanceof u))return new u(f);this.options=a.assign({level:b,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},f||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var S=r.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(S!==v)throw new Error(h[S]);if(y.header&&r.deflateSetHeader(this.strm,y.header),y.dictionary){var I;if(I=typeof y.dictionary=="string"?s.string2buf(y.dictionary):p.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(S=r.deflateSetDictionary(this.strm,I))!==v)throw new Error(h[S]);this._dict_set=!0}}function m(f,y){var S=new u(y);if(S.push(f,!0),S.err)throw S.msg||h[S.err];return S.result}u.prototype.push=function(f,y){var S,I,O=this.strm,B=this.options.chunkSize;if(this.ended)return!1;I=y===~~y?y:y===!0?4:0,typeof f=="string"?O.input=s.string2buf(f):p.call(f)==="[object ArrayBuffer]"?O.input=new Uint8Array(f):O.input=f,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new a.Buf8(B),O.next_out=0,O.avail_out=B),(S=r.deflate(O,I))!==1&&S!==v)return this.onEnd(S),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||I!==4&&I!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(O.output,O.next_out))):this.onData(a.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&S!==1);return I===4?(S=r.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===v):I!==2||(this.onEnd(v),!(O.avail_out=0))},u.prototype.onData=function(f){this.chunks.push(f)},u.prototype.onEnd=function(f){f===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},o.Deflate=u,o.deflate=m,o.deflateRaw=function(f,y){return(y=y||{}).raw=!0,m(f,y)},o.gzip=function(f,y){return(y=y||{}).gzip=!0,m(f,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,l,o){var r=n("./zlib/inflate"),a=n("./utils/common"),s=n("./utils/strings"),h=n("./zlib/constants"),_=n("./zlib/messages"),p=n("./zlib/zstream"),v=n("./zlib/gzheader"),b=Object.prototype.toString;function d(u){if(!(this instanceof d))return new d(u);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},u||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||u&&u.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var f=r.inflateInit2(this.strm,m.windowBits);if(f!==h.Z_OK)throw new Error(_[f]);this.header=new v,r.inflateGetHeader(this.strm,this.header)}function g(u,m){var f=new d(m);if(f.push(u,!0),f.err)throw f.msg||_[f.err];return f.result}d.prototype.push=function(u,m){var f,y,S,I,O,B,A=this.strm,D=this.options.chunkSize,P=this.options.dictionary,W=!1;if(this.ended)return!1;y=m===~~m?m:m===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof u=="string"?A.input=s.binstring2buf(u):b.call(u)==="[object ArrayBuffer]"?A.input=new Uint8Array(u):A.input=u,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new a.Buf8(D),A.next_out=0,A.avail_out=D),(f=r.inflate(A,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&P&&(B=typeof P=="string"?s.string2buf(P):b.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,f=r.inflateSetDictionary(this.strm,B)),f===h.Z_BUF_ERROR&&W===!0&&(f=h.Z_OK,W=!1),f!==h.Z_STREAM_END&&f!==h.Z_OK)return this.onEnd(f),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&f!==h.Z_STREAM_END&&(A.avail_in!==0||y!==h.Z_FINISH&&y!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=s.utf8border(A.output,A.next_out),I=A.next_out-S,O=s.buf2string(A.output,S),A.next_out=I,A.avail_out=D-I,I&&a.arraySet(A.output,A.output,S,I,0),this.onData(O)):this.onData(a.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(W=!0)}while((0<A.avail_in||A.avail_out===0)&&f!==h.Z_STREAM_END);return f===h.Z_STREAM_END&&(y=h.Z_FINISH),y===h.Z_FINISH?(f=r.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===h.Z_OK):y!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(A.avail_out=0))},d.prototype.onData=function(u){this.chunks.push(u)},d.prototype.onEnd=function(u){u===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},o.Inflate=d,o.inflate=g,o.inflateRaw=function(u,m){return(m=m||{}).raw=!0,g(u,m)},o.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,l,o){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(h){for(var _=Array.prototype.slice.call(arguments,1);_.length;){var p=_.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])}}return h},o.shrinkBuf=function(h,_){return h.length===_?h:h.subarray?h.subarray(0,_):(h.length=_,h)};var a={arraySet:function(h,_,p,v,b){if(_.subarray&&h.subarray)h.set(_.subarray(p,p+v),b);else for(var d=0;d<v;d++)h[b+d]=_[p+d]},flattenChunks:function(h){var _,p,v,b,d,g;for(_=v=0,p=h.length;_<p;_++)v+=h[_].length;for(g=new Uint8Array(v),_=b=0,p=h.length;_<p;_++)d=h[_],g.set(d,b),b+=d.length;return g}},s={arraySet:function(h,_,p,v,b){for(var d=0;d<v;d++)h[b+d]=_[p+d]},flattenChunks:function(h){return[].concat.apply([],h)}};o.setTyped=function(h){h?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,a)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,s))},o.setTyped(r)},{}],42:[function(n,l,o){var r=n("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var h=new r.Buf8(256),_=0;_<256;_++)h[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;function p(v,b){if(b<65537&&(v.subarray&&s||!v.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(v,b));for(var d="",g=0;g<b;g++)d+=String.fromCharCode(v[g]);return d}h[254]=h[254]=1,o.string2buf=function(v){var b,d,g,u,m,f=v.length,y=0;for(u=0;u<f;u++)(64512&(d=v.charCodeAt(u)))==55296&&u+1<f&&(64512&(g=v.charCodeAt(u+1)))==56320&&(d=65536+(d-55296<<10)+(g-56320),u++),y+=d<128?1:d<2048?2:d<65536?3:4;for(b=new r.Buf8(y),u=m=0;m<y;u++)(64512&(d=v.charCodeAt(u)))==55296&&u+1<f&&(64512&(g=v.charCodeAt(u+1)))==56320&&(d=65536+(d-55296<<10)+(g-56320),u++),d<128?b[m++]=d:(d<2048?b[m++]=192|d>>>6:(d<65536?b[m++]=224|d>>>12:(b[m++]=240|d>>>18,b[m++]=128|d>>>12&63),b[m++]=128|d>>>6&63),b[m++]=128|63&d);return b},o.buf2binstring=function(v){return p(v,v.length)},o.binstring2buf=function(v){for(var b=new r.Buf8(v.length),d=0,g=b.length;d<g;d++)b[d]=v.charCodeAt(d);return b},o.buf2string=function(v,b){var d,g,u,m,f=b||v.length,y=new Array(2*f);for(d=g=0;d<f;)if((u=v[d++])<128)y[g++]=u;else if(4<(m=h[u]))y[g++]=65533,d+=m-1;else{for(u&=m===2?31:m===3?15:7;1<m&&d<f;)u=u<<6|63&v[d++],m--;1<m?y[g++]=65533:u<65536?y[g++]=u:(u-=65536,y[g++]=55296|u>>10&1023,y[g++]=56320|1023&u)}return p(y,g)},o.utf8border=function(v,b){var d;for((b=b||v.length)>v.length&&(b=v.length),d=b-1;0<=d&&(192&v[d])==128;)d--;return d<0||d===0?b:d+h[v[d]]>b?d:b}},{"./common":41}],43:[function(n,l,o){l.exports=function(r,a,s,h){for(var _=65535&r|0,p=r>>>16&65535|0,v=0;s!==0;){for(s-=v=2e3<s?2e3:s;p=p+(_=_+a[h++]|0)|0,--v;);_%=65521,p%=65521}return _|p<<16|0}},{}],44:[function(n,l,o){l.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,l,o){var r=function(){for(var a,s=[],h=0;h<256;h++){a=h;for(var _=0;_<8;_++)a=1&a?3988292384^a>>>1:a>>>1;s[h]=a}return s}();l.exports=function(a,s,h,_){var p=r,v=_+h;a^=-1;for(var b=_;b<v;b++)a=a>>>8^p[255&(a^s[b])];return-1^a}},{}],46:[function(n,l,o){var r,a=n("../utils/common"),s=n("./trees"),h=n("./adler32"),_=n("./crc32"),p=n("./messages"),v=0,b=4,d=0,g=-2,u=-1,m=4,f=2,y=8,S=9,I=286,O=30,B=19,A=2*I+1,D=15,P=3,W=258,tt=W+P+1,x=42,z=113,c=1,$=2,st=3,M=4;function ut(i,L){return i.msg=p[L],L}function J(i){return(i<<1)-(4<i?9:0)}function ot(i){for(var L=i.length;0<=--L;)i[L]=0}function T(i){var L=i.state,F=L.pending;F>i.avail_out&&(F=i.avail_out),F!==0&&(a.arraySet(i.output,L.pending_buf,L.pending_out,F,i.next_out),i.next_out+=F,L.pending_out+=F,i.total_out+=F,i.avail_out-=F,L.pending-=F,L.pending===0&&(L.pending_out=0))}function N(i,L){s._tr_flush_block(i,0<=i.block_start?i.block_start:-1,i.strstart-i.block_start,L),i.block_start=i.strstart,T(i.strm)}function it(i,L){i.pending_buf[i.pending++]=L}function X(i,L){i.pending_buf[i.pending++]=L>>>8&255,i.pending_buf[i.pending++]=255&L}function H(i,L){var F,k,w=i.max_chain_length,E=i.strstart,V=i.prev_length,U=i.nice_match,R=i.strstart>i.w_size-tt?i.strstart-(i.w_size-tt):0,G=i.window,Y=i.w_mask,Z=i.prev,nt=i.strstart+W,_t=G[E+V-1],ft=G[E+V];i.prev_length>=i.good_match&&(w>>=2),U>i.lookahead&&(U=i.lookahead);do if(G[(F=L)+V]===ft&&G[F+V-1]===_t&&G[F]===G[E]&&G[++F]===G[E+1]){E+=2,F++;do;while(G[++E]===G[++F]&&G[++E]===G[++F]&&G[++E]===G[++F]&&G[++E]===G[++F]&&G[++E]===G[++F]&&G[++E]===G[++F]&&G[++E]===G[++F]&&G[++E]===G[++F]&&E<nt);if(k=W-(nt-E),E=nt-W,V<k){if(i.match_start=L,U<=(V=k))break;_t=G[E+V-1],ft=G[E+V]}}while((L=Z[L&Y])>R&&--w!=0);return V<=i.lookahead?V:i.lookahead}function wt(i){var L,F,k,w,E,V,U,R,G,Y,Z=i.w_size;do{if(w=i.window_size-i.lookahead-i.strstart,i.strstart>=Z+(Z-tt)){for(a.arraySet(i.window,i.window,Z,Z,0),i.match_start-=Z,i.strstart-=Z,i.block_start-=Z,L=F=i.hash_size;k=i.head[--L],i.head[L]=Z<=k?k-Z:0,--F;);for(L=F=Z;k=i.prev[--L],i.prev[L]=Z<=k?k-Z:0,--F;);w+=Z}if(i.strm.avail_in===0)break;if(V=i.strm,U=i.window,R=i.strstart+i.lookahead,G=w,Y=void 0,Y=V.avail_in,G<Y&&(Y=G),F=Y===0?0:(V.avail_in-=Y,a.arraySet(U,V.input,V.next_in,Y,R),V.state.wrap===1?V.adler=h(V.adler,U,Y,R):V.state.wrap===2&&(V.adler=_(V.adler,U,Y,R)),V.next_in+=Y,V.total_in+=Y,Y),i.lookahead+=F,i.lookahead+i.insert>=P)for(E=i.strstart-i.insert,i.ins_h=i.window[E],i.ins_h=(i.ins_h<<i.hash_shift^i.window[E+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[E+P-1])&i.hash_mask,i.prev[E&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=E,E++,i.insert--,!(i.lookahead+i.insert<P)););}while(i.lookahead<tt&&i.strm.avail_in!==0)}function Nt(i,L){for(var F,k;;){if(i.lookahead<tt){if(wt(i),i.lookahead<tt&&L===v)return c;if(i.lookahead===0)break}if(F=0,i.lookahead>=P&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+P-1])&i.hash_mask,F=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),F!==0&&i.strstart-F<=i.w_size-tt&&(i.match_length=H(i,F)),i.match_length>=P)if(k=s._tr_tally(i,i.strstart-i.match_start,i.match_length-P),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=P){for(i.match_length--;i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+P-1])&i.hash_mask,F=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart,--i.match_length!=0;);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else k=s._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(k&&(N(i,!1),i.strm.avail_out===0))return c}return i.insert=i.strstart<P-1?i.strstart:P-1,L===b?(N(i,!0),i.strm.avail_out===0?st:M):i.last_lit&&(N(i,!1),i.strm.avail_out===0)?c:$}function ht(i,L){for(var F,k,w;;){if(i.lookahead<tt){if(wt(i),i.lookahead<tt&&L===v)return c;if(i.lookahead===0)break}if(F=0,i.lookahead>=P&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+P-1])&i.hash_mask,F=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=P-1,F!==0&&i.prev_length<i.max_lazy_match&&i.strstart-F<=i.w_size-tt&&(i.match_length=H(i,F),i.match_length<=5&&(i.strategy===1||i.match_length===P&&4096<i.strstart-i.match_start)&&(i.match_length=P-1)),i.prev_length>=P&&i.match_length<=i.prev_length){for(w=i.strstart+i.lookahead-P,k=s._tr_tally(i,i.strstart-1-i.prev_match,i.prev_length-P),i.lookahead-=i.prev_length-1,i.prev_length-=2;++i.strstart<=w&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+P-1])&i.hash_mask,F=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),--i.prev_length!=0;);if(i.match_available=0,i.match_length=P-1,i.strstart++,k&&(N(i,!1),i.strm.avail_out===0))return c}else if(i.match_available){if((k=s._tr_tally(i,0,i.window[i.strstart-1]))&&N(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return c}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(k=s._tr_tally(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<P-1?i.strstart:P-1,L===b?(N(i,!0),i.strm.avail_out===0?st:M):i.last_lit&&(N(i,!1),i.strm.avail_out===0)?c:$}function mt(i,L,F,k,w){this.good_length=i,this.max_lazy=L,this.nice_length=F,this.max_chain=k,this.func=w}function Rt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*A),this.dyn_dtree=new a.Buf16(2*(2*O+1)),this.bl_tree=new a.Buf16(2*(2*B+1)),ot(this.dyn_ltree),ot(this.dyn_dtree),ot(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(D+1),this.heap=new a.Buf16(2*I+1),ot(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*I+1),ot(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function kt(i){var L;return i&&i.state?(i.total_in=i.total_out=0,i.data_type=f,(L=i.state).pending=0,L.pending_out=0,L.wrap<0&&(L.wrap=-L.wrap),L.status=L.wrap?x:z,i.adler=L.wrap===2?0:1,L.last_flush=v,s._tr_init(L),d):ut(i,g)}function Gt(i){var L=kt(i);return L===d&&function(F){F.window_size=2*F.w_size,ot(F.head),F.max_lazy_match=r[F.level].max_lazy,F.good_match=r[F.level].good_length,F.nice_match=r[F.level].nice_length,F.max_chain_length=r[F.level].max_chain,F.strstart=0,F.block_start=0,F.lookahead=0,F.insert=0,F.match_length=F.prev_length=P-1,F.match_available=0,F.ins_h=0}(i.state),L}function Ut(i,L,F,k,w,E){if(!i)return g;var V=1;if(L===u&&(L=6),k<0?(V=0,k=-k):15<k&&(V=2,k-=16),w<1||S<w||F!==y||k<8||15<k||L<0||9<L||E<0||m<E)return ut(i,g);k===8&&(k=9);var U=new Rt;return(i.state=U).strm=i,U.wrap=V,U.gzhead=null,U.w_bits=k,U.w_size=1<<U.w_bits,U.w_mask=U.w_size-1,U.hash_bits=w+7,U.hash_size=1<<U.hash_bits,U.hash_mask=U.hash_size-1,U.hash_shift=~~((U.hash_bits+P-1)/P),U.window=new a.Buf8(2*U.w_size),U.head=new a.Buf16(U.hash_size),U.prev=new a.Buf16(U.w_size),U.lit_bufsize=1<<w+6,U.pending_buf_size=4*U.lit_bufsize,U.pending_buf=new a.Buf8(U.pending_buf_size),U.d_buf=1*U.lit_bufsize,U.l_buf=3*U.lit_bufsize,U.level=L,U.strategy=E,U.method=F,Gt(i)}r=[new mt(0,0,0,0,function(i,L){var F=65535;for(F>i.pending_buf_size-5&&(F=i.pending_buf_size-5);;){if(i.lookahead<=1){if(wt(i),i.lookahead===0&&L===v)return c;if(i.lookahead===0)break}i.strstart+=i.lookahead,i.lookahead=0;var k=i.block_start+F;if((i.strstart===0||i.strstart>=k)&&(i.lookahead=i.strstart-k,i.strstart=k,N(i,!1),i.strm.avail_out===0)||i.strstart-i.block_start>=i.w_size-tt&&(N(i,!1),i.strm.avail_out===0))return c}return i.insert=0,L===b?(N(i,!0),i.strm.avail_out===0?st:M):(i.strstart>i.block_start&&(N(i,!1),i.strm.avail_out),c)}),new mt(4,4,8,4,Nt),new mt(4,5,16,8,Nt),new mt(4,6,32,32,Nt),new mt(4,4,16,16,ht),new mt(8,16,32,32,ht),new mt(8,16,128,128,ht),new mt(8,32,128,256,ht),new mt(32,128,258,1024,ht),new mt(32,258,258,4096,ht)],o.deflateInit=function(i,L){return Ut(i,L,y,15,8,0)},o.deflateInit2=Ut,o.deflateReset=Gt,o.deflateResetKeep=kt,o.deflateSetHeader=function(i,L){return i&&i.state?i.state.wrap!==2?g:(i.state.gzhead=L,d):g},o.deflate=function(i,L){var F,k,w,E;if(!i||!i.state||5<L||L<0)return i?ut(i,g):g;if(k=i.state,!i.output||!i.input&&i.avail_in!==0||k.status===666&&L!==b)return ut(i,i.avail_out===0?-5:g);if(k.strm=i,F=k.last_flush,k.last_flush=L,k.status===x)if(k.wrap===2)i.adler=0,it(k,31),it(k,139),it(k,8),k.gzhead?(it(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),it(k,255&k.gzhead.time),it(k,k.gzhead.time>>8&255),it(k,k.gzhead.time>>16&255),it(k,k.gzhead.time>>24&255),it(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),it(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(it(k,255&k.gzhead.extra.length),it(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(i.adler=_(i.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(it(k,0),it(k,0),it(k,0),it(k,0),it(k,0),it(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),it(k,3),k.status=z);else{var V=y+(k.w_bits-8<<4)<<8;V|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(V|=32),V+=31-V%31,k.status=z,X(k,V),k.strstart!==0&&(X(k,i.adler>>>16),X(k,65535&i.adler)),i.adler=1}if(k.status===69)if(k.gzhead.extra){for(w=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>w&&(i.adler=_(i.adler,k.pending_buf,k.pending-w,w)),T(i),w=k.pending,k.pending!==k.pending_buf_size));)it(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>w&&(i.adler=_(i.adler,k.pending_buf,k.pending-w,w)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){w=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>w&&(i.adler=_(i.adler,k.pending_buf,k.pending-w,w)),T(i),w=k.pending,k.pending===k.pending_buf_size)){E=1;break}E=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,it(k,E)}while(E!==0);k.gzhead.hcrc&&k.pending>w&&(i.adler=_(i.adler,k.pending_buf,k.pending-w,w)),E===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){w=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>w&&(i.adler=_(i.adler,k.pending_buf,k.pending-w,w)),T(i),w=k.pending,k.pending===k.pending_buf_size)){E=1;break}E=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,it(k,E)}while(E!==0);k.gzhead.hcrc&&k.pending>w&&(i.adler=_(i.adler,k.pending_buf,k.pending-w,w)),E===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&T(i),k.pending+2<=k.pending_buf_size&&(it(k,255&i.adler),it(k,i.adler>>8&255),i.adler=0,k.status=z)):k.status=z),k.pending!==0){if(T(i),i.avail_out===0)return k.last_flush=-1,d}else if(i.avail_in===0&&J(L)<=J(F)&&L!==b)return ut(i,-5);if(k.status===666&&i.avail_in!==0)return ut(i,-5);if(i.avail_in!==0||k.lookahead!==0||L!==v&&k.status!==666){var U=k.strategy===2?function(R,G){for(var Y;;){if(R.lookahead===0&&(wt(R),R.lookahead===0)){if(G===v)return c;break}if(R.match_length=0,Y=s._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,Y&&(N(R,!1),R.strm.avail_out===0))return c}return R.insert=0,G===b?(N(R,!0),R.strm.avail_out===0?st:M):R.last_lit&&(N(R,!1),R.strm.avail_out===0)?c:$}(k,L):k.strategy===3?function(R,G){for(var Y,Z,nt,_t,ft=R.window;;){if(R.lookahead<=W){if(wt(R),R.lookahead<=W&&G===v)return c;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=P&&0<R.strstart&&(Z=ft[nt=R.strstart-1])===ft[++nt]&&Z===ft[++nt]&&Z===ft[++nt]){_t=R.strstart+W;do;while(Z===ft[++nt]&&Z===ft[++nt]&&Z===ft[++nt]&&Z===ft[++nt]&&Z===ft[++nt]&&Z===ft[++nt]&&Z===ft[++nt]&&Z===ft[++nt]&&nt<_t);R.match_length=W-(_t-nt),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=P?(Y=s._tr_tally(R,1,R.match_length-P),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):(Y=s._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),Y&&(N(R,!1),R.strm.avail_out===0))return c}return R.insert=0,G===b?(N(R,!0),R.strm.avail_out===0?st:M):R.last_lit&&(N(R,!1),R.strm.avail_out===0)?c:$}(k,L):r[k.level].func(k,L);if(U!==st&&U!==M||(k.status=666),U===c||U===st)return i.avail_out===0&&(k.last_flush=-1),d;if(U===$&&(L===1?s._tr_align(k):L!==5&&(s._tr_stored_block(k,0,0,!1),L===3&&(ot(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),T(i),i.avail_out===0))return k.last_flush=-1,d}return L!==b?d:k.wrap<=0?1:(k.wrap===2?(it(k,255&i.adler),it(k,i.adler>>8&255),it(k,i.adler>>16&255),it(k,i.adler>>24&255),it(k,255&i.total_in),it(k,i.total_in>>8&255),it(k,i.total_in>>16&255),it(k,i.total_in>>24&255)):(X(k,i.adler>>>16),X(k,65535&i.adler)),T(i),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?d:1)},o.deflateEnd=function(i){var L;return i&&i.state?(L=i.state.status)!==x&&L!==69&&L!==73&&L!==91&&L!==103&&L!==z&&L!==666?ut(i,g):(i.state=null,L===z?ut(i,-3):d):g},o.deflateSetDictionary=function(i,L){var F,k,w,E,V,U,R,G,Y=L.length;if(!i||!i.state||(E=(F=i.state).wrap)===2||E===1&&F.status!==x||F.lookahead)return g;for(E===1&&(i.adler=h(i.adler,L,Y,0)),F.wrap=0,Y>=F.w_size&&(E===0&&(ot(F.head),F.strstart=0,F.block_start=0,F.insert=0),G=new a.Buf8(F.w_size),a.arraySet(G,L,Y-F.w_size,F.w_size,0),L=G,Y=F.w_size),V=i.avail_in,U=i.next_in,R=i.input,i.avail_in=Y,i.next_in=0,i.input=L,wt(F);F.lookahead>=P;){for(k=F.strstart,w=F.lookahead-(P-1);F.ins_h=(F.ins_h<<F.hash_shift^F.window[k+P-1])&F.hash_mask,F.prev[k&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=k,k++,--w;);F.strstart=k,F.lookahead=P-1,wt(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=P-1,F.match_available=0,i.next_in=U,i.input=R,i.avail_in=V,F.wrap=E,d},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,l,o){l.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,l,o){l.exports=function(r,a){var s,h,_,p,v,b,d,g,u,m,f,y,S,I,O,B,A,D,P,W,tt,x,z,c,$;s=r.state,h=r.next_in,c=r.input,_=h+(r.avail_in-5),p=r.next_out,$=r.output,v=p-(a-r.avail_out),b=p+(r.avail_out-257),d=s.dmax,g=s.wsize,u=s.whave,m=s.wnext,f=s.window,y=s.hold,S=s.bits,I=s.lencode,O=s.distcode,B=(1<<s.lenbits)-1,A=(1<<s.distbits)-1;t:do{S<15&&(y+=c[h++]<<S,S+=8,y+=c[h++]<<S,S+=8),D=I[y&B];e:for(;;){if(y>>>=P=D>>>24,S-=P,(P=D>>>16&255)===0)$[p++]=65535&D;else{if(!(16&P)){if(!(64&P)){D=I[(65535&D)+(y&(1<<P)-1)];continue e}if(32&P){s.mode=12;break t}r.msg="invalid literal/length code",s.mode=30;break t}W=65535&D,(P&=15)&&(S<P&&(y+=c[h++]<<S,S+=8),W+=y&(1<<P)-1,y>>>=P,S-=P),S<15&&(y+=c[h++]<<S,S+=8,y+=c[h++]<<S,S+=8),D=O[y&A];n:for(;;){if(y>>>=P=D>>>24,S-=P,!(16&(P=D>>>16&255))){if(!(64&P)){D=O[(65535&D)+(y&(1<<P)-1)];continue n}r.msg="invalid distance code",s.mode=30;break t}if(tt=65535&D,S<(P&=15)&&(y+=c[h++]<<S,(S+=8)<P&&(y+=c[h++]<<S,S+=8)),d<(tt+=y&(1<<P)-1)){r.msg="invalid distance too far back",s.mode=30;break t}if(y>>>=P,S-=P,(P=p-v)<tt){if(u<(P=tt-P)&&s.sane){r.msg="invalid distance too far back",s.mode=30;break t}if(z=f,(x=0)===m){if(x+=g-P,P<W){for(W-=P;$[p++]=f[x++],--P;);x=p-tt,z=$}}else if(m<P){if(x+=g+m-P,(P-=m)<W){for(W-=P;$[p++]=f[x++],--P;);if(x=0,m<W){for(W-=P=m;$[p++]=f[x++],--P;);x=p-tt,z=$}}}else if(x+=m-P,P<W){for(W-=P;$[p++]=f[x++],--P;);x=p-tt,z=$}for(;2<W;)$[p++]=z[x++],$[p++]=z[x++],$[p++]=z[x++],W-=3;W&&($[p++]=z[x++],1<W&&($[p++]=z[x++]))}else{for(x=p-tt;$[p++]=$[x++],$[p++]=$[x++],$[p++]=$[x++],2<(W-=3););W&&($[p++]=$[x++],1<W&&($[p++]=$[x++]))}break}}break}}while(h<_&&p<b);h-=W=S>>3,y&=(1<<(S-=W<<3))-1,r.next_in=h,r.next_out=p,r.avail_in=h<_?_-h+5:5-(h-_),r.avail_out=p<b?b-p+257:257-(p-b),s.hold=y,s.bits=S}},{}],49:[function(n,l,o){var r=n("../utils/common"),a=n("./adler32"),s=n("./crc32"),h=n("./inffast"),_=n("./inftrees"),p=1,v=2,b=0,d=-2,g=1,u=852,m=592;function f(x){return(x>>>24&255)+(x>>>8&65280)+((65280&x)<<8)+((255&x)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(x){var z;return x&&x.state?(z=x.state,x.total_in=x.total_out=z.total=0,x.msg="",z.wrap&&(x.adler=1&z.wrap),z.mode=g,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new r.Buf32(u),z.distcode=z.distdyn=new r.Buf32(m),z.sane=1,z.back=-1,b):d}function I(x){var z;return x&&x.state?((z=x.state).wsize=0,z.whave=0,z.wnext=0,S(x)):d}function O(x,z){var c,$;return x&&x.state?($=x.state,z<0?(c=0,z=-z):(c=1+(z>>4),z<48&&(z&=15)),z&&(z<8||15<z)?d:($.window!==null&&$.wbits!==z&&($.window=null),$.wrap=c,$.wbits=z,I(x))):d}function B(x,z){var c,$;return x?($=new y,(x.state=$).window=null,(c=O(x,z))!==b&&(x.state=null),c):d}var A,D,P=!0;function W(x){if(P){var z;for(A=new r.Buf32(512),D=new r.Buf32(32),z=0;z<144;)x.lens[z++]=8;for(;z<256;)x.lens[z++]=9;for(;z<280;)x.lens[z++]=7;for(;z<288;)x.lens[z++]=8;for(_(p,x.lens,0,288,A,0,x.work,{bits:9}),z=0;z<32;)x.lens[z++]=5;_(v,x.lens,0,32,D,0,x.work,{bits:5}),P=!1}x.lencode=A,x.lenbits=9,x.distcode=D,x.distbits=5}function tt(x,z,c,$){var st,M=x.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new r.Buf8(M.wsize)),$>=M.wsize?(r.arraySet(M.window,z,c-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):($<(st=M.wsize-M.wnext)&&(st=$),r.arraySet(M.window,z,c-$,st,M.wnext),($-=st)?(r.arraySet(M.window,z,c-$,$,0),M.wnext=$,M.whave=M.wsize):(M.wnext+=st,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=st))),0}o.inflateReset=I,o.inflateReset2=O,o.inflateResetKeep=S,o.inflateInit=function(x){return B(x,15)},o.inflateInit2=B,o.inflate=function(x,z){var c,$,st,M,ut,J,ot,T,N,it,X,H,wt,Nt,ht,mt,Rt,kt,Gt,Ut,i,L,F,k,w=0,E=new r.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!x||!x.state||!x.output||!x.input&&x.avail_in!==0)return d;(c=x.state).mode===12&&(c.mode=13),ut=x.next_out,st=x.output,ot=x.avail_out,M=x.next_in,$=x.input,J=x.avail_in,T=c.hold,N=c.bits,it=J,X=ot,L=b;t:for(;;)switch(c.mode){case g:if(c.wrap===0){c.mode=13;break}for(;N<16;){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}if(2&c.wrap&&T===35615){E[c.check=0]=255&T,E[1]=T>>>8&255,c.check=s(c.check,E,2,0),N=T=0,c.mode=2;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&T)<<8)+(T>>8))%31){x.msg="incorrect header check",c.mode=30;break}if((15&T)!=8){x.msg="unknown compression method",c.mode=30;break}if(N-=4,i=8+(15&(T>>>=4)),c.wbits===0)c.wbits=i;else if(i>c.wbits){x.msg="invalid window size",c.mode=30;break}c.dmax=1<<i,x.adler=c.check=1,c.mode=512&T?10:12,N=T=0;break;case 2:for(;N<16;){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}if(c.flags=T,(255&c.flags)!=8){x.msg="unknown compression method",c.mode=30;break}if(57344&c.flags){x.msg="unknown header flags set",c.mode=30;break}c.head&&(c.head.text=T>>8&1),512&c.flags&&(E[0]=255&T,E[1]=T>>>8&255,c.check=s(c.check,E,2,0)),N=T=0,c.mode=3;case 3:for(;N<32;){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}c.head&&(c.head.time=T),512&c.flags&&(E[0]=255&T,E[1]=T>>>8&255,E[2]=T>>>16&255,E[3]=T>>>24&255,c.check=s(c.check,E,4,0)),N=T=0,c.mode=4;case 4:for(;N<16;){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}c.head&&(c.head.xflags=255&T,c.head.os=T>>8),512&c.flags&&(E[0]=255&T,E[1]=T>>>8&255,c.check=s(c.check,E,2,0)),N=T=0,c.mode=5;case 5:if(1024&c.flags){for(;N<16;){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}c.length=T,c.head&&(c.head.extra_len=T),512&c.flags&&(E[0]=255&T,E[1]=T>>>8&255,c.check=s(c.check,E,2,0)),N=T=0}else c.head&&(c.head.extra=null);c.mode=6;case 6:if(1024&c.flags&&(J<(H=c.length)&&(H=J),H&&(c.head&&(i=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),r.arraySet(c.head.extra,$,M,H,i)),512&c.flags&&(c.check=s(c.check,$,H,M)),J-=H,M+=H,c.length-=H),c.length))break t;c.length=0,c.mode=7;case 7:if(2048&c.flags){if(J===0)break t;for(H=0;i=$[M+H++],c.head&&i&&c.length<65536&&(c.head.name+=String.fromCharCode(i)),i&&H<J;);if(512&c.flags&&(c.check=s(c.check,$,H,M)),J-=H,M+=H,i)break t}else c.head&&(c.head.name=null);c.length=0,c.mode=8;case 8:if(4096&c.flags){if(J===0)break t;for(H=0;i=$[M+H++],c.head&&i&&c.length<65536&&(c.head.comment+=String.fromCharCode(i)),i&&H<J;);if(512&c.flags&&(c.check=s(c.check,$,H,M)),J-=H,M+=H,i)break t}else c.head&&(c.head.comment=null);c.mode=9;case 9:if(512&c.flags){for(;N<16;){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}if(T!==(65535&c.check)){x.msg="header crc mismatch",c.mode=30;break}N=T=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),x.adler=c.check=0,c.mode=12;break;case 10:for(;N<32;){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}x.adler=c.check=f(T),N=T=0,c.mode=11;case 11:if(c.havedict===0)return x.next_out=ut,x.avail_out=ot,x.next_in=M,x.avail_in=J,c.hold=T,c.bits=N,2;x.adler=c.check=1,c.mode=12;case 12:if(z===5||z===6)break t;case 13:if(c.last){T>>>=7&N,N-=7&N,c.mode=27;break}for(;N<3;){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}switch(c.last=1&T,N-=1,3&(T>>>=1)){case 0:c.mode=14;break;case 1:if(W(c),c.mode=20,z!==6)break;T>>>=2,N-=2;break t;case 2:c.mode=17;break;case 3:x.msg="invalid block type",c.mode=30}T>>>=2,N-=2;break;case 14:for(T>>>=7&N,N-=7&N;N<32;){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}if((65535&T)!=(T>>>16^65535)){x.msg="invalid stored block lengths",c.mode=30;break}if(c.length=65535&T,N=T=0,c.mode=15,z===6)break t;case 15:c.mode=16;case 16:if(H=c.length){if(J<H&&(H=J),ot<H&&(H=ot),H===0)break t;r.arraySet(st,$,M,H,ut),J-=H,M+=H,ot-=H,ut+=H,c.length-=H;break}c.mode=12;break;case 17:for(;N<14;){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}if(c.nlen=257+(31&T),T>>>=5,N-=5,c.ndist=1+(31&T),T>>>=5,N-=5,c.ncode=4+(15&T),T>>>=4,N-=4,286<c.nlen||30<c.ndist){x.msg="too many length or distance symbols",c.mode=30;break}c.have=0,c.mode=18;case 18:for(;c.have<c.ncode;){for(;N<3;){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}c.lens[V[c.have++]]=7&T,T>>>=3,N-=3}for(;c.have<19;)c.lens[V[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,F={bits:c.lenbits},L=_(0,c.lens,0,19,c.lencode,0,c.work,F),c.lenbits=F.bits,L){x.msg="invalid code lengths set",c.mode=30;break}c.have=0,c.mode=19;case 19:for(;c.have<c.nlen+c.ndist;){for(;mt=(w=c.lencode[T&(1<<c.lenbits)-1])>>>16&255,Rt=65535&w,!((ht=w>>>24)<=N);){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}if(Rt<16)T>>>=ht,N-=ht,c.lens[c.have++]=Rt;else{if(Rt===16){for(k=ht+2;N<k;){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}if(T>>>=ht,N-=ht,c.have===0){x.msg="invalid bit length repeat",c.mode=30;break}i=c.lens[c.have-1],H=3+(3&T),T>>>=2,N-=2}else if(Rt===17){for(k=ht+3;N<k;){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}N-=ht,i=0,H=3+(7&(T>>>=ht)),T>>>=3,N-=3}else{for(k=ht+7;N<k;){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}N-=ht,i=0,H=11+(127&(T>>>=ht)),T>>>=7,N-=7}if(c.have+H>c.nlen+c.ndist){x.msg="invalid bit length repeat",c.mode=30;break}for(;H--;)c.lens[c.have++]=i}}if(c.mode===30)break;if(c.lens[256]===0){x.msg="invalid code -- missing end-of-block",c.mode=30;break}if(c.lenbits=9,F={bits:c.lenbits},L=_(p,c.lens,0,c.nlen,c.lencode,0,c.work,F),c.lenbits=F.bits,L){x.msg="invalid literal/lengths set",c.mode=30;break}if(c.distbits=6,c.distcode=c.distdyn,F={bits:c.distbits},L=_(v,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,F),c.distbits=F.bits,L){x.msg="invalid distances set",c.mode=30;break}if(c.mode=20,z===6)break t;case 20:c.mode=21;case 21:if(6<=J&&258<=ot){x.next_out=ut,x.avail_out=ot,x.next_in=M,x.avail_in=J,c.hold=T,c.bits=N,h(x,X),ut=x.next_out,st=x.output,ot=x.avail_out,M=x.next_in,$=x.input,J=x.avail_in,T=c.hold,N=c.bits,c.mode===12&&(c.back=-1);break}for(c.back=0;mt=(w=c.lencode[T&(1<<c.lenbits)-1])>>>16&255,Rt=65535&w,!((ht=w>>>24)<=N);){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}if(mt&&!(240&mt)){for(kt=ht,Gt=mt,Ut=Rt;mt=(w=c.lencode[Ut+((T&(1<<kt+Gt)-1)>>kt)])>>>16&255,Rt=65535&w,!(kt+(ht=w>>>24)<=N);){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}T>>>=kt,N-=kt,c.back+=kt}if(T>>>=ht,N-=ht,c.back+=ht,c.length=Rt,mt===0){c.mode=26;break}if(32&mt){c.back=-1,c.mode=12;break}if(64&mt){x.msg="invalid literal/length code",c.mode=30;break}c.extra=15&mt,c.mode=22;case 22:if(c.extra){for(k=c.extra;N<k;){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}c.length+=T&(1<<c.extra)-1,T>>>=c.extra,N-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=23;case 23:for(;mt=(w=c.distcode[T&(1<<c.distbits)-1])>>>16&255,Rt=65535&w,!((ht=w>>>24)<=N);){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}if(!(240&mt)){for(kt=ht,Gt=mt,Ut=Rt;mt=(w=c.distcode[Ut+((T&(1<<kt+Gt)-1)>>kt)])>>>16&255,Rt=65535&w,!(kt+(ht=w>>>24)<=N);){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}T>>>=kt,N-=kt,c.back+=kt}if(T>>>=ht,N-=ht,c.back+=ht,64&mt){x.msg="invalid distance code",c.mode=30;break}c.offset=Rt,c.extra=15&mt,c.mode=24;case 24:if(c.extra){for(k=c.extra;N<k;){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}c.offset+=T&(1<<c.extra)-1,T>>>=c.extra,N-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){x.msg="invalid distance too far back",c.mode=30;break}c.mode=25;case 25:if(ot===0)break t;if(H=X-ot,c.offset>H){if((H=c.offset-H)>c.whave&&c.sane){x.msg="invalid distance too far back",c.mode=30;break}wt=H>c.wnext?(H-=c.wnext,c.wsize-H):c.wnext-H,H>c.length&&(H=c.length),Nt=c.window}else Nt=st,wt=ut-c.offset,H=c.length;for(ot<H&&(H=ot),ot-=H,c.length-=H;st[ut++]=Nt[wt++],--H;);c.length===0&&(c.mode=21);break;case 26:if(ot===0)break t;st[ut++]=c.length,ot--,c.mode=21;break;case 27:if(c.wrap){for(;N<32;){if(J===0)break t;J--,T|=$[M++]<<N,N+=8}if(X-=ot,x.total_out+=X,c.total+=X,X&&(x.adler=c.check=c.flags?s(c.check,st,X,ut-X):a(c.check,st,X,ut-X)),X=ot,(c.flags?T:f(T))!==c.check){x.msg="incorrect data check",c.mode=30;break}N=T=0}c.mode=28;case 28:if(c.wrap&&c.flags){for(;N<32;){if(J===0)break t;J--,T+=$[M++]<<N,N+=8}if(T!==(4294967295&c.total)){x.msg="incorrect length check",c.mode=30;break}N=T=0}c.mode=29;case 29:L=1;break t;case 30:L=-3;break t;case 31:return-4;case 32:default:return d}return x.next_out=ut,x.avail_out=ot,x.next_in=M,x.avail_in=J,c.hold=T,c.bits=N,(c.wsize||X!==x.avail_out&&c.mode<30&&(c.mode<27||z!==4))&&tt(x,x.output,x.next_out,X-x.avail_out)?(c.mode=31,-4):(it-=x.avail_in,X-=x.avail_out,x.total_in+=it,x.total_out+=X,c.total+=X,c.wrap&&X&&(x.adler=c.check=c.flags?s(c.check,st,X,x.next_out-X):a(c.check,st,X,x.next_out-X)),x.data_type=c.bits+(c.last?64:0)+(c.mode===12?128:0)+(c.mode===20||c.mode===15?256:0),(it==0&&X===0||z===4)&&L===b&&(L=-5),L)},o.inflateEnd=function(x){if(!x||!x.state)return d;var z=x.state;return z.window&&(z.window=null),x.state=null,b},o.inflateGetHeader=function(x,z){var c;return x&&x.state&&2&(c=x.state).wrap?((c.head=z).done=!1,b):d},o.inflateSetDictionary=function(x,z){var c,$=z.length;return x&&x.state?(c=x.state).wrap!==0&&c.mode!==11?d:c.mode===11&&a(1,z,$,0)!==c.check?-3:tt(x,z,$,$)?(c.mode=31,-4):(c.havedict=1,b):d},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,l,o){var r=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],_=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];l.exports=function(p,v,b,d,g,u,m,f){var y,S,I,O,B,A,D,P,W,tt=f.bits,x=0,z=0,c=0,$=0,st=0,M=0,ut=0,J=0,ot=0,T=0,N=null,it=0,X=new r.Buf16(16),H=new r.Buf16(16),wt=null,Nt=0;for(x=0;x<=15;x++)X[x]=0;for(z=0;z<d;z++)X[v[b+z]]++;for(st=tt,$=15;1<=$&&X[$]===0;$--);if($<st&&(st=$),$===0)return g[u++]=20971520,g[u++]=20971520,f.bits=1,0;for(c=1;c<$&&X[c]===0;c++);for(st<c&&(st=c),x=J=1;x<=15;x++)if(J<<=1,(J-=X[x])<0)return-1;if(0<J&&(p===0||$!==1))return-1;for(H[1]=0,x=1;x<15;x++)H[x+1]=H[x]+X[x];for(z=0;z<d;z++)v[b+z]!==0&&(m[H[v[b+z]]++]=z);if(A=p===0?(N=wt=m,19):p===1?(N=a,it-=257,wt=s,Nt-=257,256):(N=h,wt=_,-1),x=c,B=u,ut=z=T=0,I=-1,O=(ot=1<<(M=st))-1,p===1&&852<ot||p===2&&592<ot)return 1;for(;;){for(D=x-ut,W=m[z]<A?(P=0,m[z]):m[z]>A?(P=wt[Nt+m[z]],N[it+m[z]]):(P=96,0),y=1<<x-ut,c=S=1<<M;g[B+(T>>ut)+(S-=y)]=D<<24|P<<16|W|0,S!==0;);for(y=1<<x-1;T&y;)y>>=1;if(y!==0?(T&=y-1,T+=y):T=0,z++,--X[x]==0){if(x===$)break;x=v[b+m[z]]}if(st<x&&(T&O)!==I){for(ut===0&&(ut=st),B+=c,J=1<<(M=x-ut);M+ut<$&&!((J-=X[M+ut])<=0);)M++,J<<=1;if(ot+=1<<M,p===1&&852<ot||p===2&&592<ot)return 1;g[I=T&O]=st<<24|M<<16|B-u|0}}return T!==0&&(g[B+T]=x-ut<<24|64<<16|0),f.bits=st,0}},{"../utils/common":41}],51:[function(n,l,o){l.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,l,o){var r=n("../utils/common"),a=0,s=1;function h(w){for(var E=w.length;0<=--E;)w[E]=0}var _=0,p=29,v=256,b=v+1+p,d=30,g=19,u=2*b+1,m=15,f=16,y=7,S=256,I=16,O=17,B=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],tt=new Array(2*(b+2));h(tt);var x=new Array(2*d);h(x);var z=new Array(512);h(z);var c=new Array(256);h(c);var $=new Array(p);h($);var st,M,ut,J=new Array(d);function ot(w,E,V,U,R){this.static_tree=w,this.extra_bits=E,this.extra_base=V,this.elems=U,this.max_length=R,this.has_stree=w&&w.length}function T(w,E){this.dyn_tree=w,this.max_code=0,this.stat_desc=E}function N(w){return w<256?z[w]:z[256+(w>>>7)]}function it(w,E){w.pending_buf[w.pending++]=255&E,w.pending_buf[w.pending++]=E>>>8&255}function X(w,E,V){w.bi_valid>f-V?(w.bi_buf|=E<<w.bi_valid&65535,it(w,w.bi_buf),w.bi_buf=E>>f-w.bi_valid,w.bi_valid+=V-f):(w.bi_buf|=E<<w.bi_valid&65535,w.bi_valid+=V)}function H(w,E,V){X(w,V[2*E],V[2*E+1])}function wt(w,E){for(var V=0;V|=1&w,w>>>=1,V<<=1,0<--E;);return V>>>1}function Nt(w,E,V){var U,R,G=new Array(m+1),Y=0;for(U=1;U<=m;U++)G[U]=Y=Y+V[U-1]<<1;for(R=0;R<=E;R++){var Z=w[2*R+1];Z!==0&&(w[2*R]=wt(G[Z]++,Z))}}function ht(w){var E;for(E=0;E<b;E++)w.dyn_ltree[2*E]=0;for(E=0;E<d;E++)w.dyn_dtree[2*E]=0;for(E=0;E<g;E++)w.bl_tree[2*E]=0;w.dyn_ltree[2*S]=1,w.opt_len=w.static_len=0,w.last_lit=w.matches=0}function mt(w){8<w.bi_valid?it(w,w.bi_buf):0<w.bi_valid&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0}function Rt(w,E,V,U){var R=2*E,G=2*V;return w[R]<w[G]||w[R]===w[G]&&U[E]<=U[V]}function kt(w,E,V){for(var U=w.heap[V],R=V<<1;R<=w.heap_len&&(R<w.heap_len&&Rt(E,w.heap[R+1],w.heap[R],w.depth)&&R++,!Rt(E,U,w.heap[R],w.depth));)w.heap[V]=w.heap[R],V=R,R<<=1;w.heap[V]=U}function Gt(w,E,V){var U,R,G,Y,Z=0;if(w.last_lit!==0)for(;U=w.pending_buf[w.d_buf+2*Z]<<8|w.pending_buf[w.d_buf+2*Z+1],R=w.pending_buf[w.l_buf+Z],Z++,U===0?H(w,R,E):(H(w,(G=c[R])+v+1,E),(Y=A[G])!==0&&X(w,R-=$[G],Y),H(w,G=N(--U),V),(Y=D[G])!==0&&X(w,U-=J[G],Y)),Z<w.last_lit;);H(w,S,E)}function Ut(w,E){var V,U,R,G=E.dyn_tree,Y=E.stat_desc.static_tree,Z=E.stat_desc.has_stree,nt=E.stat_desc.elems,_t=-1;for(w.heap_len=0,w.heap_max=u,V=0;V<nt;V++)G[2*V]!==0?(w.heap[++w.heap_len]=_t=V,w.depth[V]=0):G[2*V+1]=0;for(;w.heap_len<2;)G[2*(R=w.heap[++w.heap_len]=_t<2?++_t:0)]=1,w.depth[R]=0,w.opt_len--,Z&&(w.static_len-=Y[2*R+1]);for(E.max_code=_t,V=w.heap_len>>1;1<=V;V--)kt(w,G,V);for(R=nt;V=w.heap[1],w.heap[1]=w.heap[w.heap_len--],kt(w,G,1),U=w.heap[1],w.heap[--w.heap_max]=V,w.heap[--w.heap_max]=U,G[2*R]=G[2*V]+G[2*U],w.depth[R]=(w.depth[V]>=w.depth[U]?w.depth[V]:w.depth[U])+1,G[2*V+1]=G[2*U+1]=R,w.heap[1]=R++,kt(w,G,1),2<=w.heap_len;);w.heap[--w.heap_max]=w.heap[1],function(ft,Bt){var rn,Zt,on,St,bn,Vn,Ht=Bt.dyn_tree,jn=Bt.max_code,di=Bt.stat_desc.static_tree,hi=Bt.stat_desc.has_stree,fi=Bt.stat_desc.extra_bits,tr=Bt.stat_desc.extra_base,an=Bt.stat_desc.max_length,yn=0;for(St=0;St<=m;St++)ft.bl_count[St]=0;for(Ht[2*ft.heap[ft.heap_max]+1]=0,rn=ft.heap_max+1;rn<u;rn++)an<(St=Ht[2*Ht[2*(Zt=ft.heap[rn])+1]+1]+1)&&(St=an,yn++),Ht[2*Zt+1]=St,jn<Zt||(ft.bl_count[St]++,bn=0,tr<=Zt&&(bn=fi[Zt-tr]),Vn=Ht[2*Zt],ft.opt_len+=Vn*(St+bn),hi&&(ft.static_len+=Vn*(di[2*Zt+1]+bn)));if(yn!==0){do{for(St=an-1;ft.bl_count[St]===0;)St--;ft.bl_count[St]--,ft.bl_count[St+1]+=2,ft.bl_count[an]--,yn-=2}while(0<yn);for(St=an;St!==0;St--)for(Zt=ft.bl_count[St];Zt!==0;)jn<(on=ft.heap[--rn])||(Ht[2*on+1]!==St&&(ft.opt_len+=(St-Ht[2*on+1])*Ht[2*on],Ht[2*on+1]=St),Zt--)}}(w,E),Nt(G,_t,w.bl_count)}function i(w,E,V){var U,R,G=-1,Y=E[1],Z=0,nt=7,_t=4;for(Y===0&&(nt=138,_t=3),E[2*(V+1)+1]=65535,U=0;U<=V;U++)R=Y,Y=E[2*(U+1)+1],++Z<nt&&R===Y||(Z<_t?w.bl_tree[2*R]+=Z:R!==0?(R!==G&&w.bl_tree[2*R]++,w.bl_tree[2*I]++):Z<=10?w.bl_tree[2*O]++:w.bl_tree[2*B]++,G=R,_t=(Z=0)===Y?(nt=138,3):R===Y?(nt=6,3):(nt=7,4))}function L(w,E,V){var U,R,G=-1,Y=E[1],Z=0,nt=7,_t=4;for(Y===0&&(nt=138,_t=3),U=0;U<=V;U++)if(R=Y,Y=E[2*(U+1)+1],!(++Z<nt&&R===Y)){if(Z<_t)for(;H(w,R,w.bl_tree),--Z!=0;);else R!==0?(R!==G&&(H(w,R,w.bl_tree),Z--),H(w,I,w.bl_tree),X(w,Z-3,2)):Z<=10?(H(w,O,w.bl_tree),X(w,Z-3,3)):(H(w,B,w.bl_tree),X(w,Z-11,7));G=R,_t=(Z=0)===Y?(nt=138,3):R===Y?(nt=6,3):(nt=7,4)}}h(J);var F=!1;function k(w,E,V,U){X(w,(_<<1)+(U?1:0),3),function(R,G,Y,Z){mt(R),Z&&(it(R,Y),it(R,~Y)),r.arraySet(R.pending_buf,R.window,G,Y,R.pending),R.pending+=Y}(w,E,V,!0)}o._tr_init=function(w){F||(function(){var E,V,U,R,G,Y=new Array(m+1);for(R=U=0;R<p-1;R++)for($[R]=U,E=0;E<1<<A[R];E++)c[U++]=R;for(c[U-1]=R,R=G=0;R<16;R++)for(J[R]=G,E=0;E<1<<D[R];E++)z[G++]=R;for(G>>=7;R<d;R++)for(J[R]=G<<7,E=0;E<1<<D[R]-7;E++)z[256+G++]=R;for(V=0;V<=m;V++)Y[V]=0;for(E=0;E<=143;)tt[2*E+1]=8,E++,Y[8]++;for(;E<=255;)tt[2*E+1]=9,E++,Y[9]++;for(;E<=279;)tt[2*E+1]=7,E++,Y[7]++;for(;E<=287;)tt[2*E+1]=8,E++,Y[8]++;for(Nt(tt,b+1,Y),E=0;E<d;E++)x[2*E+1]=5,x[2*E]=wt(E,5);st=new ot(tt,A,v+1,b,m),M=new ot(x,D,0,d,m),ut=new ot(new Array(0),P,0,g,y)}(),F=!0),w.l_desc=new T(w.dyn_ltree,st),w.d_desc=new T(w.dyn_dtree,M),w.bl_desc=new T(w.bl_tree,ut),w.bi_buf=0,w.bi_valid=0,ht(w)},o._tr_stored_block=k,o._tr_flush_block=function(w,E,V,U){var R,G,Y=0;0<w.level?(w.strm.data_type===2&&(w.strm.data_type=function(Z){var nt,_t=4093624447;for(nt=0;nt<=31;nt++,_t>>>=1)if(1&_t&&Z.dyn_ltree[2*nt]!==0)return a;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return s;for(nt=32;nt<v;nt++)if(Z.dyn_ltree[2*nt]!==0)return s;return a}(w)),Ut(w,w.l_desc),Ut(w,w.d_desc),Y=function(Z){var nt;for(i(Z,Z.dyn_ltree,Z.l_desc.max_code),i(Z,Z.dyn_dtree,Z.d_desc.max_code),Ut(Z,Z.bl_desc),nt=g-1;3<=nt&&Z.bl_tree[2*W[nt]+1]===0;nt--);return Z.opt_len+=3*(nt+1)+5+5+4,nt}(w),R=w.opt_len+3+7>>>3,(G=w.static_len+3+7>>>3)<=R&&(R=G)):R=G=V+5,V+4<=R&&E!==-1?k(w,E,V,U):w.strategy===4||G===R?(X(w,2+(U?1:0),3),Gt(w,tt,x)):(X(w,4+(U?1:0),3),function(Z,nt,_t,ft){var Bt;for(X(Z,nt-257,5),X(Z,_t-1,5),X(Z,ft-4,4),Bt=0;Bt<ft;Bt++)X(Z,Z.bl_tree[2*W[Bt]+1],3);L(Z,Z.dyn_ltree,nt-1),L(Z,Z.dyn_dtree,_t-1)}(w,w.l_desc.max_code+1,w.d_desc.max_code+1,Y+1),Gt(w,w.dyn_ltree,w.dyn_dtree)),ht(w),U&&mt(w)},o._tr_tally=function(w,E,V){return w.pending_buf[w.d_buf+2*w.last_lit]=E>>>8&255,w.pending_buf[w.d_buf+2*w.last_lit+1]=255&E,w.pending_buf[w.l_buf+w.last_lit]=255&V,w.last_lit++,E===0?w.dyn_ltree[2*V]++:(w.matches++,E--,w.dyn_ltree[2*(c[V]+v+1)]++,w.dyn_dtree[2*N(E)]++),w.last_lit===w.lit_bufsize-1},o._tr_align=function(w){X(w,2,3),H(w,S,tt),function(E){E.bi_valid===16?(it(E,E.bi_buf),E.bi_buf=0,E.bi_valid=0):8<=E.bi_valid&&(E.pending_buf[E.pending++]=255&E.bi_buf,E.bi_buf>>=8,E.bi_valid-=8)}(w)}},{"../utils/common":41}],53:[function(n,l,o){l.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,l,o){(function(r){(function(a,s){if(!a.setImmediate){var h,_,p,v,b=1,d={},g=!1,u=a.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(a);m=m&&m.setTimeout?m:a,h={}.toString.call(a.process)==="[object process]"?function(I){process.nextTick(function(){y(I)})}:function(){if(a.postMessage&&!a.importScripts){var I=!0,O=a.onmessage;return a.onmessage=function(){I=!1},a.postMessage("","*"),a.onmessage=O,I}}()?(v="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",S,!1):a.attachEvent("onmessage",S),function(I){a.postMessage(v+I,"*")}):a.MessageChannel?((p=new MessageChannel).port1.onmessage=function(I){y(I.data)},function(I){p.port2.postMessage(I)}):u&&"onreadystatechange"in u.createElement("script")?(_=u.documentElement,function(I){var O=u.createElement("script");O.onreadystatechange=function(){y(I),O.onreadystatechange=null,_.removeChild(O),O=null},_.appendChild(O)}):function(I){setTimeout(y,0,I)},m.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var O=new Array(arguments.length-1),B=0;B<O.length;B++)O[B]=arguments[B+1];var A={callback:I,args:O};return d[b]=A,h(b),b++},m.clearImmediate=f}function f(I){delete d[I]}function y(I){if(g)setTimeout(y,0,I);else{var O=d[I];if(O){g=!0;try{(function(B){var A=B.callback,D=B.args;switch(D.length){case 0:A();break;case 1:A(D[0]);break;case 2:A(D[0],D[1]);break;case 3:A(D[0],D[1],D[2]);break;default:A.apply(s,D)}})(O)}finally{f(I),g=!1}}}}function S(I){I.source===a&&typeof I.data=="string"&&I.data.indexOf(v)===0&&y(+I.data.slice(v.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof kn<"u"?kn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Qr);var xi=Qr.exports;const nr=Wr(xi);var Ei=bt,$t=null;try{$t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function bt(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}bt.prototype.__isLong__;Object.defineProperty(bt.prototype,"__isLong__",{value:!0});function zt(t){return(t&&t.__isLong__)===!0}bt.isLong=zt;var rr={},ir={};function Se(t,e){var n,l,o;return e?(t>>>=0,(o=0<=t&&t<256)&&(l=ir[t],l)?l:(n=yt(t,(t|0)<0?-1:0,!0),o&&(ir[t]=n),n)):(t|=0,(o=-128<=t&&t<128)&&(l=rr[t],l)?l:(n=yt(t,t<0?-1:0,!1),o&&(rr[t]=n),n))}bt.fromInt=Se;function Dt(t,e){if(isNaN(t))return e?ae:Vt;if(e){if(t<0)return ae;if(t>=jr)return ni}else{if(t<=-ar)return At;if(t+1>=ar)return ei}return t<0?Dt(-t,e).neg():yt(t%je|0,t/je|0,e)}bt.fromNumber=Dt;function yt(t,e,n){return new bt(t,e,n)}bt.fromBits=yt;var Pn=Math.pow;function Yn(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return Vt;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var l;if((l=t.indexOf("-"))>0)throw Error("interior hyphen");if(l===0)return Yn(t.substring(1),e,n).neg();for(var o=Dt(Pn(n,8)),r=Vt,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),h=parseInt(t.substring(a,a+s),n);if(s<8){var _=Dt(Pn(n,s));r=r.mul(_).add(Dt(h))}else r=r.mul(o),r=r.add(Dt(h))}return r.unsigned=e,r}bt.fromString=Yn;function Jt(t,e){return typeof t=="number"?Dt(t,e):typeof t=="string"?Yn(t,e):yt(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}bt.fromValue=Jt;var or=65536,Oi=1<<24,je=or*or,jr=je*je,ar=jr/2,sr=Se(Oi),Vt=Se(0);bt.ZERO=Vt;var ae=Se(0,!0);bt.UZERO=ae;var Le=Se(1);bt.ONE=Le;var ti=Se(1,!0);bt.UONE=ti;var Gn=Se(-1);bt.NEG_ONE=Gn;var ei=yt(-1,2147483647,!1);bt.MAX_VALUE=ei;var ni=yt(-1,-1,!0);bt.MAX_UNSIGNED_VALUE=ni;var At=yt(0,-2147483648,!1);bt.MIN_VALUE=At;var K=bt.prototype;K.toInt=function(){return this.unsigned?this.low>>>0:this.low};K.toNumber=function(){return this.unsigned?(this.high>>>0)*je+(this.low>>>0):this.high*je+(this.low>>>0)};K.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(At)){var n=Dt(e),l=this.div(n),o=l.mul(n).sub(this);return l.toString(e)+o.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var r=Dt(Pn(e,6),this.unsigned),a=this,s="";;){var h=a.div(r),_=a.sub(h.mul(r)).toInt()>>>0,p=_.toString(e);if(a=h,a.isZero())return p+s;for(;p.length<6;)p="0"+p;s=""+p+s}};K.getHighBits=function(){return this.high};K.getHighBitsUnsigned=function(){return this.high>>>0};K.getLowBits=function(){return this.low};K.getLowBitsUnsigned=function(){return this.low>>>0};K.getNumBitsAbs=function(){if(this.isNegative())return this.eq(At)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1};K.isZero=function(){return this.high===0&&this.low===0};K.eqz=K.isZero;K.isNegative=function(){return!this.unsigned&&this.high<0};K.isPositive=function(){return this.unsigned||this.high>=0};K.isOdd=function(){return(this.low&1)===1};K.isEven=function(){return(this.low&1)===0};K.equals=function(e){return zt(e)||(e=Jt(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};K.eq=K.equals;K.notEquals=function(e){return!this.eq(e)};K.neq=K.notEquals;K.ne=K.notEquals;K.lessThan=function(e){return this.comp(e)<0};K.lt=K.lessThan;K.lessThanOrEqual=function(e){return this.comp(e)<=0};K.lte=K.lessThanOrEqual;K.le=K.lessThanOrEqual;K.greaterThan=function(e){return this.comp(e)>0};K.gt=K.greaterThan;K.greaterThanOrEqual=function(e){return this.comp(e)>=0};K.gte=K.greaterThanOrEqual;K.ge=K.greaterThanOrEqual;K.compare=function(e){if(zt(e)||(e=Jt(e)),this.eq(e))return 0;var n=this.isNegative(),l=e.isNegative();return n&&!l?-1:!n&&l?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};K.comp=K.compare;K.negate=function(){return!this.unsigned&&this.eq(At)?At:this.not().add(Le)};K.neg=K.negate;K.add=function(e){zt(e)||(e=Jt(e));var n=this.high>>>16,l=this.high&65535,o=this.low>>>16,r=this.low&65535,a=e.high>>>16,s=e.high&65535,h=e.low>>>16,_=e.low&65535,p=0,v=0,b=0,d=0;return d+=r+_,b+=d>>>16,d&=65535,b+=o+h,v+=b>>>16,b&=65535,v+=l+s,p+=v>>>16,v&=65535,p+=n+a,p&=65535,yt(b<<16|d,p<<16|v,this.unsigned)};K.subtract=function(e){return zt(e)||(e=Jt(e)),this.add(e.neg())};K.sub=K.subtract;K.multiply=function(e){if(this.isZero())return Vt;if(zt(e)||(e=Jt(e)),$t){var n=$t.mul(this.low,this.high,e.low,e.high);return yt(n,$t.get_high(),this.unsigned)}if(e.isZero())return Vt;if(this.eq(At))return e.isOdd()?At:Vt;if(e.eq(At))return this.isOdd()?At:Vt;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(sr)&&e.lt(sr))return Dt(this.toNumber()*e.toNumber(),this.unsigned);var l=this.high>>>16,o=this.high&65535,r=this.low>>>16,a=this.low&65535,s=e.high>>>16,h=e.high&65535,_=e.low>>>16,p=e.low&65535,v=0,b=0,d=0,g=0;return g+=a*p,d+=g>>>16,g&=65535,d+=r*p,b+=d>>>16,d&=65535,d+=a*_,b+=d>>>16,d&=65535,b+=o*p,v+=b>>>16,b&=65535,b+=r*_,v+=b>>>16,b&=65535,b+=a*h,v+=b>>>16,b&=65535,v+=l*p+o*_+r*h+a*s,v&=65535,yt(d<<16|g,v<<16|b,this.unsigned)};K.mul=K.multiply;K.divide=function(e){if(zt(e)||(e=Jt(e)),e.isZero())throw Error("division by zero");if($t){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?$t.div_u:$t.div_s)(this.low,this.high,e.low,e.high);return yt(n,$t.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ae:Vt;var l,o,r;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return ae;if(e.gt(this.shru(1)))return ti;r=ae}else{if(this.eq(At)){if(e.eq(Le)||e.eq(Gn))return At;if(e.eq(At))return Le;var a=this.shr(1);return l=a.div(e).shl(1),l.eq(Vt)?e.isNegative()?Le:Gn:(o=this.sub(e.mul(l)),r=l.add(o.div(e)),r)}else if(e.eq(At))return this.unsigned?ae:Vt;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=Vt}for(o=this;o.gte(e);){l=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(l)/Math.LN2),h=s<=48?1:Pn(2,s-48),_=Dt(l),p=_.mul(e);p.isNegative()||p.gt(o);)l-=h,_=Dt(l,this.unsigned),p=_.mul(e);_.isZero()&&(_=Le),r=r.add(_),o=o.sub(p)}return r};K.div=K.divide;K.modulo=function(e){if(zt(e)||(e=Jt(e)),$t){var n=(this.unsigned?$t.rem_u:$t.rem_s)(this.low,this.high,e.low,e.high);return yt(n,$t.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};K.mod=K.modulo;K.rem=K.modulo;K.not=function(){return yt(~this.low,~this.high,this.unsigned)};K.and=function(e){return zt(e)||(e=Jt(e)),yt(this.low&e.low,this.high&e.high,this.unsigned)};K.or=function(e){return zt(e)||(e=Jt(e)),yt(this.low|e.low,this.high|e.high,this.unsigned)};K.xor=function(e){return zt(e)||(e=Jt(e)),yt(this.low^e.low,this.high^e.high,this.unsigned)};K.shiftLeft=function(e){return zt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?yt(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):yt(0,this.low<<e-32,this.unsigned)};K.shl=K.shiftLeft;K.shiftRight=function(e){return zt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?yt(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):yt(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};K.shr=K.shiftRight;K.shiftRightUnsigned=function(e){if(zt(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var l=this.low;return yt(l>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?yt(n,0,this.unsigned):yt(n>>>e-32,0,this.unsigned)};K.shru=K.shiftRightUnsigned;K.shr_u=K.shiftRightUnsigned;K.toSigned=function(){return this.unsigned?yt(this.low,this.high,!1):this};K.toUnsigned=function(){return this.unsigned?this:yt(this.low,this.high,!0)};K.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};K.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};K.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};bt.fromBytes=function(e,n,l){return l?bt.fromBytesLE(e,n):bt.fromBytesBE(e,n)};bt.fromBytesLE=function(e,n){return new bt(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};bt.fromBytesBE=function(e,n){return new bt(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const lr=Wr(Ei);function ur(){return{seconds:0,nanos:0}}const un={encode(t,e=Q.Writer.create()){return t.seconds!==0&&e.uint32(8).int64(t.seconds),t.nanos!==0&&e.uint32(16).int32(t.nanos),e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=ur();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==8)break;o.seconds=Ci(n.int64());continue;case 2:if(r!==16)break;o.nanos=n.int32();continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{seconds:cr(t.seconds)?Number(t.seconds):0,nanos:cr(t.nanos)?Number(t.nanos):0}},toJSON(t){const e={};return t.seconds!==void 0&&(e.seconds=Math.round(t.seconds)),t.nanos!==void 0&&(e.nanos=Math.round(t.nanos)),e},create(t){return un.fromPartial(t??{})},fromPartial(t){const e=ur();return e.seconds=t.seconds??0,e.nanos=t.nanos??0,e}};var Ii=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw"Unable to locate global object"})();function Ci(t){if(t.gt(Number.MAX_SAFE_INTEGER))throw new Ii.Error("Value is larger than Number.MAX_SAFE_INTEGER");return t.toNumber()}Q.util.Long!==lr&&(Q.util.Long=lr,Q.configure());function cr(t){return t!=null}function dr(){return{name:"",author:"",date:void 0,startTime:0,endTime:0,speedRatio:0,description:""}}const oe={encode(t,e=Q.Writer.create()){return t.name!==""&&e.uint32(10).string(t.name),t.author!==""&&e.uint32(18).string(t.author),t.date!==void 0&&un.encode(t.date,e.uint32(26).fork()).ldelim(),t.startTime!==0&&e.uint32(33).double(t.startTime),t.endTime!==0&&e.uint32(41).double(t.endTime),t.speedRatio!==0&&e.uint32(49).double(t.speedRatio),t.description!==""&&e.uint32(58).string(t.description),e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=dr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==10)break;o.name=n.string();continue;case 2:if(r!==18)break;o.author=n.string();continue;case 3:if(r!==26)break;o.date=un.decode(n,n.uint32());continue;case 4:if(r!==33)break;o.startTime=n.double();continue;case 5:if(r!==41)break;o.endTime=n.double();continue;case 6:if(r!==49)break;o.speedRatio=n.double();continue;case 7:if(r!==58)break;o.description=n.string();continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{name:ne(t.name)?String(t.name):"",author:ne(t.author)?String(t.author):"",date:ne(t.date)?Ni(t.date):void 0,startTime:ne(t.startTime)?Number(t.startTime):0,endTime:ne(t.endTime)?Number(t.endTime):0,speedRatio:ne(t.speedRatio)?Number(t.speedRatio):0,description:ne(t.description)?String(t.description):""}},toJSON(t){const e={};return t.name!==void 0&&(e.name=t.name),t.author!==void 0&&(e.author=t.author),t.date!==void 0&&(e.date=Ri(t.date).toISOString()),t.startTime!==void 0&&(e.startTime=t.startTime),t.endTime!==void 0&&(e.endTime=t.endTime),t.speedRatio!==void 0&&(e.speedRatio=t.speedRatio),t.description!==void 0&&(e.description=t.description),e},create(t){return oe.fromPartial(t??{})},fromPartial(t){const e=dr();return e.name=t.name??"",e.author=t.author??"",e.date=t.date!==void 0&&t.date!==null?un.fromPartial(t.date):void 0,e.startTime=t.startTime??0,e.endTime=t.endTime??0,e.speedRatio=t.speedRatio??0,e.description=t.description??"",e}};function hr(t){const e=t.getTime()/1e3,n=t.getTime()%1e3*1e6;return{seconds:e,nanos:n}}function Ri(t){let e=(t.seconds||0)*1e3;return e+=(t.nanos||0)/1e6,new Date(e)}function Ni(t){return t instanceof Date?hr(t):typeof t=="string"?hr(new Date(t)):un.fromJSON(t)}function ne(t){return t!=null}function fr(){return{r:0,g:0,b:0,a:0}}const Wt={encode(t,e=Q.Writer.create()){return t.r!==0&&e.uint32(13).float(t.r),t.g!==0&&e.uint32(21).float(t.g),t.b!==0&&e.uint32(29).float(t.b),t.a!==0&&e.uint32(37).float(t.a),e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=fr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==13)break;o.r=n.float();continue;case 2:if(r!==21)break;o.g=n.float();continue;case 3:if(r!==29)break;o.b=n.float();continue;case 4:if(r!==37)break;o.a=n.float();continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{r:xn(t.r)?Number(t.r):0,g:xn(t.g)?Number(t.g):0,b:xn(t.b)?Number(t.b):0,a:xn(t.a)?Number(t.a):0}},toJSON(t){const e={};return t.r!==void 0&&(e.r=t.r),t.g!==void 0&&(e.g=t.g),t.b!==void 0&&(e.b=t.b),t.a!==void 0&&(e.a=t.a),e},create(t){return Wt.fromPartial(t??{})},fromPartial(t){const e=fr();return e.r=t.r??0,e.g=t.g??0,e.b=t.b??0,e.a=t.a??0,e}};function xn(t){return t!=null}function pr(){return{x:0,y:0,z:0}}const xt={encode(t,e=Q.Writer.create()){return t.x!==0&&e.uint32(9).double(t.x),t.y!==0&&e.uint32(17).double(t.y),t.z!==0&&e.uint32(25).double(t.z),e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=pr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==9)break;o.x=n.double();continue;case 2:if(r!==17)break;o.y=n.double();continue;case 3:if(r!==25)break;o.z=n.double();continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{x:Mn(t.x)?Number(t.x):0,y:Mn(t.y)?Number(t.y):0,z:Mn(t.z)?Number(t.z):0}},toJSON(t){const e={};return t.x!==void 0&&(e.x=t.x),t.y!==void 0&&(e.y=t.y),t.z!==void 0&&(e.z=t.z),e},create(t){return xt.fromPartial(t??{})},fromPartial(t){const e=pr();return e.x=t.x??0,e.y=t.y??0,e.z=t.z??0,e}};function Mn(t){return t!=null}function mr(){return{source:void 0}}const dt={encode(t,e=Q.Writer.create()){var n;switch((n=t.source)==null?void 0:n.$case){case"constValue":e.uint32(9).double(t.source.constValue);break;case"graphId":e.uint32(16).uint32(t.source.graphId);break}return e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=mr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==9)break;o.source={$case:"constValue",constValue:n.double()};continue;case 2:if(r!==16)break;o.source={$case:"graphId",graphId:n.uint32()};continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{source:ke(t.constValue)?{$case:"constValue",constValue:Number(t.constValue)}:ke(t.graphId)?{$case:"graphId",graphId:Number(t.graphId)}:void 0}},toJSON(t){var n,l,o,r;const e={};return((n=t.source)==null?void 0:n.$case)==="constValue"&&(e.constValue=(l=t.source)==null?void 0:l.constValue),((o=t.source)==null?void 0:o.$case)==="graphId"&&(e.graphId=Math.round((r=t.source)==null?void 0:r.graphId)),e},create(t){return dt.fromPartial(t??{})},fromPartial(t){var n,l,o,r,a,s;const e=mr();return((n=t.source)==null?void 0:n.$case)==="constValue"&&((l=t.source)==null?void 0:l.constValue)!==void 0&&((o=t.source)==null?void 0:o.constValue)!==null&&(e.source={$case:"constValue",constValue:t.source.constValue}),((r=t.source)==null?void 0:r.$case)==="graphId"&&((a=t.source)==null?void 0:a.graphId)!==void 0&&((s=t.source)==null?void 0:s.graphId)!==null&&(e.source={$case:"graphId",graphId:t.source.graphId}),e}};function vr(){return{source:void 0}}const gt={encode(t,e=Q.Writer.create()){var n;switch((n=t.source)==null?void 0:n.$case){case"constValue":xt.encode(t.source.constValue,e.uint32(10).fork()).ldelim();break;case"pathId":e.uint32(16).uint32(t.source.pathId);break}return e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=vr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==10)break;o.source={$case:"constValue",constValue:xt.decode(n,n.uint32())};continue;case 2:if(r!==16)break;o.source={$case:"pathId",pathId:n.uint32()};continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{source:ke(t.constValue)?{$case:"constValue",constValue:xt.fromJSON(t.constValue)}:ke(t.pathId)?{$case:"pathId",pathId:Number(t.pathId)}:void 0}},toJSON(t){var n,l,o,r,a;const e={};return((n=t.source)==null?void 0:n.$case)==="constValue"&&(e.constValue=(l=t.source)!=null&&l.constValue?xt.toJSON((o=t.source)==null?void 0:o.constValue):void 0),((r=t.source)==null?void 0:r.$case)==="pathId"&&(e.pathId=Math.round((a=t.source)==null?void 0:a.pathId)),e},create(t){return gt.fromPartial(t??{})},fromPartial(t){var n,l,o,r,a,s;const e=vr();return((n=t.source)==null?void 0:n.$case)==="constValue"&&((l=t.source)==null?void 0:l.constValue)!==void 0&&((o=t.source)==null?void 0:o.constValue)!==null&&(e.source={$case:"constValue",constValue:xt.fromPartial(t.source.constValue)}),((r=t.source)==null?void 0:r.$case)==="pathId"&&((a=t.source)==null?void 0:a.pathId)!==void 0&&((s=t.source)==null?void 0:s.pathId)!==null&&(e.source={$case:"pathId",pathId:t.source.pathId}),e}};function _r(){return{source:void 0}}const Et={encode(t,e=Q.Writer.create()){var n;switch((n=t.source)==null?void 0:n.$case){case"constValue":Wt.encode(t.source.constValue,e.uint32(10).fork()).ldelim();break;case"graphId":e.uint32(16).uint32(t.source.graphId);break;case"scalarValue":e.uint32(25).double(t.source.scalarValue);break}return e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=_r();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==10)break;o.source={$case:"constValue",constValue:Wt.decode(n,n.uint32())};continue;case 2:if(r!==16)break;o.source={$case:"graphId",graphId:n.uint32()};continue;case 3:if(r!==25)break;o.source={$case:"scalarValue",scalarValue:n.double()};continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{source:ke(t.constValue)?{$case:"constValue",constValue:Wt.fromJSON(t.constValue)}:ke(t.graphId)?{$case:"graphId",graphId:Number(t.graphId)}:ke(t.scalarValue)?{$case:"scalarValue",scalarValue:Number(t.scalarValue)}:void 0}},toJSON(t){var n,l,o,r,a,s,h;const e={};return((n=t.source)==null?void 0:n.$case)==="constValue"&&(e.constValue=(l=t.source)!=null&&l.constValue?Wt.toJSON((o=t.source)==null?void 0:o.constValue):void 0),((r=t.source)==null?void 0:r.$case)==="graphId"&&(e.graphId=Math.round((a=t.source)==null?void 0:a.graphId)),((s=t.source)==null?void 0:s.$case)==="scalarValue"&&(e.scalarValue=(h=t.source)==null?void 0:h.scalarValue),e},create(t){return Et.fromPartial(t??{})},fromPartial(t){var n,l,o,r,a,s,h,_,p;const e=_r();return((n=t.source)==null?void 0:n.$case)==="constValue"&&((l=t.source)==null?void 0:l.constValue)!==void 0&&((o=t.source)==null?void 0:o.constValue)!==null&&(e.source={$case:"constValue",constValue:Wt.fromPartial(t.source.constValue)}),((r=t.source)==null?void 0:r.$case)==="graphId"&&((a=t.source)==null?void 0:a.graphId)!==void 0&&((s=t.source)==null?void 0:s.graphId)!==null&&(e.source={$case:"graphId",graphId:t.source.graphId}),((h=t.source)==null?void 0:h.$case)==="scalarValue"&&((_=t.source)==null?void 0:_.scalarValue)!==void 0&&((p=t.source)==null?void 0:p.scalarValue)!==null&&(e.source={$case:"scalarValue",scalarValue:t.source.scalarValue}),e}};function ke(t){return t!=null}function gr(){return{start:void 0,end:void 0,lineWidth:void 0,color:void 0,pointForward:!1,pointBackward:!1}}const Ee={encode(t,e=Q.Writer.create()){return t.start!==void 0&&gt.encode(t.start,e.uint32(10).fork()).ldelim(),t.end!==void 0&&gt.encode(t.end,e.uint32(18).fork()).ldelim(),t.lineWidth!==void 0&&dt.encode(t.lineWidth,e.uint32(26).fork()).ldelim(),t.color!==void 0&&Et.encode(t.color,e.uint32(34).fork()).ldelim(),t.pointForward===!0&&e.uint32(40).bool(t.pointForward),t.pointBackward===!0&&e.uint32(48).bool(t.pointBackward),e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=gr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==10)break;o.start=gt.decode(n,n.uint32());continue;case 2:if(r!==18)break;o.end=gt.decode(n,n.uint32());continue;case 3:if(r!==26)break;o.lineWidth=dt.decode(n,n.uint32());continue;case 4:if(r!==34)break;o.color=Et.decode(n,n.uint32());continue;case 5:if(r!==40)break;o.pointForward=n.bool();continue;case 6:if(r!==48)break;o.pointBackward=n.bool();continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{start:xe(t.start)?gt.fromJSON(t.start):void 0,end:xe(t.end)?gt.fromJSON(t.end):void 0,lineWidth:xe(t.lineWidth)?dt.fromJSON(t.lineWidth):void 0,color:xe(t.color)?Et.fromJSON(t.color):void 0,pointForward:xe(t.pointForward)?!!t.pointForward:!1,pointBackward:xe(t.pointBackward)?!!t.pointBackward:!1}},toJSON(t){const e={};return t.start!==void 0&&(e.start=t.start?gt.toJSON(t.start):void 0),t.end!==void 0&&(e.end=t.end?gt.toJSON(t.end):void 0),t.lineWidth!==void 0&&(e.lineWidth=t.lineWidth?dt.toJSON(t.lineWidth):void 0),t.color!==void 0&&(e.color=t.color?Et.toJSON(t.color):void 0),t.pointForward!==void 0&&(e.pointForward=t.pointForward),t.pointBackward!==void 0&&(e.pointBackward=t.pointBackward),e},create(t){return Ee.fromPartial(t??{})},fromPartial(t){const e=gr();return e.start=t.start!==void 0&&t.start!==null?gt.fromPartial(t.start):void 0,e.end=t.end!==void 0&&t.end!==null?gt.fromPartial(t.end):void 0,e.lineWidth=t.lineWidth!==void 0&&t.lineWidth!==null?dt.fromPartial(t.lineWidth):void 0,e.color=t.color!==void 0&&t.color!==null?Et.fromPartial(t.color):void 0,e.pointForward=t.pointForward??!1,e.pointBackward=t.pointBackward??!1,e}};function xe(t){return t!=null}var Pi=(t=>(t[t.CENTER=0]="CENTER",t[t.UPPER_RIGHT=1]="UPPER_RIGHT",t[t.TOP=2]="TOP",t[t.UPPER_LEFT=3]="UPPER_LEFT",t[t.LEFT=4]="LEFT",t[t.LOWER_LEFT=5]="LOWER_LEFT",t[t.BOTTOM=6]="BOTTOM",t[t.LOWER_RIGHT=7]="LOWER_RIGHT",t[t.RIGHT=8]="RIGHT",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED",t))(Pi||{});function Ti(t){switch(t){case 0:case"CENTER":return 0;case 1:case"UPPER_RIGHT":return 1;case 2:case"TOP":return 2;case 3:case"UPPER_LEFT":return 3;case 4:case"LEFT":return 4;case 5:case"LOWER_LEFT":return 5;case 6:case"BOTTOM":return 6;case 7:case"LOWER_RIGHT":return 7;case 8:case"RIGHT":return 8;case-1:case"UNRECOGNIZED":default:return-1}}function Fi(t){switch(t){case 0:return"CENTER";case 1:return"UPPER_RIGHT";case 2:return"TOP";case 3:return"UPPER_LEFT";case 4:return"LEFT";case 5:return"LOWER_LEFT";case 6:return"BOTTOM";case 7:return"LOWER_RIGHT";case 8:return"RIGHT";case-1:default:return"UNRECOGNIZED"}}function br(){return{text:"",position:0,fontSize:void 0,bold:!1,italic:!1}}const Oe={encode(t,e=Q.Writer.create()){return t.text!==""&&e.uint32(10).string(t.text),t.position!==0&&e.uint32(16).int32(t.position),t.fontSize!==void 0&&dt.encode(t.fontSize,e.uint32(26).fork()).ldelim(),t.bold===!0&&e.uint32(32).bool(t.bold),t.italic===!0&&e.uint32(40).bool(t.italic),e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=br();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==10)break;o.text=n.string();continue;case 2:if(r!==16)break;o.position=n.int32();continue;case 3:if(r!==26)break;o.fontSize=dt.decode(n,n.uint32());continue;case 4:if(r!==32)break;o.bold=n.bool();continue;case 5:if(r!==40)break;o.italic=n.bool();continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{text:ln(t.text)?String(t.text):"",position:ln(t.position)?Ti(t.position):0,fontSize:ln(t.fontSize)?dt.fromJSON(t.fontSize):void 0,bold:ln(t.bold)?!!t.bold:!1,italic:ln(t.italic)?!!t.italic:!1}},toJSON(t){const e={};return t.text!==void 0&&(e.text=t.text),t.position!==void 0&&(e.position=Fi(t.position)),t.fontSize!==void 0&&(e.fontSize=t.fontSize?dt.toJSON(t.fontSize):void 0),t.bold!==void 0&&(e.bold=t.bold),t.italic!==void 0&&(e.italic=t.italic),e},create(t){return Oe.fromPartial(t??{})},fromPartial(t){const e=br();return e.text=t.text??"",e.position=t.position??0,e.fontSize=t.fontSize!==void 0&&t.fontSize!==null?dt.fromPartial(t.fontSize):void 0,e.bold=t.bold??!1,e.italic=t.italic??!1,e}};function ln(t){return t!=null}function yr(){return{position:void 0,normal:void 0,rotation:void 0,radius:void 0,height:void 0,nVertices:0,color:void 0}}const Ie={encode(t,e=Q.Writer.create()){return t.position!==void 0&&gt.encode(t.position,e.uint32(10).fork()).ldelim(),t.normal!==void 0&&gt.encode(t.normal,e.uint32(18).fork()).ldelim(),t.rotation!==void 0&&dt.encode(t.rotation,e.uint32(26).fork()).ldelim(),t.radius!==void 0&&dt.encode(t.radius,e.uint32(34).fork()).ldelim(),t.height!==void 0&&dt.encode(t.height,e.uint32(42).fork()).ldelim(),t.nVertices!==0&&e.uint32(48).uint32(t.nVertices),t.color!==void 0&&Et.encode(t.color,e.uint32(58).fork()).ldelim(),e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=yr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==10)break;o.position=gt.decode(n,n.uint32());continue;case 2:if(r!==18)break;o.normal=gt.decode(n,n.uint32());continue;case 3:if(r!==26)break;o.rotation=dt.decode(n,n.uint32());continue;case 4:if(r!==34)break;o.radius=dt.decode(n,n.uint32());continue;case 5:if(r!==42)break;o.height=dt.decode(n,n.uint32());continue;case 6:if(r!==48)break;o.nVertices=n.uint32();continue;case 7:if(r!==58)break;o.color=Et.decode(n,n.uint32());continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{position:re(t.position)?gt.fromJSON(t.position):void 0,normal:re(t.normal)?gt.fromJSON(t.normal):void 0,rotation:re(t.rotation)?dt.fromJSON(t.rotation):void 0,radius:re(t.radius)?dt.fromJSON(t.radius):void 0,height:re(t.height)?dt.fromJSON(t.height):void 0,nVertices:re(t.nVertices)?Number(t.nVertices):0,color:re(t.color)?Et.fromJSON(t.color):void 0}},toJSON(t){const e={};return t.position!==void 0&&(e.position=t.position?gt.toJSON(t.position):void 0),t.normal!==void 0&&(e.normal=t.normal?gt.toJSON(t.normal):void 0),t.rotation!==void 0&&(e.rotation=t.rotation?dt.toJSON(t.rotation):void 0),t.radius!==void 0&&(e.radius=t.radius?dt.toJSON(t.radius):void 0),t.height!==void 0&&(e.height=t.height?dt.toJSON(t.height):void 0),t.nVertices!==void 0&&(e.nVertices=Math.round(t.nVertices)),t.color!==void 0&&(e.color=t.color?Et.toJSON(t.color):void 0),e},create(t){return Ie.fromPartial(t??{})},fromPartial(t){const e=yr();return e.position=t.position!==void 0&&t.position!==null?gt.fromPartial(t.position):void 0,e.normal=t.normal!==void 0&&t.normal!==null?gt.fromPartial(t.normal):void 0,e.rotation=t.rotation!==void 0&&t.rotation!==null?dt.fromPartial(t.rotation):void 0,e.radius=t.radius!==void 0&&t.radius!==null?dt.fromPartial(t.radius):void 0,e.height=t.height!==void 0&&t.height!==null?dt.fromPartial(t.height):void 0,e.nVertices=t.nVertices??0,e.color=t.color!==void 0&&t.color!==null?Et.fromPartial(t.color):void 0,e}};function re(t){return t!=null}function wr(){return{position:void 0,radius:void 0,color:void 0}}const Ce={encode(t,e=Q.Writer.create()){return t.position!==void 0&&gt.encode(t.position,e.uint32(10).fork()).ldelim(),t.radius!==void 0&&dt.encode(t.radius,e.uint32(18).fork()).ldelim(),t.color!==void 0&&Et.encode(t.color,e.uint32(26).fork()).ldelim(),e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=wr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==10)break;o.position=gt.decode(n,n.uint32());continue;case 2:if(r!==18)break;o.radius=dt.decode(n,n.uint32());continue;case 3:if(r!==26)break;o.color=Et.decode(n,n.uint32());continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{position:Wn(t.position)?gt.fromJSON(t.position):void 0,radius:Wn(t.radius)?dt.fromJSON(t.radius):void 0,color:Wn(t.color)?Et.fromJSON(t.color):void 0}},toJSON(t){const e={};return t.position!==void 0&&(e.position=t.position?gt.toJSON(t.position):void 0),t.radius!==void 0&&(e.radius=t.radius?dt.toJSON(t.radius):void 0),t.color!==void 0&&(e.color=t.color?Et.toJSON(t.color):void 0),e},create(t){return Ce.fromPartial(t??{})},fromPartial(t){const e=wr();return e.position=t.position!==void 0&&t.position!==null?gt.fromPartial(t.position):void 0,e.radius=t.radius!==void 0&&t.radius!==null?dt.fromPartial(t.radius):void 0,e.color=t.color!==void 0&&t.color!==null?Et.fromPartial(t.color):void 0,e}};function Wn(t){return t!=null}function kr(){return{pathId:0,isGrowing:!1,radius:void 0,color:void 0}}const Re={encode(t,e=Q.Writer.create()){return t.pathId!==0&&e.uint32(8).uint32(t.pathId),t.isGrowing===!0&&e.uint32(16).bool(t.isGrowing),t.radius!==void 0&&dt.encode(t.radius,e.uint32(26).fork()).ldelim(),t.color!==void 0&&Et.encode(t.color,e.uint32(34).fork()).ldelim(),e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=kr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==8)break;o.pathId=n.uint32();continue;case 2:if(r!==16)break;o.isGrowing=n.bool();continue;case 3:if(r!==26)break;o.radius=dt.decode(n,n.uint32());continue;case 4:if(r!==34)break;o.color=Et.decode(n,n.uint32());continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{pathId:En(t.pathId)?Number(t.pathId):0,isGrowing:En(t.isGrowing)?!!t.isGrowing:!1,radius:En(t.radius)?dt.fromJSON(t.radius):void 0,color:En(t.color)?Et.fromJSON(t.color):void 0}},toJSON(t){const e={};return t.pathId!==void 0&&(e.pathId=Math.round(t.pathId)),t.isGrowing!==void 0&&(e.isGrowing=t.isGrowing),t.radius!==void 0&&(e.radius=t.radius?dt.toJSON(t.radius):void 0),t.color!==void 0&&(e.color=t.color?Et.toJSON(t.color):void 0),e},create(t){return Re.fromPartial(t??{})},fromPartial(t){const e=kr();return e.pathId=t.pathId??0,e.isGrowing=t.isGrowing??!1,e.radius=t.radius!==void 0&&t.radius!==null?dt.fromPartial(t.radius):void 0,e.color=t.color!==void 0&&t.color!==null?Et.fromPartial(t.color):void 0,e}};function En(t){return t!=null}function Sr(){return{name:"",groups:[],description:"",instance:void 0}}const Ne={encode(t,e=Q.Writer.create()){var n;t.name!==""&&e.uint32(10).string(t.name);for(const l of t.groups)e.uint32(18).string(l);switch(t.description!==""&&e.uint32(26).string(t.description),(n=t.instance)==null?void 0:n.$case){case"sphere":Ce.encode(t.instance.sphere,e.uint32(130).fork()).ldelim();break;case"line":Ee.encode(t.instance.line,e.uint32(138).fork()).ldelim();break;case"tube":Re.encode(t.instance.tube,e.uint32(146).fork()).ldelim();break;case"overlay":Oe.encode(t.instance.overlay,e.uint32(154).fork()).ldelim();break;case"prism":Ie.encode(t.instance.prism,e.uint32(162).fork()).ldelim();break}return e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=Sr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==10)break;o.name=n.string();continue;case 2:if(r!==18)break;o.groups.push(n.string());continue;case 3:if(r!==26)break;o.description=n.string();continue;case 16:if(r!==130)break;o.instance={$case:"sphere",sphere:Ce.decode(n,n.uint32())};continue;case 17:if(r!==138)break;o.instance={$case:"line",line:Ee.decode(n,n.uint32())};continue;case 18:if(r!==146)break;o.instance={$case:"tube",tube:Re.decode(n,n.uint32())};continue;case 19:if(r!==154)break;o.instance={$case:"overlay",overlay:Oe.decode(n,n.uint32())};continue;case 20:if(r!==162)break;o.instance={$case:"prism",prism:Ie.decode(n,n.uint32())};continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{name:ie(t.name)?String(t.name):"",groups:Array.isArray(t==null?void 0:t.groups)?t.groups.map(e=>String(e)):[],description:ie(t.description)?String(t.description):"",instance:ie(t.sphere)?{$case:"sphere",sphere:Ce.fromJSON(t.sphere)}:ie(t.line)?{$case:"line",line:Ee.fromJSON(t.line)}:ie(t.tube)?{$case:"tube",tube:Re.fromJSON(t.tube)}:ie(t.overlay)?{$case:"overlay",overlay:Oe.fromJSON(t.overlay)}:ie(t.prism)?{$case:"prism",prism:Ie.fromJSON(t.prism)}:void 0}},toJSON(t){var n,l,o,r,a,s,h,_,p,v,b,d,g,u,m;const e={};return t.name!==void 0&&(e.name=t.name),t.groups?e.groups=t.groups.map(f=>f):e.groups=[],t.description!==void 0&&(e.description=t.description),((n=t.instance)==null?void 0:n.$case)==="sphere"&&(e.sphere=(l=t.instance)!=null&&l.sphere?Ce.toJSON((o=t.instance)==null?void 0:o.sphere):void 0),((r=t.instance)==null?void 0:r.$case)==="line"&&(e.line=(a=t.instance)!=null&&a.line?Ee.toJSON((s=t.instance)==null?void 0:s.line):void 0),((h=t.instance)==null?void 0:h.$case)==="tube"&&(e.tube=(_=t.instance)!=null&&_.tube?Re.toJSON((p=t.instance)==null?void 0:p.tube):void 0),((v=t.instance)==null?void 0:v.$case)==="overlay"&&(e.overlay=(b=t.instance)!=null&&b.overlay?Oe.toJSON((d=t.instance)==null?void 0:d.overlay):void 0),((g=t.instance)==null?void 0:g.$case)==="prism"&&(e.prism=(u=t.instance)!=null&&u.prism?Ie.toJSON((m=t.instance)==null?void 0:m.prism):void 0),e},create(t){return Ne.fromPartial(t??{})},fromPartial(t){var n,l,o,r,a,s,h,_,p,v,b,d,g,u,m,f;const e=Sr();return e.name=t.name??"",e.groups=((n=t.groups)==null?void 0:n.map(y=>y))||[],e.description=t.description??"",((l=t.instance)==null?void 0:l.$case)==="sphere"&&((o=t.instance)==null?void 0:o.sphere)!==void 0&&((r=t.instance)==null?void 0:r.sphere)!==null&&(e.instance={$case:"sphere",sphere:Ce.fromPartial(t.instance.sphere)}),((a=t.instance)==null?void 0:a.$case)==="line"&&((s=t.instance)==null?void 0:s.line)!==void 0&&((h=t.instance)==null?void 0:h.line)!==null&&(e.instance={$case:"line",line:Ee.fromPartial(t.instance.line)}),((_=t.instance)==null?void 0:_.$case)==="tube"&&((p=t.instance)==null?void 0:p.tube)!==void 0&&((v=t.instance)==null?void 0:v.tube)!==null&&(e.instance={$case:"tube",tube:Re.fromPartial(t.instance.tube)}),((b=t.instance)==null?void 0:b.$case)==="overlay"&&((d=t.instance)==null?void 0:d.overlay)!==void 0&&((g=t.instance)==null?void 0:g.overlay)!==null&&(e.instance={$case:"overlay",overlay:Oe.fromPartial(t.instance.overlay)}),((u=t.instance)==null?void 0:u.$case)==="prism"&&((m=t.instance)==null?void 0:m.prism)!==void 0&&((f=t.instance)==null?void 0:f.prism)!==null&&(e.instance={$case:"prism",prism:Ie.fromPartial(t.instance.prism)}),e}};function ie(t){return t!=null}function xr(){return{position:void 0,target:void 0}}const Pe={encode(t,e=Q.Writer.create()){return t.position!==void 0&&xt.encode(t.position,e.uint32(10).fork()).ldelim(),t.target!==void 0&&xt.encode(t.target,e.uint32(18).fork()).ldelim(),e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=xr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==10)break;o.position=xt.decode(n,n.uint32());continue;case 2:if(r!==18)break;o.target=xt.decode(n,n.uint32());continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{position:Er(t.position)?xt.fromJSON(t.position):void 0,target:Er(t.target)?xt.fromJSON(t.target):void 0}},toJSON(t){const e={};return t.position!==void 0&&(e.position=t.position?xt.toJSON(t.position):void 0),t.target!==void 0&&(e.target=t.target?xt.toJSON(t.target):void 0),e},create(t){return Pe.fromPartial(t??{})},fromPartial(t){const e=xr();return e.position=t.position!==void 0&&t.position!==null?xt.fromPartial(t.position):void 0,e.target=t.target!==void 0&&t.target!==null?xt.fromPartial(t.target):void 0,e}};function Er(t){return t!=null}function Or(){return{stops:[]}}const Te={encode(t,e=Q.Writer.create()){for(const n of t.stops)Fe.encode(n,e.uint32(10).fork()).ldelim();return e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=Or();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==10)break;o.stops.push(Fe.decode(n,n.uint32()));continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{stops:Array.isArray(t==null?void 0:t.stops)?t.stops.map(e=>Fe.fromJSON(e)):[]}},toJSON(t){const e={};return t.stops?e.stops=t.stops.map(n=>n?Fe.toJSON(n):void 0):e.stops=[],e},create(t){return Te.fromPartial(t??{})},fromPartial(t){var n;const e=Or();return e.stops=((n=t.stops)==null?void 0:n.map(l=>Fe.fromPartial(l)))||[],e}};function Ir(){return{value:0,color:void 0}}const Fe={encode(t,e=Q.Writer.create()){return t.value!==0&&e.uint32(9).double(t.value),t.color!==void 0&&Wt.encode(t.color,e.uint32(18).fork()).ldelim(),e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=Ir();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==9)break;o.value=n.double();continue;case 2:if(r!==18)break;o.color=Wt.decode(n,n.uint32());continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{value:Cr(t.value)?Number(t.value):0,color:Cr(t.color)?Wt.fromJSON(t.color):void 0}},toJSON(t){const e={};return t.value!==void 0&&(e.value=t.value),t.color!==void 0&&(e.color=t.color?Wt.toJSON(t.color):void 0),e},create(t){return Fe.fromPartial(t??{})},fromPartial(t){const e=Ir();return e.value=t.value??0,e.color=t.color!==void 0&&t.color!==null?Wt.fromPartial(t.color):void 0,e}};function Cr(t){return t!=null}function Rr(){return{name:"",id:0,points:[],interpolation:0}}const Ae={encode(t,e=Q.Writer.create()){t.name!==""&&e.uint32(10).string(t.name),t.id!==0&&e.uint32(16).uint32(t.id);for(const n of t.points)ze.encode(n,e.uint32(26).fork()).ldelim();return t.interpolation!==0&&e.uint32(32).int32(t.interpolation),e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=Rr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==10)break;o.name=n.string();continue;case 2:if(r!==16)break;o.id=n.uint32();continue;case 3:if(r!==26)break;o.points.push(ze.decode(n,n.uint32()));continue;case 4:if(r!==32)break;o.interpolation=n.int32();continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{name:cn(t.name)?String(t.name):"",id:cn(t.id)?Number(t.id):0,points:Array.isArray(t==null?void 0:t.points)?t.points.map(e=>ze.fromJSON(e)):[],interpolation:cn(t.interpolation)?pi(t.interpolation):0}},toJSON(t){const e={};return t.name!==void 0&&(e.name=t.name),t.id!==void 0&&(e.id=Math.round(t.id)),t.points?e.points=t.points.map(n=>n?ze.toJSON(n):void 0):e.points=[],t.interpolation!==void 0&&(e.interpolation=mi(t.interpolation)),e},create(t){return Ae.fromPartial(t??{})},fromPartial(t){var n;const e=Rr();return e.name=t.name??"",e.id=t.id??0,e.points=((n=t.points)==null?void 0:n.map(l=>ze.fromPartial(l)))||[],e.interpolation=t.interpolation??0,e}};function Nr(){return{time:0,position:void 0}}const ze={encode(t,e=Q.Writer.create()){return t.time!==0&&e.uint32(9).double(t.time),t.position!==void 0&&xt.encode(t.position,e.uint32(18).fork()).ldelim(),e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=Nr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==9)break;o.time=n.double();continue;case 2:if(r!==18)break;o.position=xt.decode(n,n.uint32());continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{time:cn(t.time)?Number(t.time):0,position:cn(t.position)?xt.fromJSON(t.position):void 0}},toJSON(t){const e={};return t.time!==void 0&&(e.time=t.time),t.position!==void 0&&(e.position=t.position?xt.toJSON(t.position):void 0),e},create(t){return ze.fromPartial(t??{})},fromPartial(t){const e=Nr();return e.time=t.time??0,e.position=t.position!==void 0&&t.position!==null?xt.fromPartial(t.position):void 0,e}};function cn(t){return t!=null}function Pr(){return{meta:void 0,graphs:[],paths:[],colormap:void 0,camera:void 0,hiddenGroups:[],animatibles:[]}}const ri={encode(t,e=Q.Writer.create()){t.meta!==void 0&&oe.encode(t.meta,e.uint32(10).fork()).ldelim();for(const n of t.graphs)sn.encode(n,e.uint32(18).fork()).ldelim();for(const n of t.paths)Ae.encode(n,e.uint32(26).fork()).ldelim();t.colormap!==void 0&&Te.encode(t.colormap,e.uint32(42).fork()).ldelim(),t.camera!==void 0&&Pe.encode(t.camera,e.uint32(82).fork()).ldelim();for(const n of t.hiddenGroups)e.uint32(122).string(n);for(const n of t.animatibles)Ne.encode(n,e.uint32(130).fork()).ldelim();return e},decode(t,e){const n=t instanceof Q.Reader?t:Q.Reader.create(t);let l=e===void 0?n.len:n.pos+e;const o=Pr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:if(r!==10)break;o.meta=oe.decode(n,n.uint32());continue;case 2:if(r!==18)break;o.graphs.push(sn.decode(n,n.uint32()));continue;case 3:if(r!==26)break;o.paths.push(Ae.decode(n,n.uint32()));continue;case 5:if(r!==42)break;o.colormap=Te.decode(n,n.uint32());continue;case 10:if(r!==82)break;o.camera=Pe.decode(n,n.uint32());continue;case 15:if(r!==122)break;o.hiddenGroups.push(n.string());continue;case 16:if(r!==130)break;o.animatibles.push(Ne.decode(n,n.uint32()));continue}if((r&7)===4||r===0)break;n.skipType(r&7)}return o},fromJSON(t){return{meta:Jn(t.meta)?oe.fromJSON(t.meta):void 0,graphs:Array.isArray(t==null?void 0:t.graphs)?t.graphs.map(e=>sn.fromJSON(e)):[],paths:Array.isArray(t==null?void 0:t.paths)?t.paths.map(e=>Ae.fromJSON(e)):[],colormap:Jn(t.colormap)?Te.fromJSON(t.colormap):void 0,camera:Jn(t.camera)?Pe.fromJSON(t.camera):void 0,hiddenGroups:Array.isArray(t==null?void 0:t.hiddenGroups)?t.hiddenGroups.map(e=>String(e)):[],animatibles:Array.isArray(t==null?void 0:t.animatibles)?t.animatibles.map(e=>Ne.fromJSON(e)):[]}},toJSON(t){const e={};return t.meta!==void 0&&(e.meta=t.meta?oe.toJSON(t.meta):void 0),t.graphs?e.graphs=t.graphs.map(n=>n?sn.toJSON(n):void 0):e.graphs=[],t.paths?e.paths=t.paths.map(n=>n?Ae.toJSON(n):void 0):e.paths=[],t.colormap!==void 0&&(e.colormap=t.colormap?Te.toJSON(t.colormap):void 0),t.camera!==void 0&&(e.camera=t.camera?Pe.toJSON(t.camera):void 0),t.hiddenGroups?e.hiddenGroups=t.hiddenGroups.map(n=>n):e.hiddenGroups=[],t.animatibles?e.animatibles=t.animatibles.map(n=>n?Ne.toJSON(n):void 0):e.animatibles=[],e},create(t){return ri.fromPartial(t??{})},fromPartial(t){var n,l,o,r;const e=Pr();return e.meta=t.meta!==void 0&&t.meta!==null?oe.fromPartial(t.meta):void 0,e.graphs=((n=t.graphs)==null?void 0:n.map(a=>sn.fromPartial(a)))||[],e.paths=((l=t.paths)==null?void 0:l.map(a=>Ae.fromPartial(a)))||[],e.colormap=t.colormap!==void 0&&t.colormap!==null?Te.fromPartial(t.colormap):void 0,e.camera=t.camera!==void 0&&t.camera!==null?Pe.fromPartial(t.camera):void 0,e.hiddenGroups=((o=t.hiddenGroups)==null?void 0:o.map(a=>a))||[],e.animatibles=((r=t.animatibles)==null?void 0:r.map(a=>Ne.fromPartial(a)))||[],e}};function Jn(t){return t!=null}const jt=pn("project",{state:()=>({meta:{name:"New Project",author:"",description:"",date:{seconds:0,nanos:0},startTime:0,endTime:0,speedRatio:1},graphs:[],paths:[],colormap:void 0,camera:void 0,animatibles:[],hiddenGroups:[]}),getters:{isEmpty:t=>t.animatibles.length==0},actions:{loadProject(t){const e=ri.decode(t);this.$patch(e)},getMetaById(t){return t<this.$state.animatibles.length?this.$state.animatibles[t]:null}}});function ii(t,e){const n=URL.createObjectURL(t),l=document.createElement("a");l.setAttribute("href",n),l.setAttribute("download",e),l.click(),URL.revokeObjectURL(n)}const Ai=1;function zi(t){const e=new vi.Reader(t);for(;e.pos<e.len;){const n=e.uint32();if(n>>>3==Ai)return oe.decode(e,e.uint32());e.skipType(n&7)}return null}const nn=pn("catalogue",()=>{const t=jt();let e=new nr,n;const l=at([]),o=Xe(()=>l.value.length),r=Xe(()=>l.value.length==0),a=at(-1);function s(){l.value=[],a.value=-1}function h(d){return s(),n=d,nr.loadAsync(d).then(async g=>{e=g;const u=[];return e.forEach((m,f)=>{u.push(f.async("uint8array").then(y=>{const S=zi(y);S&&l.value.push({filename:m,meta:S})}))}),u.length==1?u[0].then(()=>_(l.value[0].filename)):Promise.all(u).then(()=>l.value.sort((m,f)=>m.filename<f.filename?-1:m.filename>f.filename?1:0)).then(()=>{})})}function _(d){const g=e.file(d);g&&(a.value=l.value.findIndex(u=>u.filename==d),g.async("uint8array").then(t.loadProject))}function p(){a.value=a.value>0?a.value-1:l.value.length-1;const d=l.value[a.value];_(d.filename)}function v(){a.value=a.value<l.value.length-1?a.value+1:0;const d=l.value[a.value];_(d.filename)}function b(){const d=new Blob([new Uint8Array(n)]);ii(d,"catalogue.cat")}return{entries:l,isEmpty:r,length:o,currentIndex:a,openCatalogue:h,saveCatalogue:b,reset:s,loadProject:_,loadPreviousProject:p,loadNextProject:v}}),vn=t=>(Yt("data-v-7686d070"),t=t(),Qt(),t),Li={class:"root"},Bi=vn(()=>C("div",{class:"loading-message"},[C("p",null,"Loading...")],-1)),$i=[Bi],Di={class:"header"},Vi={class:"banner"},Ui={key:0,class:"logo",src:Xr},Mi={key:1,class:"logo",src:Yr},Wi={class:"search-box"},Ji={class:"action-bar"},Gi=vn(()=>C("div",{class:"icon-action icon-large download-icon"},null,-1)),Zi=vn(()=>C("div",{class:"icon-action icon-large upload-icon"},null,-1)),Ki={class:"table-container"},Hi={class:"scroll-container scrollable"},qi=vn(()=>C("thead",null,[C("tr",null,[C("th",{style:{width:"30px"}}),C("th",null,"Name"),C("th",null,"Date"),C("th",null,"Author"),C("th",null,"Duration"),C("th",{style:{width:"100px"}})])],-1)),Xi=["onMouseup"],Yi=["onClick"],Qi=vn(()=>C("div",{class:"icon-button icon-medium play-icon"},null,-1)),ji={colspan:"6",class:"description"},to={class:"footer"},eo=Ot({__name:"CatalogueView",setup(t){const e=nn(),n=mn();function l(){let b=0;return e.entries.map(d=>({...d,expanded:!1,id:b++}))}let o=at(l());e.$subscribe(()=>o.value=l());const r=at(""),a=Xe(()=>o.value.filter(b=>b.filename.toLowerCase().includes(r.value.toLowerCase()))),s=at(null);function h(b){if(!b.target)return;const d=b.target;d.files&&d.files[0].arrayBuffer().then(e.openCatalogue)}function _(){var b;(b=s.value)==null||b.click()}const p=at(null);function v(b){p.value&&(p.value.style.display="block"),e.loadProject(b)}return(b,d)=>(rt(),lt("div",Li,[C("input",{ref_key:"dialog",ref:s,type:"file",onChange:h},null,544),C("div",{ref_key:"loadingMessage",ref:p,class:"loading-screen"},$i,512),C("div",Di,[C("div",Vi,[j(n).useDarkTheme?(rt(),lt("img",Ui)):(rt(),lt("img",Mi))]),C("div",Wi,[Lt(Jr,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=g=>r.value=g),class:"search-bar"},null,8,["modelValue"])]),C("div",Ji,[C("div",{role:"button",onMouseup:d[1]||(d[1]=(...g)=>j(e).saveCatalogue&&j(e).saveCatalogue(...g))},[Gi,Pt(" Save ")],32),C("div",{role:"button",onMouseup:_},[Zi,Pt(" Open ")],32),C("div",{role:"button",onMouseup:d[2]||(d[2]=(...g)=>j(n).toggleTheme&&j(n).toggleTheme(...g))},[C("div",{class:Tt(["icon-action","icon-large",j(n).useDarkTheme?"moon-icon":"sun-icon"])},null,2),Pt(" "+pt(j(n).useDarkTheme?"Dark":"Light"),1)],32)])]),C("div",Ki,[C("div",Hi,[C("table",null,[qi,C("tbody",null,[(rt(!0),lt(Xt,null,Ye(a.value,g=>{var u,m,f,y;return rt(),lt(Xt,{key:g.id},[C("tr",null,[C("td",null,[C("div",{class:Tt(["expand-button","icon-small",g.expanded?"chevron-down-icon":"chevron-right-icon"]),onMouseup:S=>g.expanded=!g.expanded},null,42,Xi)]),C("td",null,pt(g.meta.name),1),C("td",null,pt(new Date((((m=(u=g.meta)==null?void 0:u.date)==null?void 0:m.seconds)??0)*1e3).toLocaleString()),1),C("td",null,pt(g.meta.author),1),C("td",null,pt(((((f=g.meta)==null?void 0:f.endTime)??0)-(((y=g.meta)==null?void 0:y.startTime)??0)).toLocaleString("en-US")),1),C("td",null,[C("button",{class:"p-button",onClick:S=>v(g.filename)},[Qi,Pt("Show ")],8,Yi)])]),C("tr",{style:qn({visibility:g.expanded?"visible":"collapse"})},[C("td",ji,pt(g.meta.description),1)],4)],64)}),128))])])])]),C("div",to,[C("span",null,pt(j(e).length)+" total entries",1)])]))}});const no=Ct(eo,[["__scopeId","data-v-7686d070"]]),ro=""+new URL("loading-2aab614e.svg",import.meta.url).href,_n=t=>(Yt("data-v-b3d21b21"),t=t(),Qt(),t),io={class:"root"},oo={key:0,class:"container working"},ao=_n(()=>C("img",{src:ro,class:"image"},null,-1)),so={key:1,class:"container finished"},lo=_n(()=>C("div",{class:"icon check-icon"},null,-1)),uo=_n(()=>C("p",null,"Download finished!",-1)),co=[lo,uo],ho={key:2,class:"container failed"},fo=_n(()=>C("div",{class:"icon xmark-icon"},null,-1)),po=_n(()=>C("br",null,null,-1)),mo=Ot({__name:"DownloadPage",props:{url:{}},emits:["finished"],setup(t,{emit:e}){const n=t,l=nn(),o=at(""),r=at(""),a=at("working");return en(()=>{fetch(n.url).then(async s=>{if(!s.ok||!s.body)throw r.value=String(s.status)+" "+s.statusText,new Error("Network response was not OK");const h=+(s.headers.get("Content-Length")??-1);if(h==-1)return s.arrayBuffer();const _=s.body.getReader();let p=0,v=[];for(;;){const{done:g,value:u}=await _.read();if(g)break;v.push(u),p+=u.length,o.value=`${(p/h*100).toFixed()}% `}let b=new Uint8Array(p),d=0;for(let g of v)b.set(g,d),d+=g.length;return b.buffer}).then(s=>{a.value="finished";const h=l.openCatalogue(s).catch(v=>{throw r.value="File is not a catalogue!",v}),p=new URLSearchParams(window.location.search).get("event");return p?h.then(()=>l.loadProject(p)):h}).then(()=>{e("finished")}).catch(()=>{a.value="failed"})}),(s,h)=>(rt(),lt("div",io,[a.value=="working"?(rt(),lt("div",oo,[ao,C("p",null,"Loading Catalogue "+pt(o.value)+"...",1)])):a.value=="finished"?(rt(),lt("div",so,co)):(rt(),lt("div",ho,[fo,C("p",null,[Pt("Could not open catalogue!"),po,Pt(pt(r.value),1)])]))]))}});const vo=Ct(mo,[["__scopeId","data-v-b3d21b21"]]),oi=t=>(Yt("data-v-97a44526"),t=t(),Qt(),t),_o={class:"container"},go={key:0,class:"banner",src:Xr},bo={key:1,class:"banner",src:Yr},yo=oi(()=>C("p",{class:"disclaimer"},[Pt(" Currently, there is nothing to show! "),C("br"),Pt(" Select a file to watch it. ")],-1)),wo=oi(()=>C("label",{for:"file-upload",class:"p-button"},[C("div",{class:"icon icon-small upload-icon"}),Pt("Open File ")],-1)),ko=Ot({__name:"EmptyProjectDisclaimer",setup(t){const e=nn(),n=mn();function l(o){if(!o.target)return;const r=o.target;r.files&&r.files[0].arrayBuffer().then(e.openCatalogue)}return(o,r)=>(rt(),lt("div",_o,[j(n).useDarkTheme?(rt(),lt("img",go)):(rt(),lt("img",bo)),yo,wo,C("input",{id:"file-upload",type:"file",accept:".wlsn",onChange:l},null,32)]))}});const So=Ct(ko,[["__scopeId","data-v-97a44526"]]);var dn;class tn{constructor(e){ct(this,dn,void 0);et(this,dn,new Map(e))}exec(e){let n=e.code;e.ctrlKey&&(n="Ctrl+"+n),e.shiftKey&&(n="Shift+"+n),e.altKey&&(n="Alt+"+n);const l=q(this,dn).get(n);return l?(l(),!0):!1}}dn=new WeakMap;function ai(t){return{all:t=t||new Map,on:function(e,n){var l=t.get(e);l?l.push(n):t.set(e,[n])},off:function(e,n){var l=t.get(e);l&&(n?l.splice(l.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var l=t.get(e);l&&l.slice().map(function(o){o(n)}),(l=t.get("*"))&&l.slice().map(function(o){o(e,n)})}}}const vt=ai();class Ft{static ResetCamera(){vt.emit("ResetCamera")}static ToggleGrid(){vt.emit("ToggleGrid")}static Screenshot(){vt.emit("Screenshot")}static SelectObject(e){vt.emit("SelectObject",e)}static TargetObject(e){vt.emit("TargetObject",e)}static SetObjectsEnabled(e,n){vt.emit("SetObjectsEnabled",{objectIds:e,enabled:n})}static SetPathEnabled(e,n,l){vt.emit("SetPathEnabled",{id:e,enabled:n,color:l})}static SetStage(e){vt.emit("SetStage",e)}static RemoveStage(){vt.emit("RemoveStage")}static SetTheme(e){vt.emit("SetTheme",e)}}const gn=t=>(Yt("data-v-da9bd5ec"),t=t(),Qt(),t),xo={class:"root"},Eo=gn(()=>C("div",{class:"icon-large exit-icon toolbar-icon"},null,-1)),Oo=[Eo],Io=gn(()=>C("div",{class:"icon-large grid-icon toolbar-icon"},null,-1)),Co=[Io],Ro=gn(()=>C("div",{class:"icon-large chart-icon toolbar-icon"},null,-1)),No=[Ro],Po=gn(()=>C("div",{class:"icon-large camera-rotate-icon toolbar-icon"},null,-1)),To=[Po],Fo=gn(()=>C("div",{class:"icon-large camera-icon toolbar-icon"},null,-1)),Ao=[Fo],zo=Ot({__name:"ToolbarInput",setup(t){const e=jt(),n=mn();function l(){Gr(e.graphs)}function o(){Ft.ResetCamera()}function r(){Ft.Screenshot()}function a(){Ft.ToggleGrid()}function s(){n.toggleTheme()}const h=new tn([["KeyT",()=>s()],["KeyG",()=>a],["Shift+KeyG",()=>l()],["KeyP",()=>r()]]);function _(p){p.repeat||h.exec(p)}return en(()=>document.addEventListener("keydown",_)),zn(()=>document.removeEventListener("keydown",_)),(p,v)=>(rt(),lt("div",xo,[C("div",{class:"button",role:"button",title:"Exit",onMouseup:v[0]||(v[0]=b=>j(e).$reset())},Oo,32),C("div",{class:"button",role:"button",title:"Toggle Theme (T)",onMouseup:v[1]||(v[1]=b=>s())},[C("div",{class:Tt(["icon-large",j(n).useDarkTheme?"moon-icon":"sun-icon","toolbar-icon"])},null,2)],32),C("div",{class:"button",role:"button",title:"Toggle Grid (G)",onMouseup:a},Co,32),C("div",{class:"button",role:"button",title:"Open Graph Explorer (Shift+G)",onMouseup:v[2]||(v[2]=b=>l())},No,32),C("div",{class:"button",role:"button",title:"Reset Camera (R)",onMouseup:v[3]||(v[3]=b=>o())},To,32),C("div",{class:"button",role:"button",title:"Screenshot (P)",onMouseup:v[4]||(v[4]=b=>r())},Ao,32)]))}});const Lo=Ct(zo,[["__scopeId","data-v-da9bd5ec"]]),Bo="modulepreload",$o=function(t,e){return new URL(t,e).href},Tr={},Fr=function(e,n,l){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(r=>{if(r=$o(r,l),r in Tr)return;Tr[r]=!0;const a=r.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(!!l)for(let p=o.length-1;p>=0;p--){const v=o[p];if(v.href===r&&(!a||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${s}`))return;const _=document.createElement("link");if(_.rel=a?"stylesheet":Bo,a||(_.as="script",_.crossOrigin=""),_.href=r,document.head.appendChild(_),a)return new Promise((p,v)=>{_.addEventListener("load",p),_.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())};function Zn(){const t=getComputedStyle(document.documentElement),e=t.getPropertyValue("--scene-font-color").trim();return{clearColor:t.getPropertyValue("--scene-background").trim(),fontColor:e}}function Do(){return!!window.Worker&&!!HTMLCanvasElement.prototype.transferControlToOffscreen&&!!window.chrome}async function Vo(t){return(()=>Do()?Fr(()=>import("./worker-20c7b166.js"),["./worker-20c7b166.js","./screenshot-003e2555.js","./openPlot-19746b40.js","./openPlot-f6253e87.css"],import.meta.url).then(e=>new e.WorkerController(t)):Fr(()=>import("./local-0dca2fa7.js").then(e=>e.aL),["./local-0dca2fa7.js","./openPlot-19746b40.js","./openPlot-f6253e87.css","./screenshot-003e2555.js"],import.meta.url).then(e=>new e.LocalController(t)))().then(e=>{const n=Zn();return e.setTheme(n),e})}const On=50,In=50,Cn=.05,Rn=.05,Uo=.1,Mo=.2;var Mt,se,le,ue,ce,de,he,fe,pe,Be,$e;class Wo{constructor(e,n){ct(this,Mt,void 0);ct(this,se,void 0);ct(this,le,void 0);ct(this,ue,void 0);ct(this,ce,void 0);ct(this,de,void 0);ct(this,he,void 0);ct(this,fe,void 0);ct(this,pe,!1);ct(this,Be,!1);ct(this,$e,-1);et(this,Mt,n);const l=new tn([["KeyR",()=>e.resetCamera()],["Numpad1",()=>e.setCameraRotation(Math.PI/2,Math.PI/2)],["Alt+Numpad1",()=>e.setCameraRotation(-Math.PI/2,Math.PI/2)],["Numpad3",()=>e.setCameraRotation(0,Math.PI/2)],["Alt+Numpad3",()=>e.setCameraRotation(Math.PI,Math.PI/2)],["Numpad7",()=>e.setCameraRotation(0,0)],["Alt+Numpad7",()=>e.setCameraRotation(0,Math.PI)],["Numpad9",()=>e.rotateCamera(Math.PI,0)],["Digit1",()=>e.setCameraRotation(Math.PI/2,Math.PI/2)],["Alt+Digit1",()=>e.setCameraRotation(-Math.PI/2,Math.PI/2)],["Digit3",()=>e.setCameraRotation(0,Math.PI/2)],["Alt+Digit3",()=>e.setCameraRotation(Math.PI,Math.PI/2)],["Digit7",()=>e.setCameraRotation(0,0)],["Alt+Digit7",()=>e.setCameraRotation(0,Math.PI)],["Digit9",()=>e.rotateCamera(Math.PI,0)]]),o=new tn([["Numpad2",()=>e.rotateCamera(0,Rn)],["Numpad8",()=>e.rotateCamera(0,-Rn)],["Numpad4",()=>e.rotateCamera(-Cn,0)],["Numpad6",()=>e.rotateCamera(Cn,0)],["Digit2",()=>e.rotateCamera(0,Rn)],["Digit8",()=>e.rotateCamera(0,-Rn)],["Digit4",()=>e.rotateCamera(-Cn,0)],["Digit6",()=>e.rotateCamera(Cn,0)],["KeyW",()=>e.panCamera(0,In)],["KeyA",()=>e.panCamera(On,0)],["KeyS",()=>e.panCamera(0,-In)],["KeyD",()=>e.panCamera(-On,0)],["ArrowUp",()=>e.panCamera(0,In)],["ArrowLeft",()=>e.panCamera(On,0)],["ArrowDown",()=>e.panCamera(0,-In)],["ArrowRight",()=>e.panCamera(-On,0)]]);et(this,le,a=>o.exec(a)),et(this,se,a=>{a.repeat||l.exec(a)});const r=this;et(this,ue,a=>{const s=a.button==1&&a.buttons==4&&!a.altKey&&!a.ctrlKey,h=a.button==0&&a.buttons==1&&!a.altKey&&a.ctrlKey;(s||h)&&et(r,pe,!0)}),et(this,ce,()=>{et(r,pe,!1),et(r,Be,!1),et(r,$e,-1)}),et(this,de,a=>{if(q(r,pe))if(a.shiftKey||q(r,Be))e.panCamera(a.movementX,a.movementY);else{const s=-a.movementX/q(r,Mt).clientWidth*2*Math.PI,h=-a.movementY/q(r,Mt).clientHeight*Math.PI;e.rotateCamera(s,h)}}),et(this,he,a=>{e.zoomCamera(Uo*a.deltaY)}),et(this,fe,a=>{if(et(r,pe,!0),a.touches.length==2){const s=a.touches[0].clientX-a.touches[1].clientX,h=a.touches[1].clientY-a.touches[1].clientY,_=Math.sqrt(s*s+h*h),p=q(r,$e);p>0&&Math.abs(_-p)>2?(a.preventDefault(),e.zoomCamera((p-_)*Mo)):et(r,Be,!0),et(r,$e,_)}}),document.addEventListener("keydown",q(this,le)),document.addEventListener("keydown",q(this,se)),n.addEventListener("pointerdown",q(this,ue)),n.addEventListener("pointerup",q(this,ce)),n.addEventListener("pointermove",q(this,de)),n.addEventListener("touchmove",q(this,fe)),n.addEventListener("wheel",q(this,he))}dispose(){document.removeEventListener("keydown",q(this,se)),document.removeEventListener("keydown",q(this,le)),q(this,Mt).removeEventListener("pointerdown",q(this,ue)),q(this,Mt).removeEventListener("pointerup",q(this,ce)),q(this,Mt).removeEventListener("pointermove",q(this,de)),q(this,Mt).removeEventListener("touchmove",q(this,fe)),q(this,Mt).removeEventListener("wheel",q(this,he)),et(this,se,()=>{}),et(this,le,()=>{}),et(this,ue,()=>{}),et(this,ce,()=>{}),et(this,de,()=>{}),et(this,fe,()=>{}),et(this,he,()=>{})}}Mt=new WeakMap,se=new WeakMap,le=new WeakMap,ue=new WeakMap,ce=new WeakMap,de=new WeakMap,he=new WeakMap,fe=new WeakMap,pe=new WeakMap,Be=new WeakMap,$e=new WeakMap;const Ar=1,zr=10,Lr=50;var me,ve,Mr;let Jo=(Mr=class{constructor(e){ct(this,me,void 0);ct(this,ve,void 0);const n=new tn([["Space",()=>e.togglePlaying()],["KeyK",()=>e.togglePlaying()],["KeyJ",()=>e.backward()],["KeyL",()=>e.forward()],["KeyM",()=>e.toggleLooping()],["KeyB",()=>e.toggleRecording()]]),l=new tn([["NumpadAdd",()=>e.adjustSpeed(zr)],["Shift+NumpadAdd",()=>e.adjustSpeed(Lr)],["Alt+NumpadAdd",()=>e.adjustSpeed(Ar)],["NumpadSubtract",()=>e.adjustSpeed(-zr)],["Shift+NumpadSubtract",()=>e.adjustSpeed(-Lr)],["Alt+NumpadSubtract",()=>e.adjustSpeed(-Ar)]]);et(this,ve,o=>l.exec(o)),et(this,me,o=>{o.repeat||n.exec(o)}),document.addEventListener("keydown",q(this,ve)),document.addEventListener("keydown",q(this,me))}dispose(){document.removeEventListener("keydown",q(this,me)),document.removeEventListener("keydown",q(this,ve)),et(this,me,()=>{}),et(this,ve,()=>{})}},me=new WeakMap,ve=new WeakMap,Mr);var _e,ge,be,ye;class Go{constructor(e,n){ct(this,_e,void 0);ct(this,ge,void 0);ct(this,be,void 0);ct(this,ye,void 0);et(this,_e,e),et(this,ge,l=>{l.button==0&&l.buttons==1&&!l.altKey&&!l.ctrlKey&&!l.shiftKey&&n.simulatePointerDown(l.offsetX,l.offsetY)}),et(this,be,l=>{!l.altKey&&!l.ctrlKey&&!l.shiftKey&&n.simulatePointerUp(l.offsetX,l.offsetY)}),et(this,ye,l=>{l.button==-1&&!l.altKey&&!l.ctrlKey&&!l.shiftKey&&n.simulatePointerMove(l.offsetX,l.offsetY)}),e.addEventListener("pointerdown",q(this,ge)),e.addEventListener("pointerup",q(this,be)),e.addEventListener("pointermove",q(this,ye))}dispose(){q(this,_e).removeEventListener("pointerdown",q(this,ge)),q(this,_e).removeEventListener("pointerup",q(this,be)),q(this,_e).removeEventListener("pointermove",q(this,ye)),et(this,ge,()=>{}),et(this,be,()=>{}),et(this,ye,()=>{})}}_e=new WeakMap,ge=new WeakMap,be=new WeakMap,ye=new WeakMap;const Br=.01,$r=999.99,Bn=pn("player",{state:()=>({currentFrame:0,startFrame:0,endFrame:100,speedRatio:1,stepSize:10,isFullscreen:!1,isLooping:!1,isPlaying:!1,isScrubbing:!1,isRecording:!1,recorderFps:30}),actions:{forward(){const t=this.stepSize*this.speedRatio;this.endFrame-this.currentFrame>t?this.currentFrame+=t:this.currentFrame=this.endFrame},backward(){const t=this.stepSize*this.speedRatio;this.currentFrame-this.startFrame>t?this.currentFrame-=t:this.currentFrame=this.startFrame},togglePlaying(){this.isPlaying=!this.isPlaying},toggleLooping(){this.isLooping=!this.isLooping},toggleRecording(){this.isRecording=!this.isRecording},adjustSpeed(t){const e=this.speedRatio+t;this.speedRatio=e<Br?Br:e>$r?$r:e}}}),si=pn("resolution",{state:()=>({fixed:!1,width:1920,height:1080})}),Zo="video/webm",Ko=3e3;var hn,Kt,ee,fn,De,Tn,li,Fn,ui,An,ci;class Ho{constructor(e,n){ct(this,Tn);ct(this,Fn);ct(this,An);ct(this,hn,void 0);ct(this,Kt,null);ct(this,ee,!1);ct(this,fn,void 0);ct(this,De,[]);et(this,hn,e),et(this,fn,n)}get isRecording(){return q(this,ee)}start(e=30){q(this,ee)&&this.stop();const n=q(this,hn).captureStream(e);et(this,Kt,new MediaRecorder(n,{mimeType:Zo})),q(this,Kt).ondataavailable=wn(this,Tn,li).bind(this),q(this,Kt).onerror=wn(this,Fn,ui).bind(this),q(this,Kt).onstop=wn(this,An,ci).bind(this),et(this,De,[]),et(this,ee,!0),q(this,Kt).start(Ko)}stop(){!q(this,Kt)||!q(this,ee)||(et(this,ee,!1),q(this,Kt).stop())}}hn=new WeakMap,Kt=new WeakMap,ee=new WeakMap,fn=new WeakMap,De=new WeakMap,Tn=new WeakSet,li=function(e){e.data.size>0&&q(this,De).push(e.data)},Fn=new WeakSet,ui=function(){this.stop()},An=new WeakSet,ci=function(){this.stop();const e=new Blob(q(this,De));ii(e,q(this,fn))};var we;class qo{constructor(e){ct(this,we,void 0);const n=new tn([["KeyI",()=>e.loadPreviousProject()],["KeyO",()=>e.loadNextProject()]]);et(this,we,l=>{l.repeat||n.exec(l)}),document.addEventListener("keydown",q(this,we))}dispose(){document.removeEventListener("keydown",q(this,we)),et(this,we,()=>{})}}we=new WeakMap;const Kn=ai();var Ve,Ue,Me,We,Je,Ge,Ze,Ke,He,qe;class Xo{constructor(e){ct(this,Ve,void 0);ct(this,Ue,void 0);ct(this,Me,void 0);ct(this,We,void 0);ct(this,Je,void 0);ct(this,Ge,void 0);ct(this,Ze,void 0);ct(this,Ke,void 0);ct(this,He,void 0);ct(this,qe,void 0);et(this,Ve,()=>e.resetCamera()),et(this,Ue,()=>e.setGridEnabled(!e.isGridEnabled)),et(this,Me,()=>e.screenshot()),et(this,We,n=>e.select(n)),et(this,Je,n=>e.target(n)),et(this,Ge,n=>e.setObjectsEnabled(n.objectIds,n.enabled)),et(this,Ze,n=>e.setPathEnabled(n.id,n.enabled,n.color)),et(this,Ke,n=>e.loadStage(n)),et(this,He,()=>e.removeStage()),et(this,qe,n=>e.setTheme(n)),vt.on("ResetCamera",q(this,Ve)),vt.on("ToggleGrid",q(this,Ue)),vt.on("Screenshot",q(this,Me)),vt.on("SelectObject",q(this,We)),vt.on("TargetObject",q(this,Je)),vt.on("SetObjectsEnabled",q(this,Ge)),vt.on("SetPathEnabled",q(this,Ze)),vt.on("SetStage",q(this,Ke)),vt.on("RemoveStage",q(this,He)),vt.on("SetTheme",q(this,qe)),e.registerOnObjectPicked(n=>Kn.emit("ObjectPicked",n))}dispose(){vt.off("ResetCamera",q(this,Ve)),vt.off("ToggleGrid",q(this,Ue)),vt.off("Screenshot",q(this,Me)),vt.off("SelectObject",q(this,We)),vt.off("TargetObject",q(this,Je)),vt.off("SetObjectsEnabled",q(this,Ge)),vt.off("SetPathEnabled",q(this,Ze)),vt.off("SetStage",q(this,Ke)),vt.off("RemoveStage",q(this,He)),vt.off("SetTheme",q(this,qe))}}Ve=new WeakMap,Ue=new WeakMap,Me=new WeakMap,We=new WeakMap,Je=new WeakMap,Ge=new WeakMap,Ze=new WeakMap,Ke=new WeakMap,He=new WeakMap,qe=new WeakMap;const Qn=pn("stage",()=>{let t=null,e="";const n=at(-1),l=at(""),o=Xe(()=>n.value>=0);function r(_){n.value=-1,l.value="",fetch(_).then(async p=>{if(!p.ok||!p.body)throw l.value=String(p.status)+" "+p.statusText,new Error("Network response was not OK");const v=+(p.headers.get("Content-Length")??-1);if(v==-1)return p.blob();const b=p.body.getReader();let d=0;const g=[];for(;;){const{done:f,value:y}=await b.read();if(f)break;g.push(y),d+=y.length,n.value=d/v}const u=new Uint8Array(d);let m=0;for(const f of g)u.set(f,m),m+=f.length;return new Blob([u])}).then(p=>{a(p)})}function a(_){h(),n.value=-1,l.value="",t=_,e=URL.createObjectURL(t),s()}function s(){e&&Ft.SetStage(e)}function h(){e&&(Ft.RemoveStage(),URL.revokeObjectURL(e),e="")}return{error:l,progress:n,url:e,isDownloading:o,applyStage:s,loadStage:r,setStage:a,removeStage:h}}),Yo={class:"container"},Qo=Ot({__name:"SceneView",setup(t){const e=document.title,n=nn(),l=Bn(),o=jt(),r=si(),a=Qn(),s=mn(),h=at(null),_=at(null);var p,v;function b(){var D;o.isEmpty||!h.value||(p.load(o),p.setTheme(Zn()),l.isPlaying&&p.play(),a.applyStage(),(D=o.meta)!=null&&D.name&&(document.title=o.meta.name+" | "+e))}o.$subscribe(()=>b());let d;l.$subscribe((D,P)=>{p&&(D.type==_i.patchObject&&D.payload.currentFrame||(p.goToFrame(P.currentFrame),p.isPlaying!=P.isPlaying&&(P.isPlaying?(l.currentFrame==l.endFrame&&p.goToFrame(l.startFrame),p.play()):p.pause()),p.speedRatio!=P.speedRatio&&(p.speedRatio=P.speedRatio),d.isRecording!=P.isRecording&&(P.isRecording?d.start(l.recorderFps):d.stop())))});let g=r.fixed;const u=at(1),m=at(0),f=at(0);function y(){if(!_.value)return;const D=_.value.clientWidth,P=_.value.clientHeight;if(r.fixed){p==null||p.resize(r.width,r.height);const W=D/r.width,tt=P/r.height;W<tt?(u.value=W,m.value=0,f.value=-(r.height*W-P)/2):(u.value=tt,m.value=-(r.width*tt-D)/2,f.value=0)}else p==null||p.resize(D,P),r.$patch({width:D,height:P}),u.value=1,m.value=0,f.value=0}const S=new ResizeObserver(y);r.$subscribe((D,P)=>{P.fixed?(g=!0,y()):g!=P.fixed&&(g=!1,y())}),s.$subscribe(()=>{p.setTheme(Zn())});var I,O,B,A;return en(async()=>{var P;if(!h.value)throw Error("Canvas not present!");if(!_.value)throw Error("Div container not present!");p=await Vo(h.value),v=new Xo(p),b(),y(),S.observe(_.value),p.registerOnFrameChanged(W=>{!l.isScrubbing&&!p.isStatic&&l.$patch({currentFrame:W})}),p.registerOnAnimationLoop(()=>{l.isLooping||(p.pause(),l.togglePlaying(),Xn(()=>p.goToFrame(l.endFrame)))}),I=new qo(n),O=new Wo(p,h.value),B=new Go(h.value,p),A=new Jo(l);let D=((P=o.meta)==null?void 0:P.name)??"";D.length==0&&(D="event"),d=new Ho(h.value,D+".webm")}),zn(()=>{S.disconnect(),v.dispose(),p.dispose(),I.dispose(),O.dispose(),B.dispose(),A.dispose(),document.title=e}),(D,P)=>(rt(),lt("div",Yo,[C("div",{ref_key:"container",ref:_,class:"canvas-container"},[C("canvas",{id:"render-canvas",ref_key:"canvas",ref:h,style:qn({transform:"translateX("+m.value+"px) translateY("+f.value+"px) scale("+u.value+")"})},null,4)],512),Lt(Lo,{class:"toolbar"})]))}});const jo=Ct(Qo,[["__scopeId","data-v-369c44f9"]]),te=t=>(Yt("data-v-59c1b391"),t=t(),Qt(),t),ta=te(()=>C("td",null,"Title:",-1)),ea=te(()=>C("td",null,"Author:",-1)),na=te(()=>C("td",null,"Date:",-1)),ra=te(()=>C("td",null,"Timestamp:",-1)),ia=te(()=>C("td",null,"Start:",-1)),oa=te(()=>C("td",null,"End:",-1)),aa=te(()=>C("td",null,"Duration:",-1)),sa=te(()=>C("tr",null,[C("td",null,"Description:"),C("td")],-1)),la={class:"desc"},ua=te(()=>C("div",{class:"disclaimer"},[Pt(" Wilson is an open source project under the MIT-License."),C("br"),Pt(" Checkout the project's "),C("a",{href:"https://github.com/tkerscher/wilson"},"sourcecode"),Pt(". ")],-1)),ca={style:{visibility:"hidden"}},da=Ot({__name:"InfoTab",props:{searchQuery:{}},setup(t){const e=jt();function n(b,d){return!b||b.length==0?d:b}const l=at(""),o=at(""),r=at(""),a=at(""),s=at(""),h=at(""),_=at(""),p=at("");function v(){var d,g,u,m,f,y,S,I,O,B,A;l.value=n((d=e.meta)==null?void 0:d.author,"No Author"),o.value=n((g=e.meta)==null?void 0:g.name,"No Title"),r.value=n((u=e.meta)==null?void 0:u.description,"No description"),a.value=new Date((((f=(m=e.meta)==null?void 0:m.date)==null?void 0:f.seconds)??0)*1e3).toString();const b=((S=(y=e.meta)==null?void 0:y.date)==null?void 0:S.nanos)??0;s.value=(b+1e10).toLocaleString("en-US").slice(3),h.value=(((I=e.meta)==null?void 0:I.startTime)??0).toLocaleString("en-US"),_.value=(((O=e.meta)==null?void 0:O.endTime)??0).toLocaleString("en-US"),p.value=((((B=e.meta)==null?void 0:B.endTime)??0)-(((A=e.meta)==null?void 0:A.startTime)??0)).toLocaleString("en-US")}return v(),e.$subscribe(v),(b,d)=>{var g;return rt(),lt(Xt,null,[C("table",null,[C("tr",null,[ta,C("td",null,pt(o.value),1)]),C("tr",null,[ea,C("td",null,pt(l.value),1)]),C("tr",null,[na,C("td",null,pt(a.value),1)]),C("tr",null,[ra,C("td",null,pt(s.value)+" ns",1)]),C("tr",null,[ia,C("td",null,pt(h.value)+" ns",1)]),C("tr",null,[oa,C("td",null,pt(_.value)+" ns",1)]),C("tr",null,[aa,C("td",null,pt(p.value)+" ns",1)]),sa]),C("p",la,pt(r.value),1),ua,C("div",ca,pt((g=j(e).meta)==null?void 0:g.name),1)],64)}}});const ha=Ct(da,[["__scopeId","data-v-59c1b391"]]),fa={class:"root"},pa={class:"header"},ma=["title"],va={class:"title"},_a=["title"],ga={class:"content"},ba={class:"subgroup-div"},ya=["name","onPointerup","onDblclick","onKeydown"],wa={class:"title"},ka=["onPointerup"],Sa=["title","onPointerup"],xa=Ot({__name:"ObjectGroup",props:{group:{},expanded:{type:Boolean}},emits:["expand"],setup(t,{emit:e}){const n=t,l=jt(),o=at(n.expanded),r=at(null);function a(){o.value=!0,e("expand")}function s(u){Gr(l.graphs,u)}function h(u){let m=[];const f=!u.visible;function y(I){m.push(...I.objects.map(O=>O.id)),I.subgroups.forEach(O=>y(O))}y(u),Ft.SetObjectsEnabled(m,f);function S(I){I.visible=f,I.objects.forEach(O=>O.visible=f),I.subgroups.forEach(O=>S(O))}S(u)}function _(u){Ft.SetObjectsEnabled([u.id],!u.visible),u.visible=!u.visible}function p(u,m){u.target.focus(),Ft.SelectObject(m)}function v(u){if(u.repeat)return;const m=u.target;if(m.nextElementSibling){const y=m.nextElementSibling.getAttribute("name");if(y){const S=parseInt(y.substring(4));Ft.SelectObject(S)}}}function b(u){if(u.repeat)return;const m=u.target;if(m.previousElementSibling){const y=m.previousElementSibling.getAttribute("name");if(y){const S=parseInt(y.substring(4));Ft.SelectObject(S)}}}const d=at(null);function g(u){r.value=u,u!=null&&n.group.objects.find(m=>m.id==u)&&(a(),Xn(()=>{var f;const m=(f=d.value)==null?void 0:f.querySelector("[name=item"+u+"]");m&&m.focus()}))}return en(()=>Kn.on("ObjectPicked",g)),zn(()=>Kn.off("ObjectPicked",g)),(u,m)=>{const f=gi("ObjectGroup",!0);return rt(),lt("div",fa,[C("div",pa,[C("div",{class:Tt(["button","icon-small",o.value?"chevron-down-icon":"chevron-right-icon"]),title:o.value?"Collapse Group":"Expand Group",role:"button",onPointerup:m[0]||(m[0]=It(y=>o.value=!o.value,["stop"]))},null,42,ma),C("div",va,[C("span",null,pt(n.group.name),1)]),C("div",{class:"button icon-small chart-icon",title:"Show Graphs",role:"button",onPointerup:m[1]||(m[1]=It(y=>s(n.group.name),["stop"]))},null,32),C("div",{class:Tt(["button","icon-small",n.group.visible?"eye-icon":"eye-slash-icon"]),title:n.group.visible?"Hide Group":"Show Group",role:"button",onPointerup:m[2]||(m[2]=It(y=>h(n.group),["stop"]))},null,42,_a)]),Nn(C("div",ga,[C("div",ba,[(rt(!0),lt(Xt,null,Ye(n.group.subgroups,y=>(rt(),qt(f,{key:y.name,group:y,onExpand:a},null,8,["group"]))),128))]),C("div",{ref_key:"itemsDiv",ref:d,class:"items-div"},[(rt(!0),lt(Xt,null,Ye(n.group.objects,y=>(rt(),lt("div",{key:y.id,class:Tt(["item",{"item-selected":r.value==y.id}]),name:"item"+y.id,tabindex:"0",onPointerup:It(S=>p(S,y.id),["stop"]),onDblclick:S=>j(Ft).TargetObject(y.id),onKeydown:[Qe(It(b,["prevent"]),["up"]),Qe(It(v,["prevent"]),["down"])]},[C("div",wa,[C("span",null,pt(y.name),1)]),C("div",{class:"button icon-small chart-icon",title:"Show Graphs",role:"button",onPointerup:It(S=>s(y.name),["stop"]),onDblclick:m[3]||(m[3]=It(()=>{},["stop"]))},null,40,ka),C("div",{class:Tt(["button","icon-small",y.visible?"eye-icon":"eye-slash-icon"]),title:y.visible?"Hide Object":"Show Object",role:"button",onPointerup:It(S=>_(y),["stop"]),onDblclick:m[4]||(m[4]=It(()=>{},["stop"]))},null,42,Sa)],42,ya))),128))],512)],512),[[Zr,o.value]])])}}});const Dr=Ct(xa,[["__scopeId","data-v-79ee9470"]]),Ea={name:"",visible:!1,objects:[],subgroups:[]};function Oa(t){var p;let e=0;const n=((p=t.meta)==null?void 0:p.name)??"",l={name:n.length>0?n:"Unnamed Project",objects:[],visible:!0,children:new Map};function o(v){let b=l;for(const d of v.split("/")){const g=b.children.get(d);if(g)b=g;else{const u={name:d,visible:!0,objects:[],children:new Map};b.children.set(d,u),b=u}}return b}function r(v,b){if(b.length==0)l.objects.push(v);else for(const d of b)o(d).objects.push(v)}const a=[];function s(v){if(!v.instance)return"Unknown";switch(v.instance.$case){case"line":return"Line";case"prism":return"Prism";case"sphere":return"Sphere";case"tube":return"Tube";case"overlay":return"Overlay"}}t.animatibles.forEach(v=>{const b={name:v.name,description:v.description,visible:!0,id:e++,type:s(v)};r(b,v.groups),a.push(b)});function h(v){v.visible=!1,v.objects.forEach(b=>b.visible=!1),v.children.forEach(b=>h(b))}t.hiddenGroups.forEach(v=>h(o(v)));function _(v){return{name:v.name,visible:v.visible,objects:v.objects,subgroups:Array.from(v.children.values()).map(b=>_(b)).sort((b,d)=>b.name.localeCompare(d.name))}}return{group:_(l),objects:a}}const Ia=Ot({__name:"ObjectExplorer",props:{searchQuery:{}},setup(t){const e=t,n=jt(),l=at(Ea);let o=[];function r(){const s=Oa(n);l.value=s.group,o=s.objects}n.$subscribe(r),en(()=>r());const a=at({name:"Search Result",objects:[],subgroups:[],visible:!0});return Kr(()=>e.searchQuery,()=>{a.value.visible=!0,a.value.objects=o.filter(s=>s.name.toLowerCase().includes(e.searchQuery.toLowerCase()))}),(s,h)=>(rt(),lt("div",{class:"root",onMouseup:h[0]||(h[0]=_=>j(Ft).SelectObject(null))},[e.searchQuery?(rt(),qt(Dr,{key:0,group:a.value,expanded:""},null,8,["group"])):(rt(),qt(Dr,{key:1,group:l.value,expanded:""},null,8,["group"]))],32))}});const Ca=Ct(Ia,[["__scopeId","data-v-2da580ba"]]),Ra=["contenteditable","onKeydown"],Na=Ot({__name:"NumberInput",props:{modelValue:{},minValue:{},maxValue:{},disabled:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,l=at(!1),o=at(n.modelValue);function r(){o.value=n.modelValue,l.value=!1}function a(){l.value||e("update:modelValue",o.value)}function s(h){const _=h.target,p=Number.parseInt(_.innerHTML),v=!isNaN(+_.innerHTML)&&p>=n.minValue&&p<=n.maxValue;l.value=!v,v&&(o.value=p)}return(h,_)=>(rt(),lt("div",{class:Tt(["number-input",{"input-invalid":l.value,"input-disabled":!!n.disabled}]),contenteditable:!n.disabled,onKeydown:[Qe(It(a,["prevent"]),["enter"]),Qe(It(r,["prevent"]),["esc"])],onFocusout:a,onInput:s},pt(n.modelValue),43,Ra))}});const Hn=Ct(Na,[["__scopeId","data-v-29253558"]]),Pa=t=>(Yt("data-v-7f2fe461"),t=t(),Qt(),t),Ta=Pa(()=>C("td",null,"FPS:",-1)),Fa=Ot({__name:"RecorderSettings",setup(t){const e=Bn();return(n,l)=>(rt(),lt("table",null,[C("tr",null,[Ta,Lt(Hn,{modelValue:j(e).recorderFps,"onUpdate:modelValue":l[0]||(l[0]=o=>j(e).recorderFps=o),"min-value":5,"max-value":120},null,8,["modelValue"])])]))}});const Aa=Ct(Fa,[["__scopeId","data-v-7f2fe461"]]),$n=t=>(Yt("data-v-a6026f5e"),t=t(),Qt(),t),za={class:"res-root"},La=$n(()=>C("label",{for:"fit"},"Fit to window size",-1)),Ba=$n(()=>C("label",{for:"fixed"},"Fixed resolution",-1)),$a={class:"res-table"},Da=$n(()=>C("td",null,"Width:",-1)),Va=$n(()=>C("td",null,"Height:",-1)),Ua=Ot({__name:"ResolutionSettings",setup(t){const e=si(),n=at(e.fixed?"fixed":"fit");return Kr(n,l=>e.fixed=l=="fixed"),(l,o)=>(rt(),lt("div",za,[C("div",null,[Nn(C("input",{id:"fit","onUpdate:modelValue":o[0]||(o[0]=r=>n.value=r),type:"radio",name:"resolution",value:"fit"},null,512),[[er,n.value]]),La]),C("div",null,[Nn(C("input",{id:"fixed","onUpdate:modelValue":o[1]||(o[1]=r=>n.value=r),type:"radio",name:"resolution",value:"fixed"},null,512),[[er,n.value]]),Ba]),C("table",$a,[C("tr",null,[Da,C("td",null,[Lt(Hn,{modelValue:j(e).width,"onUpdate:modelValue":o[2]||(o[2]=r=>j(e).width=r),disabled:!j(e).fixed,"min-value":300,"max-value":8e3},null,8,["modelValue","disabled"])])]),C("tr",null,[Va,C("td",null,[Lt(Hn,{modelValue:j(e).height,"onUpdate:modelValue":o[3]||(o[3]=r=>j(e).height=r),disabled:!j(e).fixed,"min-value":300,"max-value":8e3},null,8,["modelValue","disabled"])])])])]))}});const Ma=Ct(Ua,[["__scopeId","data-v-a6026f5e"]]),Dn=t=>(Yt("data-v-9cc997e5"),t=t(),Qt(),t),Wa={class:"container"},Ja=Dn(()=>C("label",{for:"dialog",class:"p-button"},[C("div",{class:"icon icon-small upload-icon"}),Pt("Open Stage ")],-1)),Ga=Dn(()=>C("div",{class:"icon icon-small trash-icon"},null,-1)),Za={key:0,class:"message"},Ka=Dn(()=>C("div",{class:"icon icon-small triangle-exclamation-icon"},null,-1)),Ha={key:1,class:"message"},qa=Dn(()=>C("div",{class:"icon icon-small spinner-icon"},null,-1)),Xa=Ot({__name:"StageSettings",setup(t){const e=Qn();async function n(l){if(!l.target)return;const o=l.target;o.files&&e.setStage(o.files[0])}return(l,o)=>(rt(),lt("div",Wa,[C("input",{id:"dialog",type:"file",accept:".glb",onChange:n},null,32),Ja,C("div",{class:"p-button",onMouseup:o[0]||(o[0]=r=>j(e).removeStage())},[Ga,Pt(" Remove Stage ")],32),j(e).error?(rt(),lt("div",Za,[Ka,Pt(" "+pt(j(e).error),1)])):j(e).isDownloading?(rt(),lt("div",Ha,[qa,Pt(" Downloading stage file ("+pt((j(e).progress*100).toFixed())+"%)... ",1)])):Ln("",!0)]))}});const Ya=Ct(Xa,[["__scopeId","data-v-9cc997e5"]]),Qa={class:"root"},ja=["onMouseup"],ts=["title"],es={class:"title"},ns=Ot({__name:"SettingsTab",setup(t){const e=[{name:"Resolution",id:0,content:Ma,expanded:at(!1)},{name:"Recording",id:1,content:Aa,expanded:at(!1)},{name:"Stage",id:2,content:Ya,expanded:at(!1)}];return(n,l)=>(rt(),lt("div",Qa,[(rt(),lt(Xt,null,Ye(e,o=>C("div",{key:o.id,class:"group-header"},[C("div",{class:"header",onMouseup:It(r=>o.expanded.value=!o.expanded.value,["stop"])},[C("div",{class:Tt(["button","icon-small",o.expanded.value?"chevron-down-icon":"chevron-right-icon"]),title:o.expanded.value?"Collapse Group":"Expand Group",role:"button"},null,10,ts),C("div",es,[C("span",null,pt(o.name),1)])],40,ja),o.expanded.value?(rt(),qt(Hr(o.content),{key:0})):Ln("",!0)])),64))]))}});const rs=Ct(ns,[["__scopeId","data-v-99dd3f74"]]),is={class:"root"},os={class:"header"},as=["onMouseup"],ss=["value","onChange"],ls="#ff8800",us=Ot({__name:"PathExplorer",props:{searchQuery:{}},setup(t){const e=t,n=jt();var l=at([]);function o(){l.value=n.paths.map(h=>({name:h.name,id:h.id,color:ls,visible:!1}))}o(),n.$subscribe(o);const r=Xe(()=>l.value.filter(h=>h.name.toLowerCase().includes(e.searchQuery.toLowerCase())));function a(h,_){const p=h.target;_.color=p.value,Ft.SetPathEnabled(_.id,_.visible,_.color)}function s(h){h.visible=!h.visible,Ft.SetPathEnabled(h.id,h.visible,h.color)}return(h,_)=>(rt(),lt("div",is,[(rt(!0),lt(Xt,null,Ye(r.value,p=>(rt(),lt("div",{key:p.id,class:"item"},[C("div",os,[C("span",{class:"name",onMouseup:It(v=>s(p),["stop"])},pt(p.name),41,as),p.visible?(rt(),lt("input",{key:0,type:"color",class:"color-picker",value:p.color,onChange:v=>a(v,p)},null,40,ss)):Ln("",!0)])]))),128))]))}});const cs=Ct(us,[["__scopeId","data-v-360c6454"]]),ds={class:"header"},hs={class:"tab-root"},fs={class:"tab-list"},ps=["onMousedown"],ms={key:0,class:"tab-title"},vs={class:"active-tab-container scrollable"},_s=Ot({__name:"SidebarContainer",setup(t){const e=at(""),n=[{icon:"cube-icon",title:"Objects",id:0,tab:Ca},{icon:"curve-icon",title:"Paths",id:1,tab:cs},{icon:"wrench-icon",title:"Settings",id:2,tab:rs},{icon:"info-icon",title:"Info",id:3,tab:ha}],l=at(0);function o(r){l.value=r,localStorage.setItem("activeTab",String(r))}return qr(()=>{const r=localStorage.getItem("activeTab");r!=null&&(l.value=Number(r))}),(r,a)=>(rt(),lt("div",{class:"root",onKeydown:a[1]||(a[1]=It(()=>{},["stop"])),onKeyup:a[2]||(a[2]=It(()=>{},["stop"]))},[C("div",ds,[Lt(Jr,{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=s=>e.value=s),class:"search-box"},null,8,["modelValue"])]),C("div",hs,[C("div",fs,[(rt(),lt(Xt,null,Ye(n,(s,h)=>C("div",{key:s.id,class:Tt(["tab-button",{"active-header":l.value==h}]),onMousedown:_=>o(h)},[C("div",{class:Tt(["tab-icon","icon-medium",s.icon])},null,2),l.value==h?(rt(),lt("div",ms,pt(s.title),1)):Ln("",!0)],42,ps)),64))]),C("div",vs,[(rt(),qt(bi,null,[(rt(),qt(Hr(n[l.value].tab),{"search-query":e.value},null,8,["search-query"]))],1024))])])],32))}});const gs=Ct(_s,[["__scopeId","data-v-e330f045"]]),bs=["onKeydown"],Vr=1,Ur=.01,ys=Ot({__name:"DialInput",props:{modelValue:{},minValue:{},maxValue:{},prefix:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,l=at(!1),o=at(!0),r=at(null);function a(){l.value=!0,o.value=!0,Xn(()=>{r.value&&(r.value.innerHTML=n.modelValue.toFixed(2),r.value.focus())})}function s(){l.value=!1}function h(){!l.value||!r.value||(o.value&&e("update:modelValue",Number(r.value.textContent)),l.value=!1)}const _=/^\d*(?:\.\d+)?$/;function p(){if(!r.value)return;const u=r.value.innerHTML;o.value=!!u.trim().match(_)}function v(u){if(document.activeElement!=u.target)return;u.preventDefault();const m=(u.altKey?Ur:Vr)*(u.deltaY<0?1:-1);var f=n.modelValue+m;n.minValue&&f<n.minValue?f=n.minValue:n.maxValue&&f>n.maxValue&&(f=n.maxValue),e("update:modelValue",f)}function b(){document.addEventListener("mousemove",g),document.addEventListener("mouseup",d)}function d(){document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",d)}function g(u){const m=u.movementX*(u.altKey?Ur:Vr);var f=n.modelValue+m;n.minValue&&f<n.minValue?f=n.minValue:n.maxValue&&f>n.maxValue&&(f=n.maxValue),e("update:modelValue",f)}return(u,m)=>(rt(),lt("div",{class:"dial-input-container",onKeydown:m[0]||(m[0]=It(()=>{},["stop"]))},[l.value?(rt(),lt("div",{key:0,ref_key:"editDiv",ref:r,class:Tt(["input-edit",o.value?"input-valid":"input-invalid"]),contenteditable:"",onKeydown:[Qe(It(h,["prevent"]),["enter"]),Qe(It(s,["prevent"]),["esc"])],onFocusout:h,onInput:p},null,42,bs)):(rt(),lt("div",{key:1,class:"dial-input",tabindex:"-1",onDblclick:a,onMousedown:b,onWheel:v},pt((n.prefix??"")+n.modelValue.toFixed(2)),33))],32))}});const ws=Ct(ys,[["__scopeId","data-v-01c9c508"]]),ks=t=>(Yt("data-v-dfc7e941"),t=t(),Qt(),t),Ss={class:"slider-container",role:"slider"},xs=ks(()=>C("div",{class:"thumb"},null,-1)),Es=Ot({__name:"SliderInput",props:{modelValue:{},minValue:{},maxValue:{}},emits:["update:modelValue","scrubbingStart","scrubbingEnd"],setup(t,{emit:e}){const n=t,l=at(null),o=Xe(()=>(n.modelValue-n.minValue)/(n.maxValue-n.minValue)*100+"%");function r(h){if(!l.value)return;e("scrubbingStart");const p=h.offsetX/l.value.clientWidth*(n.maxValue-n.minValue)+n.minValue;e("update:modelValue",p),document.addEventListener("mousemove",s),document.addEventListener("mouseup",a)}function a(){e("scrubbingEnd"),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a)}function s(h){if(!l.value)return;const _=l.value.getBoundingClientRect(),p=h.pageX-_.left;if(p<0)e("update:modelValue",n.minValue);else if(p>_.width)e("update:modelValue",n.maxValue);else{const b=p/_.width*(n.maxValue-n.minValue)+n.minValue;e("update:modelValue",b)}}return(h,_)=>(rt(),lt("div",Ss,[C("div",{ref_key:"timeline",ref:l,class:"timeline",onMousedown:r},[C("div",{class:"elapsed-bar",style:qn({width:o.value})},null,4),xs],544)]))}});const Os=Ct(Es,[["__scopeId","data-v-dfc7e941"]]),Is={class:"background-container"},Cs={class:"player-control-container"},Rs={class:"top-action-bar"},Ns={class:"left-action-group"},Ps=["title"],Ts={class:"middle-action-group"},Fs={class:"right-action-group"},As={class:"bottom-action-bar"},zs={class:"frame-counter"},Ls={class:"frame-counter"},Bs=Ot({__name:"PlayerControl",emits:["scrubbingStart","scrubbingEnd","toggleFullscreen"],setup(t,{emit:e}){const n=nn(),l=Bn();return(o,r)=>(rt(),lt("div",Is,[C("div",Cs,[C("div",Rs,[C("div",Ns,[C("div",{class:Tt([j(l).isRecording?"icon-recording":"action-button","icon-medium","video-icon"]),role:"button",title:j(l).isRecording?"Stop Recording (B)":"Start Recording (B)",onMouseup:r[0]||(r[0]=(...a)=>j(l).toggleRecording&&j(l).toggleRecording(...a))},null,42,Ps),C("div",{class:"action-button icon-medium previous-icon",role:"button",title:"Previous (I)",onMouseup:r[1]||(r[1]=(...a)=>j(n).loadPreviousProject&&j(n).loadPreviousProject(...a))},null,32),C("span",null,pt(j(n).currentIndex+1)+" of "+pt(j(n).length),1),C("div",{class:"action-button icon-medium next-icon",role:"button",title:"Next (O)",onMouseup:r[2]||(r[2]=(...a)=>j(n).loadNextProject&&j(n).loadNextProject(...a))},null,32)]),C("div",Ts,[C("div",{class:"action-button icon-medium backward-icon",role:"button",title:"Rewind 10 sec (J)",onMouseup:r[3]||(r[3]=(...a)=>j(l).backward&&j(l).backward(...a))},null,32),C("div",{class:Tt(["action-button","icon-large","play-button",j(l).isPlaying?"circle-pause-icon":"circle-play-icon"]),role:"button",title:"Play/Pause (K)",onMouseup:r[4]||(r[4]=(...a)=>j(l).togglePlaying&&j(l).togglePlaying(...a))},null,34),C("div",{class:"action-button icon-medium forward-icon",role:"button",title:"Forward 10 sec (L)",onMouseup:r[5]||(r[5]=(...a)=>j(l).forward&&j(l).forward(...a))},null,32),C("div",{class:Tt(["action-button","icon-medium","repeat-icon",j(l).isLooping?"toggle-active":""]),role:"button",title:"Toggle Repeat (M)",onMouseup:r[6]||(r[6]=(...a)=>j(l).toggleLooping&&j(l).toggleLooping(...a))},null,34)]),C("div",Fs,[Lt(ws,{modelValue:j(l).speedRatio,"onUpdate:modelValue":r[7]||(r[7]=a=>j(l).speedRatio=a),"min-value":.01,"max-value":1e3,prefix:"x ",style:{width:"80px"}},null,8,["modelValue"]),C("div",{class:Tt(["action-button","icon-medium",j(l).isFullscreen?"compress-icon":"expand-icon"]),role:"button",title:"Toggle Fullscreen (F)",onMouseup:r[8]||(r[8]=a=>e("toggleFullscreen"))},null,34)])]),C("div",As,[C("span",zs,pt(j(l).currentFrame.toFixed(2)),1),Lt(Os,{modelValue:j(l).currentFrame,"onUpdate:modelValue":r[9]||(r[9]=a=>j(l).currentFrame=a),"min-value":j(l).startFrame,"max-value":j(l).endFrame,onScrubbingStart:r[10]||(r[10]=a=>e("scrubbingStart")),onScrubbingEnd:r[11]||(r[11]=a=>e("scrubbingEnd"))},null,8,["modelValue","min-value","max-value"]),C("span",Ls,pt(j(l).endFrame.toFixed(2)),1)])])]))}});const $s=Ct(Bs,[["__scopeId","data-v-e03275be"]]),Ds={class:"container"},Vs={class:"sidebar-content"},Us=Ot({__name:"ProjectView",setup(t){const e=Bn(),n=jt(),l=at(null);function o(){var h,_,p;e.$reset(),e.$patch({startFrame:((h=n.meta)==null?void 0:h.startTime)??0,endFrame:((_=n.meta)==null?void 0:_.endTime)??0,speedRatio:((p=n.meta)==null?void 0:p.speedRatio)??1,isPlaying:!0,isLooping:!0})}function r(h){h.code=="KeyF"&&!h.altKey&&!h.ctrlKey&&!h.shiftKey&&a()}function a(){!l.value||!l.value.requestFullscreen||(e.isFullscreen||document.fullscreenElement?document.exitFullscreen():l.value.requestFullscreen())}function s(){e.isFullscreen=!!document.fullscreenElement}return en(()=>{o(),addEventListener("fullscreenchange",s),document.addEventListener("keydown",r)}),zn(()=>{removeEventListener("fullscreenchange",s),document.removeEventListener("keydown",r)}),n.$subscribe(()=>o()),(h,_)=>(rt(),lt("div",Ds,[C("div",{ref_key:"mainDiv",ref:l,class:"main-container"},[Lt(jo,{class:"scene-view"}),Lt($s,{class:"controller",onToggleFullscreen:a})],512),Lt(wi,{"grip-position":"left","store-key":"sidebar-width","default-size":"300px",class:"sidebar"},{default:yi(()=>[C("div",Vs,[Lt(gs)])]),_:1})]))}});const Ms=Ct(Us,[["__scopeId","data-v-1bc4be53"]]),Ws=Ot({__name:"App",setup(t){const e=nn(),n=jt(),l=Qn();mn();function o(){const s=new URLSearchParams(window.location.search).get("stage");s&&l.loadStage(decodeURIComponent(s))}const r=at("");return qr(()=>{const s=new URLSearchParams(window.location.search).get("cat");s&&(r.value=decodeURIComponent(s))}),(a,s)=>(rt(),lt(Xt,null,[Nn(Lt(vo,{url:r.value,onFinished:o},null,8,["url"]),[[Zr,j(e).isEmpty&&r.value.length>0]]),j(n).isEmpty?j(e).isEmpty?(rt(),qt(So,{key:2})):(rt(),qt(no,{key:1})):(rt(),qt(Ms,{key:0}))],64))}});ki(Ws).use(Si()).mount("#app");export{ri as P,Pi as T,Fr as _,ii as c,Fi as t};
