var zn=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var q=(t,e,n)=>(zn(t,e,"read from private field"),n?n.call(t):e.get(t)),dt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ot=(t,e,n,l)=>(zn(t,e,"write to private field"),l?l.call(t,n):e.set(t,n),n);var mn=(t,e,n)=>(zn(t,e,"access private method"),n);import{c as vn,a as _n,_ as tt,i as ei,b as ni,G as Ze,d as ln,r as at,e as Le,m as ri,f as xt,u as un,o as nt,g as lt,h as C,j as Q,k as Lt,S as Fr,l as Rt,n as Nt,t as ft,F as Xt,p as Be,q as Wn,s as Yt,v as Qt,w as Ot,x as Ve,y as Rn,z as Ar,A as Gn,M as ii,B as oi,C as Et,D as xn,E as Pr,H as qt,I as De,J as zr,K as qn,L as Nn,N as Lr,O as Br,P as ai,Q as si,R as li,T as ui,U as di}from"./openPlot.bc4834b4.js";const Dr=""+new URL("../banner_dark.png",import.meta.url).href,$r=""+new URL("../banner.png",import.meta.url).href;var Ur={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(l,i,r){function a(p,_){if(!i[p]){if(!l[p]){var m=typeof _n=="function"&&_n;if(!_&&m)return m(p,!0);if(s)return s(p,!0);var g=new Error("Cannot find module '"+p+"'");throw g.code="MODULE_NOT_FOUND",g}var d=i[p]={exports:{}};l[p][0].call(d.exports,function(b){var c=l[p][1][b];return a(c||b)},d,d.exports,n,l,i,r)}return i[p].exports}for(var s=typeof _n=="function"&&_n,h=0;h<r.length;h++)a(r[h]);return a}({1:[function(n,l,i){var r=n("./utils"),a=n("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(h){for(var p,_,m,g,d,b,c,v=[],f=0,y=h.length,S=y,I=r.getTypeOf(h)!=="string";f<h.length;)S=y-f,m=I?(p=h[f++],_=f<y?h[f++]:0,f<y?h[f++]:0):(p=h.charCodeAt(f++),_=f<y?h.charCodeAt(f++):0,f<y?h.charCodeAt(f++):0),g=p>>2,d=(3&p)<<4|_>>4,b=1<S?(15&_)<<2|m>>6:64,c=2<S?63&m:64,v.push(s.charAt(g)+s.charAt(d)+s.charAt(b)+s.charAt(c));return v.join("")},i.decode=function(h){var p,_,m,g,d,b,c=0,v=0,f="data:";if(h.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var y,S=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===s.charAt(64)&&S--,h.charAt(h.length-2)===s.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=a.uint8array?new Uint8Array(0|S):new Array(0|S);c<h.length;)p=s.indexOf(h.charAt(c++))<<2|(g=s.indexOf(h.charAt(c++)))>>4,_=(15&g)<<4|(d=s.indexOf(h.charAt(c++)))>>2,m=(3&d)<<6|(b=s.indexOf(h.charAt(c++))),y[v++]=p,d!==64&&(y[v++]=_),b!==64&&(y[v++]=m);return y}},{"./support":30,"./utils":32}],2:[function(n,l,i){var r=n("./external"),a=n("./stream/DataWorker"),s=n("./stream/Crc32Probe"),h=n("./stream/DataLengthProbe");function p(_,m,g,d,b){this.compressedSize=_,this.uncompressedSize=m,this.crc32=g,this.compression=d,this.compressedContent=b}p.prototype={getContentWorker:function(){var _=new a(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),m=this;return _.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new a(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(_,m,g){return _.pipe(new s).pipe(new h("uncompressedSize")).pipe(m.compressWorker(g)).pipe(new h("compressedSize")).withStreamInfo("compression",m)},l.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,l,i){var r=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,l,i){var r=n("./utils"),a=function(){for(var s,h=[],p=0;p<256;p++){s=p;for(var _=0;_<8;_++)s=1&s?3988292384^s>>>1:s>>>1;h[p]=s}return h}();l.exports=function(s,h){return s!==void 0&&s.length?r.getTypeOf(s)!=="string"?function(p,_,m,g){var d=a,b=g+m;p^=-1;for(var c=g;c<b;c++)p=p>>>8^d[255&(p^_[c])];return-1^p}(0|h,s,s.length,0):function(p,_,m,g){var d=a,b=g+m;p^=-1;for(var c=g;c<b;c++)p=p>>>8^d[255&(p^_.charCodeAt(c))];return-1^p}(0|h,s,s.length,0):0}},{"./utils":32}],5:[function(n,l,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,l,i){var r=null;r=typeof Promise<"u"?Promise:n("lie"),l.exports={Promise:r}},{lie:37}],7:[function(n,l,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),s=n("./utils"),h=n("./stream/GenericWorker"),p=r?"uint8array":"array";function _(m,g){h.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=g,this.meta={}}i.magic="\b\0",s.inherits(_,h),_.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(p,m.data),!1)},_.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(g){m.push({data:g,meta:m.meta})}},i.compressWorker=function(m){return new _("Deflate",m)},i.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,l,i){function r(d,b){var c,v="";for(c=0;c<b;c++)v+=String.fromCharCode(255&d),d>>>=8;return v}function a(d,b,c,v,f,y){var S,I,E=d.file,L=d.compression,P=y!==p.utf8encode,D=s.transformTo("string",y(E.name)),N=s.transformTo("string",p.utf8encode(E.name)),M=E.comment,j=s.transformTo("string",y(M)),x=s.transformTo("string",p.utf8encode(M)),z=N.length!==E.name.length,u=x.length!==M.length,$="",st="",W="",ut=E.dir,G=E.date,it={crc32:0,compressedSize:0,uncompressedSize:0};b&&!c||(it.crc32=d.crc32,it.compressedSize=d.compressedSize,it.uncompressedSize=d.uncompressedSize);var F=0;b&&(F|=8),P||!z&&!u||(F|=2048);var T=0,rt=0;ut&&(T|=16),f==="UNIX"?(rt=798,T|=function(H,bt){var Ct=H;return H||(Ct=bt?16893:33204),(65535&Ct)<<16}(E.unixPermissions,ut)):(rt=20,T|=function(H){return 63&(H||0)}(E.dosPermissions)),S=G.getUTCHours(),S<<=6,S|=G.getUTCMinutes(),S<<=5,S|=G.getUTCSeconds()/2,I=G.getUTCFullYear()-1980,I<<=4,I|=G.getUTCMonth()+1,I<<=5,I|=G.getUTCDate(),z&&(st=r(1,1)+r(_(D),4)+N,$+="up"+r(st.length,2)+st),u&&(W=r(1,1)+r(_(j),4)+x,$+="uc"+r(W.length,2)+W);var X="";return X+=`
\0`,X+=r(F,2),X+=L.magic,X+=r(S,2),X+=r(I,2),X+=r(it.crc32,4),X+=r(it.compressedSize,4),X+=r(it.uncompressedSize,4),X+=r(D.length,2),X+=r($.length,2),{fileRecord:m.LOCAL_FILE_HEADER+X+D+$,dirRecord:m.CENTRAL_FILE_HEADER+r(rt,2)+X+r(j.length,2)+"\0\0\0\0"+r(T,4)+r(v,4)+D+$+j}}var s=n("../utils"),h=n("../stream/GenericWorker"),p=n("../utf8"),_=n("../crc32"),m=n("../signature");function g(d,b,c,v){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=c,this.encodeFileName=v,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(g,h),g.prototype.push=function(d){var b=d.meta.percent||0,c=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,h.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:c?(b+100*(c-v-1))/c:100}}))},g.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var b=this.streamFiles&&!d.file.dir;if(b){var c=a(d,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(d){this.accumulate=!1;var b=this.streamFiles&&!d.file.dir,c=a(d,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),b)this.push({data:function(v){return m.DATA_DESCRIPTOR+r(v.crc32,4)+r(v.compressedSize,4)+r(v.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var d=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var c=this.bytesWritten-d,v=function(f,y,S,I,E){var L=s.transformTo("string",E(I));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(f,2)+r(f,2)+r(y,4)+r(S,4)+r(L.length,2)+L}(this.dirRecords.length,c,d,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(d){this._sources.push(d);var b=this;return d.on("data",function(c){b.processChunk(c)}),d.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),d.on("error",function(c){b.error(c)}),this},g.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(d){var b=this._sources;if(!h.prototype.error.call(this,d))return!1;for(var c=0;c<b.length;c++)try{b[c].error(d)}catch{}return!0},g.prototype.lock=function(){h.prototype.lock.call(this);for(var d=this._sources,b=0;b<d.length;b++)d[b].lock()},l.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,l,i){var r=n("../compressions"),a=n("./ZipFileWorker");i.generateWorker=function(s,h,p){var _=new a(h.streamFiles,p,h.platform,h.encodeFileName),m=0;try{s.forEach(function(g,d){m++;var b=function(y,S){var I=y||S,E=r[I];if(!E)throw new Error(I+" is not a valid compression method !");return E}(d.options.compression,h.compression),c=d.options.compressionOptions||h.compressionOptions||{},v=d.dir,f=d.date;d._compressWorker(b,c).withStreamInfo("file",{name:g,dir:v,date:f,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(_)}),_.entriesCount=m}catch(g){_.error(g)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,l,i){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new r;for(var s in this)typeof this[s]!="function"&&(a[s]=this[s]);return a}}(r.prototype=n("./object")).loadAsync=n("./load"),r.support=n("./support"),r.defaults=n("./defaults"),r.version="3.10.1",r.loadAsync=function(a,s){return new r().loadAsync(a,s)},r.external=n("./external"),l.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,l,i){var r=n("./utils"),a=n("./external"),s=n("./utf8"),h=n("./zipEntries"),p=n("./stream/Crc32Probe"),_=n("./nodejsUtils");function m(g){return new a.Promise(function(d,b){var c=g.decompressed.getContentWorker().pipe(new p);c.on("error",function(v){b(v)}).on("end",function(){c.streamInfo.crc32!==g.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}l.exports=function(g,d){var b=this;return d=r.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),_.isNode&&_.isStream(g)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",g,!0,d.optimizedBinaryString,d.base64).then(function(c){var v=new h(d);return v.load(c),v}).then(function(c){var v=[a.Promise.resolve(c)],f=c.files;if(d.checkCRC32)for(var y=0;y<f.length;y++)v.push(m(f[y]));return a.Promise.all(v)}).then(function(c){for(var v=c.shift(),f=v.files,y=0;y<f.length;y++){var S=f[y],I=S.fileNameStr,E=r.resolve(S.fileNameStr);b.file(E,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:d.createFolders}),S.dir||(b.file(E).unsafeOriginalName=I)}return v.zipComment.length&&(b.comment=v.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,l,i){var r=n("../utils"),a=n("../stream/GenericWorker");function s(h,p){a.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(p)}r.inherits(s,a),s.prototype._bindStream=function(h){var p=this;(this._stream=h).pause(),h.on("data",function(_){p.push({data:_,meta:{percent:0}})}).on("error",function(_){p.isPaused?this.generatedError=_:p.error(_)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},s.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},l.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,l,i){var r=n("readable-stream").Readable;function a(s,h,p){r.call(this,h),this._helper=s;var _=this;s.on("data",function(m,g){_.push(m)||_._helper.pause(),p&&p(g)}).on("error",function(m){_.emit("error",m)}).on("end",function(){_.push(null)})}n("../utils").inherits(a,r),a.prototype._read=function(){this._helper.resume()},l.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,l,i){l.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,a);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,a)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var a=new Buffer(r);return a.fill(0),a},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(n,l,i){function r(E,L,P){var D,N=s.getTypeOf(L),M=s.extend(P||{},_);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(E=f(E)),M.createFolders&&(D=v(E))&&y.call(this,D,!0);var j=N==="string"&&M.binary===!1&&M.base64===!1;P&&P.binary!==void 0||(M.binary=!j),(L instanceof m&&L.uncompressedSize===0||M.dir||!L||L.length===0)&&(M.base64=!1,M.binary=!0,L="",M.compression="STORE",N="string");var x=null;x=L instanceof m||L instanceof h?L:b.isNode&&b.isStream(L)?new c(E,L):s.prepareContent(E,L,M.binary,M.optimizedBinaryString,M.base64);var z=new g(E,x,M);this.files[E]=z}var a=n("./utf8"),s=n("./utils"),h=n("./stream/GenericWorker"),p=n("./stream/StreamHelper"),_=n("./defaults"),m=n("./compressedObject"),g=n("./zipObject"),d=n("./generate"),b=n("./nodejsUtils"),c=n("./nodejs/NodejsStreamInputAdapter"),v=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var L=E.lastIndexOf("/");return 0<L?E.substring(0,L):""},f=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},y=function(E,L){return L=L!==void 0?L:_.createFolders,E=f(E),this.files[E]||r.call(this,E,null,{dir:!0,createFolders:L}),this.files[E]};function S(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var L,P,D;for(L in this.files)D=this.files[L],(P=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&E(P,D)},filter:function(E){var L=[];return this.forEach(function(P,D){E(P,D)&&L.push(D)}),L},file:function(E,L,P){if(arguments.length!==1)return E=this.root+E,r.call(this,E,L,P),this;if(S(E)){var D=E;return this.filter(function(M,j){return!j.dir&&D.test(M)})}var N=this.files[this.root+E];return N&&!N.dir?N:null},folder:function(E){if(!E)return this;if(S(E))return this.filter(function(N,M){return M.dir&&E.test(N)});var L=this.root+E,P=y.call(this,L),D=this.clone();return D.root=P.name,D},remove:function(E){E=this.root+E;var L=this.files[E];if(L||(E.slice(-1)!=="/"&&(E+="/"),L=this.files[E]),L&&!L.dir)delete this.files[E];else for(var P=this.filter(function(N,M){return M.name.slice(0,E.length)===E}),D=0;D<P.length;D++)delete this.files[P[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var L,P={};try{if((P=s.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");s.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var D=P.comment||this.comment||"";L=d.generateWorker(this,P,D)}catch(N){(L=new h("error")).error(N)}return new p(L,P.type||"string",P.mimeType)},generateAsync:function(E,L){return this.generateInternalStream(E).accumulate(L)},generateNodeStream:function(E,L){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(L)}};l.exports=I},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,l,i){l.exports=n("stream")},{stream:void 0}],17:[function(n,l,i){var r=n("./DataReader");function a(s){r.call(this,s);for(var h=0;h<this.data.length;h++)s[h]=255&s[h]}n("../utils").inherits(a,r),a.prototype.byteAt=function(s){return this.data[this.zero+s]},a.prototype.lastIndexOfSignature=function(s){for(var h=s.charCodeAt(0),p=s.charCodeAt(1),_=s.charCodeAt(2),m=s.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===h&&this.data[g+1]===p&&this.data[g+2]===_&&this.data[g+3]===m)return g-this.zero;return-1},a.prototype.readAndCheckSignature=function(s){var h=s.charCodeAt(0),p=s.charCodeAt(1),_=s.charCodeAt(2),m=s.charCodeAt(3),g=this.readData(4);return h===g[0]&&p===g[1]&&_===g[2]&&m===g[3]},a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,h},l.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,l,i){var r=n("../utils");function a(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var h,p=0;for(this.checkOffset(s),h=this.index+s-1;h>=this.index;h--)p=(p<<8)+this.byteAt(h);return this.index+=s,p},readString:function(s){return r.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},l.exports=a},{"../utils":32}],19:[function(n,l,i){var r=n("./Uint8ArrayReader");function a(s){r.call(this,s)}n("../utils").inherits(a,r),a.prototype.readData=function(s){this.checkOffset(s);var h=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,h},l.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,l,i){var r=n("./DataReader");function a(s){r.call(this,s)}n("../utils").inherits(a,r),a.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},a.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},a.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},a.prototype.readData=function(s){this.checkOffset(s);var h=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,h},l.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,l,i){var r=n("./ArrayReader");function a(s){r.call(this,s)}n("../utils").inherits(a,r),a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,h},l.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,l,i){var r=n("../utils"),a=n("../support"),s=n("./ArrayReader"),h=n("./StringReader"),p=n("./NodeBufferReader"),_=n("./Uint8ArrayReader");l.exports=function(m){var g=r.getTypeOf(m);return r.checkSupport(g),g!=="string"||a.uint8array?g==="nodebuffer"?new p(m):a.uint8array?new _(r.transformTo("uint8array",m)):new s(r.transformTo("array",m)):new h(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,l,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,l,i){var r=n("./GenericWorker"),a=n("../utils");function s(h){r.call(this,"ConvertWorker to "+h),this.destType=h}a.inherits(s,r),s.prototype.processChunk=function(h){this.push({data:a.transformTo(this.destType,h.data),meta:h.meta})},l.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(n,l,i){var r=n("./GenericWorker"),a=n("../crc32");function s(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(s,r),s.prototype.processChunk=function(h){this.streamInfo.crc32=a(h.data,this.streamInfo.crc32||0),this.push(h)},l.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,l,i){var r=n("../utils"),a=n("./GenericWorker");function s(h){a.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}r.inherits(s,a),s.prototype.processChunk=function(h){if(h){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+h.data.length}a.prototype.processChunk.call(this,h)},l.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(n,l,i){var r=n("../utils"),a=n("./GenericWorker");function s(h){a.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(_){p.dataIsReady=!0,p.data=_,p.max=_&&_.length||0,p.type=r.getTypeOf(_),p.isPaused||p._tickAndRepeat()},function(_){p.error(_)})}r.inherits(s,a),s.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,p);break;case"uint8array":h=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":h=this.data.slice(this.index,p)}return this.index=p,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},l.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(n,l,i){function r(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,s){return this._listeners[a].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,s){if(this._listeners[a])for(var h=0;h<this._listeners[a].length;h++)this._listeners[a][h].call(this,s)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var s=this;return a.on("data",function(h){s.processChunk(h)}),a.on("end",function(){s.end()}),a.on("error",function(h){s.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,s){return this.extraStreamInfo[a]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},l.exports=r},{}],29:[function(n,l,i){var r=n("../utils"),a=n("./ConvertWorker"),s=n("./GenericWorker"),h=n("../base64"),p=n("../support"),_=n("../external"),m=null;if(p.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(b,c){return new _.Promise(function(v,f){var y=[],S=b._internalType,I=b._outputType,E=b._mimeType;b.on("data",function(L,P){y.push(L),c&&c(P)}).on("error",function(L){y=[],f(L)}).on("end",function(){try{var L=function(P,D,N){switch(P){case"blob":return r.newBlob(r.transformTo("arraybuffer",D),N);case"base64":return h.encode(D);default:return r.transformTo(P,D)}}(I,function(P,D){var N,M=0,j=null,x=0;for(N=0;N<D.length;N++)x+=D[N].length;switch(P){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(j=new Uint8Array(x),N=0;N<D.length;N++)j.set(D[N],M),M+=D[N].length;return j;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+P+"'")}}(S,y),E);v(L)}catch(P){f(P)}y=[]}).resume()})}function d(b,c,v){var f=c;switch(c){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=c,this._mimeType=v,r.checkSupport(f),this._worker=b.pipe(new a(f)),b.lock()}catch(y){this._worker=new s("error"),this._worker.error(y)}}d.prototype={accumulate:function(b){return g(this,b)},on:function(b,c){var v=this;return b==="data"?this._worker.on(b,function(f){c.call(v,f.data,f.meta)}):this._worker.on(b,function(){r.delay(c,arguments,v)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},b)}},l.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,l,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var r=new ArrayBuffer(0);try{i.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(r),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,l,i){for(var r=n("./utils"),a=n("./support"),s=n("./nodejsUtils"),h=n("./stream/GenericWorker"),p=new Array(256),_=0;_<256;_++)p[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;p[254]=p[254]=1;function m(){h.call(this,"utf-8 decode"),this.leftOver=null}function g(){h.call(this,"utf-8 encode")}i.utf8encode=function(d){return a.nodebuffer?s.newBufferFrom(d,"utf-8"):function(b){var c,v,f,y,S,I=b.length,E=0;for(y=0;y<I;y++)(64512&(v=b.charCodeAt(y)))==55296&&y+1<I&&(64512&(f=b.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(f-56320),y++),E+=v<128?1:v<2048?2:v<65536?3:4;for(c=a.uint8array?new Uint8Array(E):new Array(E),y=S=0;S<E;y++)(64512&(v=b.charCodeAt(y)))==55296&&y+1<I&&(64512&(f=b.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(f-56320),y++),v<128?c[S++]=v:(v<2048?c[S++]=192|v>>>6:(v<65536?c[S++]=224|v>>>12:(c[S++]=240|v>>>18,c[S++]=128|v>>>12&63),c[S++]=128|v>>>6&63),c[S++]=128|63&v);return c}(d)},i.utf8decode=function(d){return a.nodebuffer?r.transformTo("nodebuffer",d).toString("utf-8"):function(b){var c,v,f,y,S=b.length,I=new Array(2*S);for(c=v=0;c<S;)if((f=b[c++])<128)I[v++]=f;else if(4<(y=p[f]))I[v++]=65533,c+=y-1;else{for(f&=y===2?31:y===3?15:7;1<y&&c<S;)f=f<<6|63&b[c++],y--;1<y?I[v++]=65533:f<65536?I[v++]=f:(f-=65536,I[v++]=55296|f>>10&1023,I[v++]=56320|1023&f)}return I.length!==v&&(I.subarray?I=I.subarray(0,v):I.length=v),r.applyFromCharCode(I)}(d=r.transformTo(a.uint8array?"uint8array":"array",d))},r.inherits(m,h),m.prototype.processChunk=function(d){var b=r.transformTo(a.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var c=b;(b=new Uint8Array(c.length+this.leftOver.length)).set(this.leftOver,0),b.set(c,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var v=function(y,S){var I;for((S=S||y.length)>y.length&&(S=y.length),I=S-1;0<=I&&(192&y[I])==128;)I--;return I<0||I===0?S:I+p[y[I]]>S?I:S}(b),f=b;v!==b.length&&(a.uint8array?(f=b.subarray(0,v),this.leftOver=b.subarray(v,b.length)):(f=b.slice(0,v),this.leftOver=b.slice(v,b.length))),this.push({data:i.utf8decode(f),meta:d.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,r.inherits(g,h),g.prototype.processChunk=function(d){this.push({data:i.utf8encode(d.data),meta:d.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,l,i){var r=n("./support"),a=n("./base64"),s=n("./nodejsUtils"),h=n("./external");function p(c){return c}function _(c,v){for(var f=0;f<c.length;++f)v[f]=255&c.charCodeAt(f);return v}n("setimmediate"),i.newBlob=function(c,v){i.checkSupport("blob");try{return new Blob([c],{type:v})}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return f.append(c),f.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(c,v,f){var y=[],S=0,I=c.length;if(I<=f)return String.fromCharCode.apply(null,c);for(;S<I;)v==="array"||v==="nodebuffer"?y.push(String.fromCharCode.apply(null,c.slice(S,Math.min(S+f,I)))):y.push(String.fromCharCode.apply(null,c.subarray(S,Math.min(S+f,I)))),S+=f;return y.join("")},stringifyByChar:function(c){for(var v="",f=0;f<c.length;f++)v+=String.fromCharCode(c[f]);return v},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function g(c){var v=65536,f=i.getTypeOf(c),y=!0;if(f==="uint8array"?y=m.applyCanBeUsed.uint8array:f==="nodebuffer"&&(y=m.applyCanBeUsed.nodebuffer),y)for(;1<v;)try{return m.stringifyByChunk(c,f,v)}catch{v=Math.floor(v/2)}return m.stringifyByChar(c)}function d(c,v){for(var f=0;f<c.length;f++)v[f]=c[f];return v}i.applyFromCharCode=g;var b={};b.string={string:p,array:function(c){return _(c,new Array(c.length))},arraybuffer:function(c){return b.string.uint8array(c).buffer},uint8array:function(c){return _(c,new Uint8Array(c.length))},nodebuffer:function(c){return _(c,s.allocBuffer(c.length))}},b.array={string:g,array:p,arraybuffer:function(c){return new Uint8Array(c).buffer},uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return s.newBufferFrom(c)}},b.arraybuffer={string:function(c){return g(new Uint8Array(c))},array:function(c){return d(new Uint8Array(c),new Array(c.byteLength))},arraybuffer:p,uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return s.newBufferFrom(new Uint8Array(c))}},b.uint8array={string:g,array:function(c){return d(c,new Array(c.length))},arraybuffer:function(c){return c.buffer},uint8array:p,nodebuffer:function(c){return s.newBufferFrom(c)}},b.nodebuffer={string:g,array:function(c){return d(c,new Array(c.length))},arraybuffer:function(c){return b.nodebuffer.uint8array(c).buffer},uint8array:function(c){return d(c,new Uint8Array(c.length))},nodebuffer:p},i.transformTo=function(c,v){if(v=v||"",!c)return v;i.checkSupport(c);var f=i.getTypeOf(v);return b[f][c](v)},i.resolve=function(c){for(var v=c.split("/"),f=[],y=0;y<v.length;y++){var S=v[y];S==="."||S===""&&y!==0&&y!==v.length-1||(S===".."?f.pop():f.push(S))}return f.join("/")},i.getTypeOf=function(c){return typeof c=="string"?"string":Object.prototype.toString.call(c)==="[object Array]"?"array":r.nodebuffer&&s.isBuffer(c)?"nodebuffer":r.uint8array&&c instanceof Uint8Array?"uint8array":r.arraybuffer&&c instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(c){if(!r[c.toLowerCase()])throw new Error(c+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(c){var v,f,y="";for(f=0;f<(c||"").length;f++)y+="\\x"+((v=c.charCodeAt(f))<16?"0":"")+v.toString(16).toUpperCase();return y},i.delay=function(c,v,f){setImmediate(function(){c.apply(f||null,v||[])})},i.inherits=function(c,v){function f(){}f.prototype=v.prototype,c.prototype=new f},i.extend=function(){var c,v,f={};for(c=0;c<arguments.length;c++)for(v in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],v)&&f[v]===void 0&&(f[v]=arguments[c][v]);return f},i.prepareContent=function(c,v,f,y,S){return h.Promise.resolve(v).then(function(I){return r.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1)&&typeof FileReader<"u"?new h.Promise(function(E,L){var P=new FileReader;P.onload=function(D){E(D.target.result)},P.onerror=function(D){L(D.target.error)},P.readAsArrayBuffer(I)}):I}).then(function(I){var E=i.getTypeOf(I);return E?(E==="arraybuffer"?I=i.transformTo("uint8array",I):E==="string"&&(S?I=a.decode(I):f&&y!==!0&&(I=function(L){return _(L,r.uint8array?new Uint8Array(L.length):new Array(L.length))}(I))),I):h.Promise.reject(new Error("Can't read the data of '"+c+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,l,i){var r=n("./reader/readerFor"),a=n("./utils"),s=n("./signature"),h=n("./zipEntry"),p=n("./support");function _(m){this.files=[],this.loadOptions=m}_.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(g)+", expected "+a.pretty(m)+")")}},isSignature:function(m,g){var d=this.reader.index;this.reader.setIndex(m);var b=this.reader.readString(4)===g;return this.reader.setIndex(d),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),g=p.uint8array?"uint8array":"array",d=a.transformTo(g,m);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,g,d,b=this.zip64EndOfCentralSize-44;0<b;)m=this.reader.readInt(2),g=this.reader.readInt(4),d=this.reader.readData(g),this.zip64ExtensibleData[m]={id:m,length:g,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,g;for(m=0;m<this.files.length;m++)g=this.files[m],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(m=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var g=m;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var b=g-d;if(0<b)this.isSignature(g,s.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(m){this.reader=r(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},l.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,l,i){var r=n("./reader/readerFor"),a=n("./utils"),s=n("./compressedObject"),h=n("./crc32"),p=n("./utf8"),_=n("./compressions"),m=n("./support");function g(d,b){this.options=d,this.loadOptions=b}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var b,c;if(d.skip(22),this.fileNameLength=d.readInt(2),c=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(v){for(var f in _)if(Object.prototype.hasOwnProperty.call(_,f)&&_[f].magic===v)return _[f];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,b,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var b=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(b),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=r(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var b,c,v,f=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<f;)b=d.readInt(2),c=d.readInt(2),v=d.readData(c),this.extraFields[b]={id:b,length:c,value:v};d.setIndex(f)},handleUTF8:function(){var d=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var c=a.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var f=a.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var b=r(d.value);return b.readInt(1)!==1||h(this.fileName)!==b.readInt(4)?null:p.utf8decode(b.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var b=r(d.value);return b.readInt(1)!==1||h(this.fileComment)!==b.readInt(4)?null:p.utf8decode(b.readData(d.length-5))}return null}},l.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,l,i){function r(b,c,v){this.name=b,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=c,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var a=n("./stream/StreamHelper"),s=n("./stream/DataWorker"),h=n("./utf8"),p=n("./compressedObject"),_=n("./stream/GenericWorker");r.prototype={internalStream:function(b){var c=null,v="string";try{if(!b)throw new Error("No output type specified.");var f=(v=b.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),c=this._decompressWorker();var y=!this._dataBinary;y&&!f&&(c=c.pipe(new h.Utf8EncodeWorker)),!y&&f&&(c=c.pipe(new h.Utf8DecodeWorker))}catch(S){(c=new _("error")).error(S)}return new a(c,v,"")},async:function(b,c){return this.internalStream(b).accumulate(c)},nodeStream:function(b,c){return this.internalStream(b||"nodebuffer").toNodejsStream(c)},_compressWorker:function(b,c){if(this._data instanceof p&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new h.Utf8EncodeWorker)),p.createWorkerFrom(v,b,c)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof _?this._data:new s(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<m.length;d++)r.prototype[m[d]]=g;l.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,l,i){(function(r){var a,s,h=r.MutationObserver||r.WebKitMutationObserver;if(h){var p=0,_=new h(b),m=r.document.createTextNode("");_.observe(m,{characterData:!0}),a=function(){m.data=p=++p%2}}else if(r.setImmediate||r.MessageChannel===void 0)a="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var c=r.document.createElement("script");c.onreadystatechange=function(){b(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},r.document.documentElement.appendChild(c)}:function(){setTimeout(b,0)};else{var g=new r.MessageChannel;g.port1.onmessage=b,a=function(){g.port2.postMessage(0)}}var d=[];function b(){var c,v;s=!0;for(var f=d.length;f;){for(v=d,d=[],c=-1;++c<f;)v[c]();f=d.length}s=!1}l.exports=function(c){d.push(c)!==1||s||a()}}).call(this,typeof vn<"u"?vn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,l,i){var r=n("immediate");function a(){}var s={},h=["REJECTED"],p=["FULFILLED"],_=["PENDING"];function m(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,f!==a&&c(this,f)}function g(f,y,S){this.promise=f,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function d(f,y,S){r(function(){var I;try{I=y(S)}catch(E){return s.reject(f,E)}I===f?s.reject(f,new TypeError("Cannot resolve promise with itself")):s.resolve(f,I)})}function b(f){var y=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof y=="function")return function(){y.apply(f,arguments)}}function c(f,y){var S=!1;function I(P){S||(S=!0,s.reject(f,P))}function E(P){S||(S=!0,s.resolve(f,P))}var L=v(function(){y(E,I)});L.status==="error"&&I(L.value)}function v(f,y){var S={};try{S.value=f(y),S.status="success"}catch(I){S.status="error",S.value=I}return S}(l.exports=m).prototype.finally=function(f){if(typeof f!="function")return this;var y=this.constructor;return this.then(function(S){return y.resolve(f()).then(function(){return S})},function(S){return y.resolve(f()).then(function(){throw S})})},m.prototype.catch=function(f){return this.then(null,f)},m.prototype.then=function(f,y){if(typeof f!="function"&&this.state===p||typeof y!="function"&&this.state===h)return this;var S=new this.constructor(a);return this.state!==_?d(S,this.state===p?f:y,this.outcome):this.queue.push(new g(S,f,y)),S},g.prototype.callFulfilled=function(f){s.resolve(this.promise,f)},g.prototype.otherCallFulfilled=function(f){d(this.promise,this.onFulfilled,f)},g.prototype.callRejected=function(f){s.reject(this.promise,f)},g.prototype.otherCallRejected=function(f){d(this.promise,this.onRejected,f)},s.resolve=function(f,y){var S=v(b,y);if(S.status==="error")return s.reject(f,S.value);var I=S.value;if(I)c(f,I);else{f.state=p,f.outcome=y;for(var E=-1,L=f.queue.length;++E<L;)f.queue[E].callFulfilled(y)}return f},s.reject=function(f,y){f.state=h,f.outcome=y;for(var S=-1,I=f.queue.length;++S<I;)f.queue[S].callRejected(y);return f},m.resolve=function(f){return f instanceof this?f:s.resolve(new this(a),f)},m.reject=function(f){var y=new this(a);return s.reject(y,f)},m.all=function(f){var y=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=f.length,I=!1;if(!S)return this.resolve([]);for(var E=new Array(S),L=0,P=-1,D=new this(a);++P<S;)N(f[P],P);return D;function N(M,j){y.resolve(M).then(function(x){E[j]=x,++L!==S||I||(I=!0,s.resolve(D,E))},function(x){I||(I=!0,s.reject(D,x))})}},m.race=function(f){var y=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=f.length,I=!1;if(!S)return this.resolve([]);for(var E=-1,L=new this(a);++E<S;)P=f[E],y.resolve(P).then(function(D){I||(I=!0,s.resolve(L,D))},function(D){I||(I=!0,s.reject(L,D))});var P;return L}},{immediate:36}],38:[function(n,l,i){var r={};(0,n("./lib/utils/common").assign)(r,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),l.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,l,i){var r=n("./zlib/deflate"),a=n("./utils/common"),s=n("./utils/strings"),h=n("./zlib/messages"),p=n("./zlib/zstream"),_=Object.prototype.toString,m=0,g=-1,d=0,b=8;function c(f){if(!(this instanceof c))return new c(f);this.options=a.assign({level:g,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},f||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var S=r.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(S!==m)throw new Error(h[S]);if(y.header&&r.deflateSetHeader(this.strm,y.header),y.dictionary){var I;if(I=typeof y.dictionary=="string"?s.string2buf(y.dictionary):_.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(S=r.deflateSetDictionary(this.strm,I))!==m)throw new Error(h[S]);this._dict_set=!0}}function v(f,y){var S=new c(y);if(S.push(f,!0),S.err)throw S.msg||h[S.err];return S.result}c.prototype.push=function(f,y){var S,I,E=this.strm,L=this.options.chunkSize;if(this.ended)return!1;I=y===~~y?y:y===!0?4:0,typeof f=="string"?E.input=s.string2buf(f):_.call(f)==="[object ArrayBuffer]"?E.input=new Uint8Array(f):E.input=f,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new a.Buf8(L),E.next_out=0,E.avail_out=L),(S=r.deflate(E,I))!==1&&S!==m)return this.onEnd(S),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||I!==4&&I!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(E.output,E.next_out))):this.onData(a.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&S!==1);return I===4?(S=r.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===m):I!==2||(this.onEnd(m),!(E.avail_out=0))},c.prototype.onData=function(f){this.chunks.push(f)},c.prototype.onEnd=function(f){f===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},i.Deflate=c,i.deflate=v,i.deflateRaw=function(f,y){return(y=y||{}).raw=!0,v(f,y)},i.gzip=function(f,y){return(y=y||{}).gzip=!0,v(f,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,l,i){var r=n("./zlib/inflate"),a=n("./utils/common"),s=n("./utils/strings"),h=n("./zlib/constants"),p=n("./zlib/messages"),_=n("./zlib/zstream"),m=n("./zlib/gzheader"),g=Object.prototype.toString;function d(c){if(!(this instanceof d))return new d(c);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},c||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||c&&c.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&(15&v.windowBits)==0&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var f=r.inflateInit2(this.strm,v.windowBits);if(f!==h.Z_OK)throw new Error(p[f]);this.header=new m,r.inflateGetHeader(this.strm,this.header)}function b(c,v){var f=new d(v);if(f.push(c,!0),f.err)throw f.msg||p[f.err];return f.result}d.prototype.push=function(c,v){var f,y,S,I,E,L,P=this.strm,D=this.options.chunkSize,N=this.options.dictionary,M=!1;if(this.ended)return!1;y=v===~~v?v:v===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof c=="string"?P.input=s.binstring2buf(c):g.call(c)==="[object ArrayBuffer]"?P.input=new Uint8Array(c):P.input=c,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new a.Buf8(D),P.next_out=0,P.avail_out=D),(f=r.inflate(P,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&N&&(L=typeof N=="string"?s.string2buf(N):g.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,f=r.inflateSetDictionary(this.strm,L)),f===h.Z_BUF_ERROR&&M===!0&&(f=h.Z_OK,M=!1),f!==h.Z_STREAM_END&&f!==h.Z_OK)return this.onEnd(f),!(this.ended=!0);P.next_out&&(P.avail_out!==0&&f!==h.Z_STREAM_END&&(P.avail_in!==0||y!==h.Z_FINISH&&y!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=s.utf8border(P.output,P.next_out),I=P.next_out-S,E=s.buf2string(P.output,S),P.next_out=I,P.avail_out=D-I,I&&a.arraySet(P.output,P.output,S,I,0),this.onData(E)):this.onData(a.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(M=!0)}while((0<P.avail_in||P.avail_out===0)&&f!==h.Z_STREAM_END);return f===h.Z_STREAM_END&&(y=h.Z_FINISH),y===h.Z_FINISH?(f=r.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===h.Z_OK):y!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(P.avail_out=0))},d.prototype.onData=function(c){this.chunks.push(c)},d.prototype.onEnd=function(c){c===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},i.Inflate=d,i.inflate=b,i.inflateRaw=function(c,v){return(v=v||{}).raw=!0,b(c,v)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,l,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(h){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var _=p.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var m in _)_.hasOwnProperty(m)&&(h[m]=_[m])}}return h},i.shrinkBuf=function(h,p){return h.length===p?h:h.subarray?h.subarray(0,p):(h.length=p,h)};var a={arraySet:function(h,p,_,m,g){if(p.subarray&&h.subarray)h.set(p.subarray(_,_+m),g);else for(var d=0;d<m;d++)h[g+d]=p[_+d]},flattenChunks:function(h){var p,_,m,g,d,b;for(p=m=0,_=h.length;p<_;p++)m+=h[p].length;for(b=new Uint8Array(m),p=g=0,_=h.length;p<_;p++)d=h[p],b.set(d,g),g+=d.length;return b}},s={arraySet:function(h,p,_,m,g){for(var d=0;d<m;d++)h[g+d]=p[_+d]},flattenChunks:function(h){return[].concat.apply([],h)}};i.setTyped=function(h){h?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(r)},{}],42:[function(n,l,i){var r=n("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var h=new r.Buf8(256),p=0;p<256;p++)h[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function _(m,g){if(g<65537&&(m.subarray&&s||!m.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(m,g));for(var d="",b=0;b<g;b++)d+=String.fromCharCode(m[b]);return d}h[254]=h[254]=1,i.string2buf=function(m){var g,d,b,c,v,f=m.length,y=0;for(c=0;c<f;c++)(64512&(d=m.charCodeAt(c)))==55296&&c+1<f&&(64512&(b=m.charCodeAt(c+1)))==56320&&(d=65536+(d-55296<<10)+(b-56320),c++),y+=d<128?1:d<2048?2:d<65536?3:4;for(g=new r.Buf8(y),c=v=0;v<y;c++)(64512&(d=m.charCodeAt(c)))==55296&&c+1<f&&(64512&(b=m.charCodeAt(c+1)))==56320&&(d=65536+(d-55296<<10)+(b-56320),c++),d<128?g[v++]=d:(d<2048?g[v++]=192|d>>>6:(d<65536?g[v++]=224|d>>>12:(g[v++]=240|d>>>18,g[v++]=128|d>>>12&63),g[v++]=128|d>>>6&63),g[v++]=128|63&d);return g},i.buf2binstring=function(m){return _(m,m.length)},i.binstring2buf=function(m){for(var g=new r.Buf8(m.length),d=0,b=g.length;d<b;d++)g[d]=m.charCodeAt(d);return g},i.buf2string=function(m,g){var d,b,c,v,f=g||m.length,y=new Array(2*f);for(d=b=0;d<f;)if((c=m[d++])<128)y[b++]=c;else if(4<(v=h[c]))y[b++]=65533,d+=v-1;else{for(c&=v===2?31:v===3?15:7;1<v&&d<f;)c=c<<6|63&m[d++],v--;1<v?y[b++]=65533:c<65536?y[b++]=c:(c-=65536,y[b++]=55296|c>>10&1023,y[b++]=56320|1023&c)}return _(y,b)},i.utf8border=function(m,g){var d;for((g=g||m.length)>m.length&&(g=m.length),d=g-1;0<=d&&(192&m[d])==128;)d--;return d<0||d===0?g:d+h[m[d]]>g?d:g}},{"./common":41}],43:[function(n,l,i){l.exports=function(r,a,s,h){for(var p=65535&r|0,_=r>>>16&65535|0,m=0;s!==0;){for(s-=m=2e3<s?2e3:s;_=_+(p=p+a[h++]|0)|0,--m;);p%=65521,_%=65521}return p|_<<16|0}},{}],44:[function(n,l,i){l.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,l,i){var r=function(){for(var a,s=[],h=0;h<256;h++){a=h;for(var p=0;p<8;p++)a=1&a?3988292384^a>>>1:a>>>1;s[h]=a}return s}();l.exports=function(a,s,h,p){var _=r,m=p+h;a^=-1;for(var g=p;g<m;g++)a=a>>>8^_[255&(a^s[g])];return-1^a}},{}],46:[function(n,l,i){var r,a=n("../utils/common"),s=n("./trees"),h=n("./adler32"),p=n("./crc32"),_=n("./messages"),m=0,g=4,d=0,b=-2,c=-1,v=4,f=2,y=8,S=9,I=286,E=30,L=19,P=2*I+1,D=15,N=3,M=258,j=M+N+1,x=42,z=113,u=1,$=2,st=3,W=4;function ut(o,B){return o.msg=_[B],B}function G(o){return(o<<1)-(4<o?9:0)}function it(o){for(var B=o.length;0<=--B;)o[B]=0}function F(o){var B=o.state,A=B.pending;A>o.avail_out&&(A=o.avail_out),A!==0&&(a.arraySet(o.output,B.pending_buf,B.pending_out,A,o.next_out),o.next_out+=A,B.pending_out+=A,o.total_out+=A,o.avail_out-=A,B.pending-=A,B.pending===0&&(B.pending_out=0))}function T(o,B){s._tr_flush_block(o,0<=o.block_start?o.block_start:-1,o.strstart-o.block_start,B),o.block_start=o.strstart,F(o.strm)}function rt(o,B){o.pending_buf[o.pending++]=B}function X(o,B){o.pending_buf[o.pending++]=B>>>8&255,o.pending_buf[o.pending++]=255&B}function H(o,B){var A,k,w=o.max_chain_length,O=o.strstart,U=o.prev_length,V=o.nice_match,R=o.strstart>o.w_size-j?o.strstart-(o.w_size-j):0,J=o.window,Y=o.w_mask,Z=o.prev,et=o.strstart+M,vt=J[O+U-1],ht=J[O+U];o.prev_length>=o.good_match&&(w>>=2),V>o.lookahead&&(V=o.lookahead);do if(J[(A=B)+U]===ht&&J[A+U-1]===vt&&J[A]===J[O]&&J[++A]===J[O+1]){O+=2,A++;do;while(J[++O]===J[++A]&&J[++O]===J[++A]&&J[++O]===J[++A]&&J[++O]===J[++A]&&J[++O]===J[++A]&&J[++O]===J[++A]&&J[++O]===J[++A]&&J[++O]===J[++A]&&O<et);if(k=M-(et-O),O=et-M,U<k){if(o.match_start=B,V<=(U=k))break;vt=J[O+U-1],ht=J[O+U]}}while((B=Z[B&Y])>R&&--w!=0);return U<=o.lookahead?U:o.lookahead}function bt(o){var B,A,k,w,O,U,V,R,J,Y,Z=o.w_size;do{if(w=o.window_size-o.lookahead-o.strstart,o.strstart>=Z+(Z-j)){for(a.arraySet(o.window,o.window,Z,Z,0),o.match_start-=Z,o.strstart-=Z,o.block_start-=Z,B=A=o.hash_size;k=o.head[--B],o.head[B]=Z<=k?k-Z:0,--A;);for(B=A=Z;k=o.prev[--B],o.prev[B]=Z<=k?k-Z:0,--A;);w+=Z}if(o.strm.avail_in===0)break;if(U=o.strm,V=o.window,R=o.strstart+o.lookahead,J=w,Y=void 0,Y=U.avail_in,J<Y&&(Y=J),A=Y===0?0:(U.avail_in-=Y,a.arraySet(V,U.input,U.next_in,Y,R),U.state.wrap===1?U.adler=h(U.adler,V,Y,R):U.state.wrap===2&&(U.adler=p(U.adler,V,Y,R)),U.next_in+=Y,U.total_in+=Y,Y),o.lookahead+=A,o.lookahead+o.insert>=N)for(O=o.strstart-o.insert,o.ins_h=o.window[O],o.ins_h=(o.ins_h<<o.hash_shift^o.window[O+1])&o.hash_mask;o.insert&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[O+N-1])&o.hash_mask,o.prev[O&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=O,O++,o.insert--,!(o.lookahead+o.insert<N)););}while(o.lookahead<j&&o.strm.avail_in!==0)}function Ct(o,B){for(var A,k;;){if(o.lookahead<j){if(bt(o),o.lookahead<j&&B===m)return u;if(o.lookahead===0)break}if(A=0,o.lookahead>=N&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+N-1])&o.hash_mask,A=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),A!==0&&o.strstart-A<=o.w_size-j&&(o.match_length=H(o,A)),o.match_length>=N)if(k=s._tr_tally(o,o.strstart-o.match_start,o.match_length-N),o.lookahead-=o.match_length,o.match_length<=o.max_lazy_match&&o.lookahead>=N){for(o.match_length--;o.strstart++,o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+N-1])&o.hash_mask,A=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart,--o.match_length!=0;);o.strstart++}else o.strstart+=o.match_length,o.match_length=0,o.ins_h=o.window[o.strstart],o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+1])&o.hash_mask;else k=s._tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++;if(k&&(T(o,!1),o.strm.avail_out===0))return u}return o.insert=o.strstart<N-1?o.strstart:N-1,B===g?(T(o,!0),o.strm.avail_out===0?st:W):o.last_lit&&(T(o,!1),o.strm.avail_out===0)?u:$}function ct(o,B){for(var A,k,w;;){if(o.lookahead<j){if(bt(o),o.lookahead<j&&B===m)return u;if(o.lookahead===0)break}if(A=0,o.lookahead>=N&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+N-1])&o.hash_mask,A=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),o.prev_length=o.match_length,o.prev_match=o.match_start,o.match_length=N-1,A!==0&&o.prev_length<o.max_lazy_match&&o.strstart-A<=o.w_size-j&&(o.match_length=H(o,A),o.match_length<=5&&(o.strategy===1||o.match_length===N&&4096<o.strstart-o.match_start)&&(o.match_length=N-1)),o.prev_length>=N&&o.match_length<=o.prev_length){for(w=o.strstart+o.lookahead-N,k=s._tr_tally(o,o.strstart-1-o.prev_match,o.prev_length-N),o.lookahead-=o.prev_length-1,o.prev_length-=2;++o.strstart<=w&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+N-1])&o.hash_mask,A=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),--o.prev_length!=0;);if(o.match_available=0,o.match_length=N-1,o.strstart++,k&&(T(o,!1),o.strm.avail_out===0))return u}else if(o.match_available){if((k=s._tr_tally(o,0,o.window[o.strstart-1]))&&T(o,!1),o.strstart++,o.lookahead--,o.strm.avail_out===0)return u}else o.match_available=1,o.strstart++,o.lookahead--}return o.match_available&&(k=s._tr_tally(o,0,o.window[o.strstart-1]),o.match_available=0),o.insert=o.strstart<N-1?o.strstart:N-1,B===g?(T(o,!0),o.strm.avail_out===0?st:W):o.last_lit&&(T(o,!1),o.strm.avail_out===0)?u:$}function pt(o,B,A,k,w){this.good_length=o,this.max_lazy=B,this.nice_length=A,this.max_chain=k,this.func=w}function It(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*P),this.dyn_dtree=new a.Buf16(2*(2*E+1)),this.bl_tree=new a.Buf16(2*(2*L+1)),it(this.dyn_ltree),it(this.dyn_dtree),it(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(D+1),this.heap=new a.Buf16(2*I+1),it(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*I+1),it(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function yt(o){var B;return o&&o.state?(o.total_in=o.total_out=0,o.data_type=f,(B=o.state).pending=0,B.pending_out=0,B.wrap<0&&(B.wrap=-B.wrap),B.status=B.wrap?x:z,o.adler=B.wrap===2?0:1,B.last_flush=m,s._tr_init(B),d):ut(o,b)}function Wt(o){var B=yt(o);return B===d&&function(A){A.window_size=2*A.w_size,it(A.head),A.max_lazy_match=r[A.level].max_lazy,A.good_match=r[A.level].good_length,A.nice_match=r[A.level].nice_length,A.max_chain_length=r[A.level].max_chain,A.strstart=0,A.block_start=0,A.lookahead=0,A.insert=0,A.match_length=A.prev_length=N-1,A.match_available=0,A.ins_h=0}(o.state),B}function Vt(o,B,A,k,w,O){if(!o)return b;var U=1;if(B===c&&(B=6),k<0?(U=0,k=-k):15<k&&(U=2,k-=16),w<1||S<w||A!==y||k<8||15<k||B<0||9<B||O<0||v<O)return ut(o,b);k===8&&(k=9);var V=new It;return(o.state=V).strm=o,V.wrap=U,V.gzhead=null,V.w_bits=k,V.w_size=1<<V.w_bits,V.w_mask=V.w_size-1,V.hash_bits=w+7,V.hash_size=1<<V.hash_bits,V.hash_mask=V.hash_size-1,V.hash_shift=~~((V.hash_bits+N-1)/N),V.window=new a.Buf8(2*V.w_size),V.head=new a.Buf16(V.hash_size),V.prev=new a.Buf16(V.w_size),V.lit_bufsize=1<<w+6,V.pending_buf_size=4*V.lit_bufsize,V.pending_buf=new a.Buf8(V.pending_buf_size),V.d_buf=1*V.lit_bufsize,V.l_buf=3*V.lit_bufsize,V.level=B,V.strategy=O,V.method=A,Wt(o)}r=[new pt(0,0,0,0,function(o,B){var A=65535;for(A>o.pending_buf_size-5&&(A=o.pending_buf_size-5);;){if(o.lookahead<=1){if(bt(o),o.lookahead===0&&B===m)return u;if(o.lookahead===0)break}o.strstart+=o.lookahead,o.lookahead=0;var k=o.block_start+A;if((o.strstart===0||o.strstart>=k)&&(o.lookahead=o.strstart-k,o.strstart=k,T(o,!1),o.strm.avail_out===0)||o.strstart-o.block_start>=o.w_size-j&&(T(o,!1),o.strm.avail_out===0))return u}return o.insert=0,B===g?(T(o,!0),o.strm.avail_out===0?st:W):(o.strstart>o.block_start&&(T(o,!1),o.strm.avail_out),u)}),new pt(4,4,8,4,Ct),new pt(4,5,16,8,Ct),new pt(4,6,32,32,Ct),new pt(4,4,16,16,ct),new pt(8,16,32,32,ct),new pt(8,16,128,128,ct),new pt(8,32,128,256,ct),new pt(32,128,258,1024,ct),new pt(32,258,258,4096,ct)],i.deflateInit=function(o,B){return Vt(o,B,y,15,8,0)},i.deflateInit2=Vt,i.deflateReset=Wt,i.deflateResetKeep=yt,i.deflateSetHeader=function(o,B){return o&&o.state?o.state.wrap!==2?b:(o.state.gzhead=B,d):b},i.deflate=function(o,B){var A,k,w,O;if(!o||!o.state||5<B||B<0)return o?ut(o,b):b;if(k=o.state,!o.output||!o.input&&o.avail_in!==0||k.status===666&&B!==g)return ut(o,o.avail_out===0?-5:b);if(k.strm=o,A=k.last_flush,k.last_flush=B,k.status===x)if(k.wrap===2)o.adler=0,rt(k,31),rt(k,139),rt(k,8),k.gzhead?(rt(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),rt(k,255&k.gzhead.time),rt(k,k.gzhead.time>>8&255),rt(k,k.gzhead.time>>16&255),rt(k,k.gzhead.time>>24&255),rt(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),rt(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(rt(k,255&k.gzhead.extra.length),rt(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(o.adler=p(o.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(rt(k,0),rt(k,0),rt(k,0),rt(k,0),rt(k,0),rt(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),rt(k,3),k.status=z);else{var U=y+(k.w_bits-8<<4)<<8;U|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(U|=32),U+=31-U%31,k.status=z,X(k,U),k.strstart!==0&&(X(k,o.adler>>>16),X(k,65535&o.adler)),o.adler=1}if(k.status===69)if(k.gzhead.extra){for(w=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>w&&(o.adler=p(o.adler,k.pending_buf,k.pending-w,w)),F(o),w=k.pending,k.pending!==k.pending_buf_size));)rt(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>w&&(o.adler=p(o.adler,k.pending_buf,k.pending-w,w)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){w=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>w&&(o.adler=p(o.adler,k.pending_buf,k.pending-w,w)),F(o),w=k.pending,k.pending===k.pending_buf_size)){O=1;break}O=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,rt(k,O)}while(O!==0);k.gzhead.hcrc&&k.pending>w&&(o.adler=p(o.adler,k.pending_buf,k.pending-w,w)),O===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){w=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>w&&(o.adler=p(o.adler,k.pending_buf,k.pending-w,w)),F(o),w=k.pending,k.pending===k.pending_buf_size)){O=1;break}O=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,rt(k,O)}while(O!==0);k.gzhead.hcrc&&k.pending>w&&(o.adler=p(o.adler,k.pending_buf,k.pending-w,w)),O===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&F(o),k.pending+2<=k.pending_buf_size&&(rt(k,255&o.adler),rt(k,o.adler>>8&255),o.adler=0,k.status=z)):k.status=z),k.pending!==0){if(F(o),o.avail_out===0)return k.last_flush=-1,d}else if(o.avail_in===0&&G(B)<=G(A)&&B!==g)return ut(o,-5);if(k.status===666&&o.avail_in!==0)return ut(o,-5);if(o.avail_in!==0||k.lookahead!==0||B!==m&&k.status!==666){var V=k.strategy===2?function(R,J){for(var Y;;){if(R.lookahead===0&&(bt(R),R.lookahead===0)){if(J===m)return u;break}if(R.match_length=0,Y=s._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,Y&&(T(R,!1),R.strm.avail_out===0))return u}return R.insert=0,J===g?(T(R,!0),R.strm.avail_out===0?st:W):R.last_lit&&(T(R,!1),R.strm.avail_out===0)?u:$}(k,B):k.strategy===3?function(R,J){for(var Y,Z,et,vt,ht=R.window;;){if(R.lookahead<=M){if(bt(R),R.lookahead<=M&&J===m)return u;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=N&&0<R.strstart&&(Z=ht[et=R.strstart-1])===ht[++et]&&Z===ht[++et]&&Z===ht[++et]){vt=R.strstart+M;do;while(Z===ht[++et]&&Z===ht[++et]&&Z===ht[++et]&&Z===ht[++et]&&Z===ht[++et]&&Z===ht[++et]&&Z===ht[++et]&&Z===ht[++et]&&et<vt);R.match_length=M-(vt-et),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=N?(Y=s._tr_tally(R,1,R.match_length-N),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):(Y=s._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),Y&&(T(R,!1),R.strm.avail_out===0))return u}return R.insert=0,J===g?(T(R,!0),R.strm.avail_out===0?st:W):R.last_lit&&(T(R,!1),R.strm.avail_out===0)?u:$}(k,B):r[k.level].func(k,B);if(V!==st&&V!==W||(k.status=666),V===u||V===st)return o.avail_out===0&&(k.last_flush=-1),d;if(V===$&&(B===1?s._tr_align(k):B!==5&&(s._tr_stored_block(k,0,0,!1),B===3&&(it(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),F(o),o.avail_out===0))return k.last_flush=-1,d}return B!==g?d:k.wrap<=0?1:(k.wrap===2?(rt(k,255&o.adler),rt(k,o.adler>>8&255),rt(k,o.adler>>16&255),rt(k,o.adler>>24&255),rt(k,255&o.total_in),rt(k,o.total_in>>8&255),rt(k,o.total_in>>16&255),rt(k,o.total_in>>24&255)):(X(k,o.adler>>>16),X(k,65535&o.adler)),F(o),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?d:1)},i.deflateEnd=function(o){var B;return o&&o.state?(B=o.state.status)!==x&&B!==69&&B!==73&&B!==91&&B!==103&&B!==z&&B!==666?ut(o,b):(o.state=null,B===z?ut(o,-3):d):b},i.deflateSetDictionary=function(o,B){var A,k,w,O,U,V,R,J,Y=B.length;if(!o||!o.state||(O=(A=o.state).wrap)===2||O===1&&A.status!==x||A.lookahead)return b;for(O===1&&(o.adler=h(o.adler,B,Y,0)),A.wrap=0,Y>=A.w_size&&(O===0&&(it(A.head),A.strstart=0,A.block_start=0,A.insert=0),J=new a.Buf8(A.w_size),a.arraySet(J,B,Y-A.w_size,A.w_size,0),B=J,Y=A.w_size),U=o.avail_in,V=o.next_in,R=o.input,o.avail_in=Y,o.next_in=0,o.input=B,bt(A);A.lookahead>=N;){for(k=A.strstart,w=A.lookahead-(N-1);A.ins_h=(A.ins_h<<A.hash_shift^A.window[k+N-1])&A.hash_mask,A.prev[k&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=k,k++,--w;);A.strstart=k,A.lookahead=N-1,bt(A)}return A.strstart+=A.lookahead,A.block_start=A.strstart,A.insert=A.lookahead,A.lookahead=0,A.match_length=A.prev_length=N-1,A.match_available=0,o.next_in=V,o.input=R,o.avail_in=U,A.wrap=O,d},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,l,i){l.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,l,i){l.exports=function(r,a){var s,h,p,_,m,g,d,b,c,v,f,y,S,I,E,L,P,D,N,M,j,x,z,u,$;s=r.state,h=r.next_in,u=r.input,p=h+(r.avail_in-5),_=r.next_out,$=r.output,m=_-(a-r.avail_out),g=_+(r.avail_out-257),d=s.dmax,b=s.wsize,c=s.whave,v=s.wnext,f=s.window,y=s.hold,S=s.bits,I=s.lencode,E=s.distcode,L=(1<<s.lenbits)-1,P=(1<<s.distbits)-1;t:do{S<15&&(y+=u[h++]<<S,S+=8,y+=u[h++]<<S,S+=8),D=I[y&L];e:for(;;){if(y>>>=N=D>>>24,S-=N,(N=D>>>16&255)===0)$[_++]=65535&D;else{if(!(16&N)){if((64&N)==0){D=I[(65535&D)+(y&(1<<N)-1)];continue e}if(32&N){s.mode=12;break t}r.msg="invalid literal/length code",s.mode=30;break t}M=65535&D,(N&=15)&&(S<N&&(y+=u[h++]<<S,S+=8),M+=y&(1<<N)-1,y>>>=N,S-=N),S<15&&(y+=u[h++]<<S,S+=8,y+=u[h++]<<S,S+=8),D=E[y&P];n:for(;;){if(y>>>=N=D>>>24,S-=N,!(16&(N=D>>>16&255))){if((64&N)==0){D=E[(65535&D)+(y&(1<<N)-1)];continue n}r.msg="invalid distance code",s.mode=30;break t}if(j=65535&D,S<(N&=15)&&(y+=u[h++]<<S,(S+=8)<N&&(y+=u[h++]<<S,S+=8)),d<(j+=y&(1<<N)-1)){r.msg="invalid distance too far back",s.mode=30;break t}if(y>>>=N,S-=N,(N=_-m)<j){if(c<(N=j-N)&&s.sane){r.msg="invalid distance too far back",s.mode=30;break t}if(z=f,(x=0)===v){if(x+=b-N,N<M){for(M-=N;$[_++]=f[x++],--N;);x=_-j,z=$}}else if(v<N){if(x+=b+v-N,(N-=v)<M){for(M-=N;$[_++]=f[x++],--N;);if(x=0,v<M){for(M-=N=v;$[_++]=f[x++],--N;);x=_-j,z=$}}}else if(x+=v-N,N<M){for(M-=N;$[_++]=f[x++],--N;);x=_-j,z=$}for(;2<M;)$[_++]=z[x++],$[_++]=z[x++],$[_++]=z[x++],M-=3;M&&($[_++]=z[x++],1<M&&($[_++]=z[x++]))}else{for(x=_-j;$[_++]=$[x++],$[_++]=$[x++],$[_++]=$[x++],2<(M-=3););M&&($[_++]=$[x++],1<M&&($[_++]=$[x++]))}break}}break}}while(h<p&&_<g);h-=M=S>>3,y&=(1<<(S-=M<<3))-1,r.next_in=h,r.next_out=_,r.avail_in=h<p?p-h+5:5-(h-p),r.avail_out=_<g?g-_+257:257-(_-g),s.hold=y,s.bits=S}},{}],49:[function(n,l,i){var r=n("../utils/common"),a=n("./adler32"),s=n("./crc32"),h=n("./inffast"),p=n("./inftrees"),_=1,m=2,g=0,d=-2,b=1,c=852,v=592;function f(x){return(x>>>24&255)+(x>>>8&65280)+((65280&x)<<8)+((255&x)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(x){var z;return x&&x.state?(z=x.state,x.total_in=x.total_out=z.total=0,x.msg="",z.wrap&&(x.adler=1&z.wrap),z.mode=b,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new r.Buf32(c),z.distcode=z.distdyn=new r.Buf32(v),z.sane=1,z.back=-1,g):d}function I(x){var z;return x&&x.state?((z=x.state).wsize=0,z.whave=0,z.wnext=0,S(x)):d}function E(x,z){var u,$;return x&&x.state?($=x.state,z<0?(u=0,z=-z):(u=1+(z>>4),z<48&&(z&=15)),z&&(z<8||15<z)?d:($.window!==null&&$.wbits!==z&&($.window=null),$.wrap=u,$.wbits=z,I(x))):d}function L(x,z){var u,$;return x?($=new y,(x.state=$).window=null,(u=E(x,z))!==g&&(x.state=null),u):d}var P,D,N=!0;function M(x){if(N){var z;for(P=new r.Buf32(512),D=new r.Buf32(32),z=0;z<144;)x.lens[z++]=8;for(;z<256;)x.lens[z++]=9;for(;z<280;)x.lens[z++]=7;for(;z<288;)x.lens[z++]=8;for(p(_,x.lens,0,288,P,0,x.work,{bits:9}),z=0;z<32;)x.lens[z++]=5;p(m,x.lens,0,32,D,0,x.work,{bits:5}),N=!1}x.lencode=P,x.lenbits=9,x.distcode=D,x.distbits=5}function j(x,z,u,$){var st,W=x.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new r.Buf8(W.wsize)),$>=W.wsize?(r.arraySet(W.window,z,u-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):($<(st=W.wsize-W.wnext)&&(st=$),r.arraySet(W.window,z,u-$,st,W.wnext),($-=st)?(r.arraySet(W.window,z,u-$,$,0),W.wnext=$,W.whave=W.wsize):(W.wnext+=st,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=st))),0}i.inflateReset=I,i.inflateReset2=E,i.inflateResetKeep=S,i.inflateInit=function(x){return L(x,15)},i.inflateInit2=L,i.inflate=function(x,z){var u,$,st,W,ut,G,it,F,T,rt,X,H,bt,Ct,ct,pt,It,yt,Wt,Vt,o,B,A,k,w=0,O=new r.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!x||!x.state||!x.output||!x.input&&x.avail_in!==0)return d;(u=x.state).mode===12&&(u.mode=13),ut=x.next_out,st=x.output,it=x.avail_out,W=x.next_in,$=x.input,G=x.avail_in,F=u.hold,T=u.bits,rt=G,X=it,B=g;t:for(;;)switch(u.mode){case b:if(u.wrap===0){u.mode=13;break}for(;T<16;){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}if(2&u.wrap&&F===35615){O[u.check=0]=255&F,O[1]=F>>>8&255,u.check=s(u.check,O,2,0),T=F=0,u.mode=2;break}if(u.flags=0,u.head&&(u.head.done=!1),!(1&u.wrap)||(((255&F)<<8)+(F>>8))%31){x.msg="incorrect header check",u.mode=30;break}if((15&F)!=8){x.msg="unknown compression method",u.mode=30;break}if(T-=4,o=8+(15&(F>>>=4)),u.wbits===0)u.wbits=o;else if(o>u.wbits){x.msg="invalid window size",u.mode=30;break}u.dmax=1<<o,x.adler=u.check=1,u.mode=512&F?10:12,T=F=0;break;case 2:for(;T<16;){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}if(u.flags=F,(255&u.flags)!=8){x.msg="unknown compression method",u.mode=30;break}if(57344&u.flags){x.msg="unknown header flags set",u.mode=30;break}u.head&&(u.head.text=F>>8&1),512&u.flags&&(O[0]=255&F,O[1]=F>>>8&255,u.check=s(u.check,O,2,0)),T=F=0,u.mode=3;case 3:for(;T<32;){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}u.head&&(u.head.time=F),512&u.flags&&(O[0]=255&F,O[1]=F>>>8&255,O[2]=F>>>16&255,O[3]=F>>>24&255,u.check=s(u.check,O,4,0)),T=F=0,u.mode=4;case 4:for(;T<16;){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}u.head&&(u.head.xflags=255&F,u.head.os=F>>8),512&u.flags&&(O[0]=255&F,O[1]=F>>>8&255,u.check=s(u.check,O,2,0)),T=F=0,u.mode=5;case 5:if(1024&u.flags){for(;T<16;){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}u.length=F,u.head&&(u.head.extra_len=F),512&u.flags&&(O[0]=255&F,O[1]=F>>>8&255,u.check=s(u.check,O,2,0)),T=F=0}else u.head&&(u.head.extra=null);u.mode=6;case 6:if(1024&u.flags&&(G<(H=u.length)&&(H=G),H&&(u.head&&(o=u.head.extra_len-u.length,u.head.extra||(u.head.extra=new Array(u.head.extra_len)),r.arraySet(u.head.extra,$,W,H,o)),512&u.flags&&(u.check=s(u.check,$,H,W)),G-=H,W+=H,u.length-=H),u.length))break t;u.length=0,u.mode=7;case 7:if(2048&u.flags){if(G===0)break t;for(H=0;o=$[W+H++],u.head&&o&&u.length<65536&&(u.head.name+=String.fromCharCode(o)),o&&H<G;);if(512&u.flags&&(u.check=s(u.check,$,H,W)),G-=H,W+=H,o)break t}else u.head&&(u.head.name=null);u.length=0,u.mode=8;case 8:if(4096&u.flags){if(G===0)break t;for(H=0;o=$[W+H++],u.head&&o&&u.length<65536&&(u.head.comment+=String.fromCharCode(o)),o&&H<G;);if(512&u.flags&&(u.check=s(u.check,$,H,W)),G-=H,W+=H,o)break t}else u.head&&(u.head.comment=null);u.mode=9;case 9:if(512&u.flags){for(;T<16;){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}if(F!==(65535&u.check)){x.msg="header crc mismatch",u.mode=30;break}T=F=0}u.head&&(u.head.hcrc=u.flags>>9&1,u.head.done=!0),x.adler=u.check=0,u.mode=12;break;case 10:for(;T<32;){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}x.adler=u.check=f(F),T=F=0,u.mode=11;case 11:if(u.havedict===0)return x.next_out=ut,x.avail_out=it,x.next_in=W,x.avail_in=G,u.hold=F,u.bits=T,2;x.adler=u.check=1,u.mode=12;case 12:if(z===5||z===6)break t;case 13:if(u.last){F>>>=7&T,T-=7&T,u.mode=27;break}for(;T<3;){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}switch(u.last=1&F,T-=1,3&(F>>>=1)){case 0:u.mode=14;break;case 1:if(M(u),u.mode=20,z!==6)break;F>>>=2,T-=2;break t;case 2:u.mode=17;break;case 3:x.msg="invalid block type",u.mode=30}F>>>=2,T-=2;break;case 14:for(F>>>=7&T,T-=7&T;T<32;){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}if((65535&F)!=(F>>>16^65535)){x.msg="invalid stored block lengths",u.mode=30;break}if(u.length=65535&F,T=F=0,u.mode=15,z===6)break t;case 15:u.mode=16;case 16:if(H=u.length){if(G<H&&(H=G),it<H&&(H=it),H===0)break t;r.arraySet(st,$,W,H,ut),G-=H,W+=H,it-=H,ut+=H,u.length-=H;break}u.mode=12;break;case 17:for(;T<14;){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}if(u.nlen=257+(31&F),F>>>=5,T-=5,u.ndist=1+(31&F),F>>>=5,T-=5,u.ncode=4+(15&F),F>>>=4,T-=4,286<u.nlen||30<u.ndist){x.msg="too many length or distance symbols",u.mode=30;break}u.have=0,u.mode=18;case 18:for(;u.have<u.ncode;){for(;T<3;){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}u.lens[U[u.have++]]=7&F,F>>>=3,T-=3}for(;u.have<19;)u.lens[U[u.have++]]=0;if(u.lencode=u.lendyn,u.lenbits=7,A={bits:u.lenbits},B=p(0,u.lens,0,19,u.lencode,0,u.work,A),u.lenbits=A.bits,B){x.msg="invalid code lengths set",u.mode=30;break}u.have=0,u.mode=19;case 19:for(;u.have<u.nlen+u.ndist;){for(;pt=(w=u.lencode[F&(1<<u.lenbits)-1])>>>16&255,It=65535&w,!((ct=w>>>24)<=T);){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}if(It<16)F>>>=ct,T-=ct,u.lens[u.have++]=It;else{if(It===16){for(k=ct+2;T<k;){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}if(F>>>=ct,T-=ct,u.have===0){x.msg="invalid bit length repeat",u.mode=30;break}o=u.lens[u.have-1],H=3+(3&F),F>>>=2,T-=2}else if(It===17){for(k=ct+3;T<k;){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}T-=ct,o=0,H=3+(7&(F>>>=ct)),F>>>=3,T-=3}else{for(k=ct+7;T<k;){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}T-=ct,o=0,H=11+(127&(F>>>=ct)),F>>>=7,T-=7}if(u.have+H>u.nlen+u.ndist){x.msg="invalid bit length repeat",u.mode=30;break}for(;H--;)u.lens[u.have++]=o}}if(u.mode===30)break;if(u.lens[256]===0){x.msg="invalid code -- missing end-of-block",u.mode=30;break}if(u.lenbits=9,A={bits:u.lenbits},B=p(_,u.lens,0,u.nlen,u.lencode,0,u.work,A),u.lenbits=A.bits,B){x.msg="invalid literal/lengths set",u.mode=30;break}if(u.distbits=6,u.distcode=u.distdyn,A={bits:u.distbits},B=p(m,u.lens,u.nlen,u.ndist,u.distcode,0,u.work,A),u.distbits=A.bits,B){x.msg="invalid distances set",u.mode=30;break}if(u.mode=20,z===6)break t;case 20:u.mode=21;case 21:if(6<=G&&258<=it){x.next_out=ut,x.avail_out=it,x.next_in=W,x.avail_in=G,u.hold=F,u.bits=T,h(x,X),ut=x.next_out,st=x.output,it=x.avail_out,W=x.next_in,$=x.input,G=x.avail_in,F=u.hold,T=u.bits,u.mode===12&&(u.back=-1);break}for(u.back=0;pt=(w=u.lencode[F&(1<<u.lenbits)-1])>>>16&255,It=65535&w,!((ct=w>>>24)<=T);){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}if(pt&&(240&pt)==0){for(yt=ct,Wt=pt,Vt=It;pt=(w=u.lencode[Vt+((F&(1<<yt+Wt)-1)>>yt)])>>>16&255,It=65535&w,!(yt+(ct=w>>>24)<=T);){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}F>>>=yt,T-=yt,u.back+=yt}if(F>>>=ct,T-=ct,u.back+=ct,u.length=It,pt===0){u.mode=26;break}if(32&pt){u.back=-1,u.mode=12;break}if(64&pt){x.msg="invalid literal/length code",u.mode=30;break}u.extra=15&pt,u.mode=22;case 22:if(u.extra){for(k=u.extra;T<k;){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}u.length+=F&(1<<u.extra)-1,F>>>=u.extra,T-=u.extra,u.back+=u.extra}u.was=u.length,u.mode=23;case 23:for(;pt=(w=u.distcode[F&(1<<u.distbits)-1])>>>16&255,It=65535&w,!((ct=w>>>24)<=T);){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}if((240&pt)==0){for(yt=ct,Wt=pt,Vt=It;pt=(w=u.distcode[Vt+((F&(1<<yt+Wt)-1)>>yt)])>>>16&255,It=65535&w,!(yt+(ct=w>>>24)<=T);){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}F>>>=yt,T-=yt,u.back+=yt}if(F>>>=ct,T-=ct,u.back+=ct,64&pt){x.msg="invalid distance code",u.mode=30;break}u.offset=It,u.extra=15&pt,u.mode=24;case 24:if(u.extra){for(k=u.extra;T<k;){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}u.offset+=F&(1<<u.extra)-1,F>>>=u.extra,T-=u.extra,u.back+=u.extra}if(u.offset>u.dmax){x.msg="invalid distance too far back",u.mode=30;break}u.mode=25;case 25:if(it===0)break t;if(H=X-it,u.offset>H){if((H=u.offset-H)>u.whave&&u.sane){x.msg="invalid distance too far back",u.mode=30;break}bt=H>u.wnext?(H-=u.wnext,u.wsize-H):u.wnext-H,H>u.length&&(H=u.length),Ct=u.window}else Ct=st,bt=ut-u.offset,H=u.length;for(it<H&&(H=it),it-=H,u.length-=H;st[ut++]=Ct[bt++],--H;);u.length===0&&(u.mode=21);break;case 26:if(it===0)break t;st[ut++]=u.length,it--,u.mode=21;break;case 27:if(u.wrap){for(;T<32;){if(G===0)break t;G--,F|=$[W++]<<T,T+=8}if(X-=it,x.total_out+=X,u.total+=X,X&&(x.adler=u.check=u.flags?s(u.check,st,X,ut-X):a(u.check,st,X,ut-X)),X=it,(u.flags?F:f(F))!==u.check){x.msg="incorrect data check",u.mode=30;break}T=F=0}u.mode=28;case 28:if(u.wrap&&u.flags){for(;T<32;){if(G===0)break t;G--,F+=$[W++]<<T,T+=8}if(F!==(4294967295&u.total)){x.msg="incorrect length check",u.mode=30;break}T=F=0}u.mode=29;case 29:B=1;break t;case 30:B=-3;break t;case 31:return-4;case 32:default:return d}return x.next_out=ut,x.avail_out=it,x.next_in=W,x.avail_in=G,u.hold=F,u.bits=T,(u.wsize||X!==x.avail_out&&u.mode<30&&(u.mode<27||z!==4))&&j(x,x.output,x.next_out,X-x.avail_out)?(u.mode=31,-4):(rt-=x.avail_in,X-=x.avail_out,x.total_in+=rt,x.total_out+=X,u.total+=X,u.wrap&&X&&(x.adler=u.check=u.flags?s(u.check,st,X,x.next_out-X):a(u.check,st,X,x.next_out-X)),x.data_type=u.bits+(u.last?64:0)+(u.mode===12?128:0)+(u.mode===20||u.mode===15?256:0),(rt==0&&X===0||z===4)&&B===g&&(B=-5),B)},i.inflateEnd=function(x){if(!x||!x.state)return d;var z=x.state;return z.window&&(z.window=null),x.state=null,g},i.inflateGetHeader=function(x,z){var u;return x&&x.state?(2&(u=x.state).wrap)==0?d:((u.head=z).done=!1,g):d},i.inflateSetDictionary=function(x,z){var u,$=z.length;return x&&x.state?(u=x.state).wrap!==0&&u.mode!==11?d:u.mode===11&&a(1,z,$,0)!==u.check?-3:j(x,z,$,$)?(u.mode=31,-4):(u.havedict=1,g):d},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,l,i){var r=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];l.exports=function(_,m,g,d,b,c,v,f){var y,S,I,E,L,P,D,N,M,j=f.bits,x=0,z=0,u=0,$=0,st=0,W=0,ut=0,G=0,it=0,F=0,T=null,rt=0,X=new r.Buf16(16),H=new r.Buf16(16),bt=null,Ct=0;for(x=0;x<=15;x++)X[x]=0;for(z=0;z<d;z++)X[m[g+z]]++;for(st=j,$=15;1<=$&&X[$]===0;$--);if($<st&&(st=$),$===0)return b[c++]=20971520,b[c++]=20971520,f.bits=1,0;for(u=1;u<$&&X[u]===0;u++);for(st<u&&(st=u),x=G=1;x<=15;x++)if(G<<=1,(G-=X[x])<0)return-1;if(0<G&&(_===0||$!==1))return-1;for(H[1]=0,x=1;x<15;x++)H[x+1]=H[x]+X[x];for(z=0;z<d;z++)m[g+z]!==0&&(v[H[m[g+z]]++]=z);if(P=_===0?(T=bt=v,19):_===1?(T=a,rt-=257,bt=s,Ct-=257,256):(T=h,bt=p,-1),x=u,L=c,ut=z=F=0,I=-1,E=(it=1<<(W=st))-1,_===1&&852<it||_===2&&592<it)return 1;for(;;){for(D=x-ut,M=v[z]<P?(N=0,v[z]):v[z]>P?(N=bt[Ct+v[z]],T[rt+v[z]]):(N=96,0),y=1<<x-ut,u=S=1<<W;b[L+(F>>ut)+(S-=y)]=D<<24|N<<16|M|0,S!==0;);for(y=1<<x-1;F&y;)y>>=1;if(y!==0?(F&=y-1,F+=y):F=0,z++,--X[x]==0){if(x===$)break;x=m[g+v[z]]}if(st<x&&(F&E)!==I){for(ut===0&&(ut=st),L+=u,G=1<<(W=x-ut);W+ut<$&&!((G-=X[W+ut])<=0);)W++,G<<=1;if(it+=1<<W,_===1&&852<it||_===2&&592<it)return 1;b[I=F&E]=st<<24|W<<16|L-c|0}}return F!==0&&(b[L+F]=x-ut<<24|64<<16|0),f.bits=st,0}},{"../utils/common":41}],51:[function(n,l,i){l.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,l,i){var r=n("../utils/common"),a=0,s=1;function h(w){for(var O=w.length;0<=--O;)w[O]=0}var p=0,_=29,m=256,g=m+1+_,d=30,b=19,c=2*g+1,v=15,f=16,y=7,S=256,I=16,E=17,L=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(g+2));h(j);var x=new Array(2*d);h(x);var z=new Array(512);h(z);var u=new Array(256);h(u);var $=new Array(_);h($);var st,W,ut,G=new Array(d);function it(w,O,U,V,R){this.static_tree=w,this.extra_bits=O,this.extra_base=U,this.elems=V,this.max_length=R,this.has_stree=w&&w.length}function F(w,O){this.dyn_tree=w,this.max_code=0,this.stat_desc=O}function T(w){return w<256?z[w]:z[256+(w>>>7)]}function rt(w,O){w.pending_buf[w.pending++]=255&O,w.pending_buf[w.pending++]=O>>>8&255}function X(w,O,U){w.bi_valid>f-U?(w.bi_buf|=O<<w.bi_valid&65535,rt(w,w.bi_buf),w.bi_buf=O>>f-w.bi_valid,w.bi_valid+=U-f):(w.bi_buf|=O<<w.bi_valid&65535,w.bi_valid+=U)}function H(w,O,U){X(w,U[2*O],U[2*O+1])}function bt(w,O){for(var U=0;U|=1&w,w>>>=1,U<<=1,0<--O;);return U>>>1}function Ct(w,O,U){var V,R,J=new Array(v+1),Y=0;for(V=1;V<=v;V++)J[V]=Y=Y+U[V-1]<<1;for(R=0;R<=O;R++){var Z=w[2*R+1];Z!==0&&(w[2*R]=bt(J[Z]++,Z))}}function ct(w){var O;for(O=0;O<g;O++)w.dyn_ltree[2*O]=0;for(O=0;O<d;O++)w.dyn_dtree[2*O]=0;for(O=0;O<b;O++)w.bl_tree[2*O]=0;w.dyn_ltree[2*S]=1,w.opt_len=w.static_len=0,w.last_lit=w.matches=0}function pt(w){8<w.bi_valid?rt(w,w.bi_buf):0<w.bi_valid&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0}function It(w,O,U,V){var R=2*O,J=2*U;return w[R]<w[J]||w[R]===w[J]&&V[O]<=V[U]}function yt(w,O,U){for(var V=w.heap[U],R=U<<1;R<=w.heap_len&&(R<w.heap_len&&It(O,w.heap[R+1],w.heap[R],w.depth)&&R++,!It(O,V,w.heap[R],w.depth));)w.heap[U]=w.heap[R],U=R,R<<=1;w.heap[U]=V}function Wt(w,O,U){var V,R,J,Y,Z=0;if(w.last_lit!==0)for(;V=w.pending_buf[w.d_buf+2*Z]<<8|w.pending_buf[w.d_buf+2*Z+1],R=w.pending_buf[w.l_buf+Z],Z++,V===0?H(w,R,O):(H(w,(J=u[R])+m+1,O),(Y=P[J])!==0&&X(w,R-=$[J],Y),H(w,J=T(--V),U),(Y=D[J])!==0&&X(w,V-=G[J],Y)),Z<w.last_lit;);H(w,S,O)}function Vt(w,O){var U,V,R,J=O.dyn_tree,Y=O.stat_desc.static_tree,Z=O.stat_desc.has_stree,et=O.stat_desc.elems,vt=-1;for(w.heap_len=0,w.heap_max=c,U=0;U<et;U++)J[2*U]!==0?(w.heap[++w.heap_len]=vt=U,w.depth[U]=0):J[2*U+1]=0;for(;w.heap_len<2;)J[2*(R=w.heap[++w.heap_len]=vt<2?++vt:0)]=1,w.depth[R]=0,w.opt_len--,Z&&(w.static_len-=Y[2*R+1]);for(O.max_code=vt,U=w.heap_len>>1;1<=U;U--)yt(w,J,U);for(R=et;U=w.heap[1],w.heap[1]=w.heap[w.heap_len--],yt(w,J,1),V=w.heap[1],w.heap[--w.heap_max]=U,w.heap[--w.heap_max]=V,J[2*R]=J[2*U]+J[2*V],w.depth[R]=(w.depth[U]>=w.depth[V]?w.depth[U]:w.depth[V])+1,J[2*U+1]=J[2*V+1]=R,w.heap[1]=R++,yt(w,J,1),2<=w.heap_len;);w.heap[--w.heap_max]=w.heap[1],function(ht,Bt){var We,Gt,Ge,wt,fn,Pn,Ht=Bt.dyn_tree,Kn=Bt.max_code,Qr=Bt.stat_desc.static_tree,jr=Bt.stat_desc.has_stree,ti=Bt.stat_desc.extra_bits,Hn=Bt.stat_desc.extra_base,Je=Bt.stat_desc.max_length,pn=0;for(wt=0;wt<=v;wt++)ht.bl_count[wt]=0;for(Ht[2*ht.heap[ht.heap_max]+1]=0,We=ht.heap_max+1;We<c;We++)Je<(wt=Ht[2*Ht[2*(Gt=ht.heap[We])+1]+1]+1)&&(wt=Je,pn++),Ht[2*Gt+1]=wt,Kn<Gt||(ht.bl_count[wt]++,fn=0,Hn<=Gt&&(fn=ti[Gt-Hn]),Pn=Ht[2*Gt],ht.opt_len+=Pn*(wt+fn),jr&&(ht.static_len+=Pn*(Qr[2*Gt+1]+fn)));if(pn!==0){do{for(wt=Je-1;ht.bl_count[wt]===0;)wt--;ht.bl_count[wt]--,ht.bl_count[wt+1]+=2,ht.bl_count[Je]--,pn-=2}while(0<pn);for(wt=Je;wt!==0;wt--)for(Gt=ht.bl_count[wt];Gt!==0;)Kn<(Ge=ht.heap[--We])||(Ht[2*Ge+1]!==wt&&(ht.opt_len+=(wt-Ht[2*Ge+1])*Ht[2*Ge],Ht[2*Ge+1]=wt),Gt--)}}(w,O),Ct(J,vt,w.bl_count)}function o(w,O,U){var V,R,J=-1,Y=O[1],Z=0,et=7,vt=4;for(Y===0&&(et=138,vt=3),O[2*(U+1)+1]=65535,V=0;V<=U;V++)R=Y,Y=O[2*(V+1)+1],++Z<et&&R===Y||(Z<vt?w.bl_tree[2*R]+=Z:R!==0?(R!==J&&w.bl_tree[2*R]++,w.bl_tree[2*I]++):Z<=10?w.bl_tree[2*E]++:w.bl_tree[2*L]++,J=R,vt=(Z=0)===Y?(et=138,3):R===Y?(et=6,3):(et=7,4))}function B(w,O,U){var V,R,J=-1,Y=O[1],Z=0,et=7,vt=4;for(Y===0&&(et=138,vt=3),V=0;V<=U;V++)if(R=Y,Y=O[2*(V+1)+1],!(++Z<et&&R===Y)){if(Z<vt)for(;H(w,R,w.bl_tree),--Z!=0;);else R!==0?(R!==J&&(H(w,R,w.bl_tree),Z--),H(w,I,w.bl_tree),X(w,Z-3,2)):Z<=10?(H(w,E,w.bl_tree),X(w,Z-3,3)):(H(w,L,w.bl_tree),X(w,Z-11,7));J=R,vt=(Z=0)===Y?(et=138,3):R===Y?(et=6,3):(et=7,4)}}h(G);var A=!1;function k(w,O,U,V){X(w,(p<<1)+(V?1:0),3),function(R,J,Y,Z){pt(R),Z&&(rt(R,Y),rt(R,~Y)),r.arraySet(R.pending_buf,R.window,J,Y,R.pending),R.pending+=Y}(w,O,U,!0)}i._tr_init=function(w){A||(function(){var O,U,V,R,J,Y=new Array(v+1);for(R=V=0;R<_-1;R++)for($[R]=V,O=0;O<1<<P[R];O++)u[V++]=R;for(u[V-1]=R,R=J=0;R<16;R++)for(G[R]=J,O=0;O<1<<D[R];O++)z[J++]=R;for(J>>=7;R<d;R++)for(G[R]=J<<7,O=0;O<1<<D[R]-7;O++)z[256+J++]=R;for(U=0;U<=v;U++)Y[U]=0;for(O=0;O<=143;)j[2*O+1]=8,O++,Y[8]++;for(;O<=255;)j[2*O+1]=9,O++,Y[9]++;for(;O<=279;)j[2*O+1]=7,O++,Y[7]++;for(;O<=287;)j[2*O+1]=8,O++,Y[8]++;for(Ct(j,g+1,Y),O=0;O<d;O++)x[2*O+1]=5,x[2*O]=bt(O,5);st=new it(j,P,m+1,g,v),W=new it(x,D,0,d,v),ut=new it(new Array(0),N,0,b,y)}(),A=!0),w.l_desc=new F(w.dyn_ltree,st),w.d_desc=new F(w.dyn_dtree,W),w.bl_desc=new F(w.bl_tree,ut),w.bi_buf=0,w.bi_valid=0,ct(w)},i._tr_stored_block=k,i._tr_flush_block=function(w,O,U,V){var R,J,Y=0;0<w.level?(w.strm.data_type===2&&(w.strm.data_type=function(Z){var et,vt=4093624447;for(et=0;et<=31;et++,vt>>>=1)if(1&vt&&Z.dyn_ltree[2*et]!==0)return a;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return s;for(et=32;et<m;et++)if(Z.dyn_ltree[2*et]!==0)return s;return a}(w)),Vt(w,w.l_desc),Vt(w,w.d_desc),Y=function(Z){var et;for(o(Z,Z.dyn_ltree,Z.l_desc.max_code),o(Z,Z.dyn_dtree,Z.d_desc.max_code),Vt(Z,Z.bl_desc),et=b-1;3<=et&&Z.bl_tree[2*M[et]+1]===0;et--);return Z.opt_len+=3*(et+1)+5+5+4,et}(w),R=w.opt_len+3+7>>>3,(J=w.static_len+3+7>>>3)<=R&&(R=J)):R=J=U+5,U+4<=R&&O!==-1?k(w,O,U,V):w.strategy===4||J===R?(X(w,2+(V?1:0),3),Wt(w,j,x)):(X(w,4+(V?1:0),3),function(Z,et,vt,ht){var Bt;for(X(Z,et-257,5),X(Z,vt-1,5),X(Z,ht-4,4),Bt=0;Bt<ht;Bt++)X(Z,Z.bl_tree[2*M[Bt]+1],3);B(Z,Z.dyn_ltree,et-1),B(Z,Z.dyn_dtree,vt-1)}(w,w.l_desc.max_code+1,w.d_desc.max_code+1,Y+1),Wt(w,w.dyn_ltree,w.dyn_dtree)),ct(w),V&&pt(w)},i._tr_tally=function(w,O,U){return w.pending_buf[w.d_buf+2*w.last_lit]=O>>>8&255,w.pending_buf[w.d_buf+2*w.last_lit+1]=255&O,w.pending_buf[w.l_buf+w.last_lit]=255&U,w.last_lit++,O===0?w.dyn_ltree[2*U]++:(w.matches++,O--,w.dyn_ltree[2*(u[U]+m+1)]++,w.dyn_dtree[2*T(O)]++),w.last_lit===w.lit_bufsize-1},i._tr_align=function(w){X(w,2,3),H(w,S,j),function(O){O.bi_valid===16?(rt(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):8<=O.bi_valid&&(O.pending_buf[O.pending++]=255&O.bi_buf,O.bi_buf>>=8,O.bi_valid-=8)}(w)}},{"../utils/common":41}],53:[function(n,l,i){l.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,l,i){(function(r){(function(a,s){if(!a.setImmediate){var h,p,_,m,g=1,d={},b=!1,c=a.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(a);v=v&&v.setTimeout?v:a,h={}.toString.call(a.process)==="[object process]"?function(I){process.nextTick(function(){y(I)})}:function(){if(a.postMessage&&!a.importScripts){var I=!0,E=a.onmessage;return a.onmessage=function(){I=!1},a.postMessage("","*"),a.onmessage=E,I}}()?(m="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",S,!1):a.attachEvent("onmessage",S),function(I){a.postMessage(m+I,"*")}):a.MessageChannel?((_=new MessageChannel).port1.onmessage=function(I){y(I.data)},function(I){_.port2.postMessage(I)}):c&&"onreadystatechange"in c.createElement("script")?(p=c.documentElement,function(I){var E=c.createElement("script");E.onreadystatechange=function(){y(I),E.onreadystatechange=null,p.removeChild(E),E=null},p.appendChild(E)}):function(I){setTimeout(y,0,I)},v.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var E=new Array(arguments.length-1),L=0;L<E.length;L++)E[L]=arguments[L+1];var P={callback:I,args:E};return d[g]=P,h(g),g++},v.clearImmediate=f}function f(I){delete d[I]}function y(I){if(b)setTimeout(y,0,I);else{var E=d[I];if(E){b=!0;try{(function(L){var P=L.callback,D=L.args;switch(D.length){case 0:P();break;case 1:P(D[0]);break;case 2:P(D[0],D[1]);break;case 3:P(D[0],D[1],D[2]);break;default:P.apply(s,D)}})(E)}finally{f(I),b=!1}}}}function S(I){I.source===a&&typeof I.data=="string"&&I.data.indexOf(m)===0&&y(+I.data.slice(m.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof vn<"u"?vn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ur);const Xn=Ur.exports;var Yn=_t,Dt=null;try{Dt=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function _t(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}_t.prototype.__isLong__;Object.defineProperty(_t.prototype,"__isLong__",{value:!0});function zt(t){return(t&&t.__isLong__)===!0}_t.isLong=zt;var Qn={},jn={};function ye(t,e){var n,l,i;return e?(t>>>=0,(i=0<=t&&t<256)&&(l=jn[t],l)?l:(n=gt(t,(t|0)<0?-1:0,!0),i&&(jn[t]=n),n)):(t|=0,(i=-128<=t&&t<128)&&(l=Qn[t],l)?l:(n=gt(t,t<0?-1:0,!1),i&&(Qn[t]=n),n))}_t.fromInt=ye;function $t(t,e){if(isNaN(t))return e?oe:Ut;if(e){if(t<0)return oe;if(t>=Vr)return Gr}else{if(t<=-er)return Pt;if(t+1>=er)return Wr}return t<0?$t(-t,e).neg():gt(t%$e|0,t/$e|0,e)}_t.fromNumber=$t;function gt(t,e,n){return new _t(t,e,n)}_t.fromBits=gt;var En=Math.pow;function Jn(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return Ut;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var l;if((l=t.indexOf("-"))>0)throw Error("interior hyphen");if(l===0)return Jn(t.substring(1),e,n).neg();for(var i=$t(En(n,8)),r=Ut,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),h=parseInt(t.substring(a,a+s),n);if(s<8){var p=$t(En(n,s));r=r.mul(p).add($t(h))}else r=r.mul(i),r=r.add($t(h))}return r.unsigned=e,r}_t.fromString=Jn;function Mt(t,e){return typeof t=="number"?$t(t,e):typeof t=="string"?Jn(t,e):gt(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}_t.fromValue=Mt;var tr=1<<16,ci=1<<24,$e=tr*tr,Vr=$e*$e,er=Vr/2,nr=ye(ci),Ut=ye(0);_t.ZERO=Ut;var oe=ye(0,!0);_t.UZERO=oe;var Se=ye(1);_t.ONE=Se;var Mr=ye(1,!0);_t.UONE=Mr;var Dn=ye(-1);_t.NEG_ONE=Dn;var Wr=gt(-1,2147483647,!1);_t.MAX_VALUE=Wr;var Gr=gt(-1,-1,!0);_t.MAX_UNSIGNED_VALUE=Gr;var Pt=gt(0,-2147483648,!1);_t.MIN_VALUE=Pt;var K=_t.prototype;K.toInt=function(){return this.unsigned?this.low>>>0:this.low};K.toNumber=function(){return this.unsigned?(this.high>>>0)*$e+(this.low>>>0):this.high*$e+(this.low>>>0)};K.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Pt)){var n=$t(e),l=this.div(n),i=l.mul(n).sub(this);return l.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var r=$t(En(e,6),this.unsigned),a=this,s="";;){var h=a.div(r),p=a.sub(h.mul(r)).toInt()>>>0,_=p.toString(e);if(a=h,a.isZero())return _+s;for(;_.length<6;)_="0"+_;s=""+_+s}};K.getHighBits=function(){return this.high};K.getHighBitsUnsigned=function(){return this.high>>>0};K.getLowBits=function(){return this.low};K.getLowBitsUnsigned=function(){return this.low>>>0};K.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Pt)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&(e&1<<n)==0;n--);return this.high!=0?n+33:n+1};K.isZero=function(){return this.high===0&&this.low===0};K.eqz=K.isZero;K.isNegative=function(){return!this.unsigned&&this.high<0};K.isPositive=function(){return this.unsigned||this.high>=0};K.isOdd=function(){return(this.low&1)===1};K.isEven=function(){return(this.low&1)===0};K.equals=function(e){return zt(e)||(e=Mt(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};K.eq=K.equals;K.notEquals=function(e){return!this.eq(e)};K.neq=K.notEquals;K.ne=K.notEquals;K.lessThan=function(e){return this.comp(e)<0};K.lt=K.lessThan;K.lessThanOrEqual=function(e){return this.comp(e)<=0};K.lte=K.lessThanOrEqual;K.le=K.lessThanOrEqual;K.greaterThan=function(e){return this.comp(e)>0};K.gt=K.greaterThan;K.greaterThanOrEqual=function(e){return this.comp(e)>=0};K.gte=K.greaterThanOrEqual;K.ge=K.greaterThanOrEqual;K.compare=function(e){if(zt(e)||(e=Mt(e)),this.eq(e))return 0;var n=this.isNegative(),l=e.isNegative();return n&&!l?-1:!n&&l?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};K.comp=K.compare;K.negate=function(){return!this.unsigned&&this.eq(Pt)?Pt:this.not().add(Se)};K.neg=K.negate;K.add=function(e){zt(e)||(e=Mt(e));var n=this.high>>>16,l=this.high&65535,i=this.low>>>16,r=this.low&65535,a=e.high>>>16,s=e.high&65535,h=e.low>>>16,p=e.low&65535,_=0,m=0,g=0,d=0;return d+=r+p,g+=d>>>16,d&=65535,g+=i+h,m+=g>>>16,g&=65535,m+=l+s,_+=m>>>16,m&=65535,_+=n+a,_&=65535,gt(g<<16|d,_<<16|m,this.unsigned)};K.subtract=function(e){return zt(e)||(e=Mt(e)),this.add(e.neg())};K.sub=K.subtract;K.multiply=function(e){if(this.isZero())return Ut;if(zt(e)||(e=Mt(e)),Dt){var n=Dt.mul(this.low,this.high,e.low,e.high);return gt(n,Dt.get_high(),this.unsigned)}if(e.isZero())return Ut;if(this.eq(Pt))return e.isOdd()?Pt:Ut;if(e.eq(Pt))return this.isOdd()?Pt:Ut;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(nr)&&e.lt(nr))return $t(this.toNumber()*e.toNumber(),this.unsigned);var l=this.high>>>16,i=this.high&65535,r=this.low>>>16,a=this.low&65535,s=e.high>>>16,h=e.high&65535,p=e.low>>>16,_=e.low&65535,m=0,g=0,d=0,b=0;return b+=a*_,d+=b>>>16,b&=65535,d+=r*_,g+=d>>>16,d&=65535,d+=a*p,g+=d>>>16,d&=65535,g+=i*_,m+=g>>>16,g&=65535,g+=r*p,m+=g>>>16,g&=65535,g+=a*h,m+=g>>>16,g&=65535,m+=l*_+i*p+r*h+a*s,m&=65535,gt(d<<16|b,m<<16|g,this.unsigned)};K.mul=K.multiply;K.divide=function(e){if(zt(e)||(e=Mt(e)),e.isZero())throw Error("division by zero");if(Dt){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?Dt.div_u:Dt.div_s)(this.low,this.high,e.low,e.high);return gt(n,Dt.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?oe:Ut;var l,i,r;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return oe;if(e.gt(this.shru(1)))return Mr;r=oe}else{if(this.eq(Pt)){if(e.eq(Se)||e.eq(Dn))return Pt;if(e.eq(Pt))return Se;var a=this.shr(1);return l=a.div(e).shl(1),l.eq(Ut)?e.isNegative()?Se:Dn:(i=this.sub(e.mul(l)),r=l.add(i.div(e)),r)}else if(e.eq(Pt))return this.unsigned?oe:Ut;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=Ut}for(i=this;i.gte(e);){l=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(l)/Math.LN2),h=s<=48?1:En(2,s-48),p=$t(l),_=p.mul(e);_.isNegative()||_.gt(i);)l-=h,p=$t(l,this.unsigned),_=p.mul(e);p.isZero()&&(p=Se),r=r.add(p),i=i.sub(_)}return r};K.div=K.divide;K.modulo=function(e){if(zt(e)||(e=Mt(e)),Dt){var n=(this.unsigned?Dt.rem_u:Dt.rem_s)(this.low,this.high,e.low,e.high);return gt(n,Dt.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};K.mod=K.modulo;K.rem=K.modulo;K.not=function(){return gt(~this.low,~this.high,this.unsigned)};K.and=function(e){return zt(e)||(e=Mt(e)),gt(this.low&e.low,this.high&e.high,this.unsigned)};K.or=function(e){return zt(e)||(e=Mt(e)),gt(this.low|e.low,this.high|e.high,this.unsigned)};K.xor=function(e){return zt(e)||(e=Mt(e)),gt(this.low^e.low,this.high^e.high,this.unsigned)};K.shiftLeft=function(e){return zt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?gt(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):gt(0,this.low<<e-32,this.unsigned)};K.shl=K.shiftLeft;K.shiftRight=function(e){return zt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?gt(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):gt(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};K.shr=K.shiftRight;K.shiftRightUnsigned=function(e){if(zt(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var l=this.low;return gt(l>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?gt(n,0,this.unsigned):gt(n>>>e-32,0,this.unsigned)};K.shru=K.shiftRightUnsigned;K.shr_u=K.shiftRightUnsigned;K.toSigned=function(){return this.unsigned?gt(this.low,this.high,!1):this};K.toUnsigned=function(){return this.unsigned?this:gt(this.low,this.high,!0)};K.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};K.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};K.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};_t.fromBytes=function(e,n,l){return l?_t.fromBytesLE(e,n):_t.fromBytesBE(e,n)};_t.fromBytesLE=function(e,n){return new _t(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};_t.fromBytesBE=function(e,n){return new _t(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};function rr(){return{seconds:0,nanos:0}}const Sn={encode(t,e=tt.Writer.create()){return t.seconds!==0&&e.uint32(8).int64(t.seconds),t.nanos!==0&&e.uint32(16).int32(t.nanos),e},decode(t,e){const n=t instanceof tt.Reader?t:new tt.Reader(t);let l=e===void 0?n.len:n.pos+e;const i=rr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:i.seconds=hi(n.int64());break;case 2:i.nanos=n.int32();break;default:n.skipType(r&7);break}}return i},fromJSON(t){return{seconds:ir(t.seconds)?Number(t.seconds):0,nanos:ir(t.nanos)?Number(t.nanos):0}},toJSON(t){const e={};return t.seconds!==void 0&&(e.seconds=Math.round(t.seconds)),t.nanos!==void 0&&(e.nanos=Math.round(t.nanos)),e},fromPartial(t){var n,l;const e=rr();return e.seconds=(n=t.seconds)!=null?n:0,e.nanos=(l=t.nanos)!=null?l:0,e}};var $n=(()=>{if(typeof $n<"u")return $n;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw"Unable to locate global object"})();function hi(t){if(t.gt(Number.MAX_SAFE_INTEGER))throw new $n.Error("Value is larger than Number.MAX_SAFE_INTEGER");return t.toNumber()}tt.util.Long!==Yn&&(tt.util.Long=Yn,tt.configure());function ir(t){return t!=null}function or(){return{name:"",author:"",date:void 0,startTime:0,endTime:0,speedRatio:0,description:""}}const ke={encode(t,e=tt.Writer.create()){return t.name!==""&&e.uint32(10).string(t.name),t.author!==""&&e.uint32(18).string(t.author),t.date!==void 0&&Sn.encode(t.date,e.uint32(26).fork()).ldelim(),t.startTime!==0&&e.uint32(33).double(t.startTime),t.endTime!==0&&e.uint32(41).double(t.endTime),t.speedRatio!==0&&e.uint32(49).double(t.speedRatio),t.description!==""&&e.uint32(58).string(t.description),e},decode(t,e){const n=t instanceof tt.Reader?t:new tt.Reader(t);let l=e===void 0?n.len:n.pos+e;const i=or();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:i.name=n.string();break;case 2:i.author=n.string();break;case 3:i.date=Sn.decode(n,n.uint32());break;case 4:i.startTime=n.double();break;case 5:i.endTime=n.double();break;case 6:i.speedRatio=n.double();break;case 7:i.description=n.string();break;default:n.skipType(r&7);break}}return i},fromJSON(t){return{name:re(t.name)?String(t.name):"",author:re(t.author)?String(t.author):"",date:re(t.date)?pi(t.date):void 0,startTime:re(t.startTime)?Number(t.startTime):0,endTime:re(t.endTime)?Number(t.endTime):0,speedRatio:re(t.speedRatio)?Number(t.speedRatio):0,description:re(t.description)?String(t.description):""}},toJSON(t){const e={};return t.name!==void 0&&(e.name=t.name),t.author!==void 0&&(e.author=t.author),t.date!==void 0&&(e.date=fi(t.date).toISOString()),t.startTime!==void 0&&(e.startTime=t.startTime),t.endTime!==void 0&&(e.endTime=t.endTime),t.speedRatio!==void 0&&(e.speedRatio=t.speedRatio),t.description!==void 0&&(e.description=t.description),e},fromPartial(t){var n,l,i,r,a,s;const e=or();return e.name=(n=t.name)!=null?n:"",e.author=(l=t.author)!=null?l:"",e.date=t.date!==void 0&&t.date!==null?Sn.fromPartial(t.date):void 0,e.startTime=(i=t.startTime)!=null?i:0,e.endTime=(r=t.endTime)!=null?r:0,e.speedRatio=(a=t.speedRatio)!=null?a:0,e.description=(s=t.description)!=null?s:"",e}};function ar(t){const e=t.getTime()/1e3,n=t.getTime()%1e3*1e6;return{seconds:e,nanos:n}}function fi(t){let e=t.seconds*1e3;return e+=t.nanos/1e6,new Date(e)}function pi(t){return t instanceof Date?ar(t):typeof t=="string"?ar(new Date(t)):Sn.fromJSON(t)}function re(t){return t!=null}function sr(){return{x:0,y:0,z:0}}const kt={encode(t,e=tt.Writer.create()){return t.x!==0&&e.uint32(9).double(t.x),t.y!==0&&e.uint32(17).double(t.y),t.z!==0&&e.uint32(25).double(t.z),e},decode(t,e){const n=t instanceof tt.Reader?t:new tt.Reader(t);let l=e===void 0?n.len:n.pos+e;const i=sr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:i.x=n.double();break;case 2:i.y=n.double();break;case 3:i.z=n.double();break;default:n.skipType(r&7);break}}return i},fromJSON(t){return{x:Ln(t.x)?Number(t.x):0,y:Ln(t.y)?Number(t.y):0,z:Ln(t.z)?Number(t.z):0}},toJSON(t){const e={};return t.x!==void 0&&(e.x=t.x),t.y!==void 0&&(e.y=t.y),t.z!==void 0&&(e.z=t.z),e},fromPartial(t){var n,l,i;const e=sr();return e.x=(n=t.x)!=null?n:0,e.y=(l=t.y)!=null?l:0,e.z=(i=t.z)!=null?i:0,e}};function Ln(t){return t!=null}function lr(){return{position:void 0,target:void 0}}const Ke={encode(t,e=tt.Writer.create()){return t.position!==void 0&&kt.encode(t.position,e.uint32(10).fork()).ldelim(),t.target!==void 0&&kt.encode(t.target,e.uint32(18).fork()).ldelim(),e},decode(t,e){const n=t instanceof tt.Reader?t:new tt.Reader(t);let l=e===void 0?n.len:n.pos+e;const i=lr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:i.position=kt.decode(n,n.uint32());break;case 2:i.target=kt.decode(n,n.uint32());break;default:n.skipType(r&7);break}}return i},fromJSON(t){return{position:ur(t.position)?kt.fromJSON(t.position):void 0,target:ur(t.target)?kt.fromJSON(t.target):void 0}},toJSON(t){const e={};return t.position!==void 0&&(e.position=t.position?kt.toJSON(t.position):void 0),t.target!==void 0&&(e.target=t.target?kt.toJSON(t.target):void 0),e},fromPartial(t){const e=lr();return e.position=t.position!==void 0&&t.position!==null?kt.fromPartial(t.position):void 0,e.target=t.target!==void 0&&t.target!==null?kt.fromPartial(t.target):void 0,e}};function ur(t){return t!=null}function dr(){return{r:0,g:0,b:0,a:0}}const Kt={encode(t,e=tt.Writer.create()){return t.r!==0&&e.uint32(13).float(t.r),t.g!==0&&e.uint32(21).float(t.g),t.b!==0&&e.uint32(29).float(t.b),t.a!==0&&e.uint32(37).float(t.a),e},decode(t,e){const n=t instanceof tt.Reader?t:new tt.Reader(t);let l=e===void 0?n.len:n.pos+e;const i=dr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:i.r=n.float();break;case 2:i.g=n.float();break;case 3:i.b=n.float();break;case 4:i.a=n.float();break;default:n.skipType(r&7);break}}return i},fromJSON(t){return{r:gn(t.r)?Number(t.r):0,g:gn(t.g)?Number(t.g):0,b:gn(t.b)?Number(t.b):0,a:gn(t.a)?Number(t.a):0}},toJSON(t){const e={};return t.r!==void 0&&(e.r=t.r),t.g!==void 0&&(e.g=t.g),t.b!==void 0&&(e.b=t.b),t.a!==void 0&&(e.a=t.a),e},fromPartial(t){var n,l,i,r;const e=dr();return e.r=(n=t.r)!=null?n:0,e.g=(l=t.g)!=null?l:0,e.b=(i=t.b)!=null?i:0,e.a=(r=t.a)!=null?r:0,e}};function gn(t){return t!=null}function cr(){return{stops:[]}}const He={encode(t,e=tt.Writer.create()){for(const n of t.stops)qe.encode(n,e.uint32(10).fork()).ldelim();return e},decode(t,e){const n=t instanceof tt.Reader?t:new tt.Reader(t);let l=e===void 0?n.len:n.pos+e;const i=cr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:i.stops.push(qe.decode(n,n.uint32()));break;default:n.skipType(r&7);break}}return i},fromJSON(t){return{stops:Array.isArray(t==null?void 0:t.stops)?t.stops.map(e=>qe.fromJSON(e)):[]}},toJSON(t){const e={};return t.stops?e.stops=t.stops.map(n=>n?qe.toJSON(n):void 0):e.stops=[],e},fromPartial(t){var n;const e=cr();return e.stops=((n=t.stops)==null?void 0:n.map(l=>qe.fromPartial(l)))||[],e}};function hr(){return{value:0,color:void 0}}const qe={encode(t,e=tt.Writer.create()){return t.value!==0&&e.uint32(9).double(t.value),t.color!==void 0&&Kt.encode(t.color,e.uint32(18).fork()).ldelim(),e},decode(t,e){const n=t instanceof tt.Reader?t:new tt.Reader(t);let l=e===void 0?n.len:n.pos+e;const i=hr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:i.value=n.double();break;case 2:i.color=Kt.decode(n,n.uint32());break;default:n.skipType(r&7);break}}return i},fromJSON(t){return{value:fr(t.value)?Number(t.value):0,color:fr(t.color)?Kt.fromJSON(t.color):void 0}},toJSON(t){const e={};return t.value!==void 0&&(e.value=t.value),t.color!==void 0&&(e.color=t.color?Kt.toJSON(t.color):void 0),e},fromPartial(t){var n;const e=hr();return e.value=(n=t.value)!=null?n:0,e.color=t.color!==void 0&&t.color!==null?Kt.fromPartial(t.color):void 0,e}};function fr(t){return t!=null}function pr(){return{source:void 0}}const St={encode(t,e=tt.Writer.create()){var n,l;return((n=t.source)==null?void 0:n.$case)==="constValue"&&e.uint32(9).double(t.source.constValue),((l=t.source)==null?void 0:l.$case)==="graphId"&&e.uint32(16).uint32(t.source.graphId),e},decode(t,e){const n=t instanceof tt.Reader?t:new tt.Reader(t);let l=e===void 0?n.len:n.pos+e;const i=pr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:i.source={$case:"constValue",constValue:n.double()};break;case 2:i.source={$case:"graphId",graphId:n.uint32()};break;default:n.skipType(r&7);break}}return i},fromJSON(t){return{source:be(t.constValue)?{$case:"constValue",constValue:Number(t.constValue)}:be(t.graphId)?{$case:"graphId",graphId:Number(t.graphId)}:void 0}},toJSON(t){var n,l,i,r;const e={};return((n=t.source)==null?void 0:n.$case)==="constValue"&&(e.constValue=(l=t.source)==null?void 0:l.constValue),((i=t.source)==null?void 0:i.$case)==="graphId"&&(e.graphId=Math.round((r=t.source)==null?void 0:r.graphId)),e},fromPartial(t){var n,l,i,r,a,s;const e=pr();return((n=t.source)==null?void 0:n.$case)==="constValue"&&((l=t.source)==null?void 0:l.constValue)!==void 0&&((i=t.source)==null?void 0:i.constValue)!==null&&(e.source={$case:"constValue",constValue:t.source.constValue}),((r=t.source)==null?void 0:r.$case)==="graphId"&&((a=t.source)==null?void 0:a.graphId)!==void 0&&((s=t.source)==null?void 0:s.graphId)!==null&&(e.source={$case:"graphId",graphId:t.source.graphId}),e}};function mr(){return{source:void 0}}const Tt={encode(t,e=tt.Writer.create()){var n,l;return((n=t.source)==null?void 0:n.$case)==="constValue"&&kt.encode(t.source.constValue,e.uint32(10).fork()).ldelim(),((l=t.source)==null?void 0:l.$case)==="pathId"&&e.uint32(16).uint32(t.source.pathId),e},decode(t,e){const n=t instanceof tt.Reader?t:new tt.Reader(t);let l=e===void 0?n.len:n.pos+e;const i=mr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:i.source={$case:"constValue",constValue:kt.decode(n,n.uint32())};break;case 2:i.source={$case:"pathId",pathId:n.uint32()};break;default:n.skipType(r&7);break}}return i},fromJSON(t){return{source:be(t.constValue)?{$case:"constValue",constValue:kt.fromJSON(t.constValue)}:be(t.pathId)?{$case:"pathId",pathId:Number(t.pathId)}:void 0}},toJSON(t){var n,l,i,r,a;const e={};return((n=t.source)==null?void 0:n.$case)==="constValue"&&(e.constValue=(l=t.source)!=null&&l.constValue?kt.toJSON((i=t.source)==null?void 0:i.constValue):void 0),((r=t.source)==null?void 0:r.$case)==="pathId"&&(e.pathId=Math.round((a=t.source)==null?void 0:a.pathId)),e},fromPartial(t){var n,l,i,r,a,s;const e=mr();return((n=t.source)==null?void 0:n.$case)==="constValue"&&((l=t.source)==null?void 0:l.constValue)!==void 0&&((i=t.source)==null?void 0:i.constValue)!==null&&(e.source={$case:"constValue",constValue:kt.fromPartial(t.source.constValue)}),((r=t.source)==null?void 0:r.$case)==="pathId"&&((a=t.source)==null?void 0:a.pathId)!==void 0&&((s=t.source)==null?void 0:s.pathId)!==null&&(e.source={$case:"pathId",pathId:t.source.pathId}),e}};function vr(){return{source:void 0}}const Ft={encode(t,e=tt.Writer.create()){var n,l,i;return((n=t.source)==null?void 0:n.$case)==="constValue"&&Kt.encode(t.source.constValue,e.uint32(10).fork()).ldelim(),((l=t.source)==null?void 0:l.$case)==="graphId"&&e.uint32(16).uint32(t.source.graphId),((i=t.source)==null?void 0:i.$case)==="scalarValue"&&e.uint32(25).double(t.source.scalarValue),e},decode(t,e){const n=t instanceof tt.Reader?t:new tt.Reader(t);let l=e===void 0?n.len:n.pos+e;const i=vr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:i.source={$case:"constValue",constValue:Kt.decode(n,n.uint32())};break;case 2:i.source={$case:"graphId",graphId:n.uint32()};break;case 3:i.source={$case:"scalarValue",scalarValue:n.double()};break;default:n.skipType(r&7);break}}return i},fromJSON(t){return{source:be(t.constValue)?{$case:"constValue",constValue:Kt.fromJSON(t.constValue)}:be(t.graphId)?{$case:"graphId",graphId:Number(t.graphId)}:be(t.scalarValue)?{$case:"scalarValue",scalarValue:Number(t.scalarValue)}:void 0}},toJSON(t){var n,l,i,r,a,s,h;const e={};return((n=t.source)==null?void 0:n.$case)==="constValue"&&(e.constValue=(l=t.source)!=null&&l.constValue?Kt.toJSON((i=t.source)==null?void 0:i.constValue):void 0),((r=t.source)==null?void 0:r.$case)==="graphId"&&(e.graphId=Math.round((a=t.source)==null?void 0:a.graphId)),((s=t.source)==null?void 0:s.$case)==="scalarValue"&&(e.scalarValue=(h=t.source)==null?void 0:h.scalarValue),e},fromPartial(t){var n,l,i,r,a,s,h,p,_;const e=vr();return((n=t.source)==null?void 0:n.$case)==="constValue"&&((l=t.source)==null?void 0:l.constValue)!==void 0&&((i=t.source)==null?void 0:i.constValue)!==null&&(e.source={$case:"constValue",constValue:Kt.fromPartial(t.source.constValue)}),((r=t.source)==null?void 0:r.$case)==="graphId"&&((a=t.source)==null?void 0:a.graphId)!==void 0&&((s=t.source)==null?void 0:s.graphId)!==null&&(e.source={$case:"graphId",graphId:t.source.graphId}),((h=t.source)==null?void 0:h.$case)==="scalarValue"&&((p=t.source)==null?void 0:p.scalarValue)!==void 0&&((_=t.source)==null?void 0:_.scalarValue)!==null&&(e.source={$case:"scalarValue",scalarValue:t.source.scalarValue}),e}};function be(t){return t!=null}function _r(){return{name:"",groups:[],description:"",color:void 0,start:void 0,end:void 0,lineWidth:void 0,pointForward:!1,pointBackward:!1}}const Xe={encode(t,e=tt.Writer.create()){t.name!==""&&e.uint32(10).string(t.name);for(const n of t.groups)e.uint32(18).string(n);return t.description!==""&&e.uint32(26).string(t.description),t.color!==void 0&&Ft.encode(t.color,e.uint32(34).fork()).ldelim(),t.start!==void 0&&Tt.encode(t.start,e.uint32(82).fork()).ldelim(),t.end!==void 0&&Tt.encode(t.end,e.uint32(90).fork()).ldelim(),t.lineWidth!==void 0&&St.encode(t.lineWidth,e.uint32(98).fork()).ldelim(),t.pointForward===!0&&e.uint32(104).bool(t.pointForward),t.pointBackward===!0&&e.uint32(112).bool(t.pointBackward),e},decode(t,e){const n=t instanceof tt.Reader?t:new tt.Reader(t);let l=e===void 0?n.len:n.pos+e;const i=_r();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:i.name=n.string();break;case 2:i.groups.push(n.string());break;case 3:i.description=n.string();break;case 4:i.color=Ft.decode(n,n.uint32());break;case 10:i.start=Tt.decode(n,n.uint32());break;case 11:i.end=Tt.decode(n,n.uint32());break;case 12:i.lineWidth=St.decode(n,n.uint32());break;case 13:i.pointForward=n.bool();break;case 14:i.pointBackward=n.bool();break;default:n.skipType(r&7);break}}return i},fromJSON(t){return{name:ee(t.name)?String(t.name):"",groups:Array.isArray(t==null?void 0:t.groups)?t.groups.map(e=>String(e)):[],description:ee(t.description)?String(t.description):"",color:ee(t.color)?Ft.fromJSON(t.color):void 0,start:ee(t.start)?Tt.fromJSON(t.start):void 0,end:ee(t.end)?Tt.fromJSON(t.end):void 0,lineWidth:ee(t.lineWidth)?St.fromJSON(t.lineWidth):void 0,pointForward:ee(t.pointForward)?Boolean(t.pointForward):!1,pointBackward:ee(t.pointBackward)?Boolean(t.pointBackward):!1}},toJSON(t){const e={};return t.name!==void 0&&(e.name=t.name),t.groups?e.groups=t.groups.map(n=>n):e.groups=[],t.description!==void 0&&(e.description=t.description),t.color!==void 0&&(e.color=t.color?Ft.toJSON(t.color):void 0),t.start!==void 0&&(e.start=t.start?Tt.toJSON(t.start):void 0),t.end!==void 0&&(e.end=t.end?Tt.toJSON(t.end):void 0),t.lineWidth!==void 0&&(e.lineWidth=t.lineWidth?St.toJSON(t.lineWidth):void 0),t.pointForward!==void 0&&(e.pointForward=t.pointForward),t.pointBackward!==void 0&&(e.pointBackward=t.pointBackward),e},fromPartial(t){var n,l,i,r,a;const e=_r();return e.name=(n=t.name)!=null?n:"",e.groups=((l=t.groups)==null?void 0:l.map(s=>s))||[],e.description=(i=t.description)!=null?i:"",e.color=t.color!==void 0&&t.color!==null?Ft.fromPartial(t.color):void 0,e.start=t.start!==void 0&&t.start!==null?Tt.fromPartial(t.start):void 0,e.end=t.end!==void 0&&t.end!==null?Tt.fromPartial(t.end):void 0,e.lineWidth=t.lineWidth!==void 0&&t.lineWidth!==null?St.fromPartial(t.lineWidth):void 0,e.pointForward=(r=t.pointForward)!=null?r:!1,e.pointBackward=(a=t.pointBackward)!=null?a:!1,e}};function ee(t){return t!=null}var mi=(t=>(t[t.CENTER=0]="CENTER",t[t.UPPER_RIGHT=1]="UPPER_RIGHT",t[t.TOP=2]="TOP",t[t.UPPER_LEFT=3]="UPPER_LEFT",t[t.LEFT=4]="LEFT",t[t.LOWER_LEFT=5]="LOWER_LEFT",t[t.BOTTOM=6]="BOTTOM",t[t.LOWER_RIGHT=7]="LOWER_RIGHT",t[t.RIGHT=8]="RIGHT",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED",t))(mi||{});function vi(t){switch(t){case 0:case"CENTER":return 0;case 1:case"UPPER_RIGHT":return 1;case 2:case"TOP":return 2;case 3:case"UPPER_LEFT":return 3;case 4:case"LEFT":return 4;case 5:case"LOWER_LEFT":return 5;case 6:case"BOTTOM":return 6;case 7:case"LOWER_RIGHT":return 7;case 8:case"RIGHT":return 8;case-1:case"UNRECOGNIZED":default:return-1}}function _i(t){switch(t){case 0:return"CENTER";case 1:return"UPPER_RIGHT";case 2:return"TOP";case 3:return"UPPER_LEFT";case 4:return"LEFT";case 5:return"LOWER_LEFT";case 6:return"BOTTOM";case 7:return"LOWER_RIGHT";case 8:return"RIGHT";case-1:default:return"UNRECOGNIZED"}}function gr(){return{name:"",groups:[],description:"",text:"",position:0,fontSize:void 0,bold:!1,italic:!1}}const Ye={encode(t,e=tt.Writer.create()){t.name!==""&&e.uint32(10).string(t.name);for(const n of t.groups)e.uint32(18).string(n);return t.description!==""&&e.uint32(26).string(t.description),t.text!==""&&e.uint32(82).string(t.text),t.position!==0&&e.uint32(88).int32(t.position),t.fontSize!==void 0&&St.encode(t.fontSize,e.uint32(98).fork()).ldelim(),t.bold===!0&&e.uint32(104).bool(t.bold),t.italic===!0&&e.uint32(112).bool(t.italic),e},decode(t,e){const n=t instanceof tt.Reader?t:new tt.Reader(t);let l=e===void 0?n.len:n.pos+e;const i=gr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:i.name=n.string();break;case 2:i.groups.push(n.string());break;case 3:i.description=n.string();break;case 10:i.text=n.string();break;case 11:i.position=n.int32();break;case 12:i.fontSize=St.decode(n,n.uint32());break;case 13:i.bold=n.bool();break;case 14:i.italic=n.bool();break;default:n.skipType(r&7);break}}return i},fromJSON(t){return{name:ie(t.name)?String(t.name):"",groups:Array.isArray(t==null?void 0:t.groups)?t.groups.map(e=>String(e)):[],description:ie(t.description)?String(t.description):"",text:ie(t.text)?String(t.text):"",position:ie(t.position)?vi(t.position):0,fontSize:ie(t.fontSize)?St.fromJSON(t.fontSize):void 0,bold:ie(t.bold)?Boolean(t.bold):!1,italic:ie(t.italic)?Boolean(t.italic):!1}},toJSON(t){const e={};return t.name!==void 0&&(e.name=t.name),t.groups?e.groups=t.groups.map(n=>n):e.groups=[],t.description!==void 0&&(e.description=t.description),t.text!==void 0&&(e.text=t.text),t.position!==void 0&&(e.position=_i(t.position)),t.fontSize!==void 0&&(e.fontSize=t.fontSize?St.toJSON(t.fontSize):void 0),t.bold!==void 0&&(e.bold=t.bold),t.italic!==void 0&&(e.italic=t.italic),e},fromPartial(t){var n,l,i,r,a,s,h;const e=gr();return e.name=(n=t.name)!=null?n:"",e.groups=((l=t.groups)==null?void 0:l.map(p=>p))||[],e.description=(i=t.description)!=null?i:"",e.text=(r=t.text)!=null?r:"",e.position=(a=t.position)!=null?a:0,e.fontSize=t.fontSize!==void 0&&t.fontSize!==null?St.fromPartial(t.fontSize):void 0,e.bold=(s=t.bold)!=null?s:!1,e.italic=(h=t.italic)!=null?h:!1,e}};function ie(t){return t!=null}function br(){return{name:"",id:0,points:[],interpolation:0}}const Qe={encode(t,e=tt.Writer.create()){t.name!==""&&e.uint32(10).string(t.name),t.id!==0&&e.uint32(16).uint32(t.id);for(const n of t.points)je.encode(n,e.uint32(26).fork()).ldelim();return t.interpolation!==0&&e.uint32(32).int32(t.interpolation),e},decode(t,e){const n=t instanceof tt.Reader?t:new tt.Reader(t);let l=e===void 0?n.len:n.pos+e;const i=br();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:i.name=n.string();break;case 2:i.id=n.uint32();break;case 3:i.points.push(je.decode(n,n.uint32()));break;case 4:i.interpolation=n.int32();break;default:n.skipType(r&7);break}}return i},fromJSON(t){return{name:rn(t.name)?String(t.name):"",id:rn(t.id)?Number(t.id):0,points:Array.isArray(t==null?void 0:t.points)?t.points.map(e=>je.fromJSON(e)):[],interpolation:rn(t.interpolation)?ei(t.interpolation):0}},toJSON(t){const e={};return t.name!==void 0&&(e.name=t.name),t.id!==void 0&&(e.id=Math.round(t.id)),t.points?e.points=t.points.map(n=>n?je.toJSON(n):void 0):e.points=[],t.interpolation!==void 0&&(e.interpolation=ni(t.interpolation)),e},fromPartial(t){var n,l,i,r;const e=br();return e.name=(n=t.name)!=null?n:"",e.id=(l=t.id)!=null?l:0,e.points=((i=t.points)==null?void 0:i.map(a=>je.fromPartial(a)))||[],e.interpolation=(r=t.interpolation)!=null?r:0,e}};function yr(){return{time:0,position:void 0}}const je={encode(t,e=tt.Writer.create()){return t.time!==0&&e.uint32(9).double(t.time),t.position!==void 0&&kt.encode(t.position,e.uint32(18).fork()).ldelim(),e},decode(t,e){const n=t instanceof tt.Reader?t:new tt.Reader(t);let l=e===void 0?n.len:n.pos+e;const i=yr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:i.time=n.double();break;case 2:i.position=kt.decode(n,n.uint32());break;default:n.skipType(r&7);break}}return i},fromJSON(t){return{time:rn(t.time)?Number(t.time):0,position:rn(t.position)?kt.fromJSON(t.position):void 0}},toJSON(t){const e={};return t.time!==void 0&&(e.time=t.time),t.position!==void 0&&(e.position=t.position?kt.toJSON(t.position):void 0),e},fromPartial(t){var n;const e=yr();return e.time=(n=t.time)!=null?n:0,e.position=t.position!==void 0&&t.position!==null?kt.fromPartial(t.position):void 0,e}};function rn(t){return t!=null}function wr(){return{name:"",groups:[],description:"",color:void 0,position:void 0,radius:void 0}}const tn={encode(t,e=tt.Writer.create()){t.name!==""&&e.uint32(10).string(t.name);for(const n of t.groups)e.uint32(18).string(n);return t.description!==""&&e.uint32(26).string(t.description),t.color!==void 0&&Ft.encode(t.color,e.uint32(34).fork()).ldelim(),t.position!==void 0&&Tt.encode(t.position,e.uint32(82).fork()).ldelim(),t.radius!==void 0&&St.encode(t.radius,e.uint32(90).fork()).ldelim(),e},decode(t,e){const n=t instanceof tt.Reader?t:new tt.Reader(t);let l=e===void 0?n.len:n.pos+e;const i=wr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:i.name=n.string();break;case 2:i.groups.push(n.string());break;case 3:i.description=n.string();break;case 4:i.color=Ft.decode(n,n.uint32());break;case 10:i.position=Tt.decode(n,n.uint32());break;case 11:i.radius=St.decode(n,n.uint32());break;default:n.skipType(r&7);break}}return i},fromJSON(t){return{name:en(t.name)?String(t.name):"",groups:Array.isArray(t==null?void 0:t.groups)?t.groups.map(e=>String(e)):[],description:en(t.description)?String(t.description):"",color:en(t.color)?Ft.fromJSON(t.color):void 0,position:en(t.position)?Tt.fromJSON(t.position):void 0,radius:en(t.radius)?St.fromJSON(t.radius):void 0}},toJSON(t){const e={};return t.name!==void 0&&(e.name=t.name),t.groups?e.groups=t.groups.map(n=>n):e.groups=[],t.description!==void 0&&(e.description=t.description),t.color!==void 0&&(e.color=t.color?Ft.toJSON(t.color):void 0),t.position!==void 0&&(e.position=t.position?Tt.toJSON(t.position):void 0),t.radius!==void 0&&(e.radius=t.radius?St.toJSON(t.radius):void 0),e},fromPartial(t){var n,l,i;const e=wr();return e.name=(n=t.name)!=null?n:"",e.groups=((l=t.groups)==null?void 0:l.map(r=>r))||[],e.description=(i=t.description)!=null?i:"",e.color=t.color!==void 0&&t.color!==null?Ft.fromPartial(t.color):void 0,e.position=t.position!==void 0&&t.position!==null?Tt.fromPartial(t.position):void 0,e.radius=t.radius!==void 0&&t.radius!==null?St.fromPartial(t.radius):void 0,e}};function en(t){return t!=null}function kr(){return{name:"",groups:[],description:"",color:void 0,pathId:0,isGrowing:!1,radius:void 0}}const nn={encode(t,e=tt.Writer.create()){t.name!==""&&e.uint32(10).string(t.name);for(const n of t.groups)e.uint32(18).string(n);return t.description!==""&&e.uint32(26).string(t.description),t.color!==void 0&&Ft.encode(t.color,e.uint32(34).fork()).ldelim(),t.pathId!==0&&e.uint32(80).uint32(t.pathId),t.isGrowing===!0&&e.uint32(88).bool(t.isGrowing),t.radius!==void 0&&St.encode(t.radius,e.uint32(98).fork()).ldelim(),e},decode(t,e){const n=t instanceof tt.Reader?t:new tt.Reader(t);let l=e===void 0?n.len:n.pos+e;const i=kr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:i.name=n.string();break;case 2:i.groups.push(n.string());break;case 3:i.description=n.string();break;case 4:i.color=Ft.decode(n,n.uint32());break;case 10:i.pathId=n.uint32();break;case 11:i.isGrowing=n.bool();break;case 12:i.radius=St.decode(n,n.uint32());break;default:n.skipType(r&7);break}}return i},fromJSON(t){return{name:we(t.name)?String(t.name):"",groups:Array.isArray(t==null?void 0:t.groups)?t.groups.map(e=>String(e)):[],description:we(t.description)?String(t.description):"",color:we(t.color)?Ft.fromJSON(t.color):void 0,pathId:we(t.pathId)?Number(t.pathId):0,isGrowing:we(t.isGrowing)?Boolean(t.isGrowing):!1,radius:we(t.radius)?St.fromJSON(t.radius):void 0}},toJSON(t){const e={};return t.name!==void 0&&(e.name=t.name),t.groups?e.groups=t.groups.map(n=>n):e.groups=[],t.description!==void 0&&(e.description=t.description),t.color!==void 0&&(e.color=t.color?Ft.toJSON(t.color):void 0),t.pathId!==void 0&&(e.pathId=Math.round(t.pathId)),t.isGrowing!==void 0&&(e.isGrowing=t.isGrowing),t.radius!==void 0&&(e.radius=t.radius?St.toJSON(t.radius):void 0),e},fromPartial(t){var n,l,i,r,a;const e=kr();return e.name=(n=t.name)!=null?n:"",e.groups=((l=t.groups)==null?void 0:l.map(s=>s))||[],e.description=(i=t.description)!=null?i:"",e.color=t.color!==void 0&&t.color!==null?Ft.fromPartial(t.color):void 0,e.pathId=(r=t.pathId)!=null?r:0,e.isGrowing=(a=t.isGrowing)!=null?a:!1,e.radius=t.radius!==void 0&&t.radius!==null?St.fromPartial(t.radius):void 0,e}};function we(t){return t!=null}function Sr(){return{meta:void 0,graphs:[],paths:[],colormap:void 0,camera:void 0,hiddenGroups:[],spheres:[],lines:[],tubes:[],overlays:[]}}const gi={encode(t,e=tt.Writer.create()){t.meta!==void 0&&ke.encode(t.meta,e.uint32(10).fork()).ldelim();for(const n of t.graphs)Ze.encode(n,e.uint32(18).fork()).ldelim();for(const n of t.paths)Qe.encode(n,e.uint32(26).fork()).ldelim();t.colormap!==void 0&&He.encode(t.colormap,e.uint32(42).fork()).ldelim(),t.camera!==void 0&&Ke.encode(t.camera,e.uint32(82).fork()).ldelim();for(const n of t.hiddenGroups)e.uint32(122).string(n);for(const n of t.spheres)tn.encode(n,e.uint32(130).fork()).ldelim();for(const n of t.lines)Xe.encode(n,e.uint32(138).fork()).ldelim();for(const n of t.tubes)nn.encode(n,e.uint32(146).fork()).ldelim();for(const n of t.overlays)Ye.encode(n,e.uint32(154).fork()).ldelim();return e},decode(t,e){const n=t instanceof tt.Reader?t:new tt.Reader(t);let l=e===void 0?n.len:n.pos+e;const i=Sr();for(;n.pos<l;){const r=n.uint32();switch(r>>>3){case 1:i.meta=ke.decode(n,n.uint32());break;case 2:i.graphs.push(Ze.decode(n,n.uint32()));break;case 3:i.paths.push(Qe.decode(n,n.uint32()));break;case 5:i.colormap=He.decode(n,n.uint32());break;case 10:i.camera=Ke.decode(n,n.uint32());break;case 15:i.hiddenGroups.push(n.string());break;case 16:i.spheres.push(tn.decode(n,n.uint32()));break;case 17:i.lines.push(Xe.decode(n,n.uint32()));break;case 18:i.tubes.push(nn.decode(n,n.uint32()));break;case 19:i.overlays.push(Ye.decode(n,n.uint32()));break;default:n.skipType(r&7);break}}return i},fromJSON(t){return{meta:Bn(t.meta)?ke.fromJSON(t.meta):void 0,graphs:Array.isArray(t==null?void 0:t.graphs)?t.graphs.map(e=>Ze.fromJSON(e)):[],paths:Array.isArray(t==null?void 0:t.paths)?t.paths.map(e=>Qe.fromJSON(e)):[],colormap:Bn(t.colormap)?He.fromJSON(t.colormap):void 0,camera:Bn(t.camera)?Ke.fromJSON(t.camera):void 0,hiddenGroups:Array.isArray(t==null?void 0:t.hiddenGroups)?t.hiddenGroups.map(e=>String(e)):[],spheres:Array.isArray(t==null?void 0:t.spheres)?t.spheres.map(e=>tn.fromJSON(e)):[],lines:Array.isArray(t==null?void 0:t.lines)?t.lines.map(e=>Xe.fromJSON(e)):[],tubes:Array.isArray(t==null?void 0:t.tubes)?t.tubes.map(e=>nn.fromJSON(e)):[],overlays:Array.isArray(t==null?void 0:t.overlays)?t.overlays.map(e=>Ye.fromJSON(e)):[]}},toJSON(t){const e={};return t.meta!==void 0&&(e.meta=t.meta?ke.toJSON(t.meta):void 0),t.graphs?e.graphs=t.graphs.map(n=>n?Ze.toJSON(n):void 0):e.graphs=[],t.paths?e.paths=t.paths.map(n=>n?Qe.toJSON(n):void 0):e.paths=[],t.colormap!==void 0&&(e.colormap=t.colormap?He.toJSON(t.colormap):void 0),t.camera!==void 0&&(e.camera=t.camera?Ke.toJSON(t.camera):void 0),t.hiddenGroups?e.hiddenGroups=t.hiddenGroups.map(n=>n):e.hiddenGroups=[],t.spheres?e.spheres=t.spheres.map(n=>n?tn.toJSON(n):void 0):e.spheres=[],t.lines?e.lines=t.lines.map(n=>n?Xe.toJSON(n):void 0):e.lines=[],t.tubes?e.tubes=t.tubes.map(n=>n?nn.toJSON(n):void 0):e.tubes=[],t.overlays?e.overlays=t.overlays.map(n=>n?Ye.toJSON(n):void 0):e.overlays=[],e},fromPartial(t){var n,l,i,r,a,s,h;const e=Sr();return e.meta=t.meta!==void 0&&t.meta!==null?ke.fromPartial(t.meta):void 0,e.graphs=((n=t.graphs)==null?void 0:n.map(p=>Ze.fromPartial(p)))||[],e.paths=((l=t.paths)==null?void 0:l.map(p=>Qe.fromPartial(p)))||[],e.colormap=t.colormap!==void 0&&t.colormap!==null?He.fromPartial(t.colormap):void 0,e.camera=t.camera!==void 0&&t.camera!==null?Ke.fromPartial(t.camera):void 0,e.hiddenGroups=((i=t.hiddenGroups)==null?void 0:i.map(p=>p))||[],e.spheres=((r=t.spheres)==null?void 0:r.map(p=>tn.fromPartial(p)))||[],e.lines=((a=t.lines)==null?void 0:a.map(p=>Xe.fromPartial(p)))||[],e.tubes=((s=t.tubes)==null?void 0:s.map(p=>nn.fromPartial(p)))||[],e.overlays=((h=t.overlays)==null?void 0:h.map(p=>Ye.fromPartial(p)))||[],e}};function Bn(t){return t!=null}const jt=ln("project",{state:()=>({meta:{name:"New Project",author:"",description:"",date:{seconds:0,nanos:0},startTime:0,endTime:0,speedRatio:1},graphs:[],paths:[],colormap:void 0,camera:void 0,spheres:[],lines:[],tubes:[],overlays:[],hiddenGroups:[]}),getters:{isEmpty:t=>t.spheres.length==0&&t.lines.length==0&&t.tubes.length==0&&t.overlays.length==0},actions:{loadProject(t){const e=gi.decode(t);this.$patch(e)},getMetaById(t){return t<this.$state.spheres.length?this.$state.spheres[t]:(t-=this.$state.spheres.length,t<this.$state.lines.length?this.$state.lines[t]:(t-=this.$state.lines.length,t<this.$state.tubes.length?this.$state.tubes[t]:(t-=this.$state.tubes.length,t<this.$state.overlays.length?this.$state.overlays[t]:null)))}}});function Jr(t,e){const n=URL.createObjectURL(t),l=document.createElement("a");l.setAttribute("href",n),l.setAttribute("download",e),l.click(),URL.revokeObjectURL(n)}const bi=1;function yi(t){const e=new ri.exports.Reader(t);for(;e.pos<e.len;){const n=e.uint32();if(n>>>3==bi)return ke.decode(e,e.uint32());e.skipType(n&7)}return null}const Me=ln("catalogue",()=>{const t=jt();let e=new Xn,n;const l=at([]),i=Le(()=>l.value.length),r=Le(()=>l.value.length==0),a=at(-1);function s(){l.value=[],a.value=-1}function h(d){return s(),n=d,Xn.loadAsync(d).then(async b=>{e=b;const c=[];return e.forEach((v,f)=>{c.push(f.async("uint8array").then(y=>{const S=yi(y);S&&l.value.push({filename:v,meta:S})}))}),c.length==1?c[0].then(()=>p(l.value[0].filename)):Promise.all(c).then(()=>l.value.sort((v,f)=>v.filename<f.filename?-1:v.filename>f.filename?1:0)).then(()=>{})})}function p(d){const b=e.file(d);!b||(a.value=l.value.findIndex(c=>c.filename==d),b.async("uint8array").then(t.loadProject))}function _(){a.value=a.value>0?a.value-1:l.value.length-1;const d=l.value[a.value];p(d.filename)}function m(){a.value=a.value<l.value.length-1?a.value+1:0;const d=l.value[a.value];p(d.filename)}function g(){const d=new Blob([new Uint8Array(n)]);Jr(d,"catalogue.cat")}return{entries:l,isEmpty:r,length:i,currentIndex:a,openCatalogue:h,saveCatalogue:g,reset:s,loadProject:p,loadPreviousProject:_,loadNextProject:m}}),dn=t=>(Yt("data-v-5c424d31"),t=t(),Qt(),t),wi={class:"root"},ki=dn(()=>C("div",{class:"loading-message"},[C("p",null,"Loading...")],-1)),Si=[ki],xi={class:"header"},Ei={class:"banner"},Oi={key:0,class:"logo",src:Dr},Ii={key:1,class:"logo",src:$r},Ci={class:"search-box"},Ri={class:"action-bar"},Ni=dn(()=>C("div",{class:"icon-action icon-large download-icon"},null,-1)),Ti=dn(()=>C("div",{class:"icon-action icon-large upload-icon"},null,-1)),Fi={class:"table-container"},Ai={class:"scroll-container scrollable"},Pi=dn(()=>C("thead",null,[C("tr",null,[C("th",{style:{width:"30px"}}),C("th",null,"Name"),C("th",null,"Date"),C("th",null,"Author"),C("th",null,"Duration"),C("th",{style:{width:"100px"}})])],-1)),zi=["onMouseup"],Li=["onClick"],Bi=dn(()=>C("div",{class:"icon-button icon-medium play-icon"},null,-1)),Di={colspan:"6",class:"description"},$i={class:"footer"},Ui=xt({__name:"CatalogueView",setup(t){const e=Me(),n=un();function l(){let g=0;return e.entries.map(d=>({...d,expanded:!1,id:g++}))}let i=at(l());e.$subscribe(()=>i.value=l());const r=at(""),a=Le(()=>i.value.filter(g=>g.filename.toLowerCase().includes(r.value.toLowerCase()))),s=at(null);function h(g){if(!g.target)return;const d=g.target;d.files&&d.files[0].arrayBuffer().then(e.openCatalogue)}function p(){var g;(g=s.value)==null||g.click()}const _=at(null);function m(g){_.value&&(_.value.style.display="block"),e.loadProject(g)}return(g,d)=>(nt(),lt("div",wi,[C("input",{ref_key:"dialog",ref:s,type:"file",onChange:h},null,544),C("div",{ref_key:"loadingMessage",ref:_,class:"loading-screen"},Si,512),C("div",xi,[C("div",Ei,[Q(n).useDarkTheme?(nt(),lt("img",Oi)):(nt(),lt("img",Ii))]),C("div",Ci,[Lt(Fr,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=b=>r.value=b),class:"search-bar"},null,8,["modelValue"])]),C("div",Ri,[C("div",{role:"button",onMouseup:d[1]||(d[1]=(...b)=>Q(e).saveCatalogue&&Q(e).saveCatalogue(...b))},[Ni,Rt(" Save ")],32),C("div",{role:"button",onMouseup:p},[Ti,Rt(" Open ")],32),C("div",{role:"button",onMouseup:d[2]||(d[2]=(...b)=>Q(n).toggleTheme&&Q(n).toggleTheme(...b))},[C("div",{class:Nt(["icon-action","icon-large",Q(n).useDarkTheme?"moon-icon":"sun-icon"])},null,2),Rt(" "+ft(Q(n).useDarkTheme?"Dark":"Light"),1)],32)])]),C("div",Fi,[C("div",Ai,[C("table",null,[Pi,C("tbody",null,[(nt(!0),lt(Xt,null,Be(Q(a),b=>{var c,v,f,y,S,I,E;return nt(),lt(Xt,{key:b.id},[C("tr",null,[C("td",null,[C("div",{class:Nt(["expand-button","icon-small",b.expanded?"chevron-down-icon":"chevron-right-icon"]),onMouseup:L=>b.expanded=!b.expanded},null,42,zi)]),C("td",null,ft(b.meta.name),1),C("td",null,ft(new Date((f=(v=(c=b.meta)==null?void 0:c.date)==null?void 0:v.seconds)!=null?f:0).toLocaleString()),1),C("td",null,ft(b.meta.author),1),C("td",null,ft((((S=(y=b.meta)==null?void 0:y.endTime)!=null?S:0)-((E=(I=b.meta)==null?void 0:I.startTime)!=null?E:0)).toLocaleString("en-US")),1),C("td",null,[C("button",{class:"p-button",onClick:L=>m(b.filename)},[Bi,Rt("Show ")],8,Li)])]),C("tr",{style:Wn({visibility:b.expanded?"visible":"collapse"})},[C("td",Di,ft(b.meta.description),1)],4)],64)}),128))])])])]),C("div",$i,[C("span",null,ft(Q(e).length)+" total entries",1)])]))}});const Vi=Ot(Ui,[["__scopeId","data-v-5c424d31"]]),Mi=""+new URL("loading.2aab614e.svg",import.meta.url).href,cn=t=>(Yt("data-v-b3d21b21"),t=t(),Qt(),t),Wi={class:"root"},Gi={key:0,class:"container working"},Ji=cn(()=>C("img",{src:Mi,class:"image"},null,-1)),Zi={key:1,class:"container finished"},Ki=cn(()=>C("div",{class:"icon check-icon"},null,-1)),Hi=cn(()=>C("p",null,"Download finished!",-1)),qi=[Ki,Hi],Xi={key:2,class:"container failed"},Yi=cn(()=>C("div",{class:"icon xmark-icon"},null,-1)),Qi=cn(()=>C("br",null,null,-1)),ji=xt({__name:"DownloadPage",props:{url:null},emits:["finished"],setup(t,{emit:e}){const n=t,l=Me(),i=at(""),r=at(""),a=at("working");return Ve(()=>{fetch(n.url).then(async s=>{var b;if(!s.ok||!s.body)throw r.value=String(s.status)+" "+s.statusText,new Error("Network response was not OK");const h=+((b=s.headers.get("Content-Length"))!=null?b:-1);if(h==-1)return s.arrayBuffer();const p=s.body.getReader();let _=0,m=[];for(;;){const{done:c,value:v}=await p.read();if(c)break;m.push(v),_+=v.length,i.value=`${(_/h*100).toFixed()}% `}let g=new Uint8Array(_),d=0;for(let c of m)g.set(c,d),d+=c.length;return g.buffer}).then(s=>{a.value="finished";const h=l.openCatalogue(s).catch(m=>{throw r.value="File is not a catalogue!",m}),_=new URLSearchParams(window.location.search).get("event");return _?h.then(()=>l.loadProject(_)):h}).then(()=>{e("finished")}).catch(()=>{a.value="failed"})}),(s,h)=>(nt(),lt("div",Wi,[a.value=="working"?(nt(),lt("div",Gi,[Ji,C("p",null,"Loading Catalogue "+ft(i.value)+"...",1)])):a.value=="finished"?(nt(),lt("div",Zi,qi)):(nt(),lt("div",Xi,[Yi,C("p",null,[Rt("Could not open catalogue!"),Qi,Rt(ft(r.value),1)])]))]))}});const to=Ot(ji,[["__scopeId","data-v-b3d21b21"]]),Zr=t=>(Yt("data-v-97a44526"),t=t(),Qt(),t),eo={class:"container"},no={key:0,class:"banner",src:Dr},ro={key:1,class:"banner",src:$r},io=Zr(()=>C("p",{class:"disclaimer"},[Rt(" Currently, there is nothing to show! "),C("br"),Rt(" Select a file to watch it. ")],-1)),oo=Zr(()=>C("label",{for:"file-upload",class:"p-button"},[C("div",{class:"icon icon-small upload-icon"}),Rt("Open File ")],-1)),ao=xt({__name:"EmptyProjectDisclaimer",setup(t){const e=Me(),n=un();function l(i){if(!i.target)return;const r=i.target;r.files&&r.files[0].arrayBuffer().then(e.openCatalogue)}return(i,r)=>(nt(),lt("div",eo,[Q(n).useDarkTheme?(nt(),lt("img",no)):(nt(),lt("img",ro)),io,oo,C("input",{id:"file-upload",type:"file",accept:".wlsn",onChange:l},null,32)]))}});const so=Ot(ao,[["__scopeId","data-v-97a44526"]]);var on;class Ue{constructor(e){dt(this,on,void 0);ot(this,on,new Map(e))}exec(e){let n=e.code;e.ctrlKey&&(n="Ctrl+"+n),e.shiftKey&&(n="Shift+"+n),e.altKey&&(n="Alt+"+n);const l=q(this,on).get(n);return l?(l(),!0):!1}}on=new WeakMap;function Kr(t){return{all:t=t||new Map,on:function(e,n){var l=t.get(e);l?l.push(n):t.set(e,[n])},off:function(e,n){var l=t.get(e);l&&(n?l.splice(l.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var l=t.get(e);l&&l.slice().map(function(i){i(n)}),(l=t.get("*"))&&l.slice().map(function(i){i(e,n)})}}}const mt=Kr();class At{static ResetCamera(){mt.emit("ResetCamera")}static ToggleGrid(){mt.emit("ToggleGrid")}static Screenshot(){mt.emit("Screenshot")}static SelectObject(e){mt.emit("SelectObject",e)}static TargetObject(e){mt.emit("TargetObject",e)}static SetObjectsEnabled(e,n){mt.emit("SetObjectsEnabled",{objectIds:e,enabled:n})}static SetPathEnabled(e,n,l){mt.emit("SetPathEnabled",{id:e,enabled:n,color:l})}static SetStage(e){mt.emit("SetStage",e)}static RemoveStage(){mt.emit("RemoveStage")}static SetTheme(e){mt.emit("SetTheme",e)}}const hn=t=>(Yt("data-v-3b6e1624"),t=t(),Qt(),t),lo={class:"root"},uo=hn(()=>C("div",{class:"icon-large exit-icon toolbar-icon"},null,-1)),co=[uo],ho=hn(()=>C("div",{class:"icon-large grid-icon toolbar-icon"},null,-1)),fo=[ho],po=hn(()=>C("div",{class:"icon-large chart-icon toolbar-icon"},null,-1)),mo=[po],vo=hn(()=>C("div",{class:"icon-large camera-rotate-icon toolbar-icon"},null,-1)),_o=[vo],go=hn(()=>C("div",{class:"icon-large camera-icon toolbar-icon"},null,-1)),bo=[go],yo=xt({__name:"ToolbarInput",setup(t){const e=jt(),n=un();function l(){Ar(e.graphs)}function i(){At.ResetCamera()}function r(){At.Screenshot()}function a(){At.ToggleGrid()}function s(){n.toggleTheme()}const h=new Ue([["KeyT",()=>s()],["KeyG",()=>a],["Shift+KeyG",()=>l()],["KeyP",()=>r()]]);function p(_){_.repeat||h.exec(_)}return Ve(()=>document.addEventListener("keydown",p)),Rn(()=>document.removeEventListener("keydown",p)),(_,m)=>(nt(),lt("div",lo,[C("div",{class:"button",role:"button",title:"Exit",onMouseup:m[0]||(m[0]=g=>Q(e).$reset())},co,32),C("div",{class:"button",role:"button",title:"Toggle Theme (T)",onMouseup:m[1]||(m[1]=g=>s())},[C("div",{class:Nt(["icon-large",Q(n).useDarkTheme?"moon-icon":"sun-icon","toolbar-icon"])},null,2)],32),C("div",{class:"button",role:"button",title:"Toggle Grid (G)",onMouseup:a},fo,32),C("div",{class:"button",role:"button",title:"Open Graph Explorer (Shift+G)",onMouseup:m[2]||(m[2]=g=>l())},mo,32),C("div",{class:"button",role:"button",title:"Reset Camera (R)",onMouseup:m[3]||(m[3]=g=>i())},_o,32),C("div",{class:"button",role:"button",title:"Screenshot (P)",onMouseup:m[4]||(m[4]=g=>r())},bo,32)]))}});const wo=Ot(yo,[["__scopeId","data-v-3b6e1624"]]),ko="modulepreload",So=function(t,e){return new URL(t,e).href},xr={},Er=function(e,n,l){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(r=>{if(r=So(r,l),r in xr)return;xr[r]=!0;const a=r.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(!!l)for(let _=i.length-1;_>=0;_--){const m=i[_];if(m.href===r&&(!a||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${s}`))return;const p=document.createElement("link");if(p.rel=a?"stylesheet":ko,a||(p.as="script",p.crossOrigin=""),p.href=r,document.head.appendChild(p),a)return new Promise((_,m)=>{p.addEventListener("load",_),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())};function Un(){const t=getComputedStyle(document.documentElement),e=t.getPropertyValue("--scene-font-color").trim();return{clearColor:t.getPropertyValue("--scene-background").trim(),fontColor:e}}function xo(){return!!window.Worker&&!!HTMLCanvasElement.prototype.transferControlToOffscreen&&!!window.chrome}async function Eo(t){return(()=>xo()?Er(()=>import("./worker.1b361a6d.js"),["./worker.1b361a6d.js","./screenshot.53f53f45.js","./openPlot.bc4834b4.js","./openPlot.2f7d059f.css"],import.meta.url).then(e=>new e.WorkerController(t)):Er(()=>import("./local.471d25f1.js").then(e=>e.aK),["./local.471d25f1.js","./openPlot.bc4834b4.js","./openPlot.2f7d059f.css","./screenshot.53f53f45.js"],import.meta.url).then(e=>new e.LocalController(t)))().then(e=>{const n=Un();return e.setTheme(n),e})}const bn=50,yn=50,wn=.05,kn=.05,Oo=.1;var Jt,ae,se,le,ue,de,ce,xe;class Io{constructor(e,n){dt(this,Jt,void 0);dt(this,ae,void 0);dt(this,se,void 0);dt(this,le,void 0);dt(this,ue,void 0);dt(this,de,void 0);dt(this,ce,void 0);dt(this,xe,!1);ot(this,Jt,n);const l=new Ue([["KeyR",()=>e.resetCamera()],["Numpad1",()=>e.setCameraRotation(Math.PI/2,Math.PI/2)],["Alt+Numpad1",()=>e.setCameraRotation(-Math.PI/2,Math.PI/2)],["Numpad3",()=>e.setCameraRotation(0,Math.PI/2)],["Alt+Numpad3",()=>e.setCameraRotation(Math.PI,Math.PI/2)],["Numpad7",()=>e.setCameraRotation(0,0)],["Alt+Numpad7",()=>e.setCameraRotation(0,Math.PI)],["Numpad9",()=>e.rotateCamera(Math.PI,0)],["Digit1",()=>e.setCameraRotation(Math.PI/2,Math.PI/2)],["Alt+Digit1",()=>e.setCameraRotation(-Math.PI/2,Math.PI/2)],["Digit3",()=>e.setCameraRotation(0,Math.PI/2)],["Alt+Digit3",()=>e.setCameraRotation(Math.PI,Math.PI/2)],["Digit7",()=>e.setCameraRotation(0,0)],["Alt+Digit7",()=>e.setCameraRotation(0,Math.PI)],["Digit9",()=>e.rotateCamera(Math.PI,0)]]),i=new Ue([["Numpad2",()=>e.rotateCamera(0,kn)],["Numpad8",()=>e.rotateCamera(0,-kn)],["Numpad4",()=>e.rotateCamera(-wn,0)],["Numpad6",()=>e.rotateCamera(wn,0)],["Digit2",()=>e.rotateCamera(0,kn)],["Digit8",()=>e.rotateCamera(0,-kn)],["Digit4",()=>e.rotateCamera(-wn,0)],["Digit6",()=>e.rotateCamera(wn,0)],["KeyW",()=>e.panCamera(0,yn)],["KeyA",()=>e.panCamera(bn,0)],["KeyS",()=>e.panCamera(0,-yn)],["KeyD",()=>e.panCamera(-bn,0)],["ArrowUp",()=>e.panCamera(0,yn)],["ArrowLeft",()=>e.panCamera(bn,0)],["ArrowDown",()=>e.panCamera(0,-yn)],["ArrowRight",()=>e.panCamera(-bn,0)]]);ot(this,se,a=>i.exec(a)),ot(this,ae,a=>{a.repeat||l.exec(a)});const r=this;ot(this,le,a=>{const s=a.button==1&&a.buttons==4&&!a.altKey&&!a.ctrlKey,h=a.button==0&&a.buttons==1&&!a.altKey&&a.ctrlKey;(s||h)&&ot(r,xe,!0)}),ot(this,ue,()=>{ot(r,xe,!1)}),ot(this,de,a=>{if(q(r,xe))if(a.shiftKey)e.panCamera(a.movementX,a.movementY);else{const s=-a.movementX/q(r,Jt).clientWidth*2*Math.PI,h=-a.movementY/q(r,Jt).clientHeight*Math.PI;e.rotateCamera(s,h)}}),ot(this,ce,a=>{e.zoomCamera(Oo*a.deltaY)}),document.addEventListener("keydown",q(this,se)),document.addEventListener("keydown",q(this,ae)),n.addEventListener("pointerdown",q(this,le)),n.addEventListener("pointerup",q(this,ue)),n.addEventListener("pointermove",q(this,de)),n.addEventListener("wheel",q(this,ce))}dispose(){document.removeEventListener("keydown",q(this,ae)),document.removeEventListener("keydown",q(this,se)),q(this,Jt).removeEventListener("pointerdown",q(this,le)),q(this,Jt).removeEventListener("pointerup",q(this,ue)),q(this,Jt).removeEventListener("pointermove",q(this,de)),q(this,Jt).removeEventListener("wheel",q(this,ce)),ot(this,ae,()=>{}),ot(this,se,()=>{}),ot(this,le,()=>{}),ot(this,ue,()=>{}),ot(this,de,()=>{}),ot(this,ce,()=>{})}}Jt=new WeakMap,ae=new WeakMap,se=new WeakMap,le=new WeakMap,ue=new WeakMap,de=new WeakMap,ce=new WeakMap,xe=new WeakMap;const Or=1,Ir=10,Cr=50;var he,fe;class Co{constructor(e){dt(this,he,void 0);dt(this,fe,void 0);const n=new Ue([["Space",()=>e.togglePlaying()],["KeyK",()=>e.togglePlaying()],["KeyJ",()=>e.backward()],["KeyL",()=>e.forward()],["KeyM",()=>e.toggleLooping()],["KeyB",()=>e.toggleRecording()]]),l=new Ue([["NumpadAdd",()=>e.adjustSpeed(Ir)],["Shift+NumpadAdd",()=>e.adjustSpeed(Cr)],["Alt+NumpadAdd",()=>e.adjustSpeed(Or)],["NumpadSubtract",()=>e.adjustSpeed(-Ir)],["Shift+NumpadSubtract",()=>e.adjustSpeed(-Cr)],["Alt+NumpadSubtract",()=>e.adjustSpeed(-Or)]]);ot(this,fe,i=>l.exec(i)),ot(this,he,i=>{i.repeat||n.exec(i)}),document.addEventListener("keydown",q(this,fe)),document.addEventListener("keydown",q(this,he))}dispose(){document.removeEventListener("keydown",q(this,he)),document.removeEventListener("keydown",q(this,fe)),ot(this,he,()=>{}),ot(this,fe,()=>{})}}he=new WeakMap,fe=new WeakMap;var pe,me,ve,_e;class Ro{constructor(e,n){dt(this,pe,void 0);dt(this,me,void 0);dt(this,ve,void 0);dt(this,_e,void 0);ot(this,pe,e),ot(this,me,l=>{l.button==0&&l.buttons==1&&!l.altKey&&!l.ctrlKey&&!l.shiftKey&&n.simulatePointerDown(l.offsetX,l.offsetY)}),ot(this,ve,l=>{!l.altKey&&!l.ctrlKey&&!l.shiftKey&&n.simulatePointerUp(l.offsetX,l.offsetY)}),ot(this,_e,l=>{l.button==-1&&!l.altKey&&!l.ctrlKey&&!l.shiftKey&&n.simulatePointerMove(l.offsetX,l.offsetY)}),e.addEventListener("pointerdown",q(this,me)),e.addEventListener("pointerup",q(this,ve)),e.addEventListener("pointermove",q(this,_e))}dispose(){q(this,pe).removeEventListener("pointerdown",q(this,me)),q(this,pe).removeEventListener("pointerup",q(this,ve)),q(this,pe).removeEventListener("pointermove",q(this,_e)),ot(this,me,()=>{}),ot(this,ve,()=>{}),ot(this,_e,()=>{})}}pe=new WeakMap,me=new WeakMap,ve=new WeakMap,_e=new WeakMap;const Rr=.01,Nr=999.99,Tn=ln("player",{state:()=>({currentFrame:0,startFrame:0,endFrame:100,speedRatio:1,stepSize:10,isFullscreen:!1,isLooping:!1,isPlaying:!1,isScrubbing:!1,isRecording:!1,recorderFps:30}),actions:{forward(){const t=this.stepSize*this.speedRatio;this.endFrame-this.currentFrame>t?this.currentFrame+=t:this.currentFrame=this.endFrame},backward(){const t=this.stepSize*this.speedRatio;this.currentFrame-this.startFrame>t?this.currentFrame-=t:this.currentFrame=this.startFrame},togglePlaying(){this.isPlaying=!this.isPlaying},toggleLooping(){this.isLooping=!this.isLooping},toggleRecording(){this.isRecording=!this.isRecording},adjustSpeed(t){const e=this.speedRatio+t;this.speedRatio=e<Rr?Rr:e>Nr?Nr:e}}}),Hr=ln("resolution",{state:()=>({fixed:!1,width:1920,height:1080})}),No="video/webm",To=3e3;var an,Zt,ne,sn,Ee,On,qr,In,Xr,Cn,Yr;class Fo{constructor(e,n){dt(this,On);dt(this,In);dt(this,Cn);dt(this,an,void 0);dt(this,Zt,null);dt(this,ne,!1);dt(this,sn,void 0);dt(this,Ee,[]);ot(this,an,e),ot(this,sn,n)}get isRecording(){return q(this,ne)}start(e=30){q(this,ne)&&this.stop();const n=q(this,an).captureStream(e);ot(this,Zt,new MediaRecorder(n,{mimeType:No})),q(this,Zt).ondataavailable=mn(this,On,qr).bind(this),q(this,Zt).onerror=mn(this,In,Xr).bind(this),q(this,Zt).onstop=mn(this,Cn,Yr).bind(this),ot(this,Ee,[]),ot(this,ne,!0),q(this,Zt).start(To)}stop(){!q(this,Zt)||!q(this,ne)||(ot(this,ne,!1),q(this,Zt).stop())}}an=new WeakMap,Zt=new WeakMap,ne=new WeakMap,sn=new WeakMap,Ee=new WeakMap,On=new WeakSet,qr=function(e){e.data.size>0&&q(this,Ee).push(e.data)},In=new WeakSet,Xr=function(){this.stop()},Cn=new WeakSet,Yr=function(){this.stop();const e=new Blob(q(this,Ee));Jr(e,q(this,sn))};var ge;class Ao{constructor(e){dt(this,ge,void 0);const n=new Ue([["KeyI",()=>e.loadPreviousProject()],["KeyO",()=>e.loadNextProject()]]);ot(this,ge,l=>{l.repeat||n.exec(l)}),document.addEventListener("keydown",q(this,ge))}dispose(){document.removeEventListener("keydown",q(this,ge)),ot(this,ge,()=>{})}}ge=new WeakMap;const Vn=Kr();var Oe,Ie,Ce,Re,Ne,Te,Fe,Ae,Pe,ze;class Po{constructor(e){dt(this,Oe,void 0);dt(this,Ie,void 0);dt(this,Ce,void 0);dt(this,Re,void 0);dt(this,Ne,void 0);dt(this,Te,void 0);dt(this,Fe,void 0);dt(this,Ae,void 0);dt(this,Pe,void 0);dt(this,ze,void 0);ot(this,Oe,()=>e.resetCamera()),ot(this,Ie,()=>e.setGridEnabled(!e.isGridEnabled)),ot(this,Ce,()=>e.screenshot()),ot(this,Re,n=>e.select(n)),ot(this,Ne,n=>e.target(n)),ot(this,Te,n=>e.setObjectsEnabled(n.objectIds,n.enabled)),ot(this,Fe,n=>e.setPathEnabled(n.id,n.enabled,n.color)),ot(this,Ae,n=>e.loadStage(n)),ot(this,Pe,()=>e.removeStage()),ot(this,ze,n=>e.setTheme(n)),mt.on("ResetCamera",q(this,Oe)),mt.on("ToggleGrid",q(this,Ie)),mt.on("Screenshot",q(this,Ce)),mt.on("SelectObject",q(this,Re)),mt.on("TargetObject",q(this,Ne)),mt.on("SetObjectsEnabled",q(this,Te)),mt.on("SetPathEnabled",q(this,Fe)),mt.on("SetStage",q(this,Ae)),mt.on("RemoveStage",q(this,Pe)),mt.on("SetTheme",q(this,ze)),e.registerOnObjectPicked(n=>Vn.emit("ObjectPicked",n))}dispose(){mt.off("ResetCamera",q(this,Oe)),mt.off("ToggleGrid",q(this,Ie)),mt.off("Screenshot",q(this,Ce)),mt.off("SelectObject",q(this,Re)),mt.off("TargetObject",q(this,Ne)),mt.off("SetObjectsEnabled",q(this,Te)),mt.off("SetPathEnabled",q(this,Fe)),mt.off("SetStage",q(this,Ae)),mt.off("RemoveStage",q(this,Pe)),mt.off("SetTheme",q(this,ze))}}Oe=new WeakMap,Ie=new WeakMap,Ce=new WeakMap,Re=new WeakMap,Ne=new WeakMap,Te=new WeakMap,Fe=new WeakMap,Ae=new WeakMap,Pe=new WeakMap,ze=new WeakMap;const Zn=ln("stage",()=>{let t=null,e="";const n=at(-1),l=at(""),i=Le(()=>n.value>=0);function r(p){n.value=-1,l.value="",fetch(p).then(async _=>{var f;if(!_.ok||!_.body)throw l.value=String(_.status)+" "+_.statusText,new Error("Network response was not OK");const m=+((f=_.headers.get("Content-Length"))!=null?f:-1);if(m==-1)return _.blob();const g=_.body.getReader();let d=0;const b=[];for(;;){const{done:y,value:S}=await g.read();if(y)break;b.push(S),d+=S.length,n.value=d/m}const c=new Uint8Array(d);let v=0;for(const y of b)c.set(y,v),v+=y.length;return new Blob([c])}).then(_=>{a(_)})}function a(p){h(),n.value=-1,l.value="",t=p,e=URL.createObjectURL(t),s()}function s(){e&&At.SetStage(e)}function h(){e&&(At.RemoveStage(),URL.revokeObjectURL(e),e="")}return{error:l,progress:n,url:e,isDownloading:i,applyStage:s,loadStage:r,setStage:a,removeStage:h}}),zo={class:"container"},Lo=xt({__name:"SceneView",setup(t){const e=document.title,n=Me(),l=Tn(),i=jt(),r=Hr(),a=Zn(),s=un(),h=at(null),p=at(null);var _,m;function g(){var D;i.isEmpty||!h.value||(_.load(i),_.setTheme(Un()),l.isPlaying&&_.play(),a.applyStage(),(D=i.meta)!=null&&D.name&&(document.title=i.meta.name+" | "+e))}i.$subscribe(()=>g());let d;l.$subscribe((D,N)=>{!_||D.type==ii.patchObject&&D.payload.currentFrame||(_.goToFrame(N.currentFrame),_.isPlaying!=N.isPlaying&&(N.isPlaying?(l.currentFrame==l.endFrame&&_.goToFrame(l.startFrame),_.play()):_.pause()),_.speedRatio!=N.speedRatio&&(_.speedRatio=N.speedRatio),d.isRecording!=N.isRecording&&(N.isRecording?d.start(l.recorderFps):d.stop()))});let b=r.fixed;const c=at(1),v=at(0),f=at(0);function y(){if(!p.value)return;const D=p.value.clientWidth,N=p.value.clientHeight;if(r.fixed){_==null||_.resize(r.width,r.height);const M=D/r.width,j=N/r.height;M<j?(c.value=M,v.value=0,f.value=-(r.height*M-N)/2):(c.value=j,v.value=-(r.width*j-D)/2,f.value=0)}else _==null||_.resize(D,N),r.$patch({width:D,height:N}),c.value=1,v.value=0,f.value=0}const S=new ResizeObserver(y);r.$subscribe((D,N)=>{N.fixed?(b=!0,y()):b!=N.fixed&&(b=!1,y())}),s.$subscribe(()=>{_.setTheme(Un())});var I,E,L,P;return Ve(async()=>{var N,M;if(!h.value)throw Error("Canvas not present!");if(!p.value)throw Error("Div container not present!");_=await Eo(h.value),m=new Po(_),g(),y(),S.observe(p.value),_.registerOnFrameChanged(j=>{!l.isScrubbing&&!_.isStatic&&l.$patch({currentFrame:j})}),_.registerOnAnimationLoop(()=>{l.isLooping||(_.pause(),l.togglePlaying(),Gn(()=>_.goToFrame(l.endFrame)))}),I=new Ao(n),E=new Io(_,h.value),L=new Ro(h.value,_),P=new Co(l);let D=(M=(N=i.meta)==null?void 0:N.name)!=null?M:"";D.length==0&&(D="event"),d=new Fo(h.value,D+".webm")}),Rn(()=>{S.disconnect(),m.dispose(),_.dispose(),I.dispose(),E.dispose(),L.dispose(),P.dispose(),document.title=e}),(D,N)=>(nt(),lt("div",zo,[C("div",{ref_key:"container",ref:p,class:"canvas-container"},[C("canvas",{id:"render-canvas",ref_key:"canvas",ref:h,style:Wn({transform:"translateX("+v.value+"px) translateY("+f.value+"px) scale("+c.value+")"})},null,4)],512),Lt(wo,{class:"toolbar"})]))}});const Bo=Ot(Lo,[["__scopeId","data-v-369c44f9"]]),te=t=>(Yt("data-v-8245d6b1"),t=t(),Qt(),t),Do=te(()=>C("td",null,"Title:",-1)),$o=te(()=>C("td",null,"Author:",-1)),Uo=te(()=>C("td",null,"Date:",-1)),Vo=te(()=>C("td",null,"Timestamp:",-1)),Mo=te(()=>C("td",null,"Start:",-1)),Wo=te(()=>C("td",null,"End:",-1)),Go=te(()=>C("td",null,"Duration:",-1)),Jo=te(()=>C("tr",null,[C("td",null,"Description:"),C("td")],-1)),Zo={class:"desc"},Ko=te(()=>C("div",{class:"disclaimer"},[Rt(" Wilson is an open source project under the MIT-License."),C("br"),Rt(" Checkout the project's "),C("a",{href:"https://github.com/tkerscher/wilson"},"sourcecode"),Rt(". ")],-1)),Ho={style:{visibility:"hidden"}},qo=xt({__name:"InfoTab",props:{searchQuery:null},setup(t){const e=jt();function n(g,d){return!g||g.length==0?d:g}const l=at(""),i=at(""),r=at(""),a=at(""),s=at(""),h=at(""),p=at(""),_=at("");function m(){var d,b,c,v,f,y,S,I,E,L,P,D,N,M,j,x,z;l.value=n((d=e.meta)==null?void 0:d.author,"No Author"),i.value=n((b=e.meta)==null?void 0:b.name,"No Title"),r.value=n((c=e.meta)==null?void 0:c.description,"No description"),a.value=new Date((y=(f=(v=e.meta)==null?void 0:v.date)==null?void 0:f.seconds)!=null?y:0).toString();const g=(E=(I=(S=e.meta)==null?void 0:S.date)==null?void 0:I.nanos)!=null?E:0;s.value=(g+1e10).toLocaleString("en-US").slice(3),h.value=((P=(L=e.meta)==null?void 0:L.startTime)!=null?P:0).toLocaleString("en-US"),p.value=((N=(D=e.meta)==null?void 0:D.endTime)!=null?N:0).toLocaleString("en-US"),_.value=(((j=(M=e.meta)==null?void 0:M.endTime)!=null?j:0)-((z=(x=e.meta)==null?void 0:x.startTime)!=null?z:0)).toLocaleString("en-US")}return m(),e.$subscribe(m),(g,d)=>{var b;return nt(),lt(Xt,null,[C("table",null,[C("tr",null,[Do,C("td",null,ft(i.value),1)]),C("tr",null,[$o,C("td",null,ft(l.value),1)]),C("tr",null,[Uo,C("td",null,ft(a.value),1)]),C("tr",null,[Vo,C("td",null,ft(s.value)+" ns",1)]),C("tr",null,[Mo,C("td",null,ft(h.value)+" ns",1)]),C("tr",null,[Wo,C("td",null,ft(p.value)+" ns",1)]),C("tr",null,[Go,C("td",null,ft(_.value)+" ns",1)]),Jo]),C("p",Zo,ft(r.value),1),Ko,C("div",Ho,ft((b=Q(e).meta)==null?void 0:b.name),1)],64)}}});const Xo=Ot(qo,[["__scopeId","data-v-8245d6b1"]]),Yo={class:"root"},Qo={class:"header"},jo=["title"],ta={class:"title"},ea=["title"],na={class:"content"},ra={class:"subgroup-div"},ia=["name","onPointerup","onDblclick","onKeydown"],oa={class:"title"},aa=["onPointerup"],sa=["title","onPointerup"],la=xt({__name:"ObjectGroup",props:{group:null,expanded:{type:Boolean}},emits:["expand"],setup(t,{emit:e}){const n=t,l=jt(),i=at(n.expanded),r=at(null);function a(){i.value=!0,e("expand")}function s(c){Ar(l.graphs,c)}function h(c){let v=[];const f=!c.visible;function y(I){v.push(...I.objects.map(E=>E.id)),I.subgroups.forEach(E=>y(E))}y(c),At.SetObjectsEnabled(v,f);function S(I){I.visible=f,I.objects.forEach(E=>E.visible=f),I.subgroups.forEach(E=>S(E))}S(c)}function p(c){At.SetObjectsEnabled([c.id],!c.visible),c.visible=!c.visible}function _(c,v){c.target.focus(),At.SelectObject(v)}function m(c){if(c.repeat)return;const v=c.target;if(v.nextElementSibling){const y=v.nextElementSibling.getAttribute("name");if(y){const S=parseInt(y.substring(4));At.SelectObject(S)}}}function g(c){if(c.repeat)return;const v=c.target;if(v.previousElementSibling){const y=v.previousElementSibling.getAttribute("name");if(y){const S=parseInt(y.substring(4));At.SelectObject(S)}}}const d=at(null);function b(c){r.value=c,c!=null&&(!n.group.objects.find(v=>v.id==c)||(a(),Gn(()=>{var f;const v=(f=d.value)==null?void 0:f.querySelector("[name=item"+c+"]");v&&v.focus()})))}return Ve(()=>Vn.on("ObjectPicked",b)),Rn(()=>Vn.off("ObjectPicked",b)),(c,v)=>{const f=oi("ObjectGroup",!0);return nt(),lt("div",Yo,[C("div",Qo,[C("div",{class:Nt(["button","icon-small",i.value?"chevron-down-icon":"chevron-right-icon"]),title:i.value?"Collapse Group":"Expand Group",role:"button",onPointerup:v[0]||(v[0]=Et(y=>i.value=!i.value,["stop"]))},null,42,jo),C("div",ta,[C("span",null,ft(n.group.name),1)]),C("div",{class:"button icon-small chart-icon",title:"Show Graphs",role:"button",onPointerup:v[1]||(v[1]=Et(y=>s(n.group.name),["stop"]))},null,32),C("div",{class:Nt(["button","icon-small",n.group.visible?"eye-icon":"eye-slash-icon"]),title:n.group.visible?"Hide Group":"Show Group",role:"button",onPointerup:v[2]||(v[2]=Et(y=>h(n.group),["stop"]))},null,42,ea)]),xn(C("div",na,[C("div",ra,[(nt(!0),lt(Xt,null,Be(n.group.subgroups,y=>(nt(),qt(f,{key:y.name,group:y,onExpand:a},null,8,["group"]))),128))]),C("div",{ref_key:"itemsDiv",ref:d,class:"items-div"},[(nt(!0),lt(Xt,null,Be(n.group.objects,y=>(nt(),lt("div",{key:y.id,class:Nt(["item",{"item-selected":r.value==y.id}]),name:"item"+y.id,tabindex:"0",onPointerup:Et(S=>_(S,y.id),["stop"]),onDblclick:S=>Q(At).TargetObject(y.id),onKeydown:[De(Et(g,["prevent"]),["up"]),De(Et(m,["prevent"]),["down"])]},[C("div",oa,[C("span",null,ft(y.name),1)]),C("div",{class:"button icon-small chart-icon",title:"Show Graphs",role:"button",onPointerup:Et(S=>s(y.name),["stop"]),onDblclick:v[3]||(v[3]=Et(()=>{},["stop"]))},null,40,aa),C("div",{class:Nt(["button","icon-small",y.visible?"eye-icon":"eye-slash-icon"]),title:y.visible?"Hide Object":"Show Object",role:"button",onPointerup:Et(S=>p(y),["stop"]),onDblclick:v[4]||(v[4]=Et(()=>{},["stop"]))},null,42,sa)],42,ia))),128))],512)],512),[[Pr,i.value]])])}}});const Tr=Ot(la,[["__scopeId","data-v-79ee9470"]]),ua={name:"",visible:!1,objects:[],subgroups:[]};function da(t){var p,_;let e=0;const n=(_=(p=t.meta)==null?void 0:p.name)!=null?_:"",l={name:n.length>0?n:"Unnamed Project",objects:[],visible:!0,children:new Map};function i(m){let g=l;for(const d of m.split("/")){const b=g.children.get(d);if(b)g=b;else{const c={name:d,visible:!0,objects:[],children:new Map};g.children.set(d,c),g=c}}return g}function r(m,g){if(g.length==0)l.objects.push(m);else for(const d of g)i(d).objects.push(m)}const a=[];t.spheres.forEach(m=>{const g={name:m.name,description:m.description,visible:!0,id:e++,type:"Sphere"};r(g,m.groups),a.push(g)}),t.lines.forEach(m=>{const g={name:m.name,description:m.description,visible:!0,id:e++,type:"Line"};r(g,m.groups),a.push(g)}),t.tubes.forEach(m=>{const g={name:m.name,description:m.description,visible:!0,id:e++,type:"Tube"};r(g,m.groups),a.push(g)}),t.overlays.forEach(m=>{const g={name:m.name,description:m.description,visible:!0,id:e++,type:"Overlay"};r(g,m.groups),a.push(g)});function s(m){m.visible=!1,m.objects.forEach(g=>g.visible=!1),m.children.forEach(g=>s(g))}t.hiddenGroups.forEach(m=>s(i(m)));function h(m){return{name:m.name,visible:m.visible,objects:m.objects,subgroups:Array.from(m.children.values()).map(g=>h(g)).sort((g,d)=>g.name.localeCompare(d.name))}}return{group:h(l),objects:a}}const ca=xt({__name:"ObjectExplorer",props:{searchQuery:null},setup(t){const e=t,n=jt(),l=at(ua);let i=[];function r(){const s=da(n);l.value=s.group,i=s.objects}n.$subscribe(r),Ve(()=>r());const a=at({name:"Search Result",objects:[],subgroups:[],visible:!0});return zr(()=>e.searchQuery,()=>{a.value.visible=!0,a.value.objects=i.filter(s=>s.name.toLowerCase().includes(e.searchQuery.toLowerCase()))}),(s,h)=>(nt(),lt("div",{class:"root",onMouseup:h[0]||(h[0]=p=>Q(At).SelectObject(null))},[e.searchQuery?(nt(),qt(Tr,{key:0,group:a.value,expanded:""},null,8,["group"])):(nt(),qt(Tr,{key:1,group:l.value,expanded:""},null,8,["group"]))],32))}});const ha=Ot(ca,[["__scopeId","data-v-2da580ba"]]),fa=["contenteditable","onKeydown"],pa=xt({__name:"NumberInput",props:{modelValue:null,minValue:null,maxValue:null,disabled:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,l=at(!1),i=at(n.modelValue);function r(){i.value=n.modelValue,l.value=!1}function a(){l.value||e("update:modelValue",i.value)}function s(h){const p=h.target,_=Number.parseInt(p.innerHTML),m=!isNaN(+p.innerHTML)&&_>=n.minValue&&_<=n.maxValue;l.value=!m,m&&(i.value=_)}return(h,p)=>(nt(),lt("div",{class:Nt(["number-input",{"input-invalid":l.value,"input-disabled":!!n.disabled}]),contenteditable:!n.disabled,onKeydown:[De(Et(a,["prevent"]),["enter"]),De(Et(r,["prevent"]),["esc"])],onFocusout:a,onInput:s},ft(n.modelValue),43,fa))}});const Mn=Ot(pa,[["__scopeId","data-v-29253558"]]),ma=t=>(Yt("data-v-7f2fe461"),t=t(),Qt(),t),va=ma(()=>C("td",null,"FPS:",-1)),_a=xt({__name:"RecorderSettings",setup(t){const e=Tn();return(n,l)=>(nt(),lt("table",null,[C("tr",null,[va,Lt(Mn,{modelValue:Q(e).recorderFps,"onUpdate:modelValue":l[0]||(l[0]=i=>Q(e).recorderFps=i),"min-value":5,"max-value":120},null,8,["modelValue"])])]))}});const ga=Ot(_a,[["__scopeId","data-v-7f2fe461"]]),Fn=t=>(Yt("data-v-a6026f5e"),t=t(),Qt(),t),ba={class:"res-root"},ya=Fn(()=>C("label",{for:"fit"},"Fit to window size",-1)),wa=Fn(()=>C("label",{for:"fixed"},"Fixed resolution",-1)),ka={class:"res-table"},Sa=Fn(()=>C("td",null,"Width:",-1)),xa=Fn(()=>C("td",null,"Height:",-1)),Ea=xt({__name:"ResolutionSettings",setup(t){const e=Hr(),n=at(e.fixed?"fixed":"fit");return zr(n,l=>e.fixed=l=="fixed"),(l,i)=>(nt(),lt("div",ba,[C("div",null,[xn(C("input",{id:"fit","onUpdate:modelValue":i[0]||(i[0]=r=>n.value=r),type:"radio",name:"resolution",value:"fit"},null,512),[[qn,n.value]]),ya]),C("div",null,[xn(C("input",{id:"fixed","onUpdate:modelValue":i[1]||(i[1]=r=>n.value=r),type:"radio",name:"resolution",value:"fixed"},null,512),[[qn,n.value]]),wa]),C("table",ka,[C("tr",null,[Sa,C("td",null,[Lt(Mn,{modelValue:Q(e).width,"onUpdate:modelValue":i[2]||(i[2]=r=>Q(e).width=r),disabled:!Q(e).fixed,"min-value":300,"max-value":8e3},null,8,["modelValue","disabled"])])]),C("tr",null,[xa,C("td",null,[Lt(Mn,{modelValue:Q(e).height,"onUpdate:modelValue":i[3]||(i[3]=r=>Q(e).height=r),disabled:!Q(e).fixed,"min-value":300,"max-value":8e3},null,8,["modelValue","disabled"])])])])]))}});const Oa=Ot(Ea,[["__scopeId","data-v-a6026f5e"]]),An=t=>(Yt("data-v-9cc997e5"),t=t(),Qt(),t),Ia={class:"container"},Ca=An(()=>C("label",{for:"dialog",class:"p-button"},[C("div",{class:"icon icon-small upload-icon"}),Rt("Open Stage ")],-1)),Ra=An(()=>C("div",{class:"icon icon-small trash-icon"},null,-1)),Na={key:0,class:"message"},Ta=An(()=>C("div",{class:"icon icon-small triangle-exclamation-icon"},null,-1)),Fa={key:1,class:"message"},Aa=An(()=>C("div",{class:"icon icon-small spinner-icon"},null,-1)),Pa=xt({__name:"StageSettings",setup(t){const e=Zn();async function n(l){if(!l.target)return;const i=l.target;i.files&&e.setStage(i.files[0])}return(l,i)=>(nt(),lt("div",Ia,[C("input",{id:"dialog",type:"file",accept:".glb",onChange:n},null,32),Ca,C("div",{class:"p-button",onMouseup:i[0]||(i[0]=r=>Q(e).removeStage())},[Ra,Rt(" Remove Stage ")],32),Q(e).error?(nt(),lt("div",Na,[Ta,Rt(" "+ft(Q(e).error),1)])):Q(e).isDownloading?(nt(),lt("div",Fa,[Aa,Rt(" Downloading stage file ("+ft((Q(e).progress*100).toFixed())+"%)... ",1)])):Nn("",!0)]))}});const za=Ot(Pa,[["__scopeId","data-v-9cc997e5"]]),La={class:"root"},Ba=["onMouseup"],Da=["title"],$a={class:"title"},Ua=xt({__name:"SettingsTab",setup(t){const e=[{name:"Resolution",id:0,content:Oa,expanded:at(!1)},{name:"Recording",id:1,content:ga,expanded:at(!1)},{name:"Stage",id:2,content:za,expanded:at(!1)}];return(n,l)=>(nt(),lt("div",La,[(nt(),lt(Xt,null,Be(e,i=>C("div",{key:i.id,class:"group-header"},[C("div",{class:"header",onMouseup:Et(r=>i.expanded.value=!i.expanded.value,["stop"])},[C("div",{class:Nt(["button","icon-small",i.expanded.value?"chevron-down-icon":"chevron-right-icon"]),title:i.expanded.value?"Collapse Group":"Expand Group",role:"button"},null,10,Da),C("div",$a,[C("span",null,ft(i.name),1)])],40,Ba),i.expanded.value?(nt(),qt(Lr(i.content),{key:0})):Nn("",!0)])),64))]))}});const Va=Ot(Ua,[["__scopeId","data-v-99dd3f74"]]),Ma={class:"root"},Wa={class:"header"},Ga=["onMouseup"],Ja=["value","onChange"],Za=xt({__name:"PathExplorer",props:{searchQuery:null},setup(t){const e=t,n=jt(),l="#ff8800";var i=at([]);function r(){i.value=n.paths.map(p=>({name:p.name,id:p.id,color:l,visible:!1}))}r(),n.$subscribe(r);const a=Le(()=>i.value.filter(p=>p.name.toLowerCase().includes(e.searchQuery.toLowerCase())));function s(p,_){const m=p.target;_.color=m.value,At.SetPathEnabled(_.id,_.visible,_.color)}function h(p){p.visible=!p.visible,At.SetPathEnabled(p.id,p.visible,p.color)}return(p,_)=>(nt(),lt("div",Ma,[(nt(!0),lt(Xt,null,Be(Q(a),m=>(nt(),lt("div",{key:m.id,class:"item"},[C("div",Wa,[C("span",{class:"name",onMouseup:Et(g=>h(m),["stop"])},ft(m.name),41,Ga),m.visible?(nt(),lt("input",{key:0,type:"color",class:"color-picker",value:m.color,onChange:g=>s(g,m)},null,40,Ja)):Nn("",!0)])]))),128))]))}});const Ka=Ot(Za,[["__scopeId","data-v-360c6454"]]),Ha={class:"header"},qa={class:"tab-root"},Xa={class:"tab-list"},Ya=["onMousedown"],Qa={key:0,class:"tab-title"},ja={class:"active-tab-container scrollable"},ts=xt({__name:"SidebarContainer",setup(t){const e=at(""),n=[{icon:"cube-icon",title:"Objects",id:0,tab:ha},{icon:"curve-icon",title:"Paths",id:1,tab:Ka},{icon:"wrench-icon",title:"Settings",id:2,tab:Va},{icon:"info-icon",title:"Info",id:3,tab:Xo}],l=at(0);function i(r){l.value=r,localStorage.setItem("activeTab",String(r))}return Br(()=>{const r=localStorage.getItem("activeTab");r!=null&&(l.value=Number(r))}),(r,a)=>(nt(),lt("div",{class:"root",onKeydown:a[1]||(a[1]=Et(()=>{},["stop"])),onKeyup:a[2]||(a[2]=Et(()=>{},["stop"]))},[C("div",Ha,[Lt(Fr,{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=s=>e.value=s),class:"search-box"},null,8,["modelValue"])]),C("div",qa,[C("div",Xa,[(nt(),lt(Xt,null,Be(n,(s,h)=>C("div",{key:s.id,class:Nt(["tab-button",{"active-header":l.value==h}]),onMousedown:p=>i(h)},[C("div",{class:Nt(["tab-icon","icon-medium",s.icon])},null,2),l.value==h?(nt(),lt("div",Qa,ft(s.title),1)):Nn("",!0)],42,Ya)),64))]),C("div",ja,[(nt(),qt(ai,null,[(nt(),qt(Lr(n[l.value].tab),{"search-query":e.value},null,8,["search-query"]))],1024))])])],32))}});const es=Ot(ts,[["__scopeId","data-v-e330f045"]]),ns=["onKeydown"],rs=xt({__name:"DialInput",props:{modelValue:null,minValue:null,maxValue:null,prefix:null},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,l=1,i=.01,r=at(!1),a=at(!0),s=at(null);function h(){!s.value||(r.value=!0,a.value=!0,Gn(()=>{!s.value||(s.value.innerHTML=n.modelValue.toFixed(2),s.value.focus())}))}function p(){r.value=!1}function _(){!r.value||!s.value||(a.value&&e("update:modelValue",Number(s.value.textContent)),r.value=!1)}const m=/^\d*(?:\.\d+)?$/;function g(){if(!s.value)return;const f=s.value.innerHTML;a.value=!!f.trim().match(m)}function d(f){if(document.activeElement!=f.target)return;f.preventDefault();const y=(f.altKey?i:l)*(f.deltaY<0?1:-1);var S=n.modelValue+y;S<n.minValue?S=n.minValue:S>n.maxValue&&(S=n.maxValue),e("update:modelValue",S)}function b(){document.addEventListener("mousemove",v),document.addEventListener("mouseup",c)}function c(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",c)}function v(f){const y=f.movementX*(f.altKey?i:l);var S=n.modelValue+y;S<n.minValue?S=n.minValue:S>n.maxValue&&(S=n.maxValue),e("update:modelValue",S)}return(f,y)=>{var S;return nt(),lt("div",{class:"dial-input-container",onKeydown:y[0]||(y[0]=Et(()=>{},["stop"]))},[r.value?(nt(),lt("div",{key:0,ref_key:"editDiv",ref:s,class:Nt(["input-edit",a.value?"input-valid":"input-invalid"]),contenteditable:"",onKeydown:[De(Et(_,["prevent"]),["enter"]),De(Et(p,["prevent"]),["esc"])],onFocusout:_,onInput:g},null,42,ns)):(nt(),lt("div",{key:1,class:"dial-input",tabindex:"-1",onDblclick:h,onMousedown:b,onWheel:d},ft(((S=n.prefix)!=null?S:"")+n.modelValue.toFixed(2)),33))],32)}}});const is=Ot(rs,[["__scopeId","data-v-8455fa0d"]]),os=t=>(Yt("data-v-dfc7e941"),t=t(),Qt(),t),as={class:"slider-container",role:"slider"},ss=os(()=>C("div",{class:"thumb"},null,-1)),ls=xt({__name:"SliderInput",props:{modelValue:null,minValue:null,maxValue:null},emits:["update:modelValue","scrubbingStart","scrubbingEnd"],setup(t,{emit:e}){const n=t,l=at(null),i=Le(()=>(n.modelValue-n.minValue)/(n.maxValue-n.minValue)*100+"%");function r(h){if(!l.value)return;e("scrubbingStart");const _=h.offsetX/l.value.clientWidth*(n.maxValue-n.minValue)+n.minValue;e("update:modelValue",_),document.addEventListener("mousemove",s),document.addEventListener("mouseup",a)}function a(){e("scrubbingEnd"),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a)}function s(h){if(!l.value)return;const p=l.value.getBoundingClientRect(),_=h.pageX-p.left;if(_<0)e("update:modelValue",n.minValue);else if(_>p.width)e("update:modelValue",n.maxValue);else{const g=_/p.width*(n.maxValue-n.minValue)+n.minValue;e("update:modelValue",g)}}return(h,p)=>(nt(),lt("div",as,[C("div",{ref_key:"timeline",ref:l,class:"timeline",onMousedown:r},[C("div",{class:"elapsed-bar",style:Wn({width:Q(i)})},null,4),ss],544)]))}});const us=Ot(ls,[["__scopeId","data-v-dfc7e941"]]),ds={class:"background-container"},cs={class:"player-control-container"},hs={class:"top-action-bar"},fs={class:"left-action-group"},ps=["title"],ms={class:"middle-action-group"},vs={class:"right-action-group"},_s={class:"bottom-action-bar"},gs={class:"frame-counter"},bs={class:"frame-counter"},ys=xt({__name:"PlayerControl",emits:["scrubbingStart","scrubbingEnd","toggleFullscreen"],setup(t,{emit:e}){const n=Me(),l=Tn();return(i,r)=>(nt(),lt("div",ds,[C("div",cs,[C("div",hs,[C("div",fs,[C("div",{class:Nt([Q(l).isRecording?"icon-recording":"action-button","icon-medium","video-icon"]),role:"button",title:Q(l).isRecording?"Stop Recording (B)":"Start Recording (B)",onMouseup:r[0]||(r[0]=(...a)=>Q(l).toggleRecording&&Q(l).toggleRecording(...a))},null,42,ps),C("div",{class:"action-button icon-medium previous-icon",role:"button",title:"Previous (I)",onMouseup:r[1]||(r[1]=(...a)=>Q(n).loadPreviousProject&&Q(n).loadPreviousProject(...a))},null,32),C("span",null,ft(Q(n).currentIndex+1)+" of "+ft(Q(n).length),1),C("div",{class:"action-button icon-medium next-icon",role:"button",title:"Next (O)",onMouseup:r[2]||(r[2]=(...a)=>Q(n).loadNextProject&&Q(n).loadNextProject(...a))},null,32)]),C("div",ms,[C("div",{class:"action-button icon-medium backward-icon",role:"button",title:"Rewind 10 sec (J)",onMouseup:r[3]||(r[3]=(...a)=>Q(l).backward&&Q(l).backward(...a))},null,32),C("div",{class:Nt(["action-button","icon-large","play-button",Q(l).isPlaying?"circle-pause-icon":"circle-play-icon"]),role:"button",title:"Play/Pause (K)",onMouseup:r[4]||(r[4]=(...a)=>Q(l).togglePlaying&&Q(l).togglePlaying(...a))},null,34),C("div",{class:"action-button icon-medium forward-icon",role:"button",title:"Forward 10 sec (L)",onMouseup:r[5]||(r[5]=(...a)=>Q(l).forward&&Q(l).forward(...a))},null,32),C("div",{class:Nt(["action-button","icon-medium","repeat-icon",Q(l).isLooping?"toggle-active":""]),role:"button",title:"Toggle Repeat (M)",onMouseup:r[6]||(r[6]=(...a)=>Q(l).toggleLooping&&Q(l).toggleLooping(...a))},null,34)]),C("div",vs,[Lt(is,{modelValue:Q(l).speedRatio,"onUpdate:modelValue":r[7]||(r[7]=a=>Q(l).speedRatio=a),"min-value":.01,"max-value":1e3,prefix:"x ",style:{width:"80px"}},null,8,["modelValue","min-value"]),C("div",{class:Nt(["action-button","icon-medium",Q(l).isFullscreen?"compress-icon":"expand-icon"]),role:"button",title:"Toggle Fullscreen (F)",onMouseup:r[8]||(r[8]=a=>e("toggleFullscreen"))},null,34)])]),C("div",_s,[C("span",gs,ft(Q(l).currentFrame.toFixed(2)),1),Lt(us,{modelValue:Q(l).currentFrame,"onUpdate:modelValue":r[9]||(r[9]=a=>Q(l).currentFrame=a),"min-value":Q(l).startFrame,"max-value":Q(l).endFrame,onScrubbingStart:r[10]||(r[10]=a=>e("scrubbingStart")),onScrubbingEnd:r[11]||(r[11]=a=>e("scrubbingEnd"))},null,8,["modelValue","min-value","max-value"]),C("span",bs,ft(Q(l).endFrame.toFixed(2)),1)])])]))}});const ws=Ot(ys,[["__scopeId","data-v-e03275be"]]),ks={class:"container"},Ss={class:"sidebar-content"},xs=xt({__name:"ProjectView",setup(t){const e=Tn(),n=jt(),l=at(null);function i(){var h,p,_,m,g,d;e.$reset(),e.$patch({startFrame:(p=(h=n.meta)==null?void 0:h.startTime)!=null?p:0,endFrame:(m=(_=n.meta)==null?void 0:_.endTime)!=null?m:0,speedRatio:(d=(g=n.meta)==null?void 0:g.speedRatio)!=null?d:1,isPlaying:!0,isLooping:!0})}function r(h){h.code=="KeyF"&&!h.altKey&&!h.ctrlKey&&!h.shiftKey&&a()}function a(){!l.value||!l.value.requestFullscreen||(e.isFullscreen||document.fullscreenElement?document.exitFullscreen():l.value.requestFullscreen())}function s(){e.isFullscreen=!!document.fullscreenElement}return Ve(()=>{i(),addEventListener("fullscreenchange",s),document.addEventListener("keydown",r)}),Rn(()=>{removeEventListener("fullscreenchange",s),document.removeEventListener("keydown",r)}),n.$subscribe(()=>i()),(h,p)=>(nt(),lt("div",ks,[C("div",{ref_key:"mainDiv",ref:l,class:"main-container"},[Lt(Bo,{class:"scene-view"}),Lt(ws,{class:"controller",onToggleFullscreen:a})],512),Lt(li,{"grip-position":"left","store-key":"sidebar-width","default-size":"300px",class:"sidebar"},{default:si(()=>[C("div",Ss,[Lt(es)])]),_:1})]))}});const Es=Ot(xs,[["__scopeId","data-v-1bc4be53"]]),Os=xt({__name:"App",setup(t){const e=Me(),n=jt(),l=Zn();un();function i(){const s=new URLSearchParams(window.location.search).get("stage");s&&l.loadStage(decodeURIComponent(s))}const r=at("");return Br(()=>{const s=new URLSearchParams(window.location.search).get("cat");s&&(r.value=decodeURIComponent(s))}),(a,s)=>(nt(),lt(Xt,null,[xn(Lt(to,{url:r.value,onFinished:i},null,8,["url"]),[[Pr,Q(e).isEmpty&&r.value.length>0]]),Q(n).isEmpty?Q(e).isEmpty?(nt(),qt(so,{key:2})):(nt(),qt(Vi,{key:1})):(nt(),qt(Es,{key:0}))],64))}});ui(Os).use(di()).mount("#app");export{gi as P,mi as T,Er as _,Jr as c,_i as t};
