import{d as Sl,r as nn,e as Ii,f as Dn,o as Ta,g as Ma,h as ga,n as Cl,k as an,S as Dl,F as Rl,p as Pl,j as El,C as Nl,t as zl,L as Fl,w as Rn,V as en,c as tn,a as rn,u as Hi,x as Oi,A as Il,y as Hl,W as Ol,Q as Bl,R as Yl,T as Ul,U as Gl}from"./openPlot.9d933616.js";const Pn=Sl("graphs",()=>{const Ar=nn([]),Pr=Ii(()=>Ar.value.filter(u=>u.visible));return{graphs:Ar,visible:Pr}}),Vl={class:"root"},Wl={class:"search-header"},Zl=["title"],Xl={class:"list scrollable"},Jl=["onMouseup"],Ql={class:"name"},Kl={key:0,class:"icon icon-small eye-icon"},jl=Dn({__name:"GraphExplorer",setup(Ar){const Pr=Pn(),u=nn(!1);let te=!1;function Y(){const e=new URLSearchParams(window.location.search).get("filter");return e?(te=!0,decodeURIComponent(e)):""}const i=nn(Y()),n=Ii(()=>{const s=Pr.graphs.filter(e=>e.name.includes(i.value)&&(u.value||e.name.charAt(0)!="."));return te&&Pr.graphs.length>0&&(s.forEach(e=>e.visible=!0),te=!1),s});function c(){Pr.graphs.forEach(s=>s.visible=!1)}return(s,e)=>(Ta(),Ma("div",Vl,[ga("div",Wl,[ga("div",{class:"button icon-medium trash-icon",role:"button",title:"Reset Graphs",onMouseup:c},null,32),ga("div",{class:Cl(["button","icon-medium",u.value?"eye-slash-icon":" eye-icon"]),title:u.value?"Show Hidden Graphs":"Hide Graphs",role:"button",onMouseup:e[0]||(e[0]=o=>u.value=!u.value)},null,42,Zl),an(Dl,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=o=>i.value=o),class:"search-box"},null,8,["modelValue"])]),ga("div",Xl,[(Ta(!0),Ma(Rl,null,Pl(El(n),o=>(Ta(),Ma("div",{key:o.id,class:"item"},[ga("div",{class:"header",onMouseup:Nl(l=>o.visible=!o.visible,["stop"])},[ga("span",Ql,zl(o.name),1),o.visible?(Ta(),Ma("div",Kl)):Fl("",!0)],40,Jl)]))),128))])]))}});const $l=Rn(jl,[["__scopeId","data-v-55f06a1a"]]),ql={width:512,height:512,path:"M448 256c0-106-86-192-192-192V448c106 0 192-86 192-192zm64 0c0 141.4-114.6 256-256 256S0 397.4 0 256S114.6 0 256 0S512 114.6 512 256z"},es={width:512,height:512,path:"M.2 468.9C2.7 493.1 23.1 512 48 512l96 0 320 0c26.5 0 48-21.5 48-48l0-96c0-26.5-21.5-48-48-48l-48 0 0 80c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-80-64 0 0 80c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-80-64 0 0 80c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-80-80 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l80 0 0-64-80 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l80 0 0-64-80 0c-8.8 0-16-7.2-16-16s7.2-16 16-16l80 0 0-48c0-26.5-21.5-48-48-48L48 0C21.5 0 0 21.5 0 48L0 368l0 96c0 1.7 .1 3.3 .2 4.9z"};var Fi;let Pa=((Fi=localStorage.getItem("scale"))!=null?Fi:"linear")=="linear";function ts(Ar){switch(Ar){case en.AHEAD:return"vh";case en.HOLD:return"hv";case en.LINEAR:case en.UNRECOGNIZED:default:return"linear"}}function rs(Ar){return Ar.map(Pr=>({x:Pr.points.map(u=>u.time),y:Pr.points.map(u=>u.value),mode:"lines+markers",name:Pr.name,line:{shape:ts(Pr.interpolation)}}))}function as(Ar,Pr){return{modeBarButtonsToAdd:[{name:"theme",title:"Toggle Theme",icon:ql,click:Ar},{name:"scale",title:"Change Scale (Lin/Log)",icon:es,click:()=>{Pa=!Pa,localStorage.setItem("scale",Pa?"linear":"log"),Pr()}}],modeBarButtonsToRemove:["lasso2d","select2d"],responsive:!0,scrollZoom:!0,displayModeBar:!0}}function Cn(Ar){return{autosize:!0,dragmode:"pan",font:{color:Ar?"white":"black"},margin:{t:40},paper_bgcolor:Ar?"#3d3d3d":"white",plot_bgcolor:Ar?"#3d3d3d":"white",xaxis:{autorange:!0,gridcolor:Ar?"#d3d3d3":"black",title:"Time [ns]",type:Pa?"linear":"log",zerolinecolor:Ar?"white":"black",zerolinewidth:2},yaxis:{autorange:!0,gridcolor:Ar?"#d3d3d3":"black",type:Pa?"linear":"log",zerolinecolor:Ar?"white":"black",zerolinewidth:2}}}var wa={exports:{}};(function(Ar,Pr){(function(u){Ar.exports=u()})(function(){return function(){function u(te,Y,i){function n(e,o){if(!Y[e]){if(!te[e]){var l=typeof rn=="function"&&rn;if(!o&&l)return l(e,!0);if(c)return c(e,!0);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}var t=Y[e]={exports:{}};te[e][0].call(t.exports,function(v){var p=te[e][1][v];return n(p||v)},t,t.exports,u,te,Y,i)}return Y[e].exports}for(var c=typeof rn=="function"&&rn,s=0;s<i.length;s++)n(i[s]);return n}return u}()({1:[function(u,te,Y){var i=u("../src/lib"),n={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var c in n){var s=c.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");i.addStyleRule(s,n[c])}},{"../src/lib":244}],2:[function(u,te,Y){te.exports=u("../src/transforms/aggregate")},{"../src/transforms/aggregate":395}],3:[function(u,te,Y){te.exports=u("../src/traces/bar")},{"../src/traces/bar":345}],4:[function(u,te,Y){te.exports=u("../src/components/calendars")},{"../src/components/calendars":101}],5:[function(u,te,Y){te.exports=u("../src/core")},{"../src/core":226}],6:[function(u,te,Y){te.exports=u("../src/transforms/filter")},{"../src/transforms/filter":396}],7:[function(u,te,Y){te.exports=u("../src/transforms/groupby")},{"../src/transforms/groupby":397}],8:[function(u,te,Y){var i=u("./core");i.register([u("./bar"),u("./pie"),u("./aggregate"),u("./filter"),u("./groupby"),u("./sort"),u("./calendars")]),te.exports=i},{"./aggregate":2,"./bar":3,"./calendars":4,"./core":5,"./filter":6,"./groupby":7,"./pie":9,"./sort":10}],9:[function(u,te,Y){te.exports=u("../src/traces/pie")},{"../src/traces/pie":360}],10:[function(u,te,Y){te.exports=u("../src/transforms/sort")},{"../src/transforms/sort":399}],11:[function(u,te,Y){(function(){var i={version:"3.8.0"},n=[].slice,c=function(r){return n.call(r)},s=self.document;function e(r){return r&&(r.ownerDocument||r.document||r).documentElement}function o(r){return r&&(r.ownerDocument&&r.ownerDocument.defaultView||r.document&&r||r.defaultView)}if(s)try{c(s.documentElement.childNodes)[0].nodeType}catch{c=function(_){for(var D=_.length,G=new Array(D);D--;)G[D]=_[D];return G}}if(Date.now||(Date.now=function(){return+new Date}),s)try{s.createElement("DIV").style.setProperty("opacity",0,"")}catch{var l=this.Element.prototype,a=l.setAttribute,t=l.setAttributeNS,v=this.CSSStyleDeclaration.prototype,p=v.setProperty;l.setAttribute=function(_,D){a.call(this,_,D+"")},l.setAttributeNS=function(_,D,G){t.call(this,_,D,G+"")},v.setProperty=function(_,D,G){p.call(this,_,D+"",G)}}i.ascending=h;function h(r,_){return r<_?-1:r>_?1:r>=_?0:NaN}i.descending=function(r,_){return _<r?-1:_>r?1:_>=r?0:NaN},i.min=function(r,_){var D=-1,G=r.length,J,j;if(arguments.length===1){for(;++D<G;)if((j=r[D])!=null&&j>=j){J=j;break}for(;++D<G;)(j=r[D])!=null&&J>j&&(J=j)}else{for(;++D<G;)if((j=_.call(r,r[D],D))!=null&&j>=j){J=j;break}for(;++D<G;)(j=_.call(r,r[D],D))!=null&&J>j&&(J=j)}return J},i.max=function(r,_){var D=-1,G=r.length,J,j;if(arguments.length===1){for(;++D<G;)if((j=r[D])!=null&&j>=j){J=j;break}for(;++D<G;)(j=r[D])!=null&&j>J&&(J=j)}else{for(;++D<G;)if((j=_.call(r,r[D],D))!=null&&j>=j){J=j;break}for(;++D<G;)(j=_.call(r,r[D],D))!=null&&j>J&&(J=j)}return J},i.extent=function(r,_){var D=-1,G=r.length,J,j,ce;if(arguments.length===1){for(;++D<G;)if((j=r[D])!=null&&j>=j){J=ce=j;break}for(;++D<G;)(j=r[D])!=null&&(J>j&&(J=j),ce<j&&(ce=j))}else{for(;++D<G;)if((j=_.call(r,r[D],D))!=null&&j>=j){J=ce=j;break}for(;++D<G;)(j=_.call(r,r[D],D))!=null&&(J>j&&(J=j),ce<j&&(ce=j))}return[J,ce]};function g(r){return r===null?NaN:+r}function m(r){return!isNaN(r)}i.sum=function(r,_){var D=0,G=r.length,J,j=-1;if(arguments.length===1)for(;++j<G;)m(J=+r[j])&&(D+=J);else for(;++j<G;)m(J=+_.call(r,r[j],j))&&(D+=J);return D},i.mean=function(r,_){var D=0,G=r.length,J,j=-1,ce=G;if(arguments.length===1)for(;++j<G;)m(J=g(r[j]))?D+=J:--ce;else for(;++j<G;)m(J=g(_.call(r,r[j],j)))?D+=J:--ce;if(ce)return D/ce},i.quantile=function(r,_){var D=(r.length-1)*_+1,G=Math.floor(D),J=+r[G-1],j=D-G;return j?J+j*(r[G]-J):J},i.median=function(r,_){var D=[],G=r.length,J,j=-1;if(arguments.length===1)for(;++j<G;)m(J=g(r[j]))&&D.push(J);else for(;++j<G;)m(J=g(_.call(r,r[j],j)))&&D.push(J);if(D.length)return i.quantile(D.sort(h),.5)},i.variance=function(r,_){var D=r.length,G=0,J,j,ce=0,le=-1,ye=0;if(arguments.length===1)for(;++le<D;)m(J=g(r[le]))&&(j=J-G,G+=j/++ye,ce+=j*(J-G));else for(;++le<D;)m(J=g(_.call(r,r[le],le)))&&(j=J-G,G+=j/++ye,ce+=j*(J-G));if(ye>1)return ce/(ye-1)},i.deviation=function(){var r=i.variance.apply(this,arguments);return r&&Math.sqrt(r)};function w(r){return{left:function(_,D,G,J){for(arguments.length<3&&(G=0),arguments.length<4&&(J=_.length);G<J;){var j=G+J>>>1;r(_[j],D)<0?G=j+1:J=j}return G},right:function(_,D,G,J){for(arguments.length<3&&(G=0),arguments.length<4&&(J=_.length);G<J;){var j=G+J>>>1;r(_[j],D)>0?J=j:G=j+1}return G}}}var y=w(h);i.bisectLeft=y.left,i.bisect=i.bisectRight=y.right,i.bisector=function(r){return w(r.length===1?function(_,D){return h(r(_),D)}:r)},i.shuffle=function(r,_,D){(G=arguments.length)<3&&(D=r.length,G<2&&(_=0));for(var G=D-_,J,j;G;)j=Math.random()*G--|0,J=r[G+_],r[G+_]=r[j+_],r[j+_]=J;return r},i.permute=function(r,_){for(var D=_.length,G=new Array(D);D--;)G[D]=r[_[D]];return G},i.pairs=function(r){for(var _=0,D=r.length-1,G=r[0],J=new Array(D<0?0:D);_<D;)J[_]=[G,G=r[++_]];return J},i.transpose=function(r){if(!(j=r.length))return[];for(var _=-1,D=i.min(r,x),G=new Array(D);++_<D;)for(var J=-1,j,ce=G[_]=new Array(j);++J<j;)ce[J]=r[J][_];return G};function x(r){return r.length}i.zip=function(){return i.transpose(arguments)},i.keys=function(r){var _=[];for(var D in r)_.push(D);return _},i.values=function(r){var _=[];for(var D in r)_.push(r[D]);return _},i.entries=function(r){var _=[];for(var D in r)_.push({key:D,value:r[D]});return _},i.merge=function(r){for(var _=r.length,D,G=-1,J=0,j,ce;++G<_;)J+=r[G].length;for(j=new Array(J);--_>=0;)for(ce=r[_],D=ce.length;--D>=0;)j[--J]=ce[D];return j};var f=Math.abs;i.range=function(r,_,D){if(arguments.length<3&&(D=1,arguments.length<2&&(_=r,r=0)),(_-r)/D===1/0)throw new Error("infinite range");var G=[],J=b(f(D)),j=-1,ce;if(r*=J,_*=J,D*=J,D<0)for(;(ce=r+D*++j)>_;)G.push(ce/J);else for(;(ce=r+D*++j)<_;)G.push(ce/J);return G};function b(r){for(var _=1;r*_%1;)_*=10;return _}function d(r,_){for(var D in _)Object.defineProperty(r.prototype,D,{value:_[D],enumerable:!1})}i.map=function(r,_){var D=new T;if(r instanceof T)r.forEach(function(le,ye){D.set(le,ye)});else if(Array.isArray(r)){var G=-1,J=r.length,j;if(arguments.length===1)for(;++G<J;)D.set(G,r[G]);else for(;++G<J;)D.set(_.call(r,j=r[G],G),j)}else for(var ce in r)D.set(ce,r[ce]);return D};function T(){this._=Object.create(null)}var k="__proto__",F="\0";d(T,{has:E,get:function(r){return this._[M(r)]},set:function(r,_){return this._[M(r)]=_},remove:A,keys:z,values:function(){var r=[];for(var _ in this._)r.push(this._[_]);return r},entries:function(){var r=[];for(var _ in this._)r.push({key:S(_),value:this._[_]});return r},size:H,empty:Q,forEach:function(r){for(var _ in this._)r.call(this,S(_),this._[_])}});function M(r){return(r+="")===k||r[0]===F?F+r:r}function S(r){return(r+="")[0]===F?r.slice(1):r}function E(r){return M(r)in this._}function A(r){return(r=M(r))in this._&&delete this._[r]}function z(){var r=[];for(var _ in this._)r.push(S(_));return r}function H(){var r=0;for(var _ in this._)++r;return r}function Q(){for(var r in this._)return!1;return!0}i.nest=function(){var r={},_=[],D=[],G,J;function j(le,ye,Le){if(Le>=_.length)return J?J.call(r,ye):G?ye.sort(G):ye;for(var Se=-1,Oe=ye.length,Ye=_[Le++],ot,ht,We,$e=new T,tt;++Se<Oe;)(tt=$e.get(ot=Ye(ht=ye[Se])))?tt.push(ht):$e.set(ot,[ht]);return le?(ht=le(),We=function(dt,gt){ht.set(dt,j(le,gt,Le))}):(ht={},We=function(dt,gt){ht[dt]=j(le,gt,Le)}),$e.forEach(We),ht}function ce(le,ye){if(ye>=_.length)return le;var Le=[],Se=D[ye++];return le.forEach(function(Oe,Ye){Le.push({key:Oe,values:ce(Ye,ye)})}),Se?Le.sort(function(Oe,Ye){return Se(Oe.key,Ye.key)}):Le}return r.map=function(le,ye){return j(ye,le,0)},r.entries=function(le){return ce(j(i.map,le,0),0)},r.key=function(le){return _.push(le),r},r.sortKeys=function(le){return D[_.length-1]=le,r},r.sortValues=function(le){return G=le,r},r.rollup=function(le){return J=le,r},r},i.set=function(r){var _=new X;if(r)for(var D=0,G=r.length;D<G;++D)_.add(r[D]);return _};function X(){this._=Object.create(null)}d(X,{has:E,add:function(r){return this._[M(r+="")]=!0,r},remove:A,values:z,size:H,empty:Q,forEach:function(r){for(var _ in this._)r.call(this,S(_))}}),i.behavior={};function ie(r){return r}i.rebind=function(r,_){for(var D=1,G=arguments.length,J;++D<G;)r[J=arguments[D]]=R(r,_,_[J]);return r};function R(r,_,D){return function(){var G=D.apply(_,arguments);return G===_?r:G}}function O(r,_){if(_ in r)return _;_=_.charAt(0).toUpperCase()+_.slice(1);for(var D=0,G=U.length;D<G;++D){var J=U[D]+_;if(J in r)return J}}var U=["webkit","ms","moz","Moz","o","O"];function K(){}i.dispatch=function(){for(var r=new ee,_=-1,D=arguments.length;++_<D;)r[arguments[_]]=ne(r);return r};function ee(){}ee.prototype.on=function(r,_){var D=r.indexOf("."),G="";if(D>=0&&(G=r.slice(D+1),r=r.slice(0,D)),r)return arguments.length<2?this[r].on(G):this[r].on(G,_);if(arguments.length===2){if(_==null)for(r in this)this.hasOwnProperty(r)&&this[r].on(G,null);return this}};function ne(r){var _=[],D=new T;function G(){for(var J=_,j=-1,ce=J.length,le;++j<ce;)(le=J[j].on)&&le.apply(this,arguments);return r}return G.on=function(J,j){var ce=D.get(J),le;return arguments.length<2?ce&&ce.on:(ce&&(ce.on=null,_=_.slice(0,le=_.indexOf(ce)).concat(_.slice(le+1)),D.remove(J)),j&&_.push(D.set(J,{on:j})),r)},G}i.event=null;function me(){i.event.preventDefault()}function pe(){for(var r=i.event,_;_=r.sourceEvent;)r=_;return r}function be(r){for(var _=new ee,D=0,G=arguments.length;++D<G;)_[arguments[D]]=ne(_);return _.of=function(J,j){return function(ce){try{var le=ce.sourceEvent=i.event;ce.target=r,i.event=ce,_[ce.type].apply(J,j)}finally{i.event=le}}},_}i.requote=function(r){return r.replace(ve,"\\$&")};var ve=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,C={}.__proto__?function(r,_){r.__proto__=_}:function(r,_){for(var D in _)r[D]=_[D]};function I(r){return C(r,V),r}var L=function(r,_){return _.querySelector(r)},P=function(r,_){return _.querySelectorAll(r)},B=function(r,_){var D=r.matches||r[O(r,"matchesSelector")];return B=function(G,J){return D.call(G,J)},B(r,_)};typeof Sizzle=="function"&&(L=function(r,_){return Sizzle(r,_)[0]||null},P=Sizzle,B=Sizzle.matchesSelector),i.selection=function(){return i.select(s.documentElement)};var V=i.selection.prototype=[];V.select=function(r){var _=[],D,G,J,j;r=N(r);for(var ce=-1,le=this.length;++ce<le;){_.push(D=[]),D.parentNode=(J=this[ce]).parentNode;for(var ye=-1,Le=J.length;++ye<Le;)(j=J[ye])?(D.push(G=r.call(j,j.__data__,ye,ce)),G&&"__data__"in j&&(G.__data__=j.__data__)):D.push(null)}return I(_)};function N(r){return typeof r=="function"?r:function(){return L(r,this)}}V.selectAll=function(r){var _=[],D,G;r=Z(r);for(var J=-1,j=this.length;++J<j;)for(var ce=this[J],le=-1,ye=ce.length;++le<ye;)(G=ce[le])&&(_.push(D=c(r.call(G,G.__data__,le,J))),D.parentNode=G);return I(_)};function Z(r){return typeof r=="function"?r:function(){return P(r,this)}}var W="http://www.w3.org/1999/xhtml",q={svg:"http://www.w3.org/2000/svg",xhtml:W,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};i.ns={prefix:q,qualify:function(r){var _=r.indexOf(":"),D=r;return _>=0&&(D=r.slice(0,_))!=="xmlns"&&(r=r.slice(_+1)),q.hasOwnProperty(D)?{space:q[D],local:r}:r}},V.attr=function(r,_){if(arguments.length<2){if(typeof r=="string"){var D=this.node();return r=i.ns.qualify(r),r.local?D.getAttributeNS(r.space,r.local):D.getAttribute(r)}for(_ in r)this.each(re(_,r[_]));return this}return this.each(re(r,_))};function re(r,_){r=i.ns.qualify(r);function D(){this.removeAttribute(r)}function G(){this.removeAttributeNS(r.space,r.local)}function J(){this.setAttribute(r,_)}function j(){this.setAttributeNS(r.space,r.local,_)}function ce(){var ye=_.apply(this,arguments);ye==null?this.removeAttribute(r):this.setAttribute(r,ye)}function le(){var ye=_.apply(this,arguments);ye==null?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,ye)}return _==null?r.local?G:D:typeof _=="function"?r.local?le:ce:r.local?j:J}function se(r){return r.trim().replace(/\s+/g," ")}V.classed=function(r,_){if(arguments.length<2){if(typeof r=="string"){var D=this.node(),G=(r=ge(r)).length,J=-1;if(_=D.classList){for(;++J<G;)if(!_.contains(r[J]))return!1}else for(_=D.getAttribute("class");++J<G;)if(!_e(r[J]).test(_))return!1;return!0}for(_ in r)this.each(Ae(_,r[_]));return this}return this.each(Ae(r,_))};function _e(r){return new RegExp("(?:^|\\s+)"+i.requote(r)+"(?:\\s+|$)","g")}function ge(r){return(r+"").trim().split(/^|\s+/)}function Ae(r,_){r=ge(r).map(Ce);var D=r.length;function G(){for(var j=-1;++j<D;)r[j](this,_)}function J(){for(var j=-1,ce=_.apply(this,arguments);++j<D;)r[j](this,ce)}return typeof _=="function"?J:G}function Ce(r){var _=_e(r);return function(D,G){if(J=D.classList)return G?J.add(r):J.remove(r);var J=D.getAttribute("class")||"";G?(_.lastIndex=0,_.test(J)||D.setAttribute("class",se(J+" "+r))):D.setAttribute("class",se(J.replace(_," ")))}}V.style=function(r,_,D){var G=arguments.length;if(G<3){if(typeof r!="string"){G<2&&(_="");for(D in r)this.each(ue(D,r[D],_));return this}if(G<2){var J=this.node();return o(J).getComputedStyle(J,null).getPropertyValue(r)}D=""}return this.each(ue(r,_,D))};function ue(r,_,D){function G(){this.style.removeProperty(r)}function J(){this.style.setProperty(r,_,D)}function j(){var ce=_.apply(this,arguments);ce==null?this.style.removeProperty(r):this.style.setProperty(r,ce,D)}return _==null?G:typeof _=="function"?j:J}V.property=function(r,_){if(arguments.length<2){if(typeof r=="string")return this.node()[r];for(_ in r)this.each(he(_,r[_]));return this}return this.each(he(r,_))};function he(r,_){function D(){delete this[r]}function G(){this[r]=_}function J(){var j=_.apply(this,arguments);j==null?delete this[r]:this[r]=j}return _==null?D:typeof _=="function"?J:G}V.text=function(r){return arguments.length?this.each(typeof r=="function"?function(){var _=r.apply(this,arguments);this.textContent=_==null?"":_}:r==null?function(){this.textContent=""}:function(){this.textContent=r}):this.node().textContent},V.html=function(r){return arguments.length?this.each(typeof r=="function"?function(){var _=r.apply(this,arguments);this.innerHTML=_==null?"":_}:r==null?function(){this.innerHTML=""}:function(){this.innerHTML=r}):this.node().innerHTML},V.append=function(r){return r=we(r),this.select(function(){return this.appendChild(r.apply(this,arguments))})};function we(r){function _(){var G=this.ownerDocument,J=this.namespaceURI;return J===W&&G.documentElement.namespaceURI===W?G.createElement(r):G.createElementNS(J,r)}function D(){return this.ownerDocument.createElementNS(r.space,r.local)}return typeof r=="function"?r:(r=i.ns.qualify(r)).local?D:_}V.insert=function(r,_){return r=we(r),_=N(_),this.select(function(){return this.insertBefore(r.apply(this,arguments),_.apply(this,arguments)||null)})},V.remove=function(){return this.each(ke)};function ke(){var r=this.parentNode;r&&r.removeChild(this)}V.data=function(r,_){var D=-1,G=this.length,J,j;if(!arguments.length){for(r=new Array(G=(J=this[0]).length);++D<G;)(j=J[D])&&(r[D]=j.__data__);return r}function ce(Se,Oe){var Ye,ot=Se.length,ht=Oe.length,We=Math.min(ot,ht),$e=new Array(ht),tt=new Array(ht),dt=new Array(ot),gt,nt;if(_){var zt=new T,Jt=new Array(ot),$t;for(Ye=-1;++Ye<ot;)(gt=Se[Ye])&&(zt.has($t=_.call(gt,gt.__data__,Ye))?dt[Ye]=gt:zt.set($t,gt),Jt[Ye]=$t);for(Ye=-1;++Ye<ht;)(gt=zt.get($t=_.call(Oe,nt=Oe[Ye],Ye)))?gt!==!0&&($e[Ye]=gt,gt.__data__=nt):tt[Ye]=Pe(nt),zt.set($t,!0);for(Ye=-1;++Ye<ot;)Ye in Jt&&zt.get(Jt[Ye])!==!0&&(dt[Ye]=Se[Ye])}else{for(Ye=-1;++Ye<We;)gt=Se[Ye],nt=Oe[Ye],gt?(gt.__data__=nt,$e[Ye]=gt):tt[Ye]=Pe(nt);for(;Ye<ht;++Ye)tt[Ye]=Pe(Oe[Ye]);for(;Ye<ot;++Ye)dt[Ye]=Se[Ye]}tt.update=$e,tt.parentNode=$e.parentNode=dt.parentNode=Se.parentNode,le.push(tt),ye.push($e),Le.push(dt)}var le=et([]),ye=I([]),Le=I([]);if(typeof r=="function")for(;++D<G;)ce(J=this[D],r.call(J,J.parentNode.__data__,D));else for(;++D<G;)ce(J=this[D],r);return ye.enter=function(){return le},ye.exit=function(){return Le},ye};function Pe(r){return{__data__:r}}V.datum=function(r){return arguments.length?this.property("__data__",r):this.property("__data__")},V.filter=function(r){var _=[],D,G,J;typeof r!="function"&&(r=fe(r));for(var j=0,ce=this.length;j<ce;j++){_.push(D=[]),D.parentNode=(G=this[j]).parentNode;for(var le=0,ye=G.length;le<ye;le++)(J=G[le])&&r.call(J,J.__data__,le,j)&&D.push(J)}return I(_)};function fe(r){return function(){return B(this,r)}}V.order=function(){for(var r=-1,_=this.length;++r<_;)for(var D=this[r],G=D.length-1,J=D[G],j;--G>=0;)(j=D[G])&&(J&&J!==j.nextSibling&&J.parentNode.insertBefore(j,J),J=j);return this},V.sort=function(r){r=De.apply(this,arguments);for(var _=-1,D=this.length;++_<D;)this[_].sort(r);return this.order()};function De(r){return arguments.length||(r=h),function(_,D){return _&&D?r(_.__data__,D.__data__):!_-!D}}V.each=function(r){return Fe(this,function(_,D,G){r.call(_,_.__data__,D,G)})};function Fe(r,_){for(var D=0,G=r.length;D<G;D++)for(var J=r[D],j=0,ce=J.length,le;j<ce;j++)(le=J[j])&&_(le,j,D);return r}V.call=function(r){var _=c(arguments);return r.apply(_[0]=this,_),this},V.empty=function(){return!this.node()},V.node=function(){for(var r=0,_=this.length;r<_;r++)for(var D=this[r],G=0,J=D.length;G<J;G++){var j=D[G];if(j)return j}return null},V.size=function(){var r=0;return Fe(this,function(){++r}),r};function et(r){return C(r,Xe),r}var Xe=[];i.selection.enter=et,i.selection.enter.prototype=Xe,Xe.append=V.append,Xe.empty=V.empty,Xe.node=V.node,Xe.call=V.call,Xe.size=V.size,Xe.select=function(r){for(var _=[],D,G,J,j,ce,le=-1,ye=this.length;++le<ye;){J=(j=this[le]).update,_.push(D=[]),D.parentNode=j.parentNode;for(var Le=-1,Se=j.length;++Le<Se;)(ce=j[Le])?(D.push(J[Le]=G=r.call(j.parentNode,ce.__data__,Le,le)),G.__data__=ce.__data__):D.push(null)}return I(_)},Xe.insert=function(r,_){return arguments.length<2&&(_=qe(this)),V.insert.call(this,r,_)};function qe(r){var _,D;return function(G,J,j){var ce=r[j].update,le=ce.length,ye;for(j!=D&&(D=j,_=0),J>=_&&(_=J+1);!(ye=ce[_])&&++_<le;);return ye}}i.select=function(r){var _;return typeof r=="string"?(_=[L(r,s)],_.parentNode=s.documentElement):(_=[r],_.parentNode=e(r)),I([_])},i.selectAll=function(r){var _;return typeof r=="string"?(_=c(P(r,s)),_.parentNode=s.documentElement):(_=c(r),_.parentNode=null),I([_])},V.on=function(r,_,D){var G=arguments.length;if(G<3){if(typeof r!="string"){G<2&&(_=!1);for(D in r)this.each(rt(D,r[D],_));return this}if(G<2)return(G=this.node()["__on"+r])&&G._;D=!1}return this.each(rt(r,_,D))};function rt(r,_,D){var G="__on"+r,J=r.indexOf("."),j=yt;J>0&&(r=r.slice(0,J));var ce=ut.get(r);ce&&(r=ce,j=Rt);function le(){var Se=this[G];Se&&(this.removeEventListener(r,Se,Se.$),delete this[G])}function ye(){var Se=j(_,c(arguments));le.call(this),this.addEventListener(r,this[G]=Se,Se.$=D),Se._=_}function Le(){var Se=new RegExp("^__on([^.]+)"+i.requote(r)+"$"),Oe;for(var Ye in this)if(Oe=Ye.match(Se)){var ot=this[Ye];this.removeEventListener(Oe[1],ot,ot.$),delete this[Ye]}}return J?_?ye:le:_?K:Le}var ut=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});s&&ut.forEach(function(r){"on"+r in s&&ut.remove(r)});function yt(r,_){return function(D){var G=i.event;i.event=D,_[0]=this.__data__;try{r.apply(this,_)}finally{i.event=G}}}function Rt(r,_){var D=yt(r,_);return function(G){var J=this,j=G.relatedTarget;(!j||j!==J&&!(j.compareDocumentPosition(J)&8))&&D.call(J,G)}}var bt,je=0;function ct(r){var _=".dragsuppress-"+ ++je,D="click"+_,G=i.select(o(r)).on("touchmove"+_,me).on("dragstart"+_,me).on("selectstart"+_,me);if(bt==null&&(bt="onselectstart"in r?!1:O(r.style,"userSelect")),bt){var J=e(r).style,j=J[bt];J[bt]="none"}return function(ce){if(G.on(_,null),bt&&(J[bt]=j),ce){var le=function(){G.on(D,null)};G.on(D,function(){me(),le()},!0),setTimeout(le,0)}}}i.mouse=function(r){return Lt(r,pe())};var Dt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Lt(r,_){_.changedTouches&&(_=_.changedTouches[0]);var D=r.ownerSVGElement||r;if(D.createSVGPoint){var G=D.createSVGPoint();if(Dt<0){var J=o(r);if(J.scrollX||J.scrollY){D=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var j=D[0][0].getScreenCTM();Dt=!(j.f||j.e),D.remove()}}return Dt?(G.x=_.pageX,G.y=_.pageY):(G.x=_.clientX,G.y=_.clientY),G=G.matrixTransform(r.getScreenCTM().inverse()),[G.x,G.y]}var ce=r.getBoundingClientRect();return[_.clientX-ce.left-r.clientLeft,_.clientY-ce.top-r.clientTop]}i.touch=function(r,_,D){if(arguments.length<3&&(D=_,_=pe().changedTouches),_){for(var G=0,J=_.length,j;G<J;++G)if((j=_[G]).identifier===D)return Lt(r,j)}},i.behavior.drag=function(){var r=be(J,"drag","dragstart","dragend"),_=null,D=j(K,i.mouse,o,"mousemove","mouseup"),G=j(de,i.touch,ie,"touchmove","touchend");function J(){this.on("mousedown.drag",D).on("touchstart.drag",G)}function j(ce,le,ye,Le,Se){return function(){var Oe=this,Ye=i.event.target.correspondingElement||i.event.target,ot=Oe.parentNode,ht=r.of(Oe,arguments),We=0,$e=ce(),tt=".drag"+($e==null?"":"-"+$e),dt,gt=i.select(ye(Ye)).on(Le+tt,Jt).on(Se+tt,$t),nt=ct(Ye),zt=le(ot,$e);_?(dt=_.apply(Oe,arguments),dt=[dt.x-zt[0],dt.y-zt[1]]):dt=[0,0],ht({type:"dragstart"});function Jt(){var Kt=le(ot,$e),ar,nr;!Kt||(ar=Kt[0]-zt[0],nr=Kt[1]-zt[1],We|=ar|nr,zt=Kt,ht({type:"drag",x:Kt[0]+dt[0],y:Kt[1]+dt[1],dx:ar,dy:nr}))}function $t(){!le(ot,$e)||(gt.on(Le+tt,null).on(Se+tt,null),nt(We),ht({type:"dragend"}))}}}return J.origin=function(ce){return arguments.length?(_=ce,J):_},i.rebind(J,r,"on")};function de(){return i.event.changedTouches[0].identifier}i.touches=function(r,_){return arguments.length<2&&(_=pe().touches),_?c(_).map(function(D){var G=Lt(r,D);return G.identifier=D.identifier,G}):[]};var Re=1e-6,ze=Re*Re,ae=Math.PI,xe=2*ae,Te=xe-Re,Me=ae/2,Je=ae/180,Ve=180/ae;function Ge(r,_,D){return(_[0]-r[0])*(D[1]-r[1])-(_[1]-r[1])*(D[0]-r[0])}function Ke(r){return r>1?Me:r<-1?-Me:Math.asin(r)}function Qe(r){return((r=Math.exp(r))-1/r)/2}function Ie(r){return((r=Math.exp(r))+1/r)/2}function ft(r){return((r=Math.exp(2*r))-1)/(r+1)}var vt=Math.SQRT2,pt=2,Ot=4;i.interpolateZoom=function(r,_){var D=r[0],G=r[1],J=r[2],j=_[0],ce=_[1],le=_[2],ye=j-D,Le=ce-G,Se=ye*ye+Le*Le,Oe,Ye;if(Se<ze)Ye=Math.log(le/J)/vt,Oe=function(dt){return[D+dt*ye,G+dt*Le,J*Math.exp(vt*dt*Ye)]};else{var ot=Math.sqrt(Se),ht=(le*le-J*J+Ot*Se)/(2*J*pt*ot),We=(le*le-J*J-Ot*Se)/(2*le*pt*ot),$e=Math.log(Math.sqrt(ht*ht+1)-ht),tt=Math.log(Math.sqrt(We*We+1)-We);Ye=(tt-$e)/vt,Oe=function(dt){var gt=dt*Ye,nt=Ie($e),zt=J/(pt*ot)*(nt*ft(vt*gt+$e)-Qe($e));return[D+zt*ye,G+zt*Le,J*nt/Ie(vt*gt+$e)]}}return Oe.duration=Ye*1e3,Oe},i.behavior.zoom=function(){var r={x:0,y:0,k:1},_,D,G,J=[960,500],j=Gt,ce=250,le=0,ye="mousedown.zoom",Le="mousemove.zoom",Se="mouseup.zoom",Oe,Ye="touchstart.zoom",ot,ht=be(gt,"zoomstart","zoom","zoomend"),We,$e,tt,dt;It||(It="onwheel"in s?(Wt=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in s?(Wt=function(){return i.event.wheelDelta},"mousewheel"):(Wt=function(){return-i.event.detail},"MozMousePixelScroll"));function gt(Zt){Zt.on(ye,sr).on(It+".zoom",Tr).on("dblclick.zoom",yr).on(Ye,dr)}gt.event=function(Zt){Zt.each(function(){var fr=ht.of(this,arguments),cr=r;pa?i.select(this).transition().each("start.zoom",function(){r=this.__chart__||{x:0,y:0,k:1},nr(fr)}).tween("zoom:zoom",function(){var pr=J[0],wr=J[1],Lr=D?D[0]:pr/2,Er=D?D[1]:wr/2,Hr=i.interpolateZoom([(Lr-r.x)/r.k,(Er-r.y)/r.k,pr/r.k],[(Lr-cr.x)/cr.k,(Er-cr.y)/cr.k,pr/cr.k]);return function(Br){var Or=Hr(Br),Gr=pr/Or[2];this.__chart__=r={x:Lr-Or[0]*Gr,y:Er-Or[1]*Gr,k:Gr},ur(fr)}}).each("interrupt.zoom",function(){or(fr)}).each("end.zoom",function(){or(fr)}):(this.__chart__=r,nr(fr),ur(fr),or(fr))})},gt.translate=function(Zt){return arguments.length?(r={x:+Zt[0],y:+Zt[1],k:r.k},ar(),gt):[r.x,r.y]},gt.scale=function(Zt){return arguments.length?(r={x:r.x,y:r.y,k:null},Jt(+Zt),ar(),gt):r.k},gt.scaleExtent=function(Zt){return arguments.length?(j=Zt==null?Gt:[+Zt[0],+Zt[1]],gt):j},gt.center=function(Zt){return arguments.length?(G=Zt&&[+Zt[0],+Zt[1]],gt):G},gt.size=function(Zt){return arguments.length?(J=Zt&&[+Zt[0],+Zt[1]],gt):J},gt.duration=function(Zt){return arguments.length?(ce=+Zt,gt):ce},gt.x=function(Zt){return arguments.length?($e=Zt,We=Zt.copy(),r={x:0,y:0,k:1},gt):$e},gt.y=function(Zt){return arguments.length?(dt=Zt,tt=Zt.copy(),r={x:0,y:0,k:1},gt):dt};function nt(Zt){return[(Zt[0]-r.x)/r.k,(Zt[1]-r.y)/r.k]}function zt(Zt){return[Zt[0]*r.k+r.x,Zt[1]*r.k+r.y]}function Jt(Zt){r.k=Math.max(j[0],Math.min(j[1],Zt))}function $t(Zt,fr){fr=zt(fr),r.x+=Zt[0]-fr[0],r.y+=Zt[1]-fr[1]}function Kt(Zt,fr,cr,pr){Zt.__chart__={x:r.x,y:r.y,k:r.k},Jt(Math.pow(2,pr)),$t(D=fr,cr),Zt=i.select(Zt),ce>0&&(Zt=Zt.transition().duration(ce)),Zt.call(gt.event)}function ar(){$e&&$e.domain(We.range().map(function(Zt){return(Zt-r.x)/r.k}).map(We.invert)),dt&&dt.domain(tt.range().map(function(Zt){return(Zt-r.y)/r.k}).map(tt.invert))}function nr(Zt){le++||Zt({type:"zoomstart"})}function ur(Zt){ar(),Zt({type:"zoom",scale:r.k,translate:[r.x,r.y]})}function or(Zt){--le||(Zt({type:"zoomend"}),D=null)}function sr(){var Zt=this,fr=ht.of(Zt,arguments),cr=0,pr=i.select(o(Zt)).on(Le,Er).on(Se,Hr),wr=nt(i.mouse(Zt)),Lr=ct(Zt);Ka.call(Zt),nr(fr);function Er(){cr=1,$t(i.mouse(Zt),wr),ur(fr)}function Hr(){pr.on(Le,null).on(Se,null),Lr(cr),or(fr)}}function dr(){var Zt=this,fr=ht.of(Zt,arguments),cr={},pr=0,wr,Lr=".zoom-"+i.event.changedTouches[0].identifier,Er="touchmove"+Lr,Hr="touchend"+Lr,Br=[],Or=i.select(Zt),Gr=ct(Zt);Vr(),nr(fr),Or.on(ye,null).on(Ye,Vr);function Ir(){var ta=i.touches(Zt);return wr=r.k,ta.forEach(function(Nr){Nr.identifier in cr&&(cr[Nr.identifier]=nt(Nr))}),ta}function Vr(){var ta=i.event.target;i.select(ta).on(Er,ma).on(Hr,Ll),Br.push(ta);for(var Nr=i.event.changedTouches,Qr=0,ia=Nr.length;Qr<ia;++Qr)cr[Nr[Qr].identifier]=null;var Kr=Ir(),_a=Date.now();if(Kr.length===1){if(_a-ot<500){var ya=Kr[0];Kt(Zt,ya,cr[ya.identifier],Math.floor(Math.log(r.k)/Math.LN2)+1),me()}ot=_a}else if(Kr.length>1){var ya=Kr[0],ca=Kr[1],qa=ya[0]-ca[0],zi=ya[1]-ca[1];pr=qa*qa+zi*zi}}function ma(){var ta=i.touches(Zt),Nr,Qr,ia,Kr;Ka.call(Zt);for(var _a=0,ya=ta.length;_a<ya;++_a,Kr=null)if(ia=ta[_a],Kr=cr[ia.identifier]){if(Qr)break;Nr=ia,Qr=Kr}if(Kr){var ca=(ca=ia[0]-Nr[0])*ca+(ca=ia[1]-Nr[1])*ca,qa=pr&&Math.sqrt(ca/pr);Nr=[(Nr[0]+ia[0])/2,(Nr[1]+ia[1])/2],Qr=[(Qr[0]+Kr[0])/2,(Qr[1]+Kr[1])/2],Jt(qa*wr)}ot=null,$t(Nr,Qr),ur(fr)}function Ll(){if(i.event.touches.length){for(var ta=i.event.changedTouches,Nr=0,Qr=ta.length;Nr<Qr;++Nr)delete cr[ta[Nr].identifier];for(var ia in cr)return void Ir()}i.selectAll(Br).on(Lr,null),Or.on(ye,sr).on(Ye,dr),Gr(),or(fr)}}function Tr(){var Zt=ht.of(this,arguments);Oe?clearTimeout(Oe):(Ka.call(this),_=nt(D=G||i.mouse(this)),nr(Zt)),Oe=setTimeout(function(){Oe=null,or(Zt)},50),me(),Jt(Math.pow(2,Wt()*.002)*r.k),$t(D,_),ur(Zt)}function yr(){var Zt=i.mouse(this),fr=Math.log(r.k)/Math.LN2;Kt(this,Zt,nt(Zt),i.event.shiftKey?Math.ceil(fr)-1:Math.floor(fr)+1)}return i.rebind(gt,ht,"on")};var Gt=[0,1/0],Wt,It;i.color=Qt;function Qt(){}Qt.prototype.toString=function(){return this.rgb()+""},i.hsl=Nt;function Nt(r,_,D){return this instanceof Nt?(this.h=+r,this.s=+_,void(this.l=+D)):arguments.length<2?r instanceof Nt?new Nt(r.h,r.s,r.l):kt(""+r,xt,Nt):new Nt(r,_,D)}var Et=Nt.prototype=new Qt;Et.brighter=function(r){return r=Math.pow(.7,arguments.length?r:1),new Nt(this.h,this.s,this.l/r)},Et.darker=function(r){return r=Math.pow(.7,arguments.length?r:1),new Nt(this.h,this.s,r*this.l)},Et.rgb=function(){return Xt(this.h,this.s,this.l)};function Xt(r,_,D){var G,J;r=isNaN(r)?0:(r%=360)<0?r+360:r,_=isNaN(_)||_<0?0:_>1?1:_,D=D<0?0:D>1?1:D,J=D<=.5?D*(1+_):D+_-D*_,G=2*D-J;function j(le){return le>360?le-=360:le<0&&(le+=360),le<60?G+(J-G)*le/60:le<180?J:le<240?G+(J-G)*(240-le)/60:G}function ce(le){return Math.round(j(le)*255)}return new it(ce(r+120),ce(r),ce(r-120))}i.hcl=Tt;function Tt(r,_,D){return this instanceof Tt?(this.h=+r,this.c=+_,void(this.l=+D)):arguments.length<2?r instanceof Tt?new Tt(r.h,r.c,r.l):r instanceof At?He(r.l,r.a,r.b):He((r=lt((r=i.rgb(r)).r,r.g,r.b)).l,r.a,r.b):new Tt(r,_,D)}var Yt=Tt.prototype=new Qt;Yt.brighter=function(r){return new Tt(this.h,this.c,Math.min(100,this.l+Vt*(arguments.length?r:1)))},Yt.darker=function(r){return new Tt(this.h,this.c,Math.max(0,this.l-Vt*(arguments.length?r:1)))},Yt.rgb=function(){return Bt(this.h,this.c,this.l).rgb()};function Bt(r,_,D){return isNaN(r)&&(r=0),isNaN(_)&&(_=0),new At(D,Math.cos(r*=Je)*_,Math.sin(r)*_)}i.lab=At;function At(r,_,D){return this instanceof At?(this.l=+r,this.a=+_,void(this.b=+D)):arguments.length<2?r instanceof At?new At(r.l,r.a,r.b):r instanceof Tt?Bt(r.h,r.c,r.l):lt((r=it(r)).r,r.g,r.b):new At(r,_,D)}var Vt=18,tr=.95047,oe=1,$=1.08883,Ee=At.prototype=new Qt;Ee.brighter=function(r){return new At(Math.min(100,this.l+Vt*(arguments.length?r:1)),this.a,this.b)},Ee.darker=function(r){return new At(Math.max(0,this.l-Vt*(arguments.length?r:1)),this.a,this.b)},Ee.rgb=function(){return Ne(this.l,this.a,this.b)};function Ne(r,_,D){var G=(r+16)/116,J=G+_/500,j=G-D/200;return J=Ze(J)*tr,G=Ze(G)*oe,j=Ze(j)*$,new it(Be(3.2404542*J-1.5371385*G-.4985314*j),Be(-.969266*J+1.8760108*G+.041556*j),Be(.0556434*J-.2040259*G+1.0572252*j))}function He(r,_,D){return r>0?new Tt(Math.atan2(D,_)*Ve,Math.sqrt(_*_+D*D),r):new Tt(NaN,NaN,r)}function Ze(r){return r>.206893034?r*r*r:(r-4/29)/7.787037}function Ue(r){return r>.008856?Math.pow(r,1/3):7.787037*r+4/29}function Be(r){return Math.round(255*(r<=.00304?12.92*r:1.055*Math.pow(r,1/2.4)-.055))}i.rgb=it;function it(r,_,D){return this instanceof it?(this.r=~~r,this.g=~~_,void(this.b=~~D)):arguments.length<2?r instanceof it?new it(r.r,r.g,r.b):kt(""+r,it,Xt):new it(r,_,D)}function mt(r){return new it(r>>16,r>>8&255,r&255)}function Mt(r){return mt(r)+""}var at=it.prototype=new Qt;at.brighter=function(r){r=Math.pow(.7,arguments.length?r:1);var _=this.r,D=this.g,G=this.b,J=30;return!_&&!D&&!G?new it(J,J,J):(_&&_<J&&(_=J),D&&D<J&&(D=J),G&&G<J&&(G=J),new it(Math.min(255,_/r),Math.min(255,D/r),Math.min(255,G/r)))},at.darker=function(r){return r=Math.pow(.7,arguments.length?r:1),new it(r*this.r,r*this.g,r*this.b)},at.hsl=function(){return xt(this.r,this.g,this.b)},at.toString=function(){return"#"+st(this.r)+st(this.g)+st(this.b)};function st(r){return r<16?"0"+Math.max(0,r).toString(16):Math.min(255,r).toString(16)}function kt(r,_,D){var G=0,J=0,j=0,ce,le,ye;if(ce=/([a-z]+)\((.*)\)/.exec(r=r.toLowerCase()),ce)switch(le=ce[2].split(","),ce[1]){case"hsl":return D(parseFloat(le[0]),parseFloat(le[1])/100,parseFloat(le[2])/100);case"rgb":return _(Ct(le[0]),Ct(le[1]),Ct(le[2]))}return(ye=_t.get(r))?_(ye.r,ye.g,ye.b):(r!=null&&r.charAt(0)==="#"&&!isNaN(ye=parseInt(r.slice(1),16))&&(r.length===4?(G=(ye&3840)>>4,G=G>>4|G,J=ye&240,J=J>>4|J,j=ye&15,j=j<<4|j):r.length===7&&(G=(ye&16711680)>>16,J=(ye&65280)>>8,j=ye&255)),_(G,J,j))}function xt(r,_,D){var G=Math.min(r/=255,_/=255,D/=255),J=Math.max(r,_,D),j=J-G,ce,le,ye=(J+G)/2;return j?(le=ye<.5?j/(J+G):j/(2-J-G),r==J?ce=(_-D)/j+(_<D?6:0):_==J?ce=(D-r)/j+2:ce=(r-_)/j+4,ce*=60):(ce=NaN,le=ye>0&&ye<1?0:ce),new Nt(ce,le,ye)}function lt(r,_,D){r=wt(r),_=wt(_),D=wt(D);var G=Ue((.4124564*r+.3575761*_+.1804375*D)/tr),J=Ue((.2126729*r+.7151522*_+.072175*D)/oe),j=Ue((.0193339*r+.119192*_+.9503041*D)/$);return At(116*J-16,500*(G-J),200*(J-j))}function wt(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function Ct(r){var _=parseFloat(r);return r.charAt(r.length-1)==="%"?Math.round(_*2.55):_}var _t=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});_t.forEach(function(r,_){_t.set(r,mt(_))});function Pt(r){return typeof r=="function"?r:function(){return r}}i.functor=Pt,i.xhr=Ft(ie);function Ft(r){return function(_,D,G){return arguments.length===2&&typeof D=="function"&&(G=D,D=null),Ht(_,D,r,G)}}function Ht(r,_,D,G){var J={},j=i.dispatch("beforesend","progress","load","error"),ce={},le=new XMLHttpRequest,ye=null;self.XDomainRequest&&!("withCredentials"in le)&&/^(http(s)?:)?\/\//.test(r)&&(le=new XDomainRequest),"onload"in le?le.onload=le.onerror=Le:le.onreadystatechange=function(){le.readyState>3&&Le()};function Le(){var Se=le.status,Oe;if(!Se&&er(le)||Se>=200&&Se<300||Se===304){try{Oe=D.call(J,le)}catch(Ye){j.error.call(J,Ye);return}j.load.call(J,Oe)}else j.error.call(J,le)}return le.onprogress=function(Se){var Oe=i.event;i.event=Se;try{j.progress.call(J,le)}finally{i.event=Oe}},J.header=function(Se,Oe){return Se=(Se+"").toLowerCase(),arguments.length<2?ce[Se]:(Oe==null?delete ce[Se]:ce[Se]=Oe+"",J)},J.mimeType=function(Se){return arguments.length?(_=Se==null?null:Se+"",J):_},J.responseType=function(Se){return arguments.length?(ye=Se,J):ye},J.response=function(Se){return D=Se,J},["get","post"].forEach(function(Se){J[Se]=function(){return J.send.apply(J,[Se].concat(c(arguments)))}}),J.send=function(Se,Oe,Ye){if(arguments.length===2&&typeof Oe=="function"&&(Ye=Oe,Oe=null),le.open(Se,r,!0),_!=null&&!("accept"in ce)&&(ce.accept=_+",*/*"),le.setRequestHeader)for(var ot in ce)le.setRequestHeader(ot,ce[ot]);return _!=null&&le.overrideMimeType&&le.overrideMimeType(_),ye!=null&&(le.responseType=ye),Ye!=null&&J.on("error",Ye).on("load",function(ht){Ye(null,ht)}),j.beforesend.call(J,le),le.send(Oe==null?null:Oe),J},J.abort=function(){return le.abort(),J},i.rebind(J,j,"on"),G==null?J:J.get(St(G))}function St(r){return r.length===1?function(_,D){r(_==null?D:null)}:r}function er(r){var _=r.responseType;return _&&_!=="text"?r.response:r.responseText}i.dsv=function(r,_){var D=new RegExp('["'+r+`
]`),G=r.charCodeAt(0);function J(Le,Se,Oe){arguments.length<3&&(Oe=Se,Se=null);var Ye=Ht(Le,_,Se==null?j:ce(Se),Oe);return Ye.row=function(ot){return arguments.length?Ye.response((Se=ot)==null?j:ce(ot)):Se},Ye}function j(Le){return J.parse(Le.responseText)}function ce(Le){return function(Se){return J.parse(Se.responseText,Le)}}J.parse=function(Le,Se){var Oe;return J.parseRows(Le,function(Ye,ot){if(Oe)return Oe(Ye,ot-1);var ht=function(We){for(var $e={},tt=Ye.length,dt=0;dt<tt;++dt)$e[Ye[dt]]=We[dt];return $e};Oe=Se?function(We,$e){return Se(ht(We),$e)}:ht})},J.parseRows=function(Le,Se){var Oe={},Ye={},ot=[],ht=Le.length,We=0,$e=0,tt,dt;function gt(){if(We>=ht)return Ye;if(dt)return dt=!1,Oe;var zt=We;if(Le.charCodeAt(zt)===34){for(var Jt=zt;Jt++<ht;)if(Le.charCodeAt(Jt)===34){if(Le.charCodeAt(Jt+1)!==34)break;++Jt}We=Jt+2;var $t=Le.charCodeAt(Jt+1);return $t===13?(dt=!0,Le.charCodeAt(Jt+2)===10&&++We):$t===10&&(dt=!0),Le.slice(zt+1,Jt).replace(/""/g,'"')}for(;We<ht;){var $t=Le.charCodeAt(We++),Kt=1;if($t===10)dt=!0;else if($t===13)dt=!0,Le.charCodeAt(We)===10&&(++We,++Kt);else if($t!==G)continue;return Le.slice(zt,We-Kt)}return Le.slice(zt)}for(;(tt=gt())!==Ye;){for(var nt=[];tt!==Oe&&tt!==Ye;)nt.push(tt),tt=gt();Se&&(nt=Se(nt,$e++))==null||ot.push(nt)}return ot},J.format=function(Le){if(Array.isArray(Le[0]))return J.formatRows(Le);var Se=new X,Oe=[];return Le.forEach(function(Ye){for(var ot in Ye)Se.has(ot)||Oe.push(Se.add(ot))}),[Oe.map(ye).join(r)].concat(Le.map(function(Ye){return Oe.map(function(ot){return ye(Ye[ot])}).join(r)})).join(`
`)},J.formatRows=function(Le){return Le.map(le).join(`
`)};function le(Le){return Le.map(ye).join(r)}function ye(Le){return D.test(Le)?'"'+Le.replace(/\"/g,'""')+'"':Le}return J},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("	","text/tab-separated-values");var jt,Ut,qt,ir,rr=this[O(this,"requestAnimationFrame")]||function(r){setTimeout(r,17)};i.timer=function(){lr.apply(this,arguments)};function lr(r,_,D){var G=arguments.length;G<2&&(_=0),G<3&&(D=Date.now());var J=D+_,j={c:r,t:J,n:null};return Ut?Ut.n=j:jt=j,Ut=j,qt||(ir=clearTimeout(ir),qt=1,rr(vr)),j}function vr(){var r=hr(),_=gr()-r;_>24?(isFinite(_)&&(clearTimeout(ir),ir=setTimeout(vr,_)),qt=0):(qt=1,rr(vr))}i.timer.flush=function(){hr(),gr()};function hr(){for(var r=Date.now(),_=jt;_;)r>=_.t&&_.c(r-_.t)&&(_.c=null),_=_.n;return r}function gr(){for(var r,_=jt,D=1/0;_;)_.c?(_.t<D&&(D=_.t),_=(r=_).n):_=r?r.n=_.n:jt=_.n;return Ut=r,D}i.round=function(r,_){return _?Math.round(r*(_=Math.pow(10,_)))/_:Math.round(r)},i.geom={};function mr(r){return r[0]}function br(r){return r[1]}i.geom.hull=function(r){var _=mr,D=br;if(arguments.length)return G(r);function G(J){if(J.length<3)return[];var j=Pt(_),ce=Pt(D),le,ye=J.length,Le=[],Se=[];for(le=0;le<ye;le++)Le.push([+j.call(this,J[le],le),+ce.call(this,J[le],le),le]);for(Le.sort(jr),le=0;le<ye;le++)Se.push([Le[le][0],-Le[le][1]]);var Oe=Sr(Le),Ye=Sr(Se),ot=Ye[0]===Oe[0],ht=Ye[Ye.length-1]===Oe[Oe.length-1],We=[];for(le=Oe.length-1;le>=0;--le)We.push(J[Le[Oe[le]][2]]);for(le=+ot;le<Ye.length-ht;++le)We.push(J[Le[Ye[le]][2]]);return We}return G.x=function(J){return arguments.length?(_=J,G):_},G.y=function(J){return arguments.length?(D=J,G):D},G};function Sr(r){for(var _=r.length,D=[0,1],G=2,J=2;J<_;J++){for(;G>1&&Ge(r[D[G-2]],r[D[G-1]],r[J])<=0;)--G;D[G++]=J}return D.slice(0,G)}function jr(r,_){return r[0]-_[0]||r[1]-_[1]}i.geom.polygon=function(r){return C(r,_r),r};var _r=i.geom.polygon.prototype=[];_r.area=function(){for(var r=-1,_=this.length,D,G=this[_-1],J=0;++r<_;)D=G,G=this[r],J+=D[1]*G[0]-D[0]*G[1];return J*.5},_r.centroid=function(r){var _=-1,D=this.length,G=0,J=0,j,ce=this[D-1],le;for(arguments.length||(r=-1/(6*this.area()));++_<D;)j=ce,ce=this[_],le=j[0]*ce[1]-ce[0]*j[1],G+=(j[0]+ce[0])*le,J+=(j[1]+ce[1])*le;return[G*r,J*r]},_r.clip=function(r){for(var _,D=xr(r),G=-1,J=this.length-xr(this),j,ce,le=this[J-1],ye,Le,Se;++G<J;){for(_=r.slice(),r.length=0,ye=this[G],Le=_[(ce=_.length-D)-1],j=-1;++j<ce;)Se=_[j],Cr(Se,le,ye)?(Cr(Le,le,ye)||r.push(zr(Le,Se,le,ye)),r.push(Se)):Cr(Le,le,ye)&&r.push(zr(Le,Se,le,ye)),Le=Se;D&&r.push(r[0]),le=ye}return r};function Cr(r,_,D){return(D[0]-_[0])*(r[1]-_[1])<(D[1]-_[1])*(r[0]-_[0])}function zr(r,_,D,G){var J=r[0],j=D[0],ce=_[0]-J,le=G[0]-j,ye=r[1],Le=D[1],Se=_[1]-ye,Oe=G[1]-Le,Ye=(le*(ye-Le)-Oe*(J-j))/(Oe*ce-le*Se);return[J+Ye*ce,ye+Ye*Se]}function xr(r){var _=r[0],D=r[r.length-1];return!(_[0]-D[0]||_[1]-D[1])}var $r,Yr,Ur,sa=[],ua,Wr,Zr=[];function Fr(){Oa(this),this.edge=this.site=this.circle=null}function ba(r){var _=sa.pop()||new Fr;return _.site=r,_}function ra(r){oa(r),Ur.remove(r),sa.push(r),Oa(r)}function Mr(r){var _=r.circle,D=_.x,G=_.cy,J={x:D,y:G},j=r.P,ce=r.N,le=[r];ra(r);for(var ye=j;ye.circle&&f(D-ye.circle.x)<Re&&f(G-ye.circle.cy)<Re;)j=ye.P,le.unshift(ye),ra(ye),ye=j;le.unshift(ye),oa(ye);for(var Le=ce;Le.circle&&f(D-Le.circle.x)<Re&&f(G-Le.circle.cy)<Re;)ce=Le.N,le.push(Le),ra(Le),Le=ce;le.push(Le),oa(Le);var Se=le.length,Oe;for(Oe=1;Oe<Se;++Oe)Le=le[Oe],ye=le[Oe-1],Ia(Le.edge,ye.site,Le.site,J);ye=le[0],Le=le[Se-1],Le.edge=Aa(ye.site,Le.site,null,J),Xr(ye),Xr(Le)}function qr(r){for(var _=r.x,D=r.y,G,J,j,ce,le=Ur._;le;)if(j=va(le,D)-_,j>Re)le=le.L;else if(ce=_-ha(le,D),ce>Re){if(!le.R){G=le;break}le=le.R}else{j>-Re?(G=le.P,J=le):ce>-Re?(G=le,J=le.N):G=J=le;break}var ye=ba(r);if(Ur.insert(G,ye),!(!G&&!J)){if(G===J){oa(G),J=ba(G.site),Ur.insert(ye,J),ye.edge=J.edge=Aa(G.site,ye.site),Xr(G),Xr(J);return}if(!J){ye.edge=Aa(G.site,ye.site);return}oa(G),oa(J);var Le=G.site,Se=Le.x,Oe=Le.y,Ye=r.x-Se,ot=r.y-Oe,ht=J.site,We=ht.x-Se,$e=ht.y-Oe,tt=2*(Ye*$e-ot*We),dt=Ye*Ye+ot*ot,gt=We*We+$e*$e,nt={x:($e*dt-ot*gt)/tt+Se,y:(Ye*gt-We*dt)/tt+Oe};Ia(J.edge,Le,ht,nt),ye.edge=Aa(Le,r,null,nt),J.edge=Aa(r,ht,null,nt),Xr(G),Xr(J)}}function va(r,_){var D=r.site,G=D.x,J=D.y,j=J-_;if(!j)return G;var ce=r.P;if(!ce)return-1/0;D=ce.site;var le=D.x,ye=D.y,Le=ye-_;if(!Le)return le;var Se=le-G,Oe=1/j-1/Le,Ye=Se/Le;return Oe?(-Ye+Math.sqrt(Ye*Ye-2*Oe*(Se*Se/(-2*Le)-ye+Le/2+J-j/2)))/Oe+G:(G+le)/2}function ha(r,_){var D=r.N;if(D)return va(D,_);var G=r.site;return G.y===_?G.x:1/0}function Dr(r){this.site=r,this.edges=[]}Dr.prototype.prepare=function(){for(var r=this.edges,_=r.length,D;_--;)D=r[_].edge,(!D.b||!D.a)&&r.splice(_,1);return r.sort(aa),r.length};function Rr(r){for(var _=r[0][0],D=r[1][0],G=r[0][1],J=r[1][1],j,ce,le,ye,Le=Yr,Se=Le.length,Oe,Ye,ot,ht,We,$e;Se--;)if(Oe=Le[Se],!(!Oe||!Oe.prepare()))for(ot=Oe.edges,ht=ot.length,Ye=0;Ye<ht;)$e=ot[Ye].end(),le=$e.x,ye=$e.y,We=ot[++Ye%ht].start(),j=We.x,ce=We.y,(f(le-j)>Re||f(ye-ce)>Re)&&(ot.splice(Ye,0,new Ha(Bi(Oe.site,$e,f(le-_)<Re&&J-ye>Re?{x:_,y:f(j-_)<Re?ce:J}:f(ye-J)<Re&&D-le>Re?{x:f(ce-J)<Re?j:D,y:J}:f(le-D)<Re&&ye-G>Re?{x:D,y:f(j-D)<Re?ce:G}:f(ye-G)<Re&&le-_>Re?{x:f(ce-G)<Re?j:_,y:G}:null),Oe.site,null)),++ht)}function aa(r,_){return _.angle-r.angle}function Ea(){Oa(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xr(r){var _=r.P,D=r.N;if(!(!_||!D)){var G=_.site,J=r.site,j=D.site;if(G!==j){var ce=J.x,le=J.y,ye=G.x-ce,Le=G.y-le,Se=j.x-ce,$e=j.y-le,Oe=2*(ye*$e-Le*Se);if(!(Oe>=-ze)){var Ye=ye*ye+Le*Le,ot=Se*Se+$e*$e,ht=($e*Ye-Le*ot)/Oe,We=(ye*ot-Se*Ye)/Oe,$e=We+le,tt=Zr.pop()||new Ea;tt.arc=r,tt.site=J,tt.x=ht+ce,tt.y=$e+Math.sqrt(ht*ht+We*We),tt.cy=$e,r.circle=tt;for(var dt=null,gt=Wr._;gt;)if(tt.y<gt.y||tt.y===gt.y&&tt.x<=gt.x)if(gt.L)gt=gt.L;else{dt=gt.P;break}else if(gt.R)gt=gt.R;else{dt=gt;break}Wr.insert(dt,tt),dt||(ua=tt)}}}}function oa(r){var _=r.circle;_&&(_.P||(ua=_.N),Wr.remove(_),Zr.push(_),Oa(_),r.circle=null)}function Na(r,_,D,G){return function(J){var j=J.a,ce=J.b,le=j.x,ye=j.y,Le=ce.x,Se=ce.y,Oe=0,Ye=1,ot=Le-le,ht=Se-ye,We;if(We=r-le,!(!ot&&We>0)){if(We/=ot,ot<0){if(We<Oe)return;We<Ye&&(Ye=We)}else if(ot>0){if(We>Ye)return;We>Oe&&(Oe=We)}if(We=D-le,!(!ot&&We<0)){if(We/=ot,ot<0){if(We>Ye)return;We>Oe&&(Oe=We)}else if(ot>0){if(We<Oe)return;We<Ye&&(Ye=We)}if(We=_-ye,!(!ht&&We>0)){if(We/=ht,ht<0){if(We<Oe)return;We<Ye&&(Ye=We)}else if(ht>0){if(We>Ye)return;We>Oe&&(Oe=We)}if(We=G-ye,!(!ht&&We<0)){if(We/=ht,ht<0){if(We>Ye)return;We>Oe&&(Oe=We)}else if(ht>0){if(We<Oe)return;We<Ye&&(Ye=We)}return Oe>0&&(J.a={x:le+Oe*ot,y:ye+Oe*ht}),Ye<1&&(J.b={x:le+Ye*ot,y:ye+Ye*ht}),J}}}}}}function za(r){for(var _=$r,D=Na(r[0][0],r[0][1],r[1][0],r[1][1]),G=_.length,J;G--;)J=_[G],(!Fa(J,r)||!D(J)||f(J.a.x-J.b.x)<Re&&f(J.a.y-J.b.y)<Re)&&(J.a=J.b=null,_.splice(G,1))}function Fa(r,_){var D=r.b;if(D)return!0;var G=r.a,J=_[0][0],j=_[1][0],ce=_[0][1],le=_[1][1],ye=r.l,Le=r.r,Se=ye.x,Oe=ye.y,Ye=Le.x,ot=Le.y,ht=(Se+Ye)/2,We=(Oe+ot)/2,$e,tt;if(ot===Oe){if(ht<J||ht>=j)return;if(Se>Ye){if(!G)G={x:ht,y:ce};else if(G.y>=le)return;D={x:ht,y:le}}else{if(!G)G={x:ht,y:le};else if(G.y<ce)return;D={x:ht,y:ce}}}else if($e=(Se-Ye)/(ot-Oe),tt=We-$e*ht,$e<-1||$e>1)if(Se>Ye){if(!G)G={x:(ce-tt)/$e,y:ce};else if(G.y>=le)return;D={x:(le-tt)/$e,y:le}}else{if(!G)G={x:(le-tt)/$e,y:le};else if(G.y<ce)return;D={x:(ce-tt)/$e,y:ce}}else if(Oe<ot){if(!G)G={x:J,y:$e*J+tt};else if(G.x>=j)return;D={x:j,y:$e*j+tt}}else{if(!G)G={x:j,y:$e*j+tt};else if(G.x<J)return;D={x:J,y:$e*J+tt}}return r.a=G,r.b=D,!0}function En(r,_){this.l=r,this.r=_,this.a=this.b=null}function Aa(r,_,D,G){var J=new En(r,_);return $r.push(J),D&&Ia(J,r,_,D),G&&Ia(J,_,r,G),Yr[r.i].edges.push(new Ha(J,r,_)),Yr[_.i].edges.push(new Ha(J,_,r)),J}function Bi(r,_,D){var G=new En(r,null);return G.a=_,G.b=D,$r.push(G),G}function Ia(r,_,D,G){!r.a&&!r.b?(r.a=G,r.l=_,r.r=D):r.l===D?r.b=G:r.a=G}function Ha(r,_,D){var G=r.a,J=r.b;this.edge=r,this.site=_,this.angle=D?Math.atan2(D.y-_.y,D.x-_.x):r.l===_?Math.atan2(J.x-G.x,G.y-J.y):Math.atan2(G.x-J.x,J.y-G.y)}Ha.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function on(){this._=null}function Oa(r){r.U=r.C=r.L=r.R=r.P=r.N=null}on.prototype={insert:function(r,_){var D,G,J;if(r){if(_.P=r,_.N=r.N,r.N&&(r.N.P=_),r.N=_,r.R){for(r=r.R;r.L;)r=r.L;r.L=_}else r.R=_;D=r}else this._?(r=Nn(this._),_.P=null,_.N=r,r.P=r.L=_,D=r):(_.P=_.N=null,this._=_,D=null);for(_.L=_.R=null,_.U=D,_.C=!0,r=_;D&&D.C;)G=D.U,D===G.L?(J=G.R,J&&J.C?(D.C=J.C=!1,G.C=!0,r=G):(r===D.R&&(ka(this,D),r=D,D=r.U),D.C=!1,G.C=!0,La(this,G))):(J=G.L,J&&J.C?(D.C=J.C=!1,G.C=!0,r=G):(r===D.L&&(La(this,D),r=D,D=r.U),D.C=!1,G.C=!0,ka(this,G))),D=r.U;this._.C=!1},remove:function(r){r.N&&(r.N.P=r.P),r.P&&(r.P.N=r.N),r.N=r.P=null;var _=r.U,D,G=r.L,J=r.R,j,ce;if(G?J?j=Nn(J):j=G:j=J,_?_.L===r?_.L=j:_.R=j:this._=j,G&&J?(ce=j.C,j.C=r.C,j.L=G,G.U=j,j!==J?(_=j.U,j.U=r.U,r=j.R,_.L=r,j.R=J,J.U=j):(j.U=_,_=j,r=j.R)):(ce=r.C,r=j),r&&(r.U=_),!ce){if(r&&r.C){r.C=!1;return}do{if(r===this._)break;if(r===_.L){if(D=_.R,D.C&&(D.C=!1,_.C=!0,ka(this,_),D=_.R),D.L&&D.L.C||D.R&&D.R.C){(!D.R||!D.R.C)&&(D.L.C=!1,D.C=!0,La(this,D),D=_.R),D.C=_.C,_.C=D.R.C=!1,ka(this,_),r=this._;break}}else if(D=_.L,D.C&&(D.C=!1,_.C=!0,La(this,_),D=_.L),D.L&&D.L.C||D.R&&D.R.C){(!D.L||!D.L.C)&&(D.R.C=!1,D.C=!0,ka(this,D),D=_.L),D.C=_.C,_.C=D.L.C=!1,La(this,_),r=this._;break}D.C=!0,r=_,_=_.U}while(!r.C);r&&(r.C=!1)}}};function ka(r,_){var D=_,G=_.R,J=D.U;J?J.L===D?J.L=G:J.R=G:r._=G,G.U=J,D.U=G,D.R=G.L,D.R&&(D.R.U=D),G.L=D}function La(r,_){var D=_,G=_.L,J=D.U;J?J.L===D?J.L=G:J.R=G:r._=G,G.U=J,D.U=G,D.L=G.R,D.L&&(D.L.U=D),G.R=D}function Nn(r){for(;r.L;)r=r.L;return r}function ln(r,_){var D=r.sort(Yi).pop(),G,J,j;for($r=[],Yr=new Array(r.length),Ur=new on,Wr=new on;;)if(j=ua,D&&(!j||D.y<j.y||D.y===j.y&&D.x<j.x))(D.x!==G||D.y!==J)&&(Yr[D.i]=new Dr(D),qr(D),G=D.x,J=D.y),D=r.pop();else if(j)Mr(j.arc);else break;_&&(za(_),Rr(_));var ce={cells:Yr,edges:$r};return Ur=Wr=$r=Yr=null,ce}function Yi(r,_){return _.y-r.y||_.x-r.x}i.geom.voronoi=function(r){var _=mr,D=br,G=_,J=D,j=Ba;if(r)return ce(r);function ce(ye){var Le=new Array(ye.length),Se=j[0][0],Oe=j[0][1],Ye=j[1][0],ot=j[1][1];return ln(le(ye),j).cells.forEach(function(ht,We){var $e=ht.edges,tt=ht.site,dt=Le[We]=$e.length?$e.map(function(gt){var nt=gt.start();return[nt.x,nt.y]}):tt.x>=Se&&tt.x<=Ye&&tt.y>=Oe&&tt.y<=ot?[[Se,ot],[Ye,ot],[Ye,Oe],[Se,Oe]]:[];dt.point=ye[We]}),Le}function le(ye){return ye.map(function(Le,Se){return{x:Math.round(G(Le,Se)/Re)*Re,y:Math.round(J(Le,Se)/Re)*Re,i:Se}})}return ce.links=function(ye){return ln(le(ye)).edges.filter(function(Le){return Le.l&&Le.r}).map(function(Le){return{source:ye[Le.l.i],target:ye[Le.r.i]}})},ce.triangles=function(ye){var Le=[];return ln(le(ye)).cells.forEach(function(Se,Oe){for(var Ye=Se.site,ot=Se.edges.sort(aa),ht=-1,We=ot.length,$e,tt=ot[We-1].edge,dt=tt.l===Ye?tt.r:tt.l;++ht<We;)$e=dt,tt=ot[ht].edge,dt=tt.l===Ye?tt.r:tt.l,Oe<$e.i&&Oe<dt.i&&Ui(Ye,$e,dt)<0&&Le.push([ye[Oe],ye[$e.i],ye[dt.i]])}),Le},ce.x=function(ye){return arguments.length?(G=Pt(_=ye),ce):_},ce.y=function(ye){return arguments.length?(J=Pt(D=ye),ce):D},ce.clipExtent=function(ye){return arguments.length?(j=ye==null?Ba:ye,ce):j===Ba?null:j},ce.size=function(ye){return arguments.length?ce.clipExtent(ye&&[[0,0],ye]):j===Ba?null:j&&j[1]},ce};var Ba=[[-1e6,-1e6],[1e6,1e6]];function Ui(r,_,D){return(r.x-D.x)*(_.y-r.y)-(r.x-_.x)*(D.y-r.y)}i.geom.delaunay=function(r){return i.geom.voronoi().triangles(r)},i.geom.quadtree=function(r,_,D,G,J){var j=mr,ce=br,le;if(le=arguments.length)return j=Gi,ce=Vi,le===3&&(J=D,G=_,D=_=0),ye(r);function ye(Le){var Se,Oe=Pt(j),Ye=Pt(ce),ot,ht,We,$e,tt,dt,gt,nt;if(_!=null)tt=_,dt=D,gt=G,nt=J;else if(gt=nt=-(tt=dt=1/0),ot=[],ht=[],$e=Le.length,le)for(We=0;We<$e;++We)Se=Le[We],Se.x<tt&&(tt=Se.x),Se.y<dt&&(dt=Se.y),Se.x>gt&&(gt=Se.x),Se.y>nt&&(nt=Se.y),ot.push(Se.x),ht.push(Se.y);else for(We=0;We<$e;++We){var zt=+Oe(Se=Le[We],We),Jt=+Ye(Se,We);zt<tt&&(tt=zt),Jt<dt&&(dt=Jt),zt>gt&&(gt=zt),Jt>nt&&(nt=Jt),ot.push(zt),ht.push(Jt)}var $t=gt-tt,Kt=nt-dt;$t>Kt?nt=dt+$t:gt=tt+Kt;function ar(or,sr,dr,Tr,yr,Zt,fr,cr){if(!(isNaN(dr)||isNaN(Tr)))if(or.leaf){var pr=or.x,wr=or.y;if(pr!=null)if(f(pr-dr)+f(wr-Tr)<.01)nr(or,sr,dr,Tr,yr,Zt,fr,cr);else{var Lr=or.point;or.x=or.y=or.point=null,nr(or,Lr,pr,wr,yr,Zt,fr,cr),nr(or,sr,dr,Tr,yr,Zt,fr,cr)}else or.x=dr,or.y=Tr,or.point=sr}else nr(or,sr,dr,Tr,yr,Zt,fr,cr)}function nr(or,sr,dr,Tr,yr,Zt,fr,cr){var pr=(yr+fr)*.5,wr=(Zt+cr)*.5,Lr=dr>=pr,Er=Tr>=wr,Hr=Er<<1|Lr;or.leaf=!1,or=or.nodes[Hr]||(or.nodes[Hr]=zn()),Lr?yr=pr:fr=pr,Er?Zt=wr:cr=wr,ar(or,sr,dr,Tr,yr,Zt,fr,cr)}var ur=zn();if(ur.add=function(or){ar(ur,or,+Oe(or,++We),+Ye(or,We),tt,dt,gt,nt)},ur.visit=function(or){Sa(or,ur,tt,dt,gt,nt)},ur.find=function(or){return Wi(ur,or[0],or[1],tt,dt,gt,nt)},We=-1,_==null){for(;++We<$e;)ar(ur,Le[We],ot[We],ht[We],tt,dt,gt,nt);--We}else Le.forEach(ur.add);return ot=ht=Le=Se=null,ur}return ye.x=function(Le){return arguments.length?(j=Le,ye):j},ye.y=function(Le){return arguments.length?(ce=Le,ye):ce},ye.extent=function(Le){return arguments.length?(Le==null?_=D=G=J=null:(_=+Le[0][0],D=+Le[0][1],G=+Le[1][0],J=+Le[1][1]),ye):_==null?null:[[_,D],[G,J]]},ye.size=function(Le){return arguments.length?(Le==null?_=D=G=J=null:(_=D=0,G=+Le[0],J=+Le[1]),ye):_==null?null:[G-_,J-D]},ye};function Gi(r){return r.x}function Vi(r){return r.y}function zn(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Sa(r,_,D,G,J,j){if(!r(_,D,G,J,j)){var ce=(D+J)*.5,le=(G+j)*.5,ye=_.nodes;ye[0]&&Sa(r,ye[0],D,G,ce,le),ye[1]&&Sa(r,ye[1],ce,G,J,le),ye[2]&&Sa(r,ye[2],D,le,ce,j),ye[3]&&Sa(r,ye[3],ce,le,J,j)}}function Wi(r,_,D,G,J,j,ce){var le=1/0,ye;return function Le(Se,Oe,Ye,ot,ht){if(!(Oe>j||Ye>ce||ot<G||ht<J)){if(We=Se.point){var We,$e=_-Se.x,tt=D-Se.y,dt=$e*$e+tt*tt;if(dt<le){var gt=Math.sqrt(le=dt);G=_-gt,J=D-gt,j=_+gt,ce=D+gt,ye=We}}for(var nt=Se.nodes,zt=(Oe+ot)*.5,Jt=(Ye+ht)*.5,$t=_>=zt,Kt=D>=Jt,ar=Kt<<1|$t,nr=ar+4;ar<nr;++ar)if(Se=nt[ar&3])switch(ar&3){case 0:Le(Se,Oe,Ye,zt,Jt);break;case 1:Le(Se,zt,Ye,ot,Jt);break;case 2:Le(Se,Oe,Jt,zt,ht);break;case 3:Le(Se,zt,Jt,ot,ht);break}}}(r,G,J,j,ce),ye}i.interpolateRgb=sn;function sn(r,_){r=i.rgb(r),_=i.rgb(_);var D=r.r,G=r.g,J=r.b,j=_.r-D,ce=_.g-G,le=_.b-J;return function(ye){return"#"+st(Math.round(D+j*ye))+st(Math.round(G+ce*ye))+st(Math.round(J+le*ye))}}i.interpolateObject=Fn;function Fn(r,_){var D={},G={},J;for(J in r)J in _?D[J]=da(r[J],_[J]):G[J]=r[J];for(J in _)J in r||(G[J]=_[J]);return function(j){for(J in D)G[J]=D[J](j);return G}}i.interpolateNumber=la;function la(r,_){return r=+r,_=+_,function(D){return r*(1-D)+_*D}}i.interpolateString=In;function In(r,_){var D=un.lastIndex=fn.lastIndex=0,G,J,j,ce=-1,le=[],ye=[];for(r=r+"",_=_+"";(G=un.exec(r))&&(J=fn.exec(_));)(j=J.index)>D&&(j=_.slice(D,j),le[ce]?le[ce]+=j:le[++ce]=j),(G=G[0])===(J=J[0])?le[ce]?le[ce]+=J:le[++ce]=J:(le[++ce]=null,ye.push({i:ce,x:la(G,J)})),D=fn.lastIndex;return D<_.length&&(j=_.slice(D),le[ce]?le[ce]+=j:le[++ce]=j),le.length<2?ye[0]?(_=ye[0].x,function(Le){return _(Le)+""}):function(){return _}:(_=ye.length,function(Le){for(var Se=0,Oe;Se<_;++Se)le[(Oe=ye[Se]).i]=Oe.x(Le);return le.join("")})}var un=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fn=new RegExp(un.source,"g");i.interpolate=da;function da(r,_){for(var D=i.interpolators.length,G;--D>=0&&!(G=i.interpolators[D](r,_)););return G}i.interpolators=[function(r,_){var D=typeof _;return(D==="string"?_t.has(_.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(_)?sn:In:_ instanceof Qt?sn:Array.isArray(_)?Ya:D==="object"&&isNaN(_)?Fn:la)(r,_)}],i.interpolateArray=Ya;function Ya(r,_){var D=[],G=[],J=r.length,j=_.length,ce=Math.min(r.length,_.length),le;for(le=0;le<ce;++le)D.push(da(r[le],_[le]));for(;le<J;++le)G[le]=r[le];for(;le<j;++le)G[le]=_[le];return function(ye){for(le=0;le<ce;++le)G[le]=D[le](ye);return G}}var Hn=function(){return ie},Zi=i.map({linear:Hn,poly:$i,quad:function(){return Qi},cubic:function(){return Ki},sin:function(){return qi},exp:function(){return eo},circle:function(){return to},elastic:ro,back:ao,bounce:function(){return no}}),Xi=i.map({in:ie,out:On,"in-out":Bn,"out-in":function(r){return Bn(On(r))}});i.ease=function(r){var _=r.indexOf("-"),D=_>=0?r.slice(0,_):r,G=_>=0?r.slice(_+1):"in";return D=Zi.get(D)||Hn,G=Xi.get(G)||ie,Ji(G(D.apply(null,n.call(arguments,1))))};function Ji(r){return function(_){return _<=0?0:_>=1?1:r(_)}}function On(r){return function(_){return 1-r(1-_)}}function Bn(r){return function(_){return .5*(_<.5?r(2*_):2-r(2-2*_))}}function Qi(r){return r*r}function Ki(r){return r*r*r}function ji(r){if(r<=0)return 0;if(r>=1)return 1;var _=r*r,D=_*r;return 4*(r<.5?D:3*(r-_)+D-.75)}function $i(r){return function(_){return Math.pow(_,r)}}function qi(r){return 1-Math.cos(r*Me)}function eo(r){return Math.pow(2,10*(r-1))}function to(r){return 1-Math.sqrt(1-r*r)}function ro(r,_){var D;return arguments.length<2&&(_=.45),arguments.length?D=_/xe*Math.asin(1/r):(r=1,D=_/4),function(G){return 1+r*Math.pow(2,-10*G)*Math.sin((G-D)*xe/_)}}function ao(r){return r||(r=1.70158),function(_){return _*_*((r+1)*_-r)}}function no(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375}i.interpolateHcl=io;function io(r,_){r=i.hcl(r),_=i.hcl(_);var D=r.h,G=r.c,J=r.l,j=_.h-D,ce=_.c-G,le=_.l-J;return isNaN(ce)&&(ce=0,G=isNaN(G)?_.c:G),isNaN(j)?(j=0,D=isNaN(D)?_.h:D):j>180?j-=360:j<-180&&(j+=360),function(ye){return Bt(D+j*ye,G+ce*ye,J+le*ye)+""}}i.interpolateHsl=oo;function oo(r,_){r=i.hsl(r),_=i.hsl(_);var D=r.h,G=r.s,J=r.l,j=_.h-D,ce=_.s-G,le=_.l-J;return isNaN(ce)&&(ce=0,G=isNaN(G)?_.s:G),isNaN(j)?(j=0,D=isNaN(D)?_.h:D):j>180?j-=360:j<-180&&(j+=360),function(ye){return Xt(D+j*ye,G+ce*ye,J+le*ye)+""}}i.interpolateLab=lo;function lo(r,_){r=i.lab(r),_=i.lab(_);var D=r.l,G=r.a,J=r.b,j=_.l-D,ce=_.a-G,le=_.b-J;return function(ye){return Ne(D+j*ye,G+ce*ye,J+le*ye)+""}}i.interpolateRound=Yn;function Yn(r,_){return _-=r,function(D){return Math.round(r+_*D)}}i.transform=function(r){var _=s.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(D){if(D!=null){_.setAttribute("transform",D);var G=_.transform.baseVal.consolidate()}return new Un(G?G.matrix:uo)})(r)};function Un(r){var _=[r.a,r.b],D=[r.c,r.d],G=Vn(_),J=Gn(_,D),j=Vn(so(D,_,-J))||0;_[0]*D[1]<D[0]*_[1]&&(_[0]*=-1,_[1]*=-1,G*=-1,J*=-1),this.rotate=(G?Math.atan2(_[1],_[0]):Math.atan2(-D[0],D[1]))*Ve,this.translate=[r.e,r.f],this.scale=[G,j],this.skew=j?Math.atan2(J,j)*Ve:0}Un.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Gn(r,_){return r[0]*_[0]+r[1]*_[1]}function Vn(r){var _=Math.sqrt(Gn(r,r));return _&&(r[0]/=_,r[1]/=_),_}function so(r,_,D){return r[0]+=D*_[0],r[1]+=D*_[1],r}var uo={a:1,b:0,c:0,d:1,e:0,f:0};i.interpolateTransform=Wn;function xa(r){return r.length?r.pop()+",":""}function fo(r,_,D,G){if(r[0]!==_[0]||r[1]!==_[1]){var J=D.push("translate(",null,",",null,")");G.push({i:J-4,x:la(r[0],_[0])},{i:J-2,x:la(r[1],_[1])})}else(_[0]||_[1])&&D.push("translate("+_+")")}function co(r,_,D,G){r!==_?(r-_>180?_+=360:_-r>180&&(r+=360),G.push({i:D.push(xa(D)+"rotate(",null,")")-2,x:la(r,_)})):_&&D.push(xa(D)+"rotate("+_+")")}function vo(r,_,D,G){r!==_?G.push({i:D.push(xa(D)+"skewX(",null,")")-2,x:la(r,_)}):_&&D.push(xa(D)+"skewX("+_+")")}function ho(r,_,D,G){if(r[0]!==_[0]||r[1]!==_[1]){var J=D.push(xa(D)+"scale(",null,",",null,")");G.push({i:J-4,x:la(r[0],_[0])},{i:J-2,x:la(r[1],_[1])})}else(_[0]!==1||_[1]!==1)&&D.push(xa(D)+"scale("+_+")")}function Wn(r,_){var D=[],G=[];return r=i.transform(r),_=i.transform(_),fo(r.translate,_.translate,D,G),co(r.rotate,_.rotate,D,G),vo(r.skew,_.skew,D,G),ho(r.scale,_.scale,D,G),r=_=null,function(J){for(var j=-1,ce=G.length,le;++j<ce;)D[(le=G[j]).i]=le.x(J);return D.join("")}}function po(r,_){return _=(_-=r=+r)||1/_,function(D){return(D-r)/_}}function mo(r,_){return _=(_-=r=+r)||1/_,function(D){return Math.max(0,Math.min(1,(D-r)/_))}}i.layout={},i.layout.bundle=function(){return function(r){for(var _=[],D=-1,G=r.length;++D<G;)_.push(yo(r[D]));return _}};function yo(r){for(var _=r.source,D=r.target,G=go(_,D),J=[_];_!==G;)_=_.parent,J.push(_);for(var j=J.length;D!==G;)J.splice(j,0,D),D=D.parent;return J}function Zn(r){for(var _=[],D=r.parent;D!=null;)_.push(r),r=D,D=D.parent;return _.push(r),_}function go(r,_){if(r===_)return r;for(var D=Zn(r),G=Zn(_),J=D.pop(),j=G.pop(),ce=null;J===j;)ce=J,J=D.pop(),j=G.pop();return ce}i.layout.chord=function(){var r={},_,D,G,J,j=0,ce,le,ye;function Le(){var Oe={},Ye=[],ot=i.range(J),ht=[],We,$e,tt,dt,gt;for(_=[],D=[],We=0,dt=-1;++dt<J;){for($e=0,gt=-1;++gt<J;)$e+=G[dt][gt];Ye.push($e),ht.push(i.range(J)),We+=$e}for(ce&&ot.sort(function(ur,or){return ce(Ye[ur],Ye[or])}),le&&ht.forEach(function(ur,or){ur.sort(function(sr,dr){return le(G[or][sr],G[or][dr])})}),We=(xe-j*J)/We,$e=0,dt=-1;++dt<J;){for(tt=$e,gt=-1;++gt<J;){var nt=ot[dt],zt=ht[nt][gt],Jt=G[nt][zt],$t=$e,Kt=$e+=Jt*We;Oe[nt+"-"+zt]={index:nt,subindex:zt,startAngle:$t,endAngle:Kt,value:Jt}}D[nt]={index:nt,startAngle:tt,endAngle:$e,value:Ye[nt]},$e+=j}for(dt=-1;++dt<J;)for(gt=dt-1;++gt<J;){var ar=Oe[dt+"-"+gt],nr=Oe[gt+"-"+dt];(ar.value||nr.value)&&_.push(ar.value<nr.value?{source:nr,target:ar}:{source:ar,target:nr})}ye&&Se()}function Se(){_.sort(function(Oe,Ye){return ye((Oe.source.value+Oe.target.value)/2,(Ye.source.value+Ye.target.value)/2)})}return r.matrix=function(Oe){return arguments.length?(J=(G=Oe)&&G.length,_=D=null,r):G},r.padding=function(Oe){return arguments.length?(j=Oe,_=D=null,r):j},r.sortGroups=function(Oe){return arguments.length?(ce=Oe,_=D=null,r):ce},r.sortSubgroups=function(Oe){return arguments.length?(le=Oe,_=null,r):le},r.sortChords=function(Oe){return arguments.length?(ye=Oe,_&&Se(),r):ye},r.chords=function(){return _||Le(),_},r.groups=function(){return D||Le(),D},r},i.layout.force=function(){var r={},_=i.dispatch("start","tick","end"),D,G=[1,1],J,j,ce=.9,le=To,ye=Mo,Le=-30,Se=Ao,Oe=.1,Ye=.64,ot=[],ht=[],We,$e,tt;function dt(nt){return function(zt,Jt,$t,Kt){if(zt.point!==nt){var ar=zt.cx-nt.x,nr=zt.cy-nt.y,ur=Kt-Jt,or=ar*ar+nr*nr;if(ur*ur/Ye<or){if(or<Se){var sr=zt.charge/or;nt.px-=ar*sr,nt.py-=nr*sr}return!0}if(zt.point&&or&&or<Se){var sr=zt.pointCharge/or;nt.px-=ar*sr,nt.py-=nr*sr}}return!zt.charge}}r.tick=function(){if((j*=.99)<.005)return D=null,_.end({type:"end",alpha:j=0}),!0;var nt=ot.length,zt=ht.length,Jt,$t,Kt,ar,nr,ur,or,sr,dr;for($t=0;$t<zt;++$t)Kt=ht[$t],ar=Kt.source,nr=Kt.target,sr=nr.x-ar.x,dr=nr.y-ar.y,(ur=sr*sr+dr*dr)&&(ur=j*$e[$t]*((ur=Math.sqrt(ur))-We[$t])/ur,sr*=ur,dr*=ur,nr.x-=sr*(or=ar.weight+nr.weight?ar.weight/(ar.weight+nr.weight):.5),nr.y-=dr*or,ar.x+=sr*(or=1-or),ar.y+=dr*or);if((or=j*Oe)&&(sr=G[0]/2,dr=G[1]/2,$t=-1,or))for(;++$t<nt;)Kt=ot[$t],Kt.x+=(sr-Kt.x)*or,Kt.y+=(dr-Kt.y)*or;if(Le)for(Xn(Jt=i.geom.quadtree(ot),j,tt),$t=-1;++$t<nt;)(Kt=ot[$t]).fixed||Jt.visit(dt(Kt));for($t=-1;++$t<nt;)Kt=ot[$t],Kt.fixed?(Kt.x=Kt.px,Kt.y=Kt.py):(Kt.x-=(Kt.px-(Kt.px=Kt.x))*ce,Kt.y-=(Kt.py-(Kt.py=Kt.y))*ce);_.tick({type:"tick",alpha:j})},r.nodes=function(nt){return arguments.length?(ot=nt,r):ot},r.links=function(nt){return arguments.length?(ht=nt,r):ht},r.size=function(nt){return arguments.length?(G=nt,r):G},r.linkDistance=function(nt){return arguments.length?(le=typeof nt=="function"?nt:+nt,r):le},r.distance=r.linkDistance,r.linkStrength=function(nt){return arguments.length?(ye=typeof nt=="function"?nt:+nt,r):ye},r.friction=function(nt){return arguments.length?(ce=+nt,r):ce},r.charge=function(nt){return arguments.length?(Le=typeof nt=="function"?nt:+nt,r):Le},r.chargeDistance=function(nt){return arguments.length?(Se=nt*nt,r):Math.sqrt(Se)},r.gravity=function(nt){return arguments.length?(Oe=+nt,r):Oe},r.theta=function(nt){return arguments.length?(Ye=nt*nt,r):Math.sqrt(Ye)},r.alpha=function(nt){return arguments.length?(nt=+nt,j?nt>0?j=nt:(D.c=null,D.t=NaN,D=null,_.end({type:"end",alpha:j=0})):nt>0&&(_.start({type:"start",alpha:j=nt}),D=lr(r.tick)),r):j},r.start=function(){var nt,zt=ot.length,Jt=ht.length,$t=G[0],Kt=G[1],ar,nr;for(nt=0;nt<zt;++nt)(nr=ot[nt]).index=nt,nr.weight=0;for(nt=0;nt<Jt;++nt)nr=ht[nt],typeof nr.source=="number"&&(nr.source=ot[nr.source]),typeof nr.target=="number"&&(nr.target=ot[nr.target]),++nr.source.weight,++nr.target.weight;for(nt=0;nt<zt;++nt)nr=ot[nt],isNaN(nr.x)&&(nr.x=ur("x",$t)),isNaN(nr.y)&&(nr.y=ur("y",Kt)),isNaN(nr.px)&&(nr.px=nr.x),isNaN(nr.py)&&(nr.py=nr.y);if(We=[],typeof le=="function")for(nt=0;nt<Jt;++nt)We[nt]=+le.call(this,ht[nt],nt);else for(nt=0;nt<Jt;++nt)We[nt]=le;if($e=[],typeof ye=="function")for(nt=0;nt<Jt;++nt)$e[nt]=+ye.call(this,ht[nt],nt);else for(nt=0;nt<Jt;++nt)$e[nt]=ye;if(tt=[],typeof Le=="function")for(nt=0;nt<zt;++nt)tt[nt]=+Le.call(this,ot[nt],nt);else for(nt=0;nt<zt;++nt)tt[nt]=Le;function ur(or,sr){if(!ar){for(ar=new Array(zt),yr=0;yr<zt;++yr)ar[yr]=[];for(yr=0;yr<Jt;++yr){var dr=ht[yr];ar[dr.source.index].push(dr.target),ar[dr.target.index].push(dr.source)}}for(var Tr=ar[nt],yr=-1,Zt=Tr.length,fr;++yr<Zt;)if(!isNaN(fr=Tr[yr][or]))return fr;return Math.random()*sr}return r.resume()},r.resume=function(){return r.alpha(.1)},r.stop=function(){return r.alpha(0)},r.drag=function(){if(J||(J=i.behavior.drag().origin(ie).on("dragstart.force",bo).on("drag.force",gt).on("dragend.force",xo)),!arguments.length)return J;this.on("mouseover.force",_o).on("mouseout.force",wo).call(J)};function gt(nt){nt.px=i.event.x,nt.py=i.event.y,r.resume()}return i.rebind(r,_,"on")};function bo(r){r.fixed|=2}function xo(r){r.fixed&=-7}function _o(r){r.fixed|=4,r.px=r.x,r.py=r.y}function wo(r){r.fixed&=-5}function Xn(r,_,D){var G=0,J=0;if(r.charge=0,!r.leaf)for(var j=r.nodes,ce=j.length,le=-1,ye;++le<ce;)ye=j[le],ye!=null&&(Xn(ye,_,D),r.charge+=ye.charge,G+=ye.charge*ye.cx,J+=ye.charge*ye.cy);if(r.point){r.leaf||(r.point.x+=Math.random()-.5,r.point.y+=Math.random()-.5);var Le=_*D[r.point.index];r.charge+=r.pointCharge=Le,G+=Le*r.point.x,J+=Le*r.point.y}r.cx=G/r.charge,r.cy=J/r.charge}var To=20,Mo=1,Ao=1/0;i.layout.hierarchy=function(){var r=So,_=ko,D=Lo;function G(J){var j=[J],ce=[],le;for(J.depth=0;(le=j.pop())!=null;)if(ce.push(le),(Le=_.call(G,le,le.depth))&&(ye=Le.length)){for(var ye,Le,Se;--ye>=0;)j.push(Se=Le[ye]),Se.parent=le,Se.depth=le.depth+1;D&&(le.value=0),le.children=Le}else D&&(le.value=+D.call(G,le,le.depth)||0),delete le.children;return na(J,function(Oe){var Ye,ot;r&&(Ye=Oe.children)&&Ye.sort(r),D&&(ot=Oe.parent)&&(ot.value+=Oe.value)}),ce}return G.sort=function(J){return arguments.length?(r=J,G):r},G.children=function(J){return arguments.length?(_=J,G):_},G.value=function(J){return arguments.length?(D=J,G):D},G.revalue=function(J){return D&&(Da(J,function(j){j.children&&(j.value=0)}),na(J,function(j){var ce;j.children||(j.value=+D.call(G,j,j.depth)||0),(ce=j.parent)&&(ce.value+=j.value)})),J},G};function Ca(r,_){return i.rebind(r,_,"sort","children","value"),r.nodes=r,r.links=Co,r}function Da(r,_){for(var D=[r];(r=D.pop())!=null;)if(_(r),(J=r.children)&&(G=J.length))for(var G,J;--G>=0;)D.push(J[G])}function na(r,_){for(var D=[r],G=[];(r=D.pop())!=null;)if(G.push(r),(ce=r.children)&&(j=ce.length))for(var J=-1,j,ce;++J<j;)D.push(ce[J]);for(;(r=G.pop())!=null;)_(r)}function ko(r){return r.children}function Lo(r){return r.value}function So(r,_){return _.value-r.value}function Co(r){return i.merge(r.map(function(_){return(_.children||[]).map(function(D){return{source:_,target:D}})}))}i.layout.partition=function(){var r=i.layout.hierarchy(),_=[1,1];function D(j,ce,le,ye){var Le=j.children;if(j.x=ce,j.y=j.depth*ye,j.dx=le,j.dy=ye,Le&&(Oe=Le.length)){var Se=-1,Oe,Ye,ot;for(le=j.value?le/j.value:0;++Se<Oe;)D(Ye=Le[Se],ce,ot=Ye.value*le,ye),ce+=ot}}function G(j){var ce=j.children,le=0;if(ce&&(Le=ce.length))for(var ye=-1,Le;++ye<Le;)le=Math.max(le,G(ce[ye]));return 1+le}function J(j,ce){var le=r.call(this,j,ce);return D(le[0],0,_[0],_[1]/G(le[0])),le}return J.size=function(j){return arguments.length?(_=j,J):_},Ca(J,r)},i.layout.pie=function(){var r=Number,_=Jn,D=0,G=xe,J=0;function j(ce){var le=ce.length,ye=ce.map(function(dt,gt){return+r.call(j,dt,gt)}),Le=+(typeof D=="function"?D.apply(this,arguments):D),Se=(typeof G=="function"?G.apply(this,arguments):G)-Le,Oe=Math.min(Math.abs(Se)/le,+(typeof J=="function"?J.apply(this,arguments):J)),Ye=Oe*(Se<0?-1:1),ot=i.sum(ye),ht=ot?(Se-le*Ye)/ot:0,We=i.range(le),$e=[],tt;return _!=null&&We.sort(_===Jn?function(dt,gt){return ye[gt]-ye[dt]}:function(dt,gt){return _(ce[dt],ce[gt])}),We.forEach(function(dt){$e[dt]={data:ce[dt],value:tt=ye[dt],startAngle:Le,endAngle:Le+=tt*ht+Ye,padAngle:Oe}}),$e}return j.value=function(ce){return arguments.length?(r=ce,j):r},j.sort=function(ce){return arguments.length?(_=ce,j):_},j.startAngle=function(ce){return arguments.length?(D=ce,j):D},j.endAngle=function(ce){return arguments.length?(G=ce,j):G},j.padAngle=function(ce){return arguments.length?(J=ce,j):J},j};var Jn={};i.layout.stack=function(){var r=ie,_=cn,D=vn,G=Po,J=Do,j=Ro;function ce(le,ye){if(!(ht=le.length))return le;var Le=le.map(function(dt,gt){return r.call(ce,dt,gt)}),Se=Le.map(function(dt){return dt.map(function(gt,nt){return[J.call(ce,gt,nt),j.call(ce,gt,nt)]})}),Oe=_.call(ce,Se,ye);Le=i.permute(Le,Oe),Se=i.permute(Se,Oe);var Ye=D.call(ce,Se,ye),ot=Le[0].length,ht,We,$e,tt;for($e=0;$e<ot;++$e)for(G.call(ce,Le[0][$e],tt=Ye[$e],Se[0][$e][1]),We=1;We<ht;++We)G.call(ce,Le[We][$e],tt+=Se[We-1][$e][1],Se[We][$e][1]);return le}return ce.values=function(le){return arguments.length?(r=le,ce):r},ce.order=function(le){return arguments.length?(_=typeof le=="function"?le:Eo.get(le)||cn,ce):_},ce.offset=function(le){return arguments.length?(D=typeof le=="function"?le:No.get(le)||vn,ce):D},ce.x=function(le){return arguments.length?(J=le,ce):J},ce.y=function(le){return arguments.length?(j=le,ce):j},ce.out=function(le){return arguments.length?(G=le,ce):G},ce};function Do(r){return r.x}function Ro(r){return r.y}function Po(r,_,D){r.y0=_,r.y=D}var Eo=i.map({"inside-out":function(r){var _=r.length,D,G,J=r.map(zo),j=r.map(Fo),ce=i.range(_).sort(function(Oe,Ye){return J[Oe]-J[Ye]}),le=0,ye=0,Le=[],Se=[];for(D=0;D<_;++D)G=ce[D],le<ye?(le+=j[G],Le.push(G)):(ye+=j[G],Se.push(G));return Se.reverse().concat(Le)},reverse:function(r){return i.range(r.length).reverse()},default:cn}),No=i.map({silhouette:function(r){var _=r.length,D=r[0].length,G=[],J=0,j,ce,le,ye=[];for(ce=0;ce<D;++ce){for(j=0,le=0;j<_;j++)le+=r[j][ce][1];le>J&&(J=le),G.push(le)}for(ce=0;ce<D;++ce)ye[ce]=(J-G[ce])/2;return ye},wiggle:function(r){var _=r.length,D=r[0],G=D.length,J,j,ce,le,ye,Le,Se,Oe,Ye,ot=[];for(ot[0]=Oe=Ye=0,j=1;j<G;++j){for(J=0,le=0;J<_;++J)le+=r[J][j][1];for(J=0,ye=0,Se=D[j][0]-D[j-1][0];J<_;++J){for(ce=0,Le=(r[J][j][1]-r[J][j-1][1])/(2*Se);ce<J;++ce)Le+=(r[ce][j][1]-r[ce][j-1][1])/Se;ye+=Le*r[J][j][1]}ot[j]=Oe-=le?ye/le*Se:0,Oe<Ye&&(Ye=Oe)}for(j=0;j<G;++j)ot[j]-=Ye;return ot},expand:function(r){var _=r.length,D=r[0].length,G=1/_,J,j,ce,le=[];for(j=0;j<D;++j){for(J=0,ce=0;J<_;J++)ce+=r[J][j][1];if(ce)for(J=0;J<_;J++)r[J][j][1]/=ce;else for(J=0;J<_;J++)r[J][j][1]=G}for(j=0;j<D;++j)le[j]=0;return le},zero:vn});function cn(r){return i.range(r.length)}function vn(r){for(var _=-1,D=r[0].length,G=[];++_<D;)G[_]=0;return G}function zo(r){for(var _=1,D=0,G=r[0][1],J,j=r.length;_<j;++_)(J=r[_][1])>G&&(D=_,G=J);return D}function Fo(r){return r.reduce(Io,0)}function Io(r,_){return r+_[1]}i.layout.histogram=function(){var r=!0,_=Number,D=Oo,G=Ho;function J(j,Ye){for(var le=[],ye=j.map(_,this),Le=D.call(this,ye,Ye),Se=G.call(this,Le,ye,Ye),Oe,Ye=-1,ot=ye.length,ht=Se.length-1,We=r?1:1/ot,$e;++Ye<ht;)Oe=le[Ye]=[],Oe.dx=Se[Ye+1]-(Oe.x=Se[Ye]),Oe.y=0;if(ht>0)for(Ye=-1;++Ye<ot;)$e=ye[Ye],$e>=Le[0]&&$e<=Le[1]&&(Oe=le[i.bisect(Se,$e,1,ht)-1],Oe.y+=We,Oe.push(j[Ye]));return le}return J.value=function(j){return arguments.length?(_=j,J):_},J.range=function(j){return arguments.length?(D=Pt(j),J):D},J.bins=function(j){return arguments.length?(G=typeof j=="number"?function(ce){return Qn(ce,j)}:Pt(j),J):G},J.frequency=function(j){return arguments.length?(r=!!j,J):r},J};function Ho(r,_){return Qn(r,Math.ceil(Math.log(_.length)/Math.LN2+1))}function Qn(r,_){for(var D=-1,G=+r[0],J=(r[1]-G)/_,j=[];++D<=_;)j[D]=J*D+G;return j}function Oo(r){return[i.min(r),i.max(r)]}i.layout.pack=function(){var r=i.layout.hierarchy().sort(Bo),_=0,D=[1,1],G;function J(j,ce){var le=r.call(this,j,ce),ye=le[0],Le=D[0],Se=D[1],Oe=G==null?Math.sqrt:typeof G=="function"?G:function(){return G};if(ye.x=ye.y=0,na(ye,function(ot){ot.r=+Oe(ot.value)}),na(ye,$n),_){var Ye=_*(G?1:Math.max(2*ye.r/Le,2*ye.r/Se))/2;na(ye,function(ot){ot.r+=Ye}),na(ye,$n),na(ye,function(ot){ot.r-=Ye})}return qn(ye,Le/2,Se/2,G?1:1/Math.max(2*ye.r/Le,2*ye.r/Se)),le}return J.size=function(j){return arguments.length?(D=j,J):D},J.radius=function(j){return arguments.length?(G=j==null||typeof j=="function"?j:+j,J):G},J.padding=function(j){return arguments.length?(_=+j,J):_},Ca(J,r)};function Bo(r,_){return r.value-_.value}function hn(r,_){var D=r._pack_next;r._pack_next=_,_._pack_prev=r,_._pack_next=D,D._pack_prev=_}function Kn(r,_){r._pack_next=_,_._pack_prev=r}function jn(r,_){var D=_.x-r.x,G=_.y-r.y,J=r.r+_.r;return .999*J*J>D*D+G*G}function $n(r){if(!(_=r.children)||!(Ye=_.length))return;var _,D=1/0,G=-1/0,J=1/0,j=-1/0,ce,le,ye,Le,Se,Oe,Ye;function ot(nt){D=Math.min(nt.x-nt.r,D),G=Math.max(nt.x+nt.r,G),J=Math.min(nt.y-nt.r,J),j=Math.max(nt.y+nt.r,j)}if(_.forEach(Yo),ce=_[0],ce.x=-ce.r,ce.y=0,ot(ce),Ye>1&&(le=_[1],le.x=le.r,le.y=0,ot(le),Ye>2))for(ye=_[2],ei(ce,le,ye),ot(ye),hn(ce,ye),ce._pack_prev=ye,hn(ye,le),le=ce._pack_next,Le=3;Le<Ye;Le++){ei(ce,le,ye=_[Le]);var ht=0,We=1,$e=1;for(Se=le._pack_next;Se!==le;Se=Se._pack_next,We++)if(jn(Se,ye)){ht=1;break}if(ht==1)for(Oe=ce._pack_prev;Oe!==Se._pack_prev&&!jn(Oe,ye);Oe=Oe._pack_prev,$e++);ht?(We<$e||We==$e&&le.r<ce.r?Kn(ce,le=Se):Kn(ce=Oe,le),Le--):(hn(ce,ye),le=ye,ot(ye))}var tt=(D+G)/2,dt=(J+j)/2,gt=0;for(Le=0;Le<Ye;Le++)ye=_[Le],ye.x-=tt,ye.y-=dt,gt=Math.max(gt,ye.r+Math.sqrt(ye.x*ye.x+ye.y*ye.y));r.r=gt,_.forEach(Uo)}function Yo(r){r._pack_next=r._pack_prev=r}function Uo(r){delete r._pack_next,delete r._pack_prev}function qn(r,_,D,G){var J=r.children;if(r.x=_+=G*r.x,r.y=D+=G*r.y,r.r*=G,J)for(var j=-1,ce=J.length;++j<ce;)qn(J[j],_,D,G)}function ei(r,_,D){var G=r.r+D.r,J=_.x-r.x,j=_.y-r.y;if(G&&(J||j)){var ce=_.r+D.r,le=J*J+j*j;ce*=ce,G*=G;var ye=.5+(G-ce)/(2*le),Le=Math.sqrt(Math.max(0,2*ce*(G+le)-(G-=le)*G-ce*ce))/(2*le);D.x=r.x+ye*J+Le*j,D.y=r.y+ye*j-Le*J}else D.x=r.x+G,D.y=r.y}i.layout.tree=function(){var r=i.layout.hierarchy().sort(null).value(null),_=ti,D=[1,1],G=null;function J(Se,Oe){var Ye=r.call(this,Se,Oe),ot=Ye[0],ht=j(ot);if(na(ht,ce),ht.parent.m=-ht.z,Da(ht,le),G)Da(ot,Le);else{var We=ot,$e=ot,tt=ot;Da(ot,function(zt){zt.x<We.x&&(We=zt),zt.x>$e.x&&($e=zt),zt.depth>tt.depth&&(tt=zt)});var dt=_(We,$e)/2-We.x,gt=D[0]/($e.x+_($e,We)/2+dt),nt=D[1]/(tt.depth||1);Da(ot,function(zt){zt.x=(zt.x+dt)*gt,zt.y=zt.depth*nt})}return Ye}function j(Se){for(var Oe={A:null,children:[Se]},Ye=[Oe],ot;(ot=Ye.pop())!=null;)for(var ht=ot.children,We,$e=0,tt=ht.length;$e<tt;++$e)Ye.push((ht[$e]=We={_:ht[$e],parent:ot,children:(We=ht[$e].children)&&We.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:$e}).a=We);return Oe.children[0]}function ce(Se){var Oe=Se.children,Ye=Se.parent.children,ot=Se.i?Ye[Se.i-1]:null;if(Oe.length){Vo(Se);var ht=(Oe[0].z+Oe[Oe.length-1].z)/2;ot?(Se.z=ot.z+_(Se._,ot._),Se.m=Se.z-ht):Se.z=ht}else ot&&(Se.z=ot.z+_(Se._,ot._));Se.parent.A=ye(Se,ot,Se.parent.A||Ye[0])}function le(Se){Se._.x=Se.z+Se.parent.m,Se.m+=Se.parent.m}function ye(Se,Oe,Ye){if(Oe){for(var ot=Se,ht=Se,We=Oe,$e=ot.parent.children[0],tt=ot.m,dt=ht.m,gt=We.m,nt=$e.m,zt;We=pn(We),ot=dn(ot),We&&ot;)$e=dn($e),ht=pn(ht),ht.a=Se,zt=We.z+gt-ot.z-tt+_(We._,ot._),zt>0&&(Go(Wo(We,Se,Ye),Se,zt),tt+=zt,dt+=zt),gt+=We.m,tt+=ot.m,nt+=$e.m,dt+=ht.m;We&&!pn(ht)&&(ht.t=We,ht.m+=gt-dt),ot&&!dn($e)&&($e.t=ot,$e.m+=tt-nt,Ye=Se)}return Ye}function Le(Se){Se.x*=D[0],Se.y=Se.depth*D[1]}return J.separation=function(Se){return arguments.length?(_=Se,J):_},J.size=function(Se){return arguments.length?(G=(D=Se)==null?Le:null,J):G?null:D},J.nodeSize=function(Se){return arguments.length?(G=(D=Se)==null?null:Le,J):G?D:null},Ca(J,r)};function ti(r,_){return r.parent==_.parent?1:2}function dn(r){var _=r.children;return _.length?_[0]:r.t}function pn(r){var _=r.children,D;return(D=_.length)?_[D-1]:r.t}function Go(r,_,D){var G=D/(_.i-r.i);_.c-=G,_.s+=D,r.c+=G,_.z+=D,_.m+=D}function Vo(r){for(var _=0,D=0,G=r.children,J=G.length,j;--J>=0;)j=G[J],j.z+=_,j.m+=_,_+=j.s+(D+=j.c)}function Wo(r,_,D){return r.a.parent===_.parent?r.a:D}i.layout.cluster=function(){var r=i.layout.hierarchy().sort(null).value(null),_=ti,D=[1,1],G=!1;function J(j,ce){var le=r.call(this,j,ce),ye=le[0],Le,Se=0;na(ye,function(We){var $e=We.children;$e&&$e.length?(We.x=Xo($e),We.y=Zo($e)):(We.x=Le?Se+=_(We,Le):0,We.y=0,Le=We)});var Oe=ri(ye),Ye=ai(ye),ot=Oe.x-_(Oe,Ye)/2,ht=Ye.x+_(Ye,Oe)/2;return na(ye,G?function(We){We.x=(We.x-ye.x)*D[0],We.y=(ye.y-We.y)*D[1]}:function(We){We.x=(We.x-ot)/(ht-ot)*D[0],We.y=(1-(ye.y?We.y/ye.y:1))*D[1]}),le}return J.separation=function(j){return arguments.length?(_=j,J):_},J.size=function(j){return arguments.length?(G=(D=j)==null,J):G?null:D},J.nodeSize=function(j){return arguments.length?(G=(D=j)!=null,J):G?D:null},Ca(J,r)};function Zo(r){return 1+i.max(r,function(_){return _.y})}function Xo(r){return r.reduce(function(_,D){return _+D.x},0)/r.length}function ri(r){var _=r.children;return _&&_.length?ri(_[0]):r}function ai(r){var _=r.children,D;return _&&(D=_.length)?ai(_[D-1]):r}i.layout.treemap=function(){var r=i.layout.hierarchy(),_=Math.round,D=[1,1],G=null,J=mn,j=!1,ce,le="squarify",ye=.5*(1+Math.sqrt(5));function Le(We,$e){for(var tt=-1,dt=We.length,gt,nt;++tt<dt;)nt=(gt=We[tt]).value*($e<0?0:$e),gt.area=isNaN(nt)||nt<=0?0:nt}function Se(We){var $e=We.children;if($e&&$e.length){var tt=J(We),dt=[],gt=$e.slice(),nt,zt=1/0,Jt,$t=le==="slice"?tt.dx:le==="dice"?tt.dy:le==="slice-dice"?We.depth&1?tt.dy:tt.dx:Math.min(tt.dx,tt.dy),Kt;for(Le(gt,tt.dx*tt.dy/We.value),dt.area=0;(Kt=gt.length)>0;)dt.push(nt=gt[Kt-1]),dt.area+=nt.area,le!=="squarify"||(Jt=Ye(dt,$t))<=zt?(gt.pop(),zt=Jt):(dt.area-=dt.pop().area,ot(dt,$t,tt,!1),$t=Math.min(tt.dx,tt.dy),dt.length=dt.area=0,zt=1/0);dt.length&&(ot(dt,$t,tt,!0),dt.length=dt.area=0),$e.forEach(Se)}}function Oe(We){var $e=We.children;if($e&&$e.length){var tt=J(We),dt=$e.slice(),gt,nt=[];for(Le(dt,tt.dx*tt.dy/We.value),nt.area=0;gt=dt.pop();)nt.push(gt),nt.area+=gt.area,gt.z!=null&&(ot(nt,gt.z?tt.dx:tt.dy,tt,!dt.length),nt.length=nt.area=0);$e.forEach(Oe)}}function Ye(We,$e){for(var tt=We.area,dt,gt=0,nt=1/0,zt=-1,Jt=We.length;++zt<Jt;)!(dt=We[zt].area)||(dt<nt&&(nt=dt),dt>gt&&(gt=dt));return tt*=tt,$e*=$e,tt?Math.max($e*gt*ye/tt,tt/($e*nt*ye)):1/0}function ot(We,$e,tt,dt){var gt=-1,nt=We.length,zt=tt.x,Jt=tt.y,$t=$e?_(We.area/$e):0,Kt;if($e==tt.dx){for((dt||$t>tt.dy)&&($t=tt.dy);++gt<nt;)Kt=We[gt],Kt.x=zt,Kt.y=Jt,Kt.dy=$t,zt+=Kt.dx=Math.min(tt.x+tt.dx-zt,$t?_(Kt.area/$t):0);Kt.z=!0,Kt.dx+=tt.x+tt.dx-zt,tt.y+=$t,tt.dy-=$t}else{for((dt||$t>tt.dx)&&($t=tt.dx);++gt<nt;)Kt=We[gt],Kt.x=zt,Kt.y=Jt,Kt.dx=$t,Jt+=Kt.dy=Math.min(tt.y+tt.dy-Jt,$t?_(Kt.area/$t):0);Kt.z=!1,Kt.dy+=tt.y+tt.dy-Jt,tt.x+=$t,tt.dx-=$t}}function ht(We){var $e=ce||r(We),tt=$e[0];return tt.x=tt.y=0,tt.value?(tt.dx=D[0],tt.dy=D[1]):tt.dx=tt.dy=0,ce&&r.revalue(tt),Le([tt],tt.dx*tt.dy/tt.value),(ce?Oe:Se)(tt),j&&(ce=$e),$e}return ht.size=function(We){return arguments.length?(D=We,ht):D},ht.padding=function(We){if(!arguments.length)return G;function $e(gt){var nt=We.call(ht,gt,gt.depth);return nt==null?mn(gt):ni(gt,typeof nt=="number"?[nt,nt,nt,nt]:nt)}function tt(gt){return ni(gt,We)}var dt;return J=(G=We)==null?mn:(dt=typeof We)=="function"?$e:(dt==="number"&&(We=[We,We,We,We]),tt),ht},ht.round=function(We){return arguments.length?(_=We?Math.round:Number,ht):_!=Number},ht.sticky=function(We){return arguments.length?(j=We,ce=null,ht):j},ht.ratio=function(We){return arguments.length?(ye=We,ht):ye},ht.mode=function(We){return arguments.length?(le=We+"",ht):le},Ca(ht,r)};function mn(r){return{x:r.x,y:r.y,dx:r.dx,dy:r.dy}}function ni(r,_){var D=r.x+_[3],G=r.y+_[0],J=r.dx-_[1]-_[3],j=r.dy-_[0]-_[2];return J<0&&(D+=J/2,J=0),j<0&&(G+=j/2,j=0),{x:D,y:G,dx:J,dy:j}}i.random={normal:function(r,_){var D=arguments.length;return D<2&&(_=1),D<1&&(r=0),function(){var G,J,j;do G=Math.random()*2-1,J=Math.random()*2-1,j=G*G+J*J;while(!j||j>1);return r+_*G*Math.sqrt(-2*Math.log(j)/j)}},logNormal:function(){var r=i.random.normal.apply(i,arguments);return function(){return Math.exp(r())}},bates:function(r){var _=i.random.irwinHall(r);return function(){return _()/r}},irwinHall:function(r){return function(){for(var _=0,D=0;D<r;D++)_+=Math.random();return _}}},i.scale={};function Ua(r){var _=r[0],D=r[r.length-1];return _<D?[_,D]:[D,_]}function Ga(r){return r.rangeExtent?r.rangeExtent():Ua(r.range())}function Jo(r,_,D,G){var J=D(r[0],r[1]),j=G(_[0],_[1]);return function(ce){return j(J(ce))}}function yn(r,_){var D=0,G=r.length-1,J=r[D],j=r[G],ce;return j<J&&(ce=D,D=G,G=ce,ce=J,J=j,j=ce),r[D]=_.floor(J),r[G]=_.ceil(j),r}function ii(r){return r?{floor:function(_){return Math.floor(_/r)*r},ceil:function(_){return Math.ceil(_/r)*r}}:Qo}var Qo={floor:ie,ceil:ie};function Ko(r,_,D,G){var J=[],j=[],ce=0,le=Math.min(r.length,_.length)-1;for(r[le]<r[0]&&(r=r.slice().reverse(),_=_.slice().reverse());++ce<=le;)J.push(D(r[ce-1],r[ce])),j.push(G(_[ce-1],_[ce]));return function(ye){var Le=i.bisect(r,ye,1,le)-1;return j[Le](J[Le](ye))}}i.scale.linear=function(){return oi([0,1],[0,1],da,!1)};function oi(r,_,D,G){var J,j;function ce(){var ye=Math.min(r.length,_.length)>2?Ko:Jo,Le=G?mo:po;return J=ye(r,_,Le,D),j=ye(_,r,Le,da),le}function le(ye){return J(ye)}return le.invert=function(ye){return j(ye)},le.domain=function(ye){return arguments.length?(r=ye.map(Number),ce()):r},le.range=function(ye){return arguments.length?(_=ye,ce()):_},le.rangeRound=function(ye){return le.range(ye).interpolate(Yn)},le.clamp=function(ye){return arguments.length?(G=ye,ce()):G},le.interpolate=function(ye){return arguments.length?(D=ye,ce()):D},le.ticks=function(ye){return bn(r,ye)},le.tickFormat=function(ye,Le){return d3_scale_linearTickFormat(r,ye,Le)},le.nice=function(ye){return si(r,ye),ce()},le.copy=function(){return oi(r,_,D,G)},ce()}function li(r,_){return i.rebind(r,_,"range","rangeRound","interpolate","clamp")}function si(r,_){return yn(r,ii(gn(r,_)[2])),yn(r,ii(gn(r,_)[2])),r}function gn(r,_){_==null&&(_=10);var D=Ua(r),G=D[1]-D[0],J=Math.pow(10,Math.floor(Math.log(G/_)/Math.LN10)),j=_/G*J;return j<=.15?J*=10:j<=.35?J*=5:j<=.75&&(J*=2),D[0]=Math.ceil(D[0]/J)*J,D[1]=Math.floor(D[1]/J)*J+J*.5,D[2]=J,D}function bn(r,_){return i.range.apply(i,gn(r,_))}i.scale.log=function(){return ui(i.scale.linear().domain([0,1]),10,!0,[1,10])};function ui(r,_,D,G){function J(le){return(D?Math.log(le<0?0:le):-Math.log(le>0?0:-le))/Math.log(_)}function j(le){return D?Math.pow(_,le):-Math.pow(_,-le)}function ce(le){return r(J(le))}return ce.invert=function(le){return j(r.invert(le))},ce.domain=function(le){return arguments.length?(D=le[0]>=0,r.domain((G=le.map(Number)).map(J)),ce):G},ce.base=function(le){return arguments.length?(_=+le,r.domain(G.map(J)),ce):_},ce.nice=function(){var le=yn(G.map(J),D?Math:jo);return r.domain(le),G=le.map(j),ce},ce.ticks=function(){var le=Ua(G),ye=[],Le=le[0],Se=le[1],Oe=Math.floor(J(Le)),Ye=Math.ceil(J(Se)),ot=_%1?2:_;if(isFinite(Ye-Oe)){if(D){for(;Oe<Ye;Oe++)for(var ht=1;ht<ot;ht++)ye.push(j(Oe)*ht);ye.push(j(Oe))}else for(ye.push(j(Oe));Oe++<Ye;)for(var ht=ot-1;ht>0;ht--)ye.push(j(Oe)*ht);for(Oe=0;ye[Oe]<Le;Oe++);for(Ye=ye.length;ye[Ye-1]>Se;Ye--);ye=ye.slice(Oe,Ye)}return ye},ce.copy=function(){return ui(r.copy(),_,D,G)},li(ce,r)}var jo={floor:function(r){return-Math.ceil(-r)},ceil:function(r){return-Math.floor(-r)}};i.scale.pow=function(){return fi(i.scale.linear(),1,[0,1])};function fi(r,_,D){var G=Va(_),J=Va(1/_);function j(ce){return r(G(ce))}return j.invert=function(ce){return J(r.invert(ce))},j.domain=function(ce){return arguments.length?(r.domain((D=ce.map(Number)).map(G)),j):D},j.ticks=function(ce){return bn(D,ce)},j.tickFormat=function(ce,le){return d3_scale_linearTickFormat(D,ce,le)},j.nice=function(ce){return j.domain(si(D,ce))},j.exponent=function(ce){return arguments.length?(G=Va(_=ce),J=Va(1/_),r.domain(D.map(G)),j):_},j.copy=function(){return fi(r.copy(),_,D)},li(j,r)}function Va(r){return function(_){return _<0?-Math.pow(-_,r):Math.pow(_,r)}}i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return ci([],{t:"range",a:[[]]})};function ci(r,_){var D,G,J;function j(le){return G[((D.get(le)||(_.t==="range"?D.set(le,r.push(le)):NaN))-1)%G.length]}function ce(le,ye){return i.range(r.length).map(function(Le){return le+ye*Le})}return j.domain=function(le){if(!arguments.length)return r;r=[],D=new T;for(var ye=-1,Le=le.length,Se;++ye<Le;)D.has(Se=le[ye])||D.set(Se,r.push(Se));return j[_.t].apply(j,_.a)},j.range=function(le){return arguments.length?(G=le,J=0,_={t:"range",a:arguments},j):G},j.rangePoints=function(le,ye){arguments.length<2&&(ye=0);var Le=le[0],Se=le[1],Oe=r.length<2?(Le=(Le+Se)/2,0):(Se-Le)/(r.length-1+ye);return G=ce(Le+Oe*ye/2,Oe),J=0,_={t:"rangePoints",a:arguments},j},j.rangeRoundPoints=function(le,ye){arguments.length<2&&(ye=0);var Le=le[0],Se=le[1],Oe=r.length<2?(Le=Se=Math.round((Le+Se)/2),0):(Se-Le)/(r.length-1+ye)|0;return G=ce(Le+Math.round(Oe*ye/2+(Se-Le-(r.length-1+ye)*Oe)/2),Oe),J=0,_={t:"rangeRoundPoints",a:arguments},j},j.rangeBands=function(le,ye,Le){arguments.length<2&&(ye=0),arguments.length<3&&(Le=ye);var Se=le[1]<le[0],Oe=le[Se-0],Ye=le[1-Se],ot=(Ye-Oe)/(r.length-ye+2*Le);return G=ce(Oe+ot*Le,ot),Se&&G.reverse(),J=ot*(1-ye),_={t:"rangeBands",a:arguments},j},j.rangeRoundBands=function(le,ye,Le){arguments.length<2&&(ye=0),arguments.length<3&&(Le=ye);var Se=le[1]<le[0],Oe=le[Se-0],Ye=le[1-Se],ot=Math.floor((Ye-Oe)/(r.length-ye+2*Le));return G=ce(Oe+Math.round((Ye-Oe-(r.length-ye)*ot)/2),ot),Se&&G.reverse(),J=Math.round(ot*(1-ye)),_={t:"rangeRoundBands",a:arguments},j},j.rangeBand=function(){return J},j.rangeExtent=function(){return Ua(_.a[0])},j.copy=function(){return ci(r,_)},j.domain(r)}i.scale.category10=function(){return i.scale.ordinal().range($o)},i.scale.category20=function(){return i.scale.ordinal().range(qo)},i.scale.category20b=function(){return i.scale.ordinal().range(el)},i.scale.category20c=function(){return i.scale.ordinal().range(tl)};var $o=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Mt),qo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Mt),el=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Mt),tl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Mt);i.scale.quantile=function(){return vi([],[])};function vi(r,_){var D;function G(){var j=0,ce=_.length;for(D=[];++j<ce;)D[j-1]=i.quantile(r,j/ce);return J}function J(j){if(!isNaN(j=+j))return _[i.bisect(D,j)]}return J.domain=function(j){return arguments.length?(r=j.map(g).filter(m).sort(h),G()):r},J.range=function(j){return arguments.length?(_=j,G()):_},J.quantiles=function(){return D},J.invertExtent=function(j){return j=_.indexOf(j),j<0?[NaN,NaN]:[j>0?D[j-1]:r[0],j<D.length?D[j]:r[r.length-1]]},J.copy=function(){return vi(r,_)},G()}i.scale.quantize=function(){return hi(0,1,[0,1])};function hi(r,_,D){var G,J;function j(le){return D[Math.max(0,Math.min(J,Math.floor(G*(le-r))))]}function ce(){return G=D.length/(_-r),J=D.length-1,j}return j.domain=function(le){return arguments.length?(r=+le[0],_=+le[le.length-1],ce()):[r,_]},j.range=function(le){return arguments.length?(D=le,ce()):D},j.invertExtent=function(le){return le=D.indexOf(le),le=le<0?NaN:le/G+r,[le,le+1/G]},j.copy=function(){return hi(r,_,D)},ce()}i.scale.threshold=function(){return di([.5],[0,1])};function di(r,_){function D(G){if(G<=G)return _[i.bisect(r,G)]}return D.domain=function(G){return arguments.length?(r=G,D):r},D.range=function(G){return arguments.length?(_=G,D):_},D.invertExtent=function(G){return G=_.indexOf(G),[r[G-1],r[G]]},D.copy=function(){return di(r,_)},D}i.scale.identity=function(){return pi([0,1])};function pi(r){function _(D){return+D}return _.invert=_,_.domain=_.range=function(D){return arguments.length?(r=D.map(_),_):r},_.ticks=function(D){return bn(r,D)},_.tickFormat=function(D,G){return d3_scale_linearTickFormat(r,D,G)},_.copy=function(){return pi(r)},_}i.svg={};function rl(){return 0}i.svg.arc=function(){var r=al,_=nl,D=rl,G=Wa,J=mi,j=yi,ce=il;function le(){var Le=Math.max(0,+r.apply(this,arguments)),Se=Math.max(0,+_.apply(this,arguments)),Oe=J.apply(this,arguments)-Me,Ye=j.apply(this,arguments)-Me,ot=Math.abs(Ye-Oe),ht=Oe>Ye?0:1;if(Se<Le&&(We=Se,Se=Le,Le=We),ot>=Te)return ye(Se,ht)+(Le?ye(Le,1-ht):"")+"Z";var We,$e,tt,dt,gt=0,nt=0,zt,Jt,$t,Kt,ar,nr,ur,or,sr=[];if((dt=(+ce.apply(this,arguments)||0)/2)&&(tt=G===Wa?Math.sqrt(Le*Le+Se*Se):+G.apply(this,arguments),ht||(nt*=-1),Se&&(nt=Ke(tt/Se*Math.sin(dt))),Le&&(gt=Ke(tt/Le*Math.sin(dt)))),Se){zt=Se*Math.cos(Oe+nt),Jt=Se*Math.sin(Oe+nt),$t=Se*Math.cos(Ye-nt),Kt=Se*Math.sin(Ye-nt);var dr=Math.abs(Ye-Oe-2*nt)<=ae?0:1;if(nt&&Za(zt,Jt,$t,Kt)===ht^dr){var Tr=(Oe+Ye)/2;zt=Se*Math.cos(Tr),Jt=Se*Math.sin(Tr),$t=Kt=null}}else zt=Jt=0;if(Le){ar=Le*Math.cos(Ye-gt),nr=Le*Math.sin(Ye-gt),ur=Le*Math.cos(Oe+gt),or=Le*Math.sin(Oe+gt);var yr=Math.abs(Oe-Ye+2*gt)<=ae?0:1;if(gt&&Za(ar,nr,ur,or)===1-ht^yr){var Zt=(Oe+Ye)/2;ar=Le*Math.cos(Zt),nr=Le*Math.sin(Zt),ur=or=null}}else ar=nr=0;if(ot>Re&&(We=Math.min(Math.abs(Se-Le)/2,+D.apply(this,arguments)))>.001){$e=Le<Se^ht?0:1;var fr=We,cr=We;if(ot<ae){var pr=ur==null?[ar,nr]:$t==null?[zt,Jt]:zr([zt,Jt],[ur,or],[$t,Kt],[ar,nr]),wr=zt-pr[0],Lr=Jt-pr[1],Er=$t-pr[0],Hr=Kt-pr[1],Br=1/Math.sin(Math.acos((wr*Er+Lr*Hr)/(Math.sqrt(wr*wr+Lr*Lr)*Math.sqrt(Er*Er+Hr*Hr)))/2),Or=Math.sqrt(pr[0]*pr[0]+pr[1]*pr[1]);cr=Math.min(We,(Le-Or)/(Br-1)),fr=Math.min(We,(Se-Or)/(Br+1))}if($t!=null){var Gr=Xa(ur==null?[ar,nr]:[ur,or],[zt,Jt],Se,fr,ht),Ir=Xa([$t,Kt],[ar,nr],Se,fr,ht);We===fr?sr.push("M",Gr[0],"A",fr,",",fr," 0 0,",$e," ",Gr[1],"A",Se,",",Se," 0 ",1-ht^Za(Gr[1][0],Gr[1][1],Ir[1][0],Ir[1][1]),",",ht," ",Ir[1],"A",fr,",",fr," 0 0,",$e," ",Ir[0]):sr.push("M",Gr[0],"A",fr,",",fr," 0 1,",$e," ",Ir[0])}else sr.push("M",zt,",",Jt);if(ur!=null){var Vr=Xa([zt,Jt],[ur,or],Le,-cr,ht),ma=Xa([ar,nr],$t==null?[zt,Jt]:[$t,Kt],Le,-cr,ht);We===cr?sr.push("L",ma[0],"A",cr,",",cr," 0 0,",$e," ",ma[1],"A",Le,",",Le," 0 ",ht^Za(ma[1][0],ma[1][1],Vr[1][0],Vr[1][1]),",",1-ht," ",Vr[1],"A",cr,",",cr," 0 0,",$e," ",Vr[0]):sr.push("L",ma[0],"A",cr,",",cr," 0 0,",$e," ",Vr[0])}else sr.push("L",ar,",",nr)}else sr.push("M",zt,",",Jt),$t!=null&&sr.push("A",Se,",",Se," 0 ",dr,",",ht," ",$t,",",Kt),sr.push("L",ar,",",nr),ur!=null&&sr.push("A",Le,",",Le," 0 ",yr,",",1-ht," ",ur,",",or);return sr.push("Z"),sr.join("")}function ye(Le,Se){return"M0,"+Le+"A"+Le+","+Le+" 0 1,"+Se+" 0,"+-Le+"A"+Le+","+Le+" 0 1,"+Se+" 0,"+Le}return le.innerRadius=function(Le){return arguments.length?(r=Pt(Le),le):r},le.outerRadius=function(Le){return arguments.length?(_=Pt(Le),le):_},le.cornerRadius=function(Le){return arguments.length?(D=Pt(Le),le):D},le.padRadius=function(Le){return arguments.length?(G=Le==Wa?Wa:Pt(Le),le):G},le.startAngle=function(Le){return arguments.length?(J=Pt(Le),le):J},le.endAngle=function(Le){return arguments.length?(j=Pt(Le),le):j},le.padAngle=function(Le){return arguments.length?(ce=Pt(Le),le):ce},le.centroid=function(){var Le=(+r.apply(this,arguments)+ +_.apply(this,arguments))/2,Se=(+J.apply(this,arguments)+ +j.apply(this,arguments))/2-Me;return[Math.cos(Se)*Le,Math.sin(Se)*Le]},le};var Wa="auto";function al(r){return r.innerRadius}function nl(r){return r.outerRadius}function mi(r){return r.startAngle}function yi(r){return r.endAngle}function il(r){return r&&r.padAngle}function Za(r,_,D,G){return(r-D)*_-(_-G)*r>0?0:1}function Xa(r,_,D,G,J){var j=r[0]-_[0],ce=r[1]-_[1],le=(J?G:-G)/Math.sqrt(j*j+ce*ce),ye=le*ce,Le=-le*j,Se=r[0]+ye,Oe=r[1]+Le,Ye=_[0]+ye,ot=_[1]+Le,ht=(Se+Ye)/2,We=(Oe+ot)/2,$e=Ye-Se,tt=ot-Oe,dt=$e*$e+tt*tt,gt=D-G,nt=Se*ot-Ye*Oe,zt=(tt<0?-1:1)*Math.sqrt(Math.max(0,gt*gt*dt-nt*nt)),Jt=(nt*tt-$e*zt)/dt,$t=(-nt*$e-tt*zt)/dt,Kt=(nt*tt+$e*zt)/dt,ar=(-nt*$e+tt*zt)/dt,nr=Jt-ht,ur=$t-We,or=Kt-ht,sr=ar-We;return nr*nr+ur*ur>or*or+sr*sr&&(Jt=Kt,$t=ar),[[Jt-ye,$t-Le],[Jt*D/gt,$t*D/gt]]}function gi(){return!0}function bi(r){var _=mr,D=br,G=gi,J=ea,j=J.key,ce=.7;function le(ye){var Le=[],Se=[],Oe=-1,Ye=ye.length,ot,ht=Pt(_),We=Pt(D);function $e(){Le.push("M",J(r(Se),ce))}for(;++Oe<Ye;)G.call(this,ot=ye[Oe],Oe)?Se.push([+ht.call(this,ot,Oe),+We.call(this,ot,Oe)]):Se.length&&($e(),Se=[]);return Se.length&&$e(),Le.length?Le.join(""):null}return le.x=function(ye){return arguments.length?(_=ye,le):_},le.y=function(ye){return arguments.length?(D=ye,le):D},le.defined=function(ye){return arguments.length?(G=ye,le):G},le.interpolate=function(ye){return arguments.length?(typeof ye=="function"?j=J=ye:j=(J=xn.get(ye)||ea).key,le):j},le.tension=function(ye){return arguments.length?(ce=ye,le):ce},le}i.svg.line=function(){return bi(ie)};var xn=i.map({linear:ea,"linear-closed":xi,step:ol,"step-before":_n,"step-after":wn,basis:_i,"basis-open":fl,"basis-closed":cl,bundle:vl,cardinal:ul,"cardinal-open":ll,"cardinal-closed":sl,monotone:pl});xn.forEach(function(r,_){_.key=r,_.closed=/-closed$/.test(r)});function ea(r){return r.length>1?r.join("L"):r+"Z"}function xi(r){return r.join("L")+"Z"}function ol(r){for(var _=0,D=r.length,G=r[0],J=[G[0],",",G[1]];++_<D;)J.push("H",(G[0]+(G=r[_])[0])/2,"V",G[1]);return D>1&&J.push("H",G[0]),J.join("")}function _n(r){for(var _=0,D=r.length,G=r[0],J=[G[0],",",G[1]];++_<D;)J.push("V",(G=r[_])[1],"H",G[0]);return J.join("")}function wn(r){for(var _=0,D=r.length,G=r[0],J=[G[0],",",G[1]];++_<D;)J.push("H",(G=r[_])[0],"V",G[1]);return J.join("")}function ll(r,_){return r.length<4?ea(r):r[1]+Ja(r.slice(1,-1),Tn(r,_))}function sl(r,_){return r.length<3?xi(r):r[0]+Ja((r.push(r[0]),r),Tn([r[r.length-2]].concat(r,[r[1]]),_))}function ul(r,_){return r.length<3?ea(r):r[0]+Ja(r,Tn(r,_))}function Ja(r,_){if(_.length<1||r.length!=_.length&&r.length!=_.length+2)return ea(r);var D=r.length!=_.length,G="",J=r[0],j=r[1],ce=_[0],le=ce,ye=1;if(D&&(G+="Q"+(j[0]-ce[0]*2/3)+","+(j[1]-ce[1]*2/3)+","+j[0]+","+j[1],J=r[1],ye=2),_.length>1){le=_[1],j=r[ye],ye++,G+="C"+(J[0]+ce[0])+","+(J[1]+ce[1])+","+(j[0]-le[0])+","+(j[1]-le[1])+","+j[0]+","+j[1];for(var Le=2;Le<_.length;Le++,ye++)j=r[ye],le=_[Le],G+="S"+(j[0]-le[0])+","+(j[1]-le[1])+","+j[0]+","+j[1]}if(D){var Se=r[ye];G+="Q"+(j[0]+le[0]*2/3)+","+(j[1]+le[1]*2/3)+","+Se[0]+","+Se[1]}return G}function Tn(r,_){for(var D=[],G=(1-_)/2,J,j=r[0],ce=r[1],le=1,ye=r.length;++le<ye;)J=j,j=ce,ce=r[le],D.push([G*(ce[0]-J[0]),G*(ce[1]-J[1])]);return D}function _i(r){if(r.length<3)return ea(r);var _=1,D=r.length,G=r[0],J=G[0],j=G[1],ce=[J,J,J,(G=r[1])[0]],le=[j,j,j,G[1]],ye=[J,",",j,"L",Jr(fa,ce),",",Jr(fa,le)];for(r.push(r[D-1]);++_<=D;)G=r[_],ce.shift(),ce.push(G[0]),le.shift(),le.push(G[1]),Mn(ye,ce,le);return r.pop(),ye.push("L",G),ye.join("")}function fl(r){if(r.length<4)return ea(r);for(var _=[],D=-1,G=r.length,J,j=[0],ce=[0];++D<3;)J=r[D],j.push(J[0]),ce.push(J[1]);for(_.push(Jr(fa,j)+","+Jr(fa,ce)),--D;++D<G;)J=r[D],j.shift(),j.push(J[0]),ce.shift(),ce.push(J[1]),Mn(_,j,ce);return _.join("")}function cl(r){for(var _,D=-1,G=r.length,J=G+4,j,ce=[],le=[];++D<4;)j=r[D%G],ce.push(j[0]),le.push(j[1]);for(_=[Jr(fa,ce),",",Jr(fa,le)],--D;++D<J;)j=r[D%G],ce.shift(),ce.push(j[0]),le.shift(),le.push(j[1]),Mn(_,ce,le);return _.join("")}function vl(r,_){var D=r.length-1;if(D)for(var G=r[0][0],J=r[0][1],j=r[D][0]-G,ce=r[D][1]-J,le=-1,ye,Le;++le<=D;)ye=r[le],Le=le/D,ye[0]=_*ye[0]+(1-_)*(G+Le*j),ye[1]=_*ye[1]+(1-_)*(J+Le*ce);return _i(r)}function Jr(r,_){return r[0]*_[0]+r[1]*_[1]+r[2]*_[2]+r[3]*_[3]}var wi=[0,2/3,1/3,0],Ti=[0,1/3,2/3,0],fa=[0,1/6,2/3,1/6];function Mn(r,_,D){r.push("C",Jr(wi,_),",",Jr(wi,D),",",Jr(Ti,_),",",Jr(Ti,D),",",Jr(fa,_),",",Jr(fa,D))}function An(r,_){return(_[1]-r[1])/(_[0]-r[0])}function hl(r){for(var _=0,D=r.length-1,G=[],J=r[0],j=r[1],ce=G[0]=An(J,j);++_<D;)G[_]=(ce+(ce=An(J=j,j=r[_+1])))/2;return G[_]=ce,G}function dl(r){for(var _=[],D,G,J,j,ce=hl(r),le=-1,ye=r.length-1;++le<ye;)D=An(r[le],r[le+1]),f(D)<Re?ce[le]=ce[le+1]=0:(G=ce[le]/D,J=ce[le+1]/D,j=G*G+J*J,j>9&&(j=D*3/Math.sqrt(j),ce[le]=j*G,ce[le+1]=j*J));for(le=-1;++le<=ye;)j=(r[Math.min(ye,le+1)][0]-r[Math.max(0,le-1)][0])/(6*(1+ce[le]*ce[le])),_.push([j||0,ce[le]*j||0]);return _}function pl(r){return r.length<3?ea(r):r[0]+Ja(r,dl(r))}i.svg.line.radial=function(){var r=bi(Mi);return r.radius=r.x,delete r.x,r.angle=r.y,delete r.y,r};function Mi(r){for(var _,D=-1,G=r.length,J,j;++D<G;)_=r[D],J=_[0],j=_[1]-Me,_[0]=J*Math.cos(j),_[1]=J*Math.sin(j);return r}function Ai(r){var _=mr,D=mr,G=0,J=br,j=gi,ce=ea,le=ce.key,ye=ce,Le="L",Se=.7;function Oe(Ye){var ot=[],ht=[],We=[],$e=-1,tt=Ye.length,dt,gt=Pt(_),nt=Pt(G),zt=_===D?function(){return $t}:Pt(D),Jt=G===J?function(){return Kt}:Pt(J),$t,Kt;function ar(){ot.push("M",ce(r(We),Se),Le,ye(r(ht.reverse()),Se),"Z")}for(;++$e<tt;)j.call(this,dt=Ye[$e],$e)?(ht.push([$t=+gt.call(this,dt,$e),Kt=+nt.call(this,dt,$e)]),We.push([+zt.call(this,dt,$e),+Jt.call(this,dt,$e)])):ht.length&&(ar(),ht=[],We=[]);return ht.length&&ar(),ot.length?ot.join(""):null}return Oe.x=function(Ye){return arguments.length?(_=D=Ye,Oe):D},Oe.x0=function(Ye){return arguments.length?(_=Ye,Oe):_},Oe.x1=function(Ye){return arguments.length?(D=Ye,Oe):D},Oe.y=function(Ye){return arguments.length?(G=J=Ye,Oe):J},Oe.y0=function(Ye){return arguments.length?(G=Ye,Oe):G},Oe.y1=function(Ye){return arguments.length?(J=Ye,Oe):J},Oe.defined=function(Ye){return arguments.length?(j=Ye,Oe):j},Oe.interpolate=function(Ye){return arguments.length?(typeof Ye=="function"?le=ce=Ye:le=(ce=xn.get(Ye)||ea).key,ye=ce.reverse||ce,Le=ce.closed?"M":"L",Oe):le},Oe.tension=function(Ye){return arguments.length?(Se=Ye,Oe):Se},Oe}_n.reverse=wn,wn.reverse=_n,i.svg.area=function(){return Ai(ie)},i.svg.area.radial=function(){var r=Ai(Mi);return r.radius=r.x,delete r.x,r.innerRadius=r.x0,delete r.x0,r.outerRadius=r.x1,delete r.x1,r.angle=r.y,delete r.y,r.startAngle=r.y0,delete r.y0,r.endAngle=r.y1,delete r.y1,r};function ki(r){return r.source}function Li(r){return r.target}i.svg.chord=function(){var r=ki,_=Li,D=ml,G=mi,J=yi;function j(Se,Oe){var Ye=ce(this,r,Se,Oe),ot=ce(this,_,Se,Oe);return"M"+Ye.p0+ye(Ye.r,Ye.p1,Ye.a1-Ye.a0)+(le(Ye,ot)?Le(Ye.r,Ye.p1,Ye.r,Ye.p0):Le(Ye.r,Ye.p1,ot.r,ot.p0)+ye(ot.r,ot.p1,ot.a1-ot.a0)+Le(ot.r,ot.p1,Ye.r,Ye.p0))+"Z"}function ce(Se,Oe,Ye,ot){var ht=Oe.call(Se,Ye,ot),We=D.call(Se,ht,ot),$e=G.call(Se,ht,ot)-Me,tt=J.call(Se,ht,ot)-Me;return{r:We,a0:$e,a1:tt,p0:[We*Math.cos($e),We*Math.sin($e)],p1:[We*Math.cos(tt),We*Math.sin(tt)]}}function le(Se,Oe){return Se.a0==Oe.a0&&Se.a1==Oe.a1}function ye(Se,Oe,Ye){return"A"+Se+","+Se+" 0 "+ +(Ye>ae)+",1 "+Oe}function Le(Se,Oe,Ye,ot){return"Q 0,0 "+ot}return j.radius=function(Se){return arguments.length?(D=Pt(Se),j):D},j.source=function(Se){return arguments.length?(r=Pt(Se),j):r},j.target=function(Se){return arguments.length?(_=Pt(Se),j):_},j.startAngle=function(Se){return arguments.length?(G=Pt(Se),j):G},j.endAngle=function(Se){return arguments.length?(J=Pt(Se),j):J},j};function ml(r){return r.radius}i.svg.diagonal=function(){var r=ki,_=Li,D=Si;function G(J,j){var ce=r.call(this,J,j),le=_.call(this,J,j),ye=(ce.y+le.y)/2,Le=[ce,{x:ce.x,y:ye},{x:le.x,y:ye},le];return Le=Le.map(D),"M"+Le[0]+"C"+Le[1]+" "+Le[2]+" "+Le[3]}return G.source=function(J){return arguments.length?(r=Pt(J),G):r},G.target=function(J){return arguments.length?(_=Pt(J),G):_},G.projection=function(J){return arguments.length?(D=J,G):D},G};function Si(r){return[r.x,r.y]}i.svg.diagonal.radial=function(){var r=i.svg.diagonal(),_=Si,D=r.projection;return r.projection=function(G){return arguments.length?D(yl(_=G)):_},r};function yl(r){return function(){var _=r.apply(this,arguments),D=_[0],G=_[1]-Me;return[D*Math.cos(G),D*Math.sin(G)]}}i.svg.symbol=function(){var r=bl,_=gl;function D(G,J){return(Di.get(r.call(this,G,J))||Ci)(_.call(this,G,J))}return D.type=function(G){return arguments.length?(r=Pt(G),D):r},D.size=function(G){return arguments.length?(_=Pt(G),D):_},D};function gl(){return 64}function bl(){return"circle"}function Ci(r){var _=Math.sqrt(r/ae);return"M0,"+_+"A"+_+","+_+" 0 1,1 0,"+-_+"A"+_+","+_+" 0 1,1 0,"+_+"Z"}var Di=i.map({circle:Ci,cross:function(r){var _=Math.sqrt(r/5)/2;return"M"+-3*_+","+-_+"H"+-_+"V"+-3*_+"H"+_+"V"+-_+"H"+3*_+"V"+_+"H"+_+"V"+3*_+"H"+-_+"V"+_+"H"+-3*_+"Z"},diamond:function(r){var _=Math.sqrt(r/(2*Ri)),D=_*Ri;return"M0,"+-_+"L"+D+",0 0,"+_+" "+-D+",0Z"},square:function(r){var _=Math.sqrt(r)/2;return"M"+-_+","+-_+"L"+_+","+-_+" "+_+","+_+" "+-_+","+_+"Z"},"triangle-down":function(r){var _=Math.sqrt(r/Qa),D=_*Qa/2;return"M0,"+D+"L"+_+","+-D+" "+-_+","+-D+"Z"},"triangle-up":function(r){var _=Math.sqrt(r/Qa),D=_*Qa/2;return"M0,"+-D+"L"+_+","+D+" "+-_+","+D+"Z"}});i.svg.symbolTypes=Di.keys();var Qa=Math.sqrt(3),Ri=Math.tan(30*Je);V.transition=function(r){for(var _=pa||++Ei,D=Ln(r),G=[],J,j,ce=ja||{time:Date.now(),ease:ji,delay:0,duration:250},le=-1,ye=this.length;++le<ye;){G.push(J=[]);for(var Le=this[le],Se=-1,Oe=Le.length;++Se<Oe;)(j=Le[Se])&&$a(j,Se,D,_,ce),J.push(j)}return Ra(G,D,_)},V.interrupt=function(r){return this.each(r==null?Ka:Pi(Ln(r)))};var Ka=Pi(Ln());function Pi(r){return function(){var _,D,G;(_=this[r])&&(G=_[D=_.active])&&(G.timer.c=null,G.timer.t=NaN,--_.count?delete _[D]:delete this[r],_.active+=.5,G.event&&G.event.interrupt.call(this,this.__data__,G.index))}}function Ra(r,_,D){return C(r,kr),r.namespace=_,r.id=D,r}var kr=[],Ei=0,pa,ja;kr.call=V.call,kr.empty=V.empty,kr.node=V.node,kr.size=V.size,i.transition=function(r,_){return r&&r.transition?pa?r.transition(_):r:i.selection().transition(r)},i.transition.prototype=kr,kr.select=function(r){var _=this.id,D=this.namespace,G=[],J,j,ce;r=N(r);for(var le=-1,ye=this.length;++le<ye;){G.push(J=[]);for(var Le=this[le],Se=-1,Oe=Le.length;++Se<Oe;)(ce=Le[Se])&&(j=r.call(ce,ce.__data__,Se,le))?("__data__"in ce&&(j.__data__=ce.__data__),$a(j,Se,D,_,ce[D][_]),J.push(j)):J.push(null)}return Ra(G,D,_)},kr.selectAll=function(r){var _=this.id,D=this.namespace,G=[],J,j,ce,le,ye;r=Z(r);for(var Le=-1,Se=this.length;++Le<Se;)for(var Oe=this[Le],Ye=-1,ot=Oe.length;++Ye<ot;)if(ce=Oe[Ye]){ye=ce[D][_],j=r.call(ce,ce.__data__,Ye,Le),G.push(J=[]);for(var ht=-1,We=j.length;++ht<We;)(le=j[ht])&&$a(le,ht,D,_,ye),J.push(le)}return Ra(G,D,_)},kr.filter=function(r){var _=[],D,G,J;typeof r!="function"&&(r=fe(r));for(var j=0,ce=this.length;j<ce;j++){_.push(D=[]);for(var G=this[j],le=0,ye=G.length;le<ye;le++)(J=G[le])&&r.call(J,J.__data__,le,j)&&D.push(J)}return Ra(_,this.namespace,this.id)},kr.tween=function(r,_){var D=this.id,G=this.namespace;return arguments.length<2?this.node()[G][D].tween.get(r):Fe(this,_==null?function(J){J[G][D].tween.remove(r)}:function(J){J[G][D].tween.set(r,_)})};function kn(r,_,D,G){var J=r.id,j=r.namespace;return Fe(r,typeof D=="function"?function(ce,le,ye){ce[j][J].tween.set(_,G(D.call(ce,ce.__data__,le,ye)))}:(D=G(D),function(ce){ce[j][J].tween.set(_,D)}))}kr.attr=function(r,_){if(arguments.length<2){for(_ in r)this.attr(_,r[_]);return this}var D=r=="transform"?Wn:da,G=i.ns.qualify(r);function J(){this.removeAttribute(G)}function j(){this.removeAttributeNS(G.space,G.local)}function ce(ye){return ye==null?J:(ye+="",function(){var Le=this.getAttribute(G),Se;return Le!==ye&&(Se=D(Le,ye),function(Oe){this.setAttribute(G,Se(Oe))})})}function le(ye){return ye==null?j:(ye+="",function(){var Le=this.getAttributeNS(G.space,G.local),Se;return Le!==ye&&(Se=D(Le,ye),function(Oe){this.setAttributeNS(G.space,G.local,Se(Oe))})})}return kn(this,"attr."+r,_,G.local?le:ce)},kr.attrTween=function(r,_){var D=i.ns.qualify(r);function G(j,ce){var le=_.call(this,j,ce,this.getAttribute(D));return le&&function(ye){this.setAttribute(D,le(ye))}}function J(j,ce){var le=_.call(this,j,ce,this.getAttributeNS(D.space,D.local));return le&&function(ye){this.setAttributeNS(D.space,D.local,le(ye))}}return this.tween("attr."+r,D.local?J:G)},kr.style=function(r,_,D){var G=arguments.length;if(G<3){if(typeof r!="string"){G<2&&(_="");for(D in r)this.style(D,r[D],_);return this}D=""}function J(){this.style.removeProperty(r)}function j(ce){return ce==null?J:(ce+="",function(){var le=o(this).getComputedStyle(this,null).getPropertyValue(r),ye;return le!==ce&&(ye=da(le,ce),function(Le){this.style.setProperty(r,ye(Le),D)})})}return kn(this,"style."+r,_,j)},kr.styleTween=function(r,_,D){arguments.length<3&&(D="");function G(J,j){var ce=_.call(this,J,j,o(this).getComputedStyle(this,null).getPropertyValue(r));return ce&&function(le){this.style.setProperty(r,ce(le),D)}}return this.tween("style."+r,G)},kr.text=function(r){return kn(this,"text",r,xl)};function xl(r){return r==null&&(r=""),function(){this.textContent=r}}kr.remove=function(){var r=this.namespace;return this.each("end.transition",function(){var _;this[r].count<2&&(_=this.parentNode)&&_.removeChild(this)})},kr.ease=function(r){var _=this.id,D=this.namespace;return arguments.length<1?this.node()[D][_].ease:(typeof r!="function"&&(r=i.ease.apply(i,arguments)),Fe(this,function(G){G[D][_].ease=r}))},kr.delay=function(r){var _=this.id,D=this.namespace;return arguments.length<1?this.node()[D][_].delay:Fe(this,typeof r=="function"?function(G,J,j){G[D][_].delay=+r.call(G,G.__data__,J,j)}:(r=+r,function(G){G[D][_].delay=r}))},kr.duration=function(r){var _=this.id,D=this.namespace;return arguments.length<1?this.node()[D][_].duration:Fe(this,typeof r=="function"?function(G,J,j){G[D][_].duration=Math.max(1,r.call(G,G.__data__,J,j))}:(r=Math.max(1,r),function(G){G[D][_].duration=r}))},kr.each=function(r,_){var D=this.id,G=this.namespace;if(arguments.length<2){var J=ja,j=pa;try{pa=D,Fe(this,function(ce,le,ye){ja=ce[G][D],r.call(ce,ce.__data__,le,ye)})}finally{ja=J,pa=j}}else Fe(this,function(ce){var le=ce[G][D];(le.event||(le.event=i.dispatch("start","end","interrupt"))).on(r,_)});return this},kr.transition=function(){for(var r=this.id,_=++Ei,D=this.namespace,G=[],J,j,ce,le,ye=0,Le=this.length;ye<Le;ye++){G.push(J=[]);for(var j=this[ye],Se=0,Oe=j.length;Se<Oe;Se++)(ce=j[Se])&&(le=ce[D][r],$a(ce,Se,D,_,{time:le.time,ease:le.ease,delay:le.delay+le.duration,duration:le.duration})),J.push(ce)}return Ra(G,D,_)};function Ln(r){return r==null?"__transition__":"__transition_"+r+"__"}function $a(r,_,D,G,J){var j=r[D]||(r[D]={active:0,count:0}),ce=j[G],le,ye,Le,Se,Oe;function Ye(We){var $e=ce.delay;if(ye.t=$e+le,$e<=We)return ot(We-$e);ye.c=ot}function ot(We){var $e=j.active,tt=j[$e];tt&&(tt.timer.c=null,tt.timer.t=NaN,--j.count,delete j[$e],tt.event&&tt.event.interrupt.call(r,r.__data__,tt.index));for(var dt in j)if(+dt<G){var gt=j[dt];gt.timer.c=null,gt.timer.t=NaN,--j.count,delete j[dt]}ye.c=ht,lr(function(){return ye.c&&ht(We||1)&&(ye.c=null,ye.t=NaN),1},0,le),j.active=G,ce.event&&ce.event.start.call(r,r.__data__,_),Oe=[],ce.tween.forEach(function(nt,zt){(zt=zt.call(r,r.__data__,_))&&Oe.push(zt)}),Se=ce.ease,Le=ce.duration}function ht(We){for(var $e=We/Le,tt=Se($e),dt=Oe.length;dt>0;)Oe[--dt].call(r,tt);if($e>=1)return ce.event&&ce.event.end.call(r,r.__data__,_),--j.count?delete j[G]:delete r[D],1}ce||(le=J.time,ye=lr(Ye,0,le),ce=j[G]={tween:new T,time:le,timer:ye,delay:J.delay,duration:J.duration,ease:J.ease,index:_},J=null,++j.count)}i.svg.axis=function(){var r=i.scale.linear(),_=Ni,D=6,G=6,J=3,j=[10],ce=null,le;function ye(Le){Le.each(function(){var Se=i.select(this),Oe=this.__chart__||r,Ye=this.__chart__=r.copy(),ot=ce==null?Ye.ticks?Ye.ticks.apply(Ye,j):Ye.domain():ce,ht=le==null?Ye.tickFormat?Ye.tickFormat.apply(Ye,j):ie:le,We=Se.selectAll(".tick").data(ot,Ye),$e=We.enter().insert("g",".domain").attr("class","tick").style("opacity",Re),tt=i.transition(We.exit()).style("opacity",Re).remove(),dt=i.transition(We.order()).style("opacity",1),gt=Math.max(D,0)+J,nt,zt=Ga(Ye),Jt=Se.selectAll(".domain").data([0]),$t=(Jt.enter().append("path").attr("class","domain"),i.transition(Jt));$e.append("line"),$e.append("text");var Kt=$e.select("line"),ar=dt.select("line"),nr=We.select("text").text(ht),ur=$e.select("text"),or=dt.select("text"),sr=_==="top"||_==="left"?-1:1,dr,Tr,yr,Zt;if(_==="bottom"||_==="top"?(nt=wl,dr="x",yr="y",Tr="x2",Zt="y2",nr.attr("dy",sr<0?"0em":".71em").style("text-anchor","middle"),$t.attr("d","M"+zt[0]+","+sr*G+"V0H"+zt[1]+"V"+sr*G)):(nt=Tl,dr="y",yr="x",Tr="y2",Zt="x2",nr.attr("dy",".32em").style("text-anchor",sr<0?"end":"start"),$t.attr("d","M"+sr*G+","+zt[0]+"H0V"+zt[1]+"H"+sr*G)),Kt.attr(Zt,sr*D),ur.attr(yr,sr*gt),ar.attr(Tr,0).attr(Zt,sr*D),or.attr(dr,0).attr(yr,sr*gt),Ye.rangeBand){var fr=Ye,cr=fr.rangeBand()/2;Oe=Ye=function(pr){return fr(pr)+cr}}else Oe.rangeBand?Oe=Ye:tt.call(nt,Ye,Oe);$e.call(nt,Oe,Ye),dt.call(nt,Ye,Ye)})}return ye.scale=function(Le){return arguments.length?(r=Le,ye):r},ye.orient=function(Le){return arguments.length?(_=Le in _l?Le+"":Ni,ye):_},ye.ticks=function(){return arguments.length?(j=c(arguments),ye):j},ye.tickValues=function(Le){return arguments.length?(ce=Le,ye):ce},ye.tickFormat=function(Le){return arguments.length?(le=Le,ye):le},ye.tickSize=function(Le){var Se=arguments.length;return Se?(D=+Le,G=+arguments[Se-1],ye):D},ye.innerTickSize=function(Le){return arguments.length?(D=+Le,ye):D},ye.outerTickSize=function(Le){return arguments.length?(G=+Le,ye):G},ye.tickPadding=function(Le){return arguments.length?(J=+Le,ye):J},ye.tickSubdivide=function(){return arguments.length&&ye},ye};var Ni="bottom",_l={top:1,right:1,bottom:1,left:1};function wl(r,_,D){r.attr("transform",function(G){var J=_(G);return"translate("+(isFinite(J)?J:D(G))+",0)"})}function Tl(r,_,D){r.attr("transform",function(G){var J=_(G);return"translate(0,"+(isFinite(J)?J:D(G))+")"})}i.svg.brush=function(){var r=be(Se,"brushstart","brush","brushend"),_=null,D=null,G=[0,0],J=[0,0],j,ce,le=!0,ye=!0,Le=Sn[0];function Se(We){We.each(function(){var $e=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",ht).on("touchstart.brush",ht),tt=$e.selectAll(".background").data([0]);tt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),$e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var dt=$e.selectAll(".resize").data(Le,ie);dt.exit().remove(),dt.enter().append("g").attr("class",function(Jt){return"resize "+Jt}).style("cursor",function(Jt){return Ml[Jt]}).append("rect").attr("x",function(Jt){return/[ew]$/.test(Jt)?-3:null}).attr("y",function(Jt){return/^[ns]/.test(Jt)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),dt.style("display",Se.empty()?"none":null);var gt=i.transition($e),nt=i.transition(tt),zt;_&&(zt=Ga(_),nt.attr("x",zt[0]).attr("width",zt[1]-zt[0]),Ye(gt)),D&&(zt=Ga(D),nt.attr("y",zt[0]).attr("height",zt[1]-zt[0]),ot(gt)),Oe(gt)})}Se.event=function(We){We.each(function(){var $e=r.of(this,arguments),tt={x:G,y:J,i:j,j:ce},dt=this.__chart__||tt;this.__chart__=tt,pa?i.select(this).transition().each("start.brush",function(){j=dt.i,ce=dt.j,G=dt.x,J=dt.y,$e({type:"brushstart"})}).tween("brush:brush",function(){var gt=Ya(G,tt.x),nt=Ya(J,tt.y);return j=ce=null,function(zt){G=tt.x=gt(zt),J=tt.y=nt(zt),$e({type:"brush",mode:"resize"})}}).each("end.brush",function(){j=tt.i,ce=tt.j,$e({type:"brush",mode:"resize"}),$e({type:"brushend"})}):($e({type:"brushstart"}),$e({type:"brush",mode:"resize"}),$e({type:"brushend"}))})};function Oe(We){We.selectAll(".resize").attr("transform",function($e){return"translate("+G[+/e$/.test($e)]+","+J[+/^s/.test($e)]+")"})}function Ye(We){We.select(".extent").attr("x",G[0]),We.selectAll(".extent,.n>rect,.s>rect").attr("width",G[1]-G[0])}function ot(We){We.select(".extent").attr("y",J[0]),We.selectAll(".extent,.e>rect,.w>rect").attr("height",J[1]-J[0])}function ht(){var We=this,$e=i.select(i.event.target),tt=r.of(We,arguments),dt=i.select(We),gt=$e.datum(),nt=!/^(n|s)$/.test(gt)&&_,zt=!/^(e|w)$/.test(gt)&&D,Jt=$e.classed("extent"),$t=ct(We),Kt,ar=i.mouse(We),nr,ur=i.select(o(We)).on("keydown.brush",dr).on("keyup.brush",Tr);if(i.event.changedTouches?ur.on("touchmove.brush",yr).on("touchend.brush",fr):ur.on("mousemove.brush",yr).on("mouseup.brush",fr),dt.interrupt().selectAll("*").interrupt(),Jt)ar[0]=G[0]-ar[0],ar[1]=J[0]-ar[1];else if(gt){var or=+/w$/.test(gt),sr=+/^n/.test(gt);nr=[G[1-or]-ar[0],J[1-sr]-ar[1]],ar[0]=G[or],ar[1]=J[sr]}else i.event.altKey&&(Kt=ar.slice());dt.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",$e.style("cursor")),tt({type:"brushstart"}),yr();function dr(){i.event.keyCode==32&&(Jt||(Kt=null,ar[0]-=G[1],ar[1]-=J[1],Jt=2),me())}function Tr(){i.event.keyCode==32&&Jt==2&&(ar[0]+=G[1],ar[1]+=J[1],Jt=0,me())}function yr(){var cr=i.mouse(We),pr=!1;nr&&(cr[0]+=nr[0],cr[1]+=nr[1]),Jt||(i.event.altKey?(Kt||(Kt=[(G[0]+G[1])/2,(J[0]+J[1])/2]),ar[0]=G[+(cr[0]<Kt[0])],ar[1]=J[+(cr[1]<Kt[1])]):Kt=null),nt&&Zt(cr,_,0)&&(Ye(dt),pr=!0),zt&&Zt(cr,D,1)&&(ot(dt),pr=!0),pr&&(Oe(dt),tt({type:"brush",mode:Jt?"move":"resize"}))}function Zt(cr,pr,wr){var Lr=Ga(pr),Er=Lr[0],Hr=Lr[1],Br=ar[wr],Or=wr?J:G,Gr=Or[1]-Or[0],Ir,Vr;if(Jt&&(Er-=Br,Hr-=Gr+Br),Ir=(wr?ye:le)?Math.max(Er,Math.min(Hr,cr[wr])):cr[wr],Jt?Vr=(Ir+=Br)+Gr:(Kt&&(Br=Math.max(Er,Math.min(Hr,2*Kt[wr]-Ir))),Br<Ir?(Vr=Ir,Ir=Br):Vr=Br),Or[0]!=Ir||Or[1]!=Vr)return wr?ce=null:j=null,Or[0]=Ir,Or[1]=Vr,!0}function fr(){yr(),dt.style("pointer-events","all").selectAll(".resize").style("display",Se.empty()?"none":null),i.select("body").style("cursor",null),ur.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),$t(),tt({type:"brushend"})}}return Se.x=function(We){return arguments.length?(_=We,Le=Sn[!_<<1|!D],Se):_},Se.y=function(We){return arguments.length?(D=We,Le=Sn[!_<<1|!D],Se):D},Se.clamp=function(We){return arguments.length?(_&&D?(le=!!We[0],ye=!!We[1]):_?le=!!We:D&&(ye=!!We),Se):_&&D?[le,ye]:_?le:D?ye:null},Se.extent=function(We){var $e,tt,dt,gt,nt;return arguments.length?(_&&($e=We[0],tt=We[1],D&&($e=$e[0],tt=tt[0]),j=[$e,tt],_.invert&&($e=_($e),tt=_(tt)),tt<$e&&(nt=$e,$e=tt,tt=nt),($e!=G[0]||tt!=G[1])&&(G=[$e,tt])),D&&(dt=We[0],gt=We[1],_&&(dt=dt[1],gt=gt[1]),ce=[dt,gt],D.invert&&(dt=D(dt),gt=D(gt)),gt<dt&&(nt=dt,dt=gt,gt=nt),(dt!=J[0]||gt!=J[1])&&(J=[dt,gt])),Se):(_&&(j?($e=j[0],tt=j[1]):($e=G[0],tt=G[1],_.invert&&($e=_.invert($e),tt=_.invert(tt)),tt<$e&&(nt=$e,$e=tt,tt=nt))),D&&(ce?(dt=ce[0],gt=ce[1]):(dt=J[0],gt=J[1],D.invert&&(dt=D.invert(dt),gt=D.invert(gt)),gt<dt&&(nt=dt,dt=gt,gt=nt))),_&&D?[[$e,dt],[tt,gt]]:_?[$e,tt]:D&&[dt,gt])},Se.clear=function(){return Se.empty()||(G=[0,0],J=[0,0],j=ce=null),Se},Se.empty=function(){return!!_&&G[0]==G[1]||!!D&&J[0]==J[1]},i.rebind(Se,r,"on")};var Ml={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Sn=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];i.text=Ft(function(r){return r.responseText}),i.json=function(r,_){return Ht(r,"application/json",Al,_)};function Al(r){return JSON.parse(r.responseText)}i.html=function(r,_){return Ht(r,"text/html",kl,_)};function kl(r){var _=s.createRange();return _.selectNode(s.body),_.createContextualFragment(r.responseText)}i.xml=Ft(function(r){return r.responseXML}),typeof te=="object"&&te.exports?te.exports=i:this.d3=i}).apply(self)},{}],12:[function(u,te,Y){var i=typeof Reflect=="object"?Reflect:null,n=i&&typeof i.apply=="function"?i.apply:function(d,T,k){return Function.prototype.apply.call(d,T,k)},c;i&&typeof i.ownKeys=="function"?c=i.ownKeys:Object.getOwnPropertySymbols?c=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:c=function(d){return Object.getOwnPropertyNames(d)};function s(b){console&&console.warn&&console.warn(b)}var e=Number.isNaN||function(d){return d!==d};function o(){o.init.call(this)}te.exports=o,te.exports.once=f,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var l=10;function a(b){if(typeof b!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(b){if(typeof b!="number"||b<0||e(b))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+b+".");l=b}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||e(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function t(b){return b._maxListeners===void 0?o.defaultMaxListeners:b._maxListeners}o.prototype.getMaxListeners=function(){return t(this)},o.prototype.emit=function(d){for(var T=[],k=1;k<arguments.length;k++)T.push(arguments[k]);var F=d==="error",M=this._events;if(M!==void 0)F=F&&M.error===void 0;else if(!F)return!1;if(F){var S;if(T.length>0&&(S=T[0]),S instanceof Error)throw S;var E=new Error("Unhandled error."+(S?" ("+S.message+")":""));throw E.context=S,E}var A=M[d];if(A===void 0)return!1;if(typeof A=="function")n(A,this,T);else for(var z=A.length,H=w(A,z),k=0;k<z;++k)n(H[k],this,T);return!0};function v(b,d,T,k){var F,M,S;if(a(T),M=b._events,M===void 0?(M=b._events=Object.create(null),b._eventsCount=0):(M.newListener!==void 0&&(b.emit("newListener",d,T.listener?T.listener:T),M=b._events),S=M[d]),S===void 0)S=M[d]=T,++b._eventsCount;else if(typeof S=="function"?S=M[d]=k?[T,S]:[S,T]:k?S.unshift(T):S.push(T),F=t(b),F>0&&S.length>F&&!S.warned){S.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");E.name="MaxListenersExceededWarning",E.emitter=b,E.type=d,E.count=S.length,s(E)}return b}o.prototype.addListener=function(d,T){return v(this,d,T,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(d,T){return v(this,d,T,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(b,d,T){var k={fired:!1,wrapFn:void 0,target:b,type:d,listener:T},F=p.bind(k);return F.listener=T,k.wrapFn=F,F}o.prototype.once=function(d,T){return a(T),this.on(d,h(this,d,T)),this},o.prototype.prependOnceListener=function(d,T){return a(T),this.prependListener(d,h(this,d,T)),this},o.prototype.removeListener=function(d,T){var k,F,M,S,E;if(a(T),F=this._events,F===void 0)return this;if(k=F[d],k===void 0)return this;if(k===T||k.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete F[d],F.removeListener&&this.emit("removeListener",d,k.listener||T));else if(typeof k!="function"){for(M=-1,S=k.length-1;S>=0;S--)if(k[S]===T||k[S].listener===T){E=k[S].listener,M=S;break}if(M<0)return this;M===0?k.shift():y(k,M),k.length===1&&(F[d]=k[0]),F.removeListener!==void 0&&this.emit("removeListener",d,E||T)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(d){var T,k,F;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete k[d]),this;if(arguments.length===0){var M=Object.keys(k),S;for(F=0;F<M.length;++F)S=M[F],S!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=k[d],typeof T=="function")this.removeListener(d,T);else if(T!==void 0)for(F=T.length-1;F>=0;F--)this.removeListener(d,T[F]);return this};function g(b,d,T){var k=b._events;if(k===void 0)return[];var F=k[d];return F===void 0?[]:typeof F=="function"?T?[F.listener||F]:[F]:T?x(F):w(F,F.length)}o.prototype.listeners=function(d){return g(this,d,!0)},o.prototype.rawListeners=function(d){return g(this,d,!1)},o.listenerCount=function(b,d){return typeof b.listenerCount=="function"?b.listenerCount(d):m.call(b,d)},o.prototype.listenerCount=m;function m(b){var d=this._events;if(d!==void 0){var T=d[b];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?c(this._events):[]};function w(b,d){for(var T=new Array(d),k=0;k<d;++k)T[k]=b[k];return T}function y(b,d){for(;d+1<b.length;d++)b[d]=b[d+1];b.pop()}function x(b){for(var d=new Array(b.length),T=0;T<d.length;++T)d[T]=b[T].listener||b[T];return d}function f(b,d){return new Promise(function(T,k){function F(){M!==void 0&&b.removeListener("error",M),T([].slice.call(arguments))}var M;d!=="error"&&(M=function(E){b.removeListener(d,F),k(E)},b.once("error",M)),b.once(d,F)})}},{}],13:[function(u,te,Y){(function(i,n){typeof Y=="object"&&typeof te<"u"?n(Y):(i=typeof globalThis<"u"?globalThis:i||self,n(i.d3=i.d3||{}))})(this,function(i){function n(M){return Math.abs(M=Math.round(M))>=1e21?M.toLocaleString("en").replace(/,/g,""):M.toString(10)}function c(M,S){if((E=(M=S?M.toExponential(S-1):M.toExponential()).indexOf("e"))<0)return null;var E,A=M.slice(0,E);return[A.length>1?A[0]+A.slice(2):A,+M.slice(E+1)]}function s(M){return M=c(Math.abs(M)),M?M[1]:NaN}function e(M,S){return function(E,A){for(var z=E.length,H=[],Q=0,X=M[0],ie=0;z>0&&X>0&&(ie+X+1>A&&(X=Math.max(1,A-ie)),H.push(E.substring(z-=X,z+X)),!((ie+=X+1)>A));)X=M[Q=(Q+1)%M.length];return H.reverse().join(S)}}function o(M){return function(S){return S.replace(/[0-9]/g,function(E){return M[+E]})}}var l=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a(M){if(!(S=l.exec(M)))throw new Error("invalid format: "+M);var S;return new t({fill:S[1],align:S[2],sign:S[3],symbol:S[4],zero:S[5],width:S[6],comma:S[7],precision:S[8]&&S[8].slice(1),trim:S[9],type:S[10]})}a.prototype=t.prototype;function t(M){this.fill=M.fill===void 0?" ":M.fill+"",this.align=M.align===void 0?">":M.align+"",this.sign=M.sign===void 0?"-":M.sign+"",this.symbol=M.symbol===void 0?"":M.symbol+"",this.zero=!!M.zero,this.width=M.width===void 0?void 0:+M.width,this.comma=!!M.comma,this.precision=M.precision===void 0?void 0:+M.precision,this.trim=!!M.trim,this.type=M.type===void 0?"":M.type+""}t.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function v(M){e:for(var S=M.length,E=1,A=-1,z;E<S;++E)switch(M[E]){case".":A=z=E;break;case"0":A===0&&(A=E),z=E;break;default:if(!+M[E])break e;A>0&&(A=0);break}return A>0?M.slice(0,A)+M.slice(z+1):M}var p;function h(M,S){var E=c(M,S);if(!E)return M+"";var A=E[0],z=E[1],H=z-(p=Math.max(-8,Math.min(8,Math.floor(z/3)))*3)+1,Q=A.length;return H===Q?A:H>Q?A+new Array(H-Q+1).join("0"):H>0?A.slice(0,H)+"."+A.slice(H):"0."+new Array(1-H).join("0")+c(M,Math.max(0,S+H-1))[0]}function g(M,S){var E=c(M,S);if(!E)return M+"";var A=E[0],z=E[1];return z<0?"0."+new Array(-z).join("0")+A:A.length>z+1?A.slice(0,z+1)+"."+A.slice(z+1):A+new Array(z-A.length+2).join("0")}var m={"%":function(M,S){return(M*100).toFixed(S)},b:function(M){return Math.round(M).toString(2)},c:function(M){return M+""},d:n,e:function(M,S){return M.toExponential(S)},f:function(M,S){return M.toFixed(S)},g:function(M,S){return M.toPrecision(S)},o:function(M){return Math.round(M).toString(8)},p:function(M,S){return g(M*100,S)},r:g,s:h,X:function(M){return Math.round(M).toString(16).toUpperCase()},x:function(M){return Math.round(M).toString(16)}};function w(M){return M}var y=Array.prototype.map,x=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function f(M){var S=M.grouping===void 0||M.thousands===void 0?w:e(y.call(M.grouping,Number),M.thousands+""),E=M.currency===void 0?"":M.currency[0]+"",A=M.currency===void 0?"":M.currency[1]+"",z=M.decimal===void 0?".":M.decimal+"",H=M.numerals===void 0?w:o(y.call(M.numerals,String)),Q=M.percent===void 0?"%":M.percent+"",X=M.minus===void 0?"-":M.minus+"",ie=M.nan===void 0?"NaN":M.nan+"";function R(U){U=a(U);var K=U.fill,ee=U.align,ne=U.sign,me=U.symbol,pe=U.zero,be=U.width,ve=U.comma,C=U.precision,I=U.trim,L=U.type;L==="n"?(ve=!0,L="g"):m[L]||(C===void 0&&(C=12),I=!0,L="g"),(pe||K==="0"&&ee==="=")&&(pe=!0,K="0",ee="=");var P=me==="$"?E:me==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",B=me==="$"?A:/[%p]/.test(L)?Q:"",V=m[L],N=/[defgprs%]/.test(L);C=C===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function Z(W){var q=P,re=B,se,_e,ge;if(L==="c")re=V(W)+re,W="";else{W=+W;var Ae=W<0||1/W<0;if(W=isNaN(W)?ie:V(Math.abs(W),C),I&&(W=v(W)),Ae&&+W==0&&ne!=="+"&&(Ae=!1),q=(Ae?ne==="("?ne:X:ne==="-"||ne==="("?"":ne)+q,re=(L==="s"?x[8+p/3]:"")+re+(Ae&&ne==="("?")":""),N){for(se=-1,_e=W.length;++se<_e;)if(ge=W.charCodeAt(se),48>ge||ge>57){re=(ge===46?z+W.slice(se+1):W.slice(se))+re,W=W.slice(0,se);break}}}ve&&!pe&&(W=S(W,1/0));var Ce=q.length+W.length+re.length,ue=Ce<be?new Array(be-Ce+1).join(K):"";switch(ve&&pe&&(W=S(ue+W,ue.length?be-re.length:1/0),ue=""),ee){case"<":W=q+W+re+ue;break;case"=":W=q+ue+W+re;break;case"^":W=ue.slice(0,Ce=ue.length>>1)+q+W+re+ue.slice(Ce);break;default:W=ue+q+W+re;break}return H(W)}return Z.toString=function(){return U+""},Z}function O(U,K){var ee=R((U=a(U),U.type="f",U)),ne=Math.max(-8,Math.min(8,Math.floor(s(K)/3)))*3,me=Math.pow(10,-ne),pe=x[8+ne/3];return function(be){return ee(me*be)+pe}}return{format:R,formatPrefix:O}}var b;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(M){return b=f(M),i.format=b.format,i.formatPrefix=b.formatPrefix,b}function T(M){return Math.max(0,-s(Math.abs(M)))}function k(M,S){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(s(S)/3)))*3-s(Math.abs(M)))}function F(M,S){return M=Math.abs(M),S=Math.abs(S)-M,Math.max(0,s(S)-s(M))+1}i.FormatSpecifier=t,i.formatDefaultLocale=d,i.formatLocale=f,i.formatSpecifier=a,i.precisionFixed=T,i.precisionPrefix=k,i.precisionRound=F,Object.defineProperty(i,"__esModule",{value:!0})})},{}],14:[function(u,te,Y){(function(i,n){typeof Y=="object"&&typeof te<"u"?n(Y,u("d3-time")):(i=i||self,n(i.d3=i.d3||{},i.d3))})(this,function(i,n){function c(de){if(0<=de.y&&de.y<100){var Re=new Date(-1,de.m,de.d,de.H,de.M,de.S,de.L);return Re.setFullYear(de.y),Re}return new Date(de.y,de.m,de.d,de.H,de.M,de.S,de.L)}function s(de){if(0<=de.y&&de.y<100){var Re=new Date(Date.UTC(-1,de.m,de.d,de.H,de.M,de.S,de.L));return Re.setUTCFullYear(de.y),Re}return new Date(Date.UTC(de.y,de.m,de.d,de.H,de.M,de.S,de.L))}function e(de,Re,ze){return{y:de,m:Re,d:ze,H:0,M:0,S:0,L:0}}function o(de){var Re=de.dateTime,ze=de.date,ae=de.time,xe=de.periods,Te=de.days,Me=de.shortDays,Je=de.months,Ve=de.shortMonths,Ge=g(xe),Ke=m(xe),Qe=g(Te),Ie=m(Te),ft=g(Me),vt=m(Me),pt=g(Je),Ot=m(Je),Gt=g(Ve),Wt=m(Ve),It={a:Ne,A:He,b:Ze,B:Ue,c:null,d:U,e:U,f:pe,H:K,I:ee,j:ne,L:me,m:be,M:ve,p:Be,q:it,Q:rt,s:ut,S:C,u:I,U:L,V:P,w:B,W:V,x:null,X:null,y:N,Y:Z,Z:W,"%":qe},Qt={a:mt,A:Mt,b:at,B:st,c:null,d:q,e:q,f:Ae,H:re,I:se,j:_e,L:ge,m:Ce,M:ue,p:kt,q:xt,Q:rt,s:ut,S:he,u:we,U:ke,V:Pe,w:fe,W:De,x:null,X:null,y:Fe,Y:et,Z:Xe,"%":qe},Nt={a:Bt,A:At,b:Vt,B:tr,c:oe,d:S,e:S,f:X,H:A,I:A,j:E,L:Q,m:M,M:z,p:Yt,q:F,Q:R,s:O,S:H,u:y,U:x,V:f,w,W:b,x:$,X:Ee,y:T,Y:d,Z:k,"%":ie};It.x=Et(ze,It),It.X=Et(ae,It),It.c=Et(Re,It),Qt.x=Et(ze,Qt),Qt.X=Et(ae,Qt),Qt.c=Et(Re,Qt);function Et(lt,wt){return function(Ct){var _t=[],Pt=-1,Ft=0,Ht=lt.length,St,er,jt;for(Ct instanceof Date||(Ct=new Date(+Ct));++Pt<Ht;)lt.charCodeAt(Pt)===37&&(_t.push(lt.slice(Ft,Pt)),(er=l[St=lt.charAt(++Pt)])!=null?St=lt.charAt(++Pt):er=St==="e"?" ":"0",(jt=wt[St])&&(St=jt(Ct,er)),_t.push(St),Ft=Pt+1);return _t.push(lt.slice(Ft,Pt)),_t.join("")}}function Xt(lt,wt){return function(Ct){var _t=e(1900,void 0,1),Pt=Tt(_t,lt,Ct+="",0),Ft,Ht;if(Pt!=Ct.length)return null;if("Q"in _t)return new Date(_t.Q);if("s"in _t)return new Date(_t.s*1e3+("L"in _t?_t.L:0));if(wt&&!("Z"in _t)&&(_t.Z=0),"p"in _t&&(_t.H=_t.H%12+_t.p*12),_t.m===void 0&&(_t.m="q"in _t?_t.q:0),"V"in _t){if(_t.V<1||_t.V>53)return null;"w"in _t||(_t.w=1),"Z"in _t?(Ft=s(e(_t.y,0,1)),Ht=Ft.getUTCDay(),Ft=Ht>4||Ht===0?n.utcMonday.ceil(Ft):n.utcMonday(Ft),Ft=n.utcDay.offset(Ft,(_t.V-1)*7),_t.y=Ft.getUTCFullYear(),_t.m=Ft.getUTCMonth(),_t.d=Ft.getUTCDate()+(_t.w+6)%7):(Ft=c(e(_t.y,0,1)),Ht=Ft.getDay(),Ft=Ht>4||Ht===0?n.timeMonday.ceil(Ft):n.timeMonday(Ft),Ft=n.timeDay.offset(Ft,(_t.V-1)*7),_t.y=Ft.getFullYear(),_t.m=Ft.getMonth(),_t.d=Ft.getDate()+(_t.w+6)%7)}else("W"in _t||"U"in _t)&&("w"in _t||(_t.w="u"in _t?_t.u%7:"W"in _t?1:0),Ht="Z"in _t?s(e(_t.y,0,1)).getUTCDay():c(e(_t.y,0,1)).getDay(),_t.m=0,_t.d="W"in _t?(_t.w+6)%7+_t.W*7-(Ht+5)%7:_t.w+_t.U*7-(Ht+6)%7);return"Z"in _t?(_t.H+=_t.Z/100|0,_t.M+=_t.Z%100,s(_t)):c(_t)}}function Tt(lt,wt,Ct,_t){for(var Pt=0,Ft=wt.length,Ht=Ct.length,St,er;Pt<Ft;){if(_t>=Ht)return-1;if(St=wt.charCodeAt(Pt++),St===37){if(St=wt.charAt(Pt++),er=Nt[St in l?wt.charAt(Pt++):St],!er||(_t=er(lt,Ct,_t))<0)return-1}else if(St!=Ct.charCodeAt(_t++))return-1}return _t}function Yt(lt,wt,Ct){var _t=Ge.exec(wt.slice(Ct));return _t?(lt.p=Ke[_t[0].toLowerCase()],Ct+_t[0].length):-1}function Bt(lt,wt,Ct){var _t=ft.exec(wt.slice(Ct));return _t?(lt.w=vt[_t[0].toLowerCase()],Ct+_t[0].length):-1}function At(lt,wt,Ct){var _t=Qe.exec(wt.slice(Ct));return _t?(lt.w=Ie[_t[0].toLowerCase()],Ct+_t[0].length):-1}function Vt(lt,wt,Ct){var _t=Gt.exec(wt.slice(Ct));return _t?(lt.m=Wt[_t[0].toLowerCase()],Ct+_t[0].length):-1}function tr(lt,wt,Ct){var _t=pt.exec(wt.slice(Ct));return _t?(lt.m=Ot[_t[0].toLowerCase()],Ct+_t[0].length):-1}function oe(lt,wt,Ct){return Tt(lt,Re,wt,Ct)}function $(lt,wt,Ct){return Tt(lt,ze,wt,Ct)}function Ee(lt,wt,Ct){return Tt(lt,ae,wt,Ct)}function Ne(lt){return Me[lt.getDay()]}function He(lt){return Te[lt.getDay()]}function Ze(lt){return Ve[lt.getMonth()]}function Ue(lt){return Je[lt.getMonth()]}function Be(lt){return xe[+(lt.getHours()>=12)]}function it(lt){return 1+~~(lt.getMonth()/3)}function mt(lt){return Me[lt.getUTCDay()]}function Mt(lt){return Te[lt.getUTCDay()]}function at(lt){return Ve[lt.getUTCMonth()]}function st(lt){return Je[lt.getUTCMonth()]}function kt(lt){return xe[+(lt.getUTCHours()>=12)]}function xt(lt){return 1+~~(lt.getUTCMonth()/3)}return{format:function(lt){var wt=Et(lt+="",It);return wt.toString=function(){return lt},wt},parse:function(lt){var wt=Xt(lt+="",!1);return wt.toString=function(){return lt},wt},utcFormat:function(lt){var wt=Et(lt+="",Qt);return wt.toString=function(){return lt},wt},utcParse:function(lt){var wt=Xt(lt+="",!0);return wt.toString=function(){return lt},wt}}}var l={"-":"",_:" ",0:"0"},a=/^\s*\d+/,t=/^%/,v=/[\\^$*+?|[\]().{}]/g;function p(de,Re,ze){var ae=de<0?"-":"",xe=(ae?-de:de)+"",Te=xe.length;return ae+(Te<ze?new Array(ze-Te+1).join(Re)+xe:xe)}function h(de){return de.replace(v,"\\$&")}function g(de){return new RegExp("^(?:"+de.map(h).join("|")+")","i")}function m(de){for(var Re={},ze=-1,ae=de.length;++ze<ae;)Re[de[ze].toLowerCase()]=ze;return Re}function w(de,Re,ze){var ae=a.exec(Re.slice(ze,ze+1));return ae?(de.w=+ae[0],ze+ae[0].length):-1}function y(de,Re,ze){var ae=a.exec(Re.slice(ze,ze+1));return ae?(de.u=+ae[0],ze+ae[0].length):-1}function x(de,Re,ze){var ae=a.exec(Re.slice(ze,ze+2));return ae?(de.U=+ae[0],ze+ae[0].length):-1}function f(de,Re,ze){var ae=a.exec(Re.slice(ze,ze+2));return ae?(de.V=+ae[0],ze+ae[0].length):-1}function b(de,Re,ze){var ae=a.exec(Re.slice(ze,ze+2));return ae?(de.W=+ae[0],ze+ae[0].length):-1}function d(de,Re,ze){var ae=a.exec(Re.slice(ze,ze+4));return ae?(de.y=+ae[0],ze+ae[0].length):-1}function T(de,Re,ze){var ae=a.exec(Re.slice(ze,ze+2));return ae?(de.y=+ae[0]+(+ae[0]>68?1900:2e3),ze+ae[0].length):-1}function k(de,Re,ze){var ae=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Re.slice(ze,ze+6));return ae?(de.Z=ae[1]?0:-(ae[2]+(ae[3]||"00")),ze+ae[0].length):-1}function F(de,Re,ze){var ae=a.exec(Re.slice(ze,ze+1));return ae?(de.q=ae[0]*3-3,ze+ae[0].length):-1}function M(de,Re,ze){var ae=a.exec(Re.slice(ze,ze+2));return ae?(de.m=ae[0]-1,ze+ae[0].length):-1}function S(de,Re,ze){var ae=a.exec(Re.slice(ze,ze+2));return ae?(de.d=+ae[0],ze+ae[0].length):-1}function E(de,Re,ze){var ae=a.exec(Re.slice(ze,ze+3));return ae?(de.m=0,de.d=+ae[0],ze+ae[0].length):-1}function A(de,Re,ze){var ae=a.exec(Re.slice(ze,ze+2));return ae?(de.H=+ae[0],ze+ae[0].length):-1}function z(de,Re,ze){var ae=a.exec(Re.slice(ze,ze+2));return ae?(de.M=+ae[0],ze+ae[0].length):-1}function H(de,Re,ze){var ae=a.exec(Re.slice(ze,ze+2));return ae?(de.S=+ae[0],ze+ae[0].length):-1}function Q(de,Re,ze){var ae=a.exec(Re.slice(ze,ze+3));return ae?(de.L=+ae[0],ze+ae[0].length):-1}function X(de,Re,ze){var ae=a.exec(Re.slice(ze,ze+6));return ae?(de.L=Math.floor(ae[0]/1e3),ze+ae[0].length):-1}function ie(de,Re,ze){var ae=t.exec(Re.slice(ze,ze+1));return ae?ze+ae[0].length:-1}function R(de,Re,ze){var ae=a.exec(Re.slice(ze));return ae?(de.Q=+ae[0],ze+ae[0].length):-1}function O(de,Re,ze){var ae=a.exec(Re.slice(ze));return ae?(de.s=+ae[0],ze+ae[0].length):-1}function U(de,Re){return p(de.getDate(),Re,2)}function K(de,Re){return p(de.getHours(),Re,2)}function ee(de,Re){return p(de.getHours()%12||12,Re,2)}function ne(de,Re){return p(1+n.timeDay.count(n.timeYear(de),de),Re,3)}function me(de,Re){return p(de.getMilliseconds(),Re,3)}function pe(de,Re){return me(de,Re)+"000"}function be(de,Re){return p(de.getMonth()+1,Re,2)}function ve(de,Re){return p(de.getMinutes(),Re,2)}function C(de,Re){return p(de.getSeconds(),Re,2)}function I(de){var Re=de.getDay();return Re===0?7:Re}function L(de,Re){return p(n.timeSunday.count(n.timeYear(de)-1,de),Re,2)}function P(de,Re){var ze=de.getDay();return de=ze>=4||ze===0?n.timeThursday(de):n.timeThursday.ceil(de),p(n.timeThursday.count(n.timeYear(de),de)+(n.timeYear(de).getDay()===4),Re,2)}function B(de){return de.getDay()}function V(de,Re){return p(n.timeMonday.count(n.timeYear(de)-1,de),Re,2)}function N(de,Re){return p(de.getFullYear()%100,Re,2)}function Z(de,Re){return p(de.getFullYear()%1e4,Re,4)}function W(de){var Re=de.getTimezoneOffset();return(Re>0?"-":(Re*=-1,"+"))+p(Re/60|0,"0",2)+p(Re%60,"0",2)}function q(de,Re){return p(de.getUTCDate(),Re,2)}function re(de,Re){return p(de.getUTCHours(),Re,2)}function se(de,Re){return p(de.getUTCHours()%12||12,Re,2)}function _e(de,Re){return p(1+n.utcDay.count(n.utcYear(de),de),Re,3)}function ge(de,Re){return p(de.getUTCMilliseconds(),Re,3)}function Ae(de,Re){return ge(de,Re)+"000"}function Ce(de,Re){return p(de.getUTCMonth()+1,Re,2)}function ue(de,Re){return p(de.getUTCMinutes(),Re,2)}function he(de,Re){return p(de.getUTCSeconds(),Re,2)}function we(de){var Re=de.getUTCDay();return Re===0?7:Re}function ke(de,Re){return p(n.utcSunday.count(n.utcYear(de)-1,de),Re,2)}function Pe(de,Re){var ze=de.getUTCDay();return de=ze>=4||ze===0?n.utcThursday(de):n.utcThursday.ceil(de),p(n.utcThursday.count(n.utcYear(de),de)+(n.utcYear(de).getUTCDay()===4),Re,2)}function fe(de){return de.getUTCDay()}function De(de,Re){return p(n.utcMonday.count(n.utcYear(de)-1,de),Re,2)}function Fe(de,Re){return p(de.getUTCFullYear()%100,Re,2)}function et(de,Re){return p(de.getUTCFullYear()%1e4,Re,4)}function Xe(){return"+0000"}function qe(){return"%"}function rt(de){return+de}function ut(de){return Math.floor(+de/1e3)}var yt;Rt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Rt(de){return yt=o(de),i.timeFormat=yt.format,i.timeParse=yt.parse,i.utcFormat=yt.utcFormat,i.utcParse=yt.utcParse,yt}var bt="%Y-%m-%dT%H:%M:%S.%LZ";function je(de){return de.toISOString()}var ct=Date.prototype.toISOString?je:i.utcFormat(bt);function Dt(de){var Re=new Date(de);return isNaN(Re)?null:Re}var Lt=+new Date("2000-01-01T00:00:00.000Z")?Dt:i.utcParse(bt);i.isoFormat=ct,i.isoParse=Lt,i.timeFormatDefaultLocale=Rt,i.timeFormatLocale=o,Object.defineProperty(i,"__esModule",{value:!0})})},{"d3-time":15}],15:[function(u,te,Y){(function(i,n){typeof Y=="object"&&typeof te<"u"?n(Y):(i=i||self,n(i.d3=i.d3||{}))})(this,function(i){var n=new Date,c=new Date;function s(fe,De,Fe,et){function Xe(qe){return fe(qe=arguments.length===0?new Date:new Date(+qe)),qe}return Xe.floor=function(qe){return fe(qe=new Date(+qe)),qe},Xe.ceil=function(qe){return fe(qe=new Date(qe-1)),De(qe,1),fe(qe),qe},Xe.round=function(qe){var rt=Xe(qe),ut=Xe.ceil(qe);return qe-rt<ut-qe?rt:ut},Xe.offset=function(qe,rt){return De(qe=new Date(+qe),rt==null?1:Math.floor(rt)),qe},Xe.range=function(qe,rt,ut){var yt=[],Rt;if(qe=Xe.ceil(qe),ut=ut==null?1:Math.floor(ut),!(qe<rt)||!(ut>0))return yt;do yt.push(Rt=new Date(+qe)),De(qe,ut),fe(qe);while(Rt<qe&&qe<rt);return yt},Xe.filter=function(qe){return s(function(rt){if(rt>=rt)for(;fe(rt),!qe(rt);)rt.setTime(rt-1)},function(rt,ut){if(rt>=rt)if(ut<0)for(;++ut<=0;)for(;De(rt,-1),!qe(rt););else for(;--ut>=0;)for(;De(rt,1),!qe(rt););})},Fe&&(Xe.count=function(qe,rt){return n.setTime(+qe),c.setTime(+rt),fe(n),fe(c),Math.floor(Fe(n,c))},Xe.every=function(qe){return qe=Math.floor(qe),!isFinite(qe)||!(qe>0)?null:qe>1?Xe.filter(et?function(rt){return et(rt)%qe===0}:function(rt){return Xe.count(0,rt)%qe===0}):Xe}),Xe}var e=s(function(){},function(fe,De){fe.setTime(+fe+De)},function(fe,De){return De-fe});e.every=function(fe){return fe=Math.floor(fe),!isFinite(fe)||!(fe>0)?null:fe>1?s(function(De){De.setTime(Math.floor(De/fe)*fe)},function(De,Fe){De.setTime(+De+Fe*fe)},function(De,Fe){return(Fe-De)/fe}):e};var o=e.range,l=1e3,a=6e4,t=36e5,v=864e5,p=6048e5,h=s(function(fe){fe.setTime(fe-fe.getMilliseconds())},function(fe,De){fe.setTime(+fe+De*l)},function(fe,De){return(De-fe)/l},function(fe){return fe.getUTCSeconds()}),g=h.range,m=s(function(fe){fe.setTime(fe-fe.getMilliseconds()-fe.getSeconds()*l)},function(fe,De){fe.setTime(+fe+De*a)},function(fe,De){return(De-fe)/a},function(fe){return fe.getMinutes()}),w=m.range,y=s(function(fe){fe.setTime(fe-fe.getMilliseconds()-fe.getSeconds()*l-fe.getMinutes()*a)},function(fe,De){fe.setTime(+fe+De*t)},function(fe,De){return(De-fe)/t},function(fe){return fe.getHours()}),x=y.range,f=s(function(fe){fe.setHours(0,0,0,0)},function(fe,De){fe.setDate(fe.getDate()+De)},function(fe,De){return(De-fe-(De.getTimezoneOffset()-fe.getTimezoneOffset())*a)/v},function(fe){return fe.getDate()-1}),b=f.range;function d(fe){return s(function(De){De.setDate(De.getDate()-(De.getDay()+7-fe)%7),De.setHours(0,0,0,0)},function(De,Fe){De.setDate(De.getDate()+Fe*7)},function(De,Fe){return(Fe-De-(Fe.getTimezoneOffset()-De.getTimezoneOffset())*a)/p})}var T=d(0),k=d(1),F=d(2),M=d(3),S=d(4),E=d(5),A=d(6),z=T.range,H=k.range,Q=F.range,X=M.range,ie=S.range,R=E.range,O=A.range,U=s(function(fe){fe.setDate(1),fe.setHours(0,0,0,0)},function(fe,De){fe.setMonth(fe.getMonth()+De)},function(fe,De){return De.getMonth()-fe.getMonth()+(De.getFullYear()-fe.getFullYear())*12},function(fe){return fe.getMonth()}),K=U.range,ee=s(function(fe){fe.setMonth(0,1),fe.setHours(0,0,0,0)},function(fe,De){fe.setFullYear(fe.getFullYear()+De)},function(fe,De){return De.getFullYear()-fe.getFullYear()},function(fe){return fe.getFullYear()});ee.every=function(fe){return!isFinite(fe=Math.floor(fe))||!(fe>0)?null:s(function(De){De.setFullYear(Math.floor(De.getFullYear()/fe)*fe),De.setMonth(0,1),De.setHours(0,0,0,0)},function(De,Fe){De.setFullYear(De.getFullYear()+Fe*fe)})};var ne=ee.range,me=s(function(fe){fe.setUTCSeconds(0,0)},function(fe,De){fe.setTime(+fe+De*a)},function(fe,De){return(De-fe)/a},function(fe){return fe.getUTCMinutes()}),pe=me.range,be=s(function(fe){fe.setUTCMinutes(0,0,0)},function(fe,De){fe.setTime(+fe+De*t)},function(fe,De){return(De-fe)/t},function(fe){return fe.getUTCHours()}),ve=be.range,C=s(function(fe){fe.setUTCHours(0,0,0,0)},function(fe,De){fe.setUTCDate(fe.getUTCDate()+De)},function(fe,De){return(De-fe)/v},function(fe){return fe.getUTCDate()-1}),I=C.range;function L(fe){return s(function(De){De.setUTCDate(De.getUTCDate()-(De.getUTCDay()+7-fe)%7),De.setUTCHours(0,0,0,0)},function(De,Fe){De.setUTCDate(De.getUTCDate()+Fe*7)},function(De,Fe){return(Fe-De)/p})}var P=L(0),B=L(1),V=L(2),N=L(3),Z=L(4),W=L(5),q=L(6),re=P.range,se=B.range,_e=V.range,ge=N.range,Ae=Z.range,Ce=W.range,ue=q.range,he=s(function(fe){fe.setUTCDate(1),fe.setUTCHours(0,0,0,0)},function(fe,De){fe.setUTCMonth(fe.getUTCMonth()+De)},function(fe,De){return De.getUTCMonth()-fe.getUTCMonth()+(De.getUTCFullYear()-fe.getUTCFullYear())*12},function(fe){return fe.getUTCMonth()}),we=he.range,ke=s(function(fe){fe.setUTCMonth(0,1),fe.setUTCHours(0,0,0,0)},function(fe,De){fe.setUTCFullYear(fe.getUTCFullYear()+De)},function(fe,De){return De.getUTCFullYear()-fe.getUTCFullYear()},function(fe){return fe.getUTCFullYear()});ke.every=function(fe){return!isFinite(fe=Math.floor(fe))||!(fe>0)?null:s(function(De){De.setUTCFullYear(Math.floor(De.getUTCFullYear()/fe)*fe),De.setUTCMonth(0,1),De.setUTCHours(0,0,0,0)},function(De,Fe){De.setUTCFullYear(De.getUTCFullYear()+Fe*fe)})};var Pe=ke.range;i.timeDay=f,i.timeDays=b,i.timeFriday=E,i.timeFridays=R,i.timeHour=y,i.timeHours=x,i.timeInterval=s,i.timeMillisecond=e,i.timeMilliseconds=o,i.timeMinute=m,i.timeMinutes=w,i.timeMonday=k,i.timeMondays=H,i.timeMonth=U,i.timeMonths=K,i.timeSaturday=A,i.timeSaturdays=O,i.timeSecond=h,i.timeSeconds=g,i.timeSunday=T,i.timeSundays=z,i.timeThursday=S,i.timeThursdays=ie,i.timeTuesday=F,i.timeTuesdays=Q,i.timeWednesday=M,i.timeWednesdays=X,i.timeWeek=T,i.timeWeeks=z,i.timeYear=ee,i.timeYears=ne,i.utcDay=C,i.utcDays=I,i.utcFriday=W,i.utcFridays=Ce,i.utcHour=be,i.utcHours=ve,i.utcMillisecond=e,i.utcMilliseconds=o,i.utcMinute=me,i.utcMinutes=pe,i.utcMonday=B,i.utcMondays=se,i.utcMonth=he,i.utcMonths=we,i.utcSaturday=q,i.utcSaturdays=ue,i.utcSecond=h,i.utcSeconds=g,i.utcSunday=P,i.utcSundays=re,i.utcThursday=Z,i.utcThursdays=Ae,i.utcTuesday=V,i.utcTuesdays=_e,i.utcWednesday=N,i.utcWednesdays=ge,i.utcWeek=P,i.utcWeeks=re,i.utcYear=ke,i.utcYears=Pe,Object.defineProperty(i,"__esModule",{value:!0})})},{}],16:[function(u,te,Y){arguments[4][15][0].apply(Y,arguments)},{dup:15}],17:[function(u,te,Y){var i=u("is-string-blank");te.exports=function(n){var c=typeof n;if(c==="string"){var s=n;if(n=+n,n===0&&i(s))return!1}else if(c!=="number")return!1;return n-n<1}},{"is-string-blank":52}],18:[function(u,te,Y){te.exports=i;function i(n,c){var s=c[0],e=c[1],o=c[2],l=c[3],a=c[4],t=c[5],v=c[6],p=c[7],h=c[8],g=c[9],m=c[10],w=c[11],y=c[12],x=c[13],f=c[14],b=c[15];return n[0]=t*(m*b-w*f)-g*(v*b-p*f)+x*(v*w-p*m),n[1]=-(e*(m*b-w*f)-g*(o*b-l*f)+x*(o*w-l*m)),n[2]=e*(v*b-p*f)-t*(o*b-l*f)+x*(o*p-l*v),n[3]=-(e*(v*w-p*m)-t*(o*w-l*m)+g*(o*p-l*v)),n[4]=-(a*(m*b-w*f)-h*(v*b-p*f)+y*(v*w-p*m)),n[5]=s*(m*b-w*f)-h*(o*b-l*f)+y*(o*w-l*m),n[6]=-(s*(v*b-p*f)-a*(o*b-l*f)+y*(o*p-l*v)),n[7]=s*(v*w-p*m)-a*(o*w-l*m)+h*(o*p-l*v),n[8]=a*(g*b-w*x)-h*(t*b-p*x)+y*(t*w-p*g),n[9]=-(s*(g*b-w*x)-h*(e*b-l*x)+y*(e*w-l*g)),n[10]=s*(t*b-p*x)-a*(e*b-l*x)+y*(e*p-l*t),n[11]=-(s*(t*w-p*g)-a*(e*w-l*g)+h*(e*p-l*t)),n[12]=-(a*(g*f-m*x)-h*(t*f-v*x)+y*(t*m-v*g)),n[13]=s*(g*f-m*x)-h*(e*f-o*x)+y*(e*m-o*g),n[14]=-(s*(t*f-v*x)-a*(e*f-o*x)+y*(e*v-o*t)),n[15]=s*(t*m-v*g)-a*(e*m-o*g)+h*(e*v-o*t),n}},{}],19:[function(u,te,Y){te.exports=i;function i(n){var c=new Float32Array(16);return c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7],c[8]=n[8],c[9]=n[9],c[10]=n[10],c[11]=n[11],c[12]=n[12],c[13]=n[13],c[14]=n[14],c[15]=n[15],c}},{}],20:[function(u,te,Y){te.exports=i;function i(n,c){return n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=c[3],n[4]=c[4],n[5]=c[5],n[6]=c[6],n[7]=c[7],n[8]=c[8],n[9]=c[9],n[10]=c[10],n[11]=c[11],n[12]=c[12],n[13]=c[13],n[14]=c[14],n[15]=c[15],n}},{}],21:[function(u,te,Y){te.exports=i;function i(){var n=new Float32Array(16);return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],22:[function(u,te,Y){te.exports=i;function i(n){var c=n[0],s=n[1],e=n[2],o=n[3],l=n[4],a=n[5],t=n[6],v=n[7],p=n[8],h=n[9],g=n[10],m=n[11],w=n[12],y=n[13],x=n[14],f=n[15],b=c*a-s*l,d=c*t-e*l,T=c*v-o*l,k=s*t-e*a,F=s*v-o*a,M=e*v-o*t,S=p*y-h*w,E=p*x-g*w,A=p*f-m*w,z=h*x-g*y,H=h*f-m*y,Q=g*f-m*x;return b*Q-d*H+T*z+k*A-F*E+M*S}},{}],23:[function(u,te,Y){te.exports=i;function i(n,c){var s=c[0],e=c[1],o=c[2],l=c[3],a=s+s,t=e+e,v=o+o,p=s*a,h=e*a,g=e*t,m=o*a,w=o*t,y=o*v,x=l*a,f=l*t,b=l*v;return n[0]=1-g-y,n[1]=h+b,n[2]=m-f,n[3]=0,n[4]=h-b,n[5]=1-p-y,n[6]=w+x,n[7]=0,n[8]=m+f,n[9]=w-x,n[10]=1-p-g,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],24:[function(u,te,Y){te.exports=i;function i(n,c,s){var e,o,l,a=s[0],t=s[1],v=s[2],p=Math.sqrt(a*a+t*t+v*v);return Math.abs(p)<1e-6?null:(p=1/p,a*=p,t*=p,v*=p,e=Math.sin(c),o=Math.cos(c),l=1-o,n[0]=a*a*l+o,n[1]=t*a*l+v*e,n[2]=v*a*l-t*e,n[3]=0,n[4]=a*t*l-v*e,n[5]=t*t*l+o,n[6]=v*t*l+a*e,n[7]=0,n[8]=a*v*l+t*e,n[9]=t*v*l-a*e,n[10]=v*v*l+o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n)}},{}],25:[function(u,te,Y){te.exports=i;function i(n,c,s){var e=c[0],o=c[1],l=c[2],a=c[3],t=e+e,v=o+o,p=l+l,h=e*t,g=e*v,m=e*p,w=o*v,y=o*p,x=l*p,f=a*t,b=a*v,d=a*p;return n[0]=1-(w+x),n[1]=g+d,n[2]=m-b,n[3]=0,n[4]=g-d,n[5]=1-(h+x),n[6]=y+f,n[7]=0,n[8]=m+b,n[9]=y-f,n[10]=1-(h+w),n[11]=0,n[12]=s[0],n[13]=s[1],n[14]=s[2],n[15]=1,n}},{}],26:[function(u,te,Y){te.exports=i;function i(n,c){return n[0]=c[0],n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=c[1],n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=c[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],27:[function(u,te,Y){te.exports=i;function i(n,c){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=c[0],n[13]=c[1],n[14]=c[2],n[15]=1,n}},{}],28:[function(u,te,Y){te.exports=i;function i(n,c){var s=Math.sin(c),e=Math.cos(c);return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=e,n[6]=s,n[7]=0,n[8]=0,n[9]=-s,n[10]=e,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],29:[function(u,te,Y){te.exports=i;function i(n,c){var s=Math.sin(c),e=Math.cos(c);return n[0]=e,n[1]=0,n[2]=-s,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=s,n[9]=0,n[10]=e,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],30:[function(u,te,Y){te.exports=i;function i(n,c){var s=Math.sin(c),e=Math.cos(c);return n[0]=e,n[1]=s,n[2]=0,n[3]=0,n[4]=-s,n[5]=e,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],31:[function(u,te,Y){te.exports=i;function i(n,c,s,e,o,l,a){var t=1/(s-c),v=1/(o-e),p=1/(l-a);return n[0]=l*2*t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=l*2*v,n[6]=0,n[7]=0,n[8]=(s+c)*t,n[9]=(o+e)*v,n[10]=(a+l)*p,n[11]=-1,n[12]=0,n[13]=0,n[14]=a*l*2*p,n[15]=0,n}},{}],32:[function(u,te,Y){te.exports=i;function i(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],33:[function(u,te,Y){te.exports={create:u("./create"),clone:u("./clone"),copy:u("./copy"),identity:u("./identity"),transpose:u("./transpose"),invert:u("./invert"),adjoint:u("./adjoint"),determinant:u("./determinant"),multiply:u("./multiply"),translate:u("./translate"),scale:u("./scale"),rotate:u("./rotate"),rotateX:u("./rotateX"),rotateY:u("./rotateY"),rotateZ:u("./rotateZ"),fromRotation:u("./fromRotation"),fromRotationTranslation:u("./fromRotationTranslation"),fromScaling:u("./fromScaling"),fromTranslation:u("./fromTranslation"),fromXRotation:u("./fromXRotation"),fromYRotation:u("./fromYRotation"),fromZRotation:u("./fromZRotation"),fromQuat:u("./fromQuat"),frustum:u("./frustum"),perspective:u("./perspective"),perspectiveFromFieldOfView:u("./perspectiveFromFieldOfView"),ortho:u("./ortho"),lookAt:u("./lookAt"),str:u("./str")}},{"./adjoint":18,"./clone":19,"./copy":20,"./create":21,"./determinant":22,"./fromQuat":23,"./fromRotation":24,"./fromRotationTranslation":25,"./fromScaling":26,"./fromTranslation":27,"./fromXRotation":28,"./fromYRotation":29,"./fromZRotation":30,"./frustum":31,"./identity":32,"./invert":34,"./lookAt":35,"./multiply":36,"./ortho":37,"./perspective":38,"./perspectiveFromFieldOfView":39,"./rotate":40,"./rotateX":41,"./rotateY":42,"./rotateZ":43,"./scale":44,"./str":45,"./translate":46,"./transpose":47}],34:[function(u,te,Y){te.exports=i;function i(n,c){var s=c[0],e=c[1],o=c[2],l=c[3],a=c[4],t=c[5],v=c[6],p=c[7],h=c[8],g=c[9],m=c[10],w=c[11],y=c[12],x=c[13],f=c[14],b=c[15],d=s*t-e*a,T=s*v-o*a,k=s*p-l*a,F=e*v-o*t,M=e*p-l*t,S=o*p-l*v,E=h*x-g*y,A=h*f-m*y,z=h*b-w*y,H=g*f-m*x,Q=g*b-w*x,X=m*b-w*f,ie=d*X-T*Q+k*H+F*z-M*A+S*E;return ie?(ie=1/ie,n[0]=(t*X-v*Q+p*H)*ie,n[1]=(o*Q-e*X-l*H)*ie,n[2]=(x*S-f*M+b*F)*ie,n[3]=(m*M-g*S-w*F)*ie,n[4]=(v*z-a*X-p*A)*ie,n[5]=(s*X-o*z+l*A)*ie,n[6]=(f*k-y*S-b*T)*ie,n[7]=(h*S-m*k+w*T)*ie,n[8]=(a*Q-t*z+p*E)*ie,n[9]=(e*z-s*Q-l*E)*ie,n[10]=(y*M-x*k+b*d)*ie,n[11]=(g*k-h*M-w*d)*ie,n[12]=(t*A-a*H-v*E)*ie,n[13]=(s*H-e*A+o*E)*ie,n[14]=(x*T-y*F-f*d)*ie,n[15]=(h*F-g*T+m*d)*ie,n):null}},{}],35:[function(u,te,Y){var i=u("./identity");te.exports=n;function n(c,s,e,o){var l,a,t,v,p,h,g,m,w,y,x=s[0],f=s[1],b=s[2],d=o[0],T=o[1],k=o[2],F=e[0],M=e[1],S=e[2];return Math.abs(x-F)<1e-6&&Math.abs(f-M)<1e-6&&Math.abs(b-S)<1e-6?i(c):(g=x-F,m=f-M,w=b-S,y=1/Math.sqrt(g*g+m*m+w*w),g*=y,m*=y,w*=y,l=T*w-k*m,a=k*g-d*w,t=d*m-T*g,y=Math.sqrt(l*l+a*a+t*t),y?(y=1/y,l*=y,a*=y,t*=y):(l=0,a=0,t=0),v=m*t-w*a,p=w*l-g*t,h=g*a-m*l,y=Math.sqrt(v*v+p*p+h*h),y?(y=1/y,v*=y,p*=y,h*=y):(v=0,p=0,h=0),c[0]=l,c[1]=v,c[2]=g,c[3]=0,c[4]=a,c[5]=p,c[6]=m,c[7]=0,c[8]=t,c[9]=h,c[10]=w,c[11]=0,c[12]=-(l*x+a*f+t*b),c[13]=-(v*x+p*f+h*b),c[14]=-(g*x+m*f+w*b),c[15]=1,c)}},{"./identity":32}],36:[function(u,te,Y){te.exports=i;function i(n,c,s){var e=c[0],o=c[1],l=c[2],a=c[3],t=c[4],v=c[5],p=c[6],h=c[7],g=c[8],m=c[9],w=c[10],y=c[11],x=c[12],f=c[13],b=c[14],d=c[15],T=s[0],k=s[1],F=s[2],M=s[3];return n[0]=T*e+k*t+F*g+M*x,n[1]=T*o+k*v+F*m+M*f,n[2]=T*l+k*p+F*w+M*b,n[3]=T*a+k*h+F*y+M*d,T=s[4],k=s[5],F=s[6],M=s[7],n[4]=T*e+k*t+F*g+M*x,n[5]=T*o+k*v+F*m+M*f,n[6]=T*l+k*p+F*w+M*b,n[7]=T*a+k*h+F*y+M*d,T=s[8],k=s[9],F=s[10],M=s[11],n[8]=T*e+k*t+F*g+M*x,n[9]=T*o+k*v+F*m+M*f,n[10]=T*l+k*p+F*w+M*b,n[11]=T*a+k*h+F*y+M*d,T=s[12],k=s[13],F=s[14],M=s[15],n[12]=T*e+k*t+F*g+M*x,n[13]=T*o+k*v+F*m+M*f,n[14]=T*l+k*p+F*w+M*b,n[15]=T*a+k*h+F*y+M*d,n}},{}],37:[function(u,te,Y){te.exports=i;function i(n,c,s,e,o,l,a){var t=1/(c-s),v=1/(e-o),p=1/(l-a);return n[0]=-2*t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*v,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*p,n[11]=0,n[12]=(c+s)*t,n[13]=(o+e)*v,n[14]=(a+l)*p,n[15]=1,n}},{}],38:[function(u,te,Y){te.exports=i;function i(n,c,s,e,o){var l=1/Math.tan(c/2),a=1/(e-o);return n[0]=l/s,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=l,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(o+e)*a,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*o*e*a,n[15]=0,n}},{}],39:[function(u,te,Y){te.exports=i;function i(n,c,s,e){var o=Math.tan(c.upDegrees*Math.PI/180),l=Math.tan(c.downDegrees*Math.PI/180),a=Math.tan(c.leftDegrees*Math.PI/180),t=Math.tan(c.rightDegrees*Math.PI/180),v=2/(a+t),p=2/(o+l);return n[0]=v,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=p,n[6]=0,n[7]=0,n[8]=-((a-t)*v*.5),n[9]=(o-l)*p*.5,n[10]=e/(s-e),n[11]=-1,n[12]=0,n[13]=0,n[14]=e*s/(s-e),n[15]=0,n}},{}],40:[function(u,te,Y){te.exports=i;function i(n,c,s,e){var o=e[0],l=e[1],a=e[2],t=Math.sqrt(o*o+l*l+a*a),v,p,h,g,m,w,y,x,f,b,d,T,k,F,M,S,E,A,z,H,Q,X,ie,R;return Math.abs(t)<1e-6?null:(t=1/t,o*=t,l*=t,a*=t,v=Math.sin(s),p=Math.cos(s),h=1-p,g=c[0],m=c[1],w=c[2],y=c[3],x=c[4],f=c[5],b=c[6],d=c[7],T=c[8],k=c[9],F=c[10],M=c[11],S=o*o*h+p,E=l*o*h+a*v,A=a*o*h-l*v,z=o*l*h-a*v,H=l*l*h+p,Q=a*l*h+o*v,X=o*a*h+l*v,ie=l*a*h-o*v,R=a*a*h+p,n[0]=g*S+x*E+T*A,n[1]=m*S+f*E+k*A,n[2]=w*S+b*E+F*A,n[3]=y*S+d*E+M*A,n[4]=g*z+x*H+T*Q,n[5]=m*z+f*H+k*Q,n[6]=w*z+b*H+F*Q,n[7]=y*z+d*H+M*Q,n[8]=g*X+x*ie+T*R,n[9]=m*X+f*ie+k*R,n[10]=w*X+b*ie+F*R,n[11]=y*X+d*ie+M*R,c!==n&&(n[12]=c[12],n[13]=c[13],n[14]=c[14],n[15]=c[15]),n)}},{}],41:[function(u,te,Y){te.exports=i;function i(n,c,s){var e=Math.sin(s),o=Math.cos(s),l=c[4],a=c[5],t=c[6],v=c[7],p=c[8],h=c[9],g=c[10],m=c[11];return c!==n&&(n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=c[3],n[12]=c[12],n[13]=c[13],n[14]=c[14],n[15]=c[15]),n[4]=l*o+p*e,n[5]=a*o+h*e,n[6]=t*o+g*e,n[7]=v*o+m*e,n[8]=p*o-l*e,n[9]=h*o-a*e,n[10]=g*o-t*e,n[11]=m*o-v*e,n}},{}],42:[function(u,te,Y){te.exports=i;function i(n,c,s){var e=Math.sin(s),o=Math.cos(s),l=c[0],a=c[1],t=c[2],v=c[3],p=c[8],h=c[9],g=c[10],m=c[11];return c!==n&&(n[4]=c[4],n[5]=c[5],n[6]=c[6],n[7]=c[7],n[12]=c[12],n[13]=c[13],n[14]=c[14],n[15]=c[15]),n[0]=l*o-p*e,n[1]=a*o-h*e,n[2]=t*o-g*e,n[3]=v*o-m*e,n[8]=l*e+p*o,n[9]=a*e+h*o,n[10]=t*e+g*o,n[11]=v*e+m*o,n}},{}],43:[function(u,te,Y){te.exports=i;function i(n,c,s){var e=Math.sin(s),o=Math.cos(s),l=c[0],a=c[1],t=c[2],v=c[3],p=c[4],h=c[5],g=c[6],m=c[7];return c!==n&&(n[8]=c[8],n[9]=c[9],n[10]=c[10],n[11]=c[11],n[12]=c[12],n[13]=c[13],n[14]=c[14],n[15]=c[15]),n[0]=l*o+p*e,n[1]=a*o+h*e,n[2]=t*o+g*e,n[3]=v*o+m*e,n[4]=p*o-l*e,n[5]=h*o-a*e,n[6]=g*o-t*e,n[7]=m*o-v*e,n}},{}],44:[function(u,te,Y){te.exports=i;function i(n,c,s){var e=s[0],o=s[1],l=s[2];return n[0]=c[0]*e,n[1]=c[1]*e,n[2]=c[2]*e,n[3]=c[3]*e,n[4]=c[4]*o,n[5]=c[5]*o,n[6]=c[6]*o,n[7]=c[7]*o,n[8]=c[8]*l,n[9]=c[9]*l,n[10]=c[10]*l,n[11]=c[11]*l,n[12]=c[12],n[13]=c[13],n[14]=c[14],n[15]=c[15],n}},{}],45:[function(u,te,Y){te.exports=i;function i(n){return"mat4("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+", "+n[6]+", "+n[7]+", "+n[8]+", "+n[9]+", "+n[10]+", "+n[11]+", "+n[12]+", "+n[13]+", "+n[14]+", "+n[15]+")"}},{}],46:[function(u,te,Y){te.exports=i;function i(n,c,s){var e=s[0],o=s[1],l=s[2],a,t,v,p,h,g,m,w,y,x,f,b;return c===n?(n[12]=c[0]*e+c[4]*o+c[8]*l+c[12],n[13]=c[1]*e+c[5]*o+c[9]*l+c[13],n[14]=c[2]*e+c[6]*o+c[10]*l+c[14],n[15]=c[3]*e+c[7]*o+c[11]*l+c[15]):(a=c[0],t=c[1],v=c[2],p=c[3],h=c[4],g=c[5],m=c[6],w=c[7],y=c[8],x=c[9],f=c[10],b=c[11],n[0]=a,n[1]=t,n[2]=v,n[3]=p,n[4]=h,n[5]=g,n[6]=m,n[7]=w,n[8]=y,n[9]=x,n[10]=f,n[11]=b,n[12]=a*e+h*o+y*l+c[12],n[13]=t*e+g*o+x*l+c[13],n[14]=v*e+m*o+f*l+c[14],n[15]=p*e+w*o+b*l+c[15]),n}},{}],47:[function(u,te,Y){te.exports=i;function i(n,c){if(n===c){var s=c[1],e=c[2],o=c[3],l=c[6],a=c[7],t=c[11];n[1]=c[4],n[2]=c[8],n[3]=c[12],n[4]=s,n[6]=c[9],n[7]=c[13],n[8]=e,n[9]=l,n[11]=c[14],n[12]=o,n[13]=a,n[14]=t}else n[0]=c[0],n[1]=c[4],n[2]=c[8],n[3]=c[12],n[4]=c[1],n[5]=c[5],n[6]=c[9],n[7]=c[13],n[8]=c[2],n[9]=c[6],n[10]=c[10],n[11]=c[14],n[12]=c[3],n[13]=c[7],n[14]=c[11],n[15]=c[15];return n}},{}],48:[function(u,te,Y){(function(i){(function(){var n=u("is-browser"),c;typeof i.matchMedia=="function"?c=!i.matchMedia("(hover: none)").matches:c=n,te.exports=c}).call(this)}).call(this,typeof tn<"u"?tn:typeof self<"u"?self:typeof window<"u"?window:{})},{"is-browser":50}],49:[function(u,te,Y){var i=u("is-browser");function n(){var c=!1;try{var s=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("test",null,s),window.removeEventListener("test",null,s)}catch{c=!1}return c}te.exports=i&&n()},{"is-browser":50}],50:[function(u,te,Y){te.exports=!0},{}],51:[function(u,te,Y){te.exports=c,te.exports.isMobile=c,te.exports.default=c;var i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,n=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function c(s){s||(s={});var e=s.ua;if(!e&&typeof navigator<"u"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),typeof e!="string")return!1;var o=s.tablet?n.test(e):i.test(e);return!o&&s.tablet&&s.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.indexOf("Macintosh")!==-1&&e.indexOf("Safari")!==-1&&(o=!0),o}},{}],52:[function(u,te,Y){te.exports=function(i){for(var n=i.length,c,s=0;s<n;s++)if(c=i.charCodeAt(s),(c<9||c>13)&&c!==32&&c!==133&&c!==160&&c!==5760&&c!==6158&&(c<8192||c>8205)&&c!==8232&&c!==8233&&c!==8239&&c!==8287&&c!==8288&&c!==12288&&c!==65279)return!1;return!0}},{}],53:[function(u,te,Y){var i={left:0,top:0};te.exports=n;function n(s,e,o){e=e||s.currentTarget||s.srcElement,Array.isArray(o)||(o=[0,0]);var l=s.clientX||0,a=s.clientY||0,t=c(e);return o[0]=l-t.left,o[1]=a-t.top,o}function c(s){return s===window||s===document||s===document.body?i:s.getBoundingClientRect()}},{}],54:[function(u,te,Y){(function(i,n){(function(){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(s,e,o){e[s]=e[s]||o(),typeof te<"u"&&te.exports&&(te.exports=e[s])})("Promise",typeof i<"u"?i:this,function(){var s,e,o,l=Object.prototype.toString,a=typeof n<"u"?function(T){return n(T)}:setTimeout;try{Object.defineProperty({},"x",{}),s=function(T,k,F,M){return Object.defineProperty(T,k,{value:F,writable:!0,configurable:M!==!1})}}catch{s=function(k,F,M){return k[F]=M,k}}o=function(){var T,k,F;function M(S,E){this.fn=S,this.self=E,this.next=void 0}return{add:function(E,A){F=new M(E,A),k?k.next=F:T=F,k=F,F=void 0},drain:function(){var E=T;for(T=k=e=void 0;E;)E.fn.call(E.self),E=E.next}}}();function t(d,T){o.add(d,T),e||(e=a(o.drain))}function v(d){var T,k=typeof d;return d!=null&&(k=="object"||k=="function")&&(T=d.then),typeof T=="function"?T:!1}function p(){for(var d=0;d<this.chain.length;d++)h(this,this.state===1?this.chain[d].success:this.chain[d].failure,this.chain[d]);this.chain.length=0}function h(d,T,k){var F,M;try{T===!1?k.reject(d.msg):(T===!0?F=d.msg:F=T.call(void 0,d.msg),F===k.promise?k.reject(TypeError("Promise-chain cycle")):(M=v(F))?M.call(F,k.resolve,k.reject):k.resolve(F))}catch(S){k.reject(S)}}function g(d){var T,k=this;if(!k.triggered){k.triggered=!0,k.def&&(k=k.def);try{(T=v(d))?t(function(){var F=new y(k);try{T.call(d,function(){g.apply(F,arguments)},function(){m.apply(F,arguments)})}catch(M){m.call(F,M)}}):(k.msg=d,k.state=1,k.chain.length>0&&t(p,k))}catch(F){m.call(new y(k),F)}}}function m(d){var T=this;T.triggered||(T.triggered=!0,T.def&&(T=T.def),T.msg=d,T.state=2,T.chain.length>0&&t(p,T))}function w(d,T,k,F){for(var M=0;M<T.length;M++)(function(E){d.resolve(T[E]).then(function(z){k(E,z)},F)})(M)}function y(d){this.def=d,this.triggered=!1}function x(d){this.promise=d,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function f(d){if(typeof d!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var T=new x(this);this.then=function(F,M){var S={success:typeof F=="function"?F:!0,failure:typeof M=="function"?M:!1};return S.promise=new this.constructor(function(A,z){if(typeof A!="function"||typeof z!="function")throw TypeError("Not a function");S.resolve=A,S.reject=z}),T.chain.push(S),T.state!==0&&t(p,T),S.promise},this.catch=function(F){return this.then(void 0,F)};try{d.call(void 0,function(F){g.call(T,F)},function(F){m.call(T,F)})}catch(k){m.call(T,k)}}var b=s({},"constructor",f,!1);return f.prototype=b,s(b,"__NPO__",0,!1),s(f,"resolve",function(T){var k=this;return T&&typeof T=="object"&&T.__NPO__===1?T:new k(function(M,S){if(typeof M!="function"||typeof S!="function")throw TypeError("Not a function");M(T)})}),s(f,"reject",function(T){return new this(function(F,M){if(typeof F!="function"||typeof M!="function")throw TypeError("Not a function");M(T)})}),s(f,"all",function(T){var k=this;return l.call(T)!="[object Array]"?k.reject(TypeError("Not an array")):T.length===0?k.resolve([]):new k(function(M,S){if(typeof M!="function"||typeof S!="function")throw TypeError("Not a function");var E=T.length,A=Array(E),z=0;w(k,T,function(Q,X){A[Q]=X,++z===E&&M(A)},S)})}),s(f,"race",function(T){var k=this;return l.call(T)!="[object Array]"?k.reject(TypeError("Not an array")):new k(function(M,S){if(typeof M!="function"||typeof S!="function")throw TypeError("Not a function");w(k,T,function(A,z){M(z)},S)})}),f})}).call(this)}).call(this,typeof tn<"u"?tn:typeof self<"u"?self:typeof window<"u"?window:{},u("timers").setImmediate)},{timers:67}],55:[function(u,te,Y){var i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function s(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function e(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var l={},a=0;a<10;a++)l["_"+String.fromCharCode(a)]=a;var t=Object.getOwnPropertyNames(l).map(function(p){return l[p]});if(t.join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(p){v[p]=p}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}te.exports=e()?Object.assign:function(o,l){for(var a,t=s(o),v,p=1;p<arguments.length;p++){a=Object(arguments[p]);for(var h in a)n.call(a,h)&&(t[h]=a[h]);if(i){v=i(a);for(var g=0;g<v.length;g++)c.call(a,v[g])&&(t[v[g]]=a[v[g]])}}return t}},{}],56:[function(u,te,Y){te.exports=c;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function c(o){var l=[];return o.replace(n,function(a,t,v){var p=t.toLowerCase();for(v=e(v),p=="m"&&v.length>2&&(l.push([t].concat(v.splice(0,2))),p="l",t=t=="m"?"l":"L");;){if(v.length==i[p])return v.unshift(t),l.push(v);if(v.length<i[p])throw new Error("malformed path data");l.push([t].concat(v.splice(0,i[p])))}}),l}var s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function e(o){var l=o.match(s);return l?l.map(Number):[]}},{}],57:[function(u,te,Y){te.exports=function(n,c,s,e){var o=n[0],l=n[1],a=!1;s===void 0&&(s=0),e===void 0&&(e=c.length);for(var t=e-s,v=0,p=t-1;v<t;p=v++){var h=c[v+s][0],g=c[v+s][1],m=c[p+s][0],w=c[p+s][1],y=g>l!=w>l&&o<(m-h)*(l-g)/(w-g)+h;y&&(a=!a)}return a}},{}],58:[function(u,te,Y){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var i=u("./lib/build-log"),n=u("./lib/epsilon"),c=u("./lib/intersecter"),s=u("./lib/segment-chainer"),e=u("./lib/segment-selector"),o=u("./lib/geojson"),l=!1,a=n(),t;t={buildLog:function(p){return p===!0?l=i():p===!1&&(l=!1),l===!1?!1:l.list},epsilon:function(p){return a.epsilon(p)},segments:function(p){var h=c(!0,a,l);return p.regions.forEach(h.addRegion),{segments:h.calculate(p.inverted),inverted:p.inverted}},combine:function(p,h){var g=c(!1,a,l);return{combined:g.calculate(p.segments,p.inverted,h.segments,h.inverted),inverted1:p.inverted,inverted2:h.inverted}},selectUnion:function(p){return{segments:e.union(p.combined,l),inverted:p.inverted1||p.inverted2}},selectIntersect:function(p){return{segments:e.intersect(p.combined,l),inverted:p.inverted1&&p.inverted2}},selectDifference:function(p){return{segments:e.difference(p.combined,l),inverted:p.inverted1&&!p.inverted2}},selectDifferenceRev:function(p){return{segments:e.differenceRev(p.combined,l),inverted:!p.inverted1&&p.inverted2}},selectXor:function(p){return{segments:e.xor(p.combined,l),inverted:p.inverted1!==p.inverted2}},polygon:function(p){return{regions:s(p.segments,a,l),inverted:p.inverted}},polygonFromGeoJSON:function(p){return o.toPolygon(t,p)},polygonToGeoJSON:function(p){return o.fromPolygon(t,a,p)},union:function(p,h){return v(p,h,t.selectUnion)},intersect:function(p,h){return v(p,h,t.selectIntersect)},difference:function(p,h){return v(p,h,t.selectDifference)},differenceRev:function(p,h){return v(p,h,t.selectDifferenceRev)},xor:function(p,h){return v(p,h,t.selectXor)}};function v(p,h,g){var m=t.segments(p),w=t.segments(h),y=t.combine(m,w),x=g(y);return t.polygon(x)}typeof window=="object"&&(window.PolyBool=t),te.exports=t},{"./lib/build-log":59,"./lib/epsilon":60,"./lib/geojson":61,"./lib/intersecter":62,"./lib/segment-chainer":64,"./lib/segment-selector":65}],59:[function(u,te,Y){function i(){var n,c=0,s=!1;function e(o,l){return n.list.push({type:o,data:l?JSON.parse(JSON.stringify(l)):void 0}),n}return n={list:[],segmentId:function(){return c++},checkIntersection:function(o,l){return e("check",{seg1:o,seg2:l})},segmentChop:function(o,l){return e("div_seg",{seg:o,pt:l}),e("chop",{seg:o,pt:l})},statusRemove:function(o){return e("pop_seg",{seg:o})},segmentUpdate:function(o){return e("seg_update",{seg:o})},segmentNew:function(o,l){return e("new_seg",{seg:o,primary:l})},segmentRemove:function(o){return e("rem_seg",{seg:o})},tempStatus:function(o,l,a){return e("temp_status",{seg:o,above:l,below:a})},rewind:function(o){return e("rewind",{seg:o})},status:function(o,l,a){return e("status",{seg:o,above:l,below:a})},vert:function(o){return o===s?n:(s=o,e("vert",{x:o}))},log:function(o){return typeof o!="string"&&(o=JSON.stringify(o,!1,"  ")),e("log",{txt:o})},reset:function(){return e("reset")},selected:function(o){return e("selected",{segs:o})},chainStart:function(o){return e("chain_start",{seg:o})},chainRemoveHead:function(o,l){return e("chain_rem_head",{index:o,pt:l})},chainRemoveTail:function(o,l){return e("chain_rem_tail",{index:o,pt:l})},chainNew:function(o,l){return e("chain_new",{pt1:o,pt2:l})},chainMatch:function(o){return e("chain_match",{index:o})},chainClose:function(o){return e("chain_close",{index:o})},chainAddHead:function(o,l){return e("chain_add_head",{index:o,pt:l})},chainAddTail:function(o,l){return e("chain_add_tail",{index:o,pt:l})},chainConnect:function(o,l){return e("chain_con",{index1:o,index2:l})},chainReverse:function(o){return e("chain_rev",{index:o})},chainJoin:function(o,l){return e("chain_join",{index1:o,index2:l})},done:function(){return e("done")}},n}te.exports=i},{}],60:[function(u,te,Y){function i(n){typeof n!="number"&&(n=1e-10);var c={epsilon:function(s){return typeof s=="number"&&(n=s),n},pointAboveOrOnLine:function(s,e,o){var l=e[0],a=e[1],t=o[0],v=o[1],p=s[0],h=s[1];return(t-l)*(h-a)-(v-a)*(p-l)>=-n},pointBetween:function(s,e,o){var l=s[1]-e[1],a=o[0]-e[0],t=s[0]-e[0],v=o[1]-e[1],p=t*a+l*v;if(p<n)return!1;var h=a*a+v*v;return!(p-h>-n)},pointsSameX:function(s,e){return Math.abs(s[0]-e[0])<n},pointsSameY:function(s,e){return Math.abs(s[1]-e[1])<n},pointsSame:function(s,e){return c.pointsSameX(s,e)&&c.pointsSameY(s,e)},pointsCompare:function(s,e){return c.pointsSameX(s,e)?c.pointsSameY(s,e)?0:s[1]<e[1]?-1:1:s[0]<e[0]?-1:1},pointsCollinear:function(s,e,o){var l=s[0]-e[0],a=s[1]-e[1],t=e[0]-o[0],v=e[1]-o[1];return Math.abs(l*v-t*a)<n},linesIntersect:function(s,e,o,l){var a=e[0]-s[0],t=e[1]-s[1],v=l[0]-o[0],p=l[1]-o[1],h=a*p-t*v;if(Math.abs(h)<n)return!1;var g=s[0]-o[0],m=s[1]-o[1],w=(v*m-p*g)/h,y=(a*m-t*g)/h,x={alongA:0,alongB:0,pt:[s[0]+w*a,s[1]+w*t]};return w<=-n?x.alongA=-2:w<n?x.alongA=-1:w-1<=-n?x.alongA=0:w-1<n?x.alongA=1:x.alongA=2,y<=-n?x.alongB=-2:y<n?x.alongB=-1:y-1<=-n?x.alongB=0:y-1<n?x.alongB=1:x.alongB=2,x},pointInsideRegion:function(s,e){for(var o=s[0],l=s[1],a=e[e.length-1][0],t=e[e.length-1][1],v=!1,p=0;p<e.length;p++){var h=e[p][0],g=e[p][1];g-l>n!=t-l>n&&(a-h)*(l-g)/(t-g)+h-o>n&&(v=!v),a=h,t=g}return v}};return c}te.exports=i},{}],61:[function(u,te,Y){var i={toPolygon:function(n,c){function s(l){if(l.length<=0)return n.segments({inverted:!1,regions:[]});function a(p){var h=p.slice(0,p.length-1);return n.segments({inverted:!1,regions:[h]})}for(var t=a(l[0]),v=1;v<l.length;v++)t=n.selectDifference(n.combine(t,a(l[v])));return t}if(c.type==="Polygon")return n.polygon(s(c.coordinates));if(c.type==="MultiPolygon"){for(var e=n.segments({inverted:!1,regions:[]}),o=0;o<c.coordinates.length;o++)e=n.selectUnion(n.combine(e,s(c.coordinates[o])));return n.polygon(e)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(n,c,s){s=n.polygon(n.segments(s));function e(w,y){return c.pointInsideRegion([(w[0][0]+w[1][0])*.5,(w[0][1]+w[1][1])*.5],y)}function o(w){return{region:w,children:[]}}var l=o(null);function a(w,y){for(var x=0;x<w.children.length;x++){var f=w.children[x];if(e(y,f.region)){a(f,y);return}}for(var b=o(y),x=0;x<w.children.length;x++){var f=w.children[x];e(f.region,y)&&(b.children.push(f),w.children.splice(x,1),x--)}w.children.push(b)}for(var t=0;t<s.regions.length;t++){var v=s.regions[t];v.length<3||a(l,v)}function p(w,y){for(var x=0,f=w[w.length-1][0],b=w[w.length-1][1],d=[],T=0;T<w.length;T++){var k=w[T][0],F=w[T][1];d.push([k,F]),x+=F*f-k*b,f=k,b=F}var M=x<0;return M!==y&&d.reverse(),d.push([d[0][0],d[0][1]]),d}var h=[];function g(w){var y=[p(w.region,!1)];h.push(y);for(var x=0;x<w.children.length;x++)y.push(m(w.children[x]))}function m(w){for(var y=0;y<w.children.length;y++)g(w.children[y]);return p(w.region,!0)}for(var t=0;t<l.children.length;t++)g(l.children[t]);return h.length<=0?{type:"Polygon",coordinates:[]}:h.length==1?{type:"Polygon",coordinates:h[0]}:{type:"MultiPolygon",coordinates:h}}};te.exports=i},{}],62:[function(u,te,Y){var i=u("./linked-list");function n(c,s,e){function o(x,f){return{id:e?e.segmentId():-1,start:x,end:f,myFill:{above:null,below:null},otherFill:null}}function l(x,f,b){return{id:e?e.segmentId():-1,start:x,end:f,myFill:{above:b.myFill.above,below:b.myFill.below},otherFill:null}}var a=i.create();function t(x,f,b,d,T,k){var F=s.pointsCompare(f,T);return F!==0?F:s.pointsSame(b,k)?0:x!==d?x?1:-1:s.pointAboveOrOnLine(b,d?T:k,d?k:T)?1:-1}function v(x,f){a.insertBefore(x,function(b){var d=t(x.isStart,x.pt,f,b.isStart,b.pt,b.other.pt);return d<0})}function p(x,f){var b=i.node({isStart:!0,pt:x.start,seg:x,primary:f,other:null,status:null});return v(b,x.end),b}function h(x,f,b){var d=i.node({isStart:!1,pt:f.end,seg:f,primary:b,other:x,status:null});x.other=d,v(d,x.pt)}function g(x,f){var b=p(x,f);return h(b,x,f),b}function m(x,f){e&&e.segmentChop(x.seg,f),x.other.remove(),x.seg.end=f,x.other.pt=f,v(x.other,x.pt)}function w(x,f){var b=l(f,x.seg.end,x.seg);return m(x,f),g(b,x.primary)}function y(x,f){var b=i.create();function d(R,O){var U=R.seg.start,K=R.seg.end,ee=O.seg.start,ne=O.seg.end;return s.pointsCollinear(U,ee,ne)?s.pointsCollinear(K,ee,ne)||s.pointAboveOrOnLine(K,ee,ne)?1:-1:s.pointAboveOrOnLine(U,ee,ne)?1:-1}function T(R){return b.findTransition(function(O){var U=d(R,O.ev);return U>0})}function k(R,O){var U=R.seg,K=O.seg,ee=U.start,ne=U.end,me=K.start,pe=K.end;e&&e.checkIntersection(U,K);var be=s.linesIntersect(ee,ne,me,pe);if(be===!1){if(!s.pointsCollinear(ee,ne,me)||s.pointsSame(ee,pe)||s.pointsSame(ne,me))return!1;var ve=s.pointsSame(ee,me),C=s.pointsSame(ne,pe);if(ve&&C)return O;var I=!ve&&s.pointBetween(ee,me,pe),L=!C&&s.pointBetween(ne,me,pe);if(ve)return L?w(O,ne):w(R,pe),O;I&&(C||(L?w(O,ne):w(R,pe)),w(O,ee))}else be.alongA===0&&(be.alongB===-1?w(R,me):be.alongB===0?w(R,be.pt):be.alongB===1&&w(R,pe)),be.alongB===0&&(be.alongA===-1?w(O,ee):be.alongA===0?w(O,be.pt):be.alongA===1&&w(O,ne));return!1}for(var F=[];!a.isEmpty();){var M=a.getHead();if(e&&e.vert(M.pt[0]),M.isStart){let R=function(){if(E){var O=k(M,E);if(O)return O}return A?k(M,A):!1};e&&e.segmentNew(M.seg,M.primary);var S=T(M),E=S.before?S.before.ev:null,A=S.after?S.after.ev:null;e&&e.tempStatus(M.seg,E?E.seg:!1,A?A.seg:!1);var z=R();if(z){if(c){var H;M.seg.myFill.below===null?H=!0:H=M.seg.myFill.above!==M.seg.myFill.below,H&&(z.seg.myFill.above=!z.seg.myFill.above)}else z.seg.otherFill=M.seg.myFill;e&&e.segmentUpdate(z.seg),M.other.remove(),M.remove()}if(a.getHead()!==M){e&&e.rewind(M.seg);continue}if(c){var H;M.seg.myFill.below===null?H=!0:H=M.seg.myFill.above!==M.seg.myFill.below,A?M.seg.myFill.below=A.seg.myFill.above:M.seg.myFill.below=x,H?M.seg.myFill.above=!M.seg.myFill.below:M.seg.myFill.above=M.seg.myFill.below}else if(M.seg.otherFill===null){var Q;A?M.primary===A.primary?Q=A.seg.otherFill.above:Q=A.seg.myFill.above:Q=M.primary?f:x,M.seg.otherFill={above:Q,below:Q}}e&&e.status(M.seg,E?E.seg:!1,A?A.seg:!1),M.other.status=S.insert(i.node({ev:M}))}else{var X=M.status;if(X===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(b.exists(X.prev)&&b.exists(X.next)&&k(X.prev.ev,X.next.ev),e&&e.statusRemove(X.ev.seg),X.remove(),!M.primary){var ie=M.seg.myFill;M.seg.myFill=M.seg.otherFill,M.seg.otherFill=ie}F.push(M.seg)}a.getHead().remove()}return e&&e.done(),F}return c?{addRegion:function(x){for(var f,b=x[x.length-1],d=0;d<x.length;d++){f=b,b=x[d];var T=s.pointsCompare(f,b);T!==0&&g(o(T<0?f:b,T<0?b:f),!0)}},calculate:function(x){return y(x,!1)}}:{calculate:function(x,f,b,d){return x.forEach(function(T){g(l(T.start,T.end,T),!0)}),b.forEach(function(T){g(l(T.start,T.end,T),!1)}),y(f,d)}}}te.exports=n},{"./linked-list":63}],63:[function(u,te,Y){var i={create:function(){var n={root:{root:!0,next:null},exists:function(c){return!(c===null||c===n.root)},isEmpty:function(){return n.root.next===null},getHead:function(){return n.root.next},insertBefore:function(c,s){for(var e=n.root,o=n.root.next;o!==null;){if(s(o)){c.prev=o.prev,c.next=o,o.prev.next=c,o.prev=c;return}e=o,o=o.next}e.next=c,c.prev=e,c.next=null},findTransition:function(c){for(var s=n.root,e=n.root.next;e!==null&&!c(e);)s=e,e=e.next;return{before:s===n.root?null:s,after:e,insert:function(o){return o.prev=s,o.next=e,s.next=o,e!==null&&(e.prev=o),o}}}};return n},node:function(n){return n.prev=null,n.next=null,n.remove=function(){n.prev.next=n.next,n.next&&(n.next.prev=n.prev),n.prev=null,n.next=null},n}};te.exports=i},{}],64:[function(u,te,Y){function i(n,c,s){var e=[],o=[];return n.forEach(function(l){var a=l.start,t=l.end;if(c.pointsSame(a,t)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}s&&s.chainStart(l);var v={index:0,matches_head:!1,matches_pt1:!1},p={index:0,matches_head:!1,matches_pt1:!1},h=v;function g(Q,X,ie){return h.index=Q,h.matches_head=X,h.matches_pt1=ie,h===v?(h=p,!1):(h=null,!0)}for(var m=0;m<e.length;m++){var w=e[m],y=w[0];w[1];var x=w[w.length-1];if(w[w.length-2],c.pointsSame(y,a)){if(g(m,!0,!0))break}else if(c.pointsSame(y,t)){if(g(m,!0,!1))break}else if(c.pointsSame(x,a)){if(g(m,!1,!0))break}else if(c.pointsSame(x,t)&&g(m,!1,!1))break}if(h===v){e.push([a,t]),s&&s.chainNew(a,t);return}if(h===p){s&&s.chainMatch(v.index);var f=v.index,b=v.matches_pt1?t:a,d=v.matches_head,w=e[f],T=d?w[0]:w[w.length-1],k=d?w[1]:w[w.length-2],F=d?w[w.length-1]:w[0],M=d?w[w.length-2]:w[1];if(c.pointsCollinear(k,T,b)&&(d?(s&&s.chainRemoveHead(v.index,b),w.shift()):(s&&s.chainRemoveTail(v.index,b),w.pop()),T=k),c.pointsSame(F,b)){e.splice(f,1),c.pointsCollinear(M,F,T)&&(d?(s&&s.chainRemoveTail(v.index,T),w.pop()):(s&&s.chainRemoveHead(v.index,T),w.shift())),s&&s.chainClose(v.index),o.push(w);return}d?(s&&s.chainAddHead(v.index,b),w.unshift(b)):(s&&s.chainAddTail(v.index,b),w.push(b));return}function S(Q){s&&s.chainReverse(Q),e[Q].reverse()}function E(Q,X){var ie=e[Q],R=e[X],O=ie[ie.length-1],U=ie[ie.length-2],K=R[0],ee=R[1];c.pointsCollinear(U,O,K)&&(s&&s.chainRemoveTail(Q,O),ie.pop(),O=U),c.pointsCollinear(O,K,ee)&&(s&&s.chainRemoveHead(X,K),R.shift()),s&&s.chainJoin(Q,X),e[Q]=ie.concat(R),e.splice(X,1)}var A=v.index,z=p.index;s&&s.chainConnect(A,z);var H=e[A].length<e[z].length;v.matches_head?p.matches_head?H?(S(A),E(A,z)):(S(z),E(z,A)):E(z,A):p.matches_head?E(A,z):H?(S(A),E(z,A)):(S(z),E(A,z))}),o}te.exports=i},{}],65:[function(u,te,Y){function i(c,s,e){var o=[];return c.forEach(function(l){var a=(l.myFill.above?8:0)+(l.myFill.below?4:0)+(l.otherFill&&l.otherFill.above?2:0)+(l.otherFill&&l.otherFill.below?1:0);s[a]!==0&&o.push({id:e?e.segmentId():-1,start:l.start,end:l.end,myFill:{above:s[a]===1,below:s[a]===2},otherFill:null})}),e&&e.selected(o),o}var n={union:function(c,s){return i(c,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],s)},intersect:function(c,s){return i(c,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],s)},difference:function(c,s){return i(c,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],s)},differenceRev:function(c,s){return i(c,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],s)},xor:function(c,s){return i(c,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],s)}};te.exports=n},{}],66:[function(u,te,Y){var i=te.exports={},n,c;function s(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=s}catch{n=s}try{typeof clearTimeout=="function"?c=clearTimeout:c=e}catch{c=e}})();function o(y){if(n===setTimeout)return setTimeout(y,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(y,0);try{return n(y,0)}catch{try{return n.call(null,y,0)}catch{return n.call(this,y,0)}}}function l(y){if(c===clearTimeout)return clearTimeout(y);if((c===e||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(y);try{return c(y)}catch{try{return c.call(null,y)}catch{return c.call(this,y)}}}var a=[],t=!1,v,p=-1;function h(){!t||!v||(t=!1,v.length?a=v.concat(a):p=-1,a.length&&g())}function g(){if(!t){var y=o(h);t=!0;for(var x=a.length;x;){for(v=a,a=[];++p<x;)v&&v[p].run();p=-1,x=a.length}v=null,t=!1,l(y)}}i.nextTick=function(y){var x=new Array(arguments.length-1);if(arguments.length>1)for(var f=1;f<arguments.length;f++)x[f-1]=arguments[f];a.push(new m(y,x)),a.length===1&&!t&&o(g)};function m(y,x){this.fun=y,this.array=x}m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function w(){}i.on=w,i.addListener=w,i.once=w,i.off=w,i.removeListener=w,i.removeAllListeners=w,i.emit=w,i.prependListener=w,i.prependOnceListener=w,i.listeners=function(y){return[]},i.binding=function(y){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(y){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],67:[function(u,te,Y){(function(i,n){(function(){var c=u("process/browser.js").nextTick,s=Function.prototype.apply,e=Array.prototype.slice,o={},l=0;Y.setTimeout=function(){return new a(s.call(setTimeout,window,arguments),clearTimeout)},Y.setInterval=function(){return new a(s.call(setInterval,window,arguments),clearInterval)},Y.clearTimeout=Y.clearInterval=function(t){t.close()};function a(t,v){this._id=t,this._clearFn=v}a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},Y.enroll=function(t,v){clearTimeout(t._idleTimeoutId),t._idleTimeout=v},Y.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},Y._unrefActive=Y.active=function(t){clearTimeout(t._idleTimeoutId);var v=t._idleTimeout;v>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},v))},Y.setImmediate=typeof i=="function"?i:function(t){var v=l++,p=arguments.length<2?!1:e.call(arguments,1);return o[v]=!0,c(function(){o[v]&&(p?t.apply(null,p):t.call(null),Y.clearImmediate(v))}),v},Y.clearImmediate=typeof n=="function"?n:function(t){delete o[t]}}).call(this)}).call(this,u("timers").setImmediate,u("timers").clearImmediate)},{"process/browser.js":66,timers:67}],68:[function(u,te,Y){(function(i){var n=/^\s+/,c=/\s+$/,s=0,e=i.round,o=i.min,l=i.max,a=i.random;function t(N,Z){if(N=N||"",Z=Z||{},N instanceof t)return N;if(!(this instanceof t))return new t(N,Z);var W=v(N);this._originalInput=N,this._r=W.r,this._g=W.g,this._b=W.b,this._a=W.a,this._roundA=e(100*this._a)/100,this._format=Z.format||W.format,this._gradientType=Z.gradientType,this._r<1&&(this._r=e(this._r)),this._g<1&&(this._g=e(this._g)),this._b<1&&(this._b=e(this._b)),this._ok=W.ok,this._tc_id=s++}t.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var N=this.toRgb();return(N.r*299+N.g*587+N.b*114)/1e3},getLuminance:function(){var N=this.toRgb(),Z,W,q,re,se,_e;return Z=N.r/255,W=N.g/255,q=N.b/255,Z<=.03928?re=Z/12.92:re=i.pow((Z+.055)/1.055,2.4),W<=.03928?se=W/12.92:se=i.pow((W+.055)/1.055,2.4),q<=.03928?_e=q/12.92:_e=i.pow((q+.055)/1.055,2.4),.2126*re+.7152*se+.0722*_e},setAlpha:function(N){return this._a=U(N),this._roundA=e(100*this._a)/100,this},toHsv:function(){var N=m(this._r,this._g,this._b);return{h:N.h*360,s:N.s,v:N.v,a:this._a}},toHsvString:function(){var N=m(this._r,this._g,this._b),Z=e(N.h*360),W=e(N.s*100),q=e(N.v*100);return this._a==1?"hsv("+Z+", "+W+"%, "+q+"%)":"hsva("+Z+", "+W+"%, "+q+"%, "+this._roundA+")"},toHsl:function(){var N=h(this._r,this._g,this._b);return{h:N.h*360,s:N.s,l:N.l,a:this._a}},toHslString:function(){var N=h(this._r,this._g,this._b),Z=e(N.h*360),W=e(N.s*100),q=e(N.l*100);return this._a==1?"hsl("+Z+", "+W+"%, "+q+"%)":"hsla("+Z+", "+W+"%, "+q+"%, "+this._roundA+")"},toHex:function(N){return y(this._r,this._g,this._b,N)},toHexString:function(N){return"#"+this.toHex(N)},toHex8:function(N){return x(this._r,this._g,this._b,this._a,N)},toHex8String:function(N){return"#"+this.toHex8(N)},toRgb:function(){return{r:e(this._r),g:e(this._g),b:e(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+e(this._r)+", "+e(this._g)+", "+e(this._b)+")":"rgba("+e(this._r)+", "+e(this._g)+", "+e(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:e(K(this._r,255)*100)+"%",g:e(K(this._g,255)*100)+"%",b:e(K(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+e(K(this._r,255)*100)+"%, "+e(K(this._g,255)*100)+"%, "+e(K(this._b,255)*100)+"%)":"rgba("+e(K(this._r,255)*100)+"%, "+e(K(this._g,255)*100)+"%, "+e(K(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:R[y(this._r,this._g,this._b,!0)]||!1},toFilter:function(N){var Z="#"+f(this._r,this._g,this._b,this._a),W=Z,q=this._gradientType?"GradientType = 1, ":"";if(N){var re=t(N);W="#"+f(re._r,re._g,re._b,re._a)}return"progid:DXImageTransform.Microsoft.gradient("+q+"startColorstr="+Z+",endColorstr="+W+")"},toString:function(N){var Z=!!N;N=N||this._format;var W=!1,q=this._a<1&&this._a>=0,re=!Z&&q&&(N==="hex"||N==="hex6"||N==="hex3"||N==="hex4"||N==="hex8"||N==="name");return re?N==="name"&&this._a===0?this.toName():this.toRgbString():(N==="rgb"&&(W=this.toRgbString()),N==="prgb"&&(W=this.toPercentageRgbString()),(N==="hex"||N==="hex6")&&(W=this.toHexString()),N==="hex3"&&(W=this.toHexString(!0)),N==="hex4"&&(W=this.toHex8String(!0)),N==="hex8"&&(W=this.toHex8String()),N==="name"&&(W=this.toName()),N==="hsl"&&(W=this.toHslString()),N==="hsv"&&(W=this.toHsvString()),W||this.toHexString())},clone:function(){return t(this.toString())},_applyModification:function(N,Z){var W=N.apply(null,[this].concat([].slice.call(Z)));return this._r=W._r,this._g=W._g,this._b=W._b,this.setAlpha(W._a),this},lighten:function(){return this._applyModification(k,arguments)},brighten:function(){return this._applyModification(F,arguments)},darken:function(){return this._applyModification(M,arguments)},desaturate:function(){return this._applyModification(b,arguments)},saturate:function(){return this._applyModification(d,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(N,Z){return N.apply(null,[this].concat([].slice.call(Z)))},analogous:function(){return this._applyCombination(Q,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(X,arguments)},splitcomplement:function(){return this._applyCombination(H,arguments)},triad:function(){return this._applyCombination(A,arguments)},tetrad:function(){return this._applyCombination(z,arguments)}},t.fromRatio=function(N,Z){if(typeof N=="object"){var W={};for(var q in N)N.hasOwnProperty(q)&&(q==="a"?W[q]=N[q]:W[q]=ve(N[q]));N=W}return t(N,Z)};function v(N){var Z={r:0,g:0,b:0},W=1,q=null,re=null,se=null,_e=!1,ge=!1;return typeof N=="string"&&(N=B(N)),typeof N=="object"&&(P(N.r)&&P(N.g)&&P(N.b)?(Z=p(N.r,N.g,N.b),_e=!0,ge=String(N.r).substr(-1)==="%"?"prgb":"rgb"):P(N.h)&&P(N.s)&&P(N.v)?(q=ve(N.s),re=ve(N.v),Z=w(N.h,q,re),_e=!0,ge="hsv"):P(N.h)&&P(N.s)&&P(N.l)&&(q=ve(N.s),se=ve(N.l),Z=g(N.h,q,se),_e=!0,ge="hsl"),N.hasOwnProperty("a")&&(W=N.a)),W=U(W),{ok:_e,format:N.format||ge,r:o(255,l(Z.r,0)),g:o(255,l(Z.g,0)),b:o(255,l(Z.b,0)),a:W}}function p(N,Z,W){return{r:K(N,255)*255,g:K(Z,255)*255,b:K(W,255)*255}}function h(N,Z,W){N=K(N,255),Z=K(Z,255),W=K(W,255);var q=l(N,Z,W),re=o(N,Z,W),se,_e,ge=(q+re)/2;if(q==re)se=_e=0;else{var Ae=q-re;switch(_e=ge>.5?Ae/(2-q-re):Ae/(q+re),q){case N:se=(Z-W)/Ae+(Z<W?6:0);break;case Z:se=(W-N)/Ae+2;break;case W:se=(N-Z)/Ae+4;break}se/=6}return{h:se,s:_e,l:ge}}function g(N,Z,W){var q,re,se;N=K(N,360),Z=K(Z,100),W=K(W,100);function _e(Ce,ue,he){return he<0&&(he+=1),he>1&&(he-=1),he<1/6?Ce+(ue-Ce)*6*he:he<1/2?ue:he<2/3?Ce+(ue-Ce)*(2/3-he)*6:Ce}if(Z===0)q=re=se=W;else{var ge=W<.5?W*(1+Z):W+Z-W*Z,Ae=2*W-ge;q=_e(Ae,ge,N+1/3),re=_e(Ae,ge,N),se=_e(Ae,ge,N-1/3)}return{r:q*255,g:re*255,b:se*255}}function m(N,Z,W){N=K(N,255),Z=K(Z,255),W=K(W,255);var q=l(N,Z,W),re=o(N,Z,W),se,_e,ge=q,Ae=q-re;if(_e=q===0?0:Ae/q,q==re)se=0;else{switch(q){case N:se=(Z-W)/Ae+(Z<W?6:0);break;case Z:se=(W-N)/Ae+2;break;case W:se=(N-Z)/Ae+4;break}se/=6}return{h:se,s:_e,v:ge}}function w(N,Z,W){N=K(N,360)*6,Z=K(Z,100),W=K(W,100);var q=i.floor(N),re=N-q,se=W*(1-Z),_e=W*(1-re*Z),ge=W*(1-(1-re)*Z),Ae=q%6,Ce=[W,_e,se,se,ge,W][Ae],ue=[ge,W,W,_e,se,se][Ae],he=[se,se,ge,W,W,_e][Ae];return{r:Ce*255,g:ue*255,b:he*255}}function y(N,Z,W,q){var re=[be(e(N).toString(16)),be(e(Z).toString(16)),be(e(W).toString(16))];return q&&re[0].charAt(0)==re[0].charAt(1)&&re[1].charAt(0)==re[1].charAt(1)&&re[2].charAt(0)==re[2].charAt(1)?re[0].charAt(0)+re[1].charAt(0)+re[2].charAt(0):re.join("")}function x(N,Z,W,q,re){var se=[be(e(N).toString(16)),be(e(Z).toString(16)),be(e(W).toString(16)),be(C(q))];return re&&se[0].charAt(0)==se[0].charAt(1)&&se[1].charAt(0)==se[1].charAt(1)&&se[2].charAt(0)==se[2].charAt(1)&&se[3].charAt(0)==se[3].charAt(1)?se[0].charAt(0)+se[1].charAt(0)+se[2].charAt(0)+se[3].charAt(0):se.join("")}function f(N,Z,W,q){var re=[be(C(q)),be(e(N).toString(16)),be(e(Z).toString(16)),be(e(W).toString(16))];return re.join("")}t.equals=function(N,Z){return!N||!Z?!1:t(N).toRgbString()==t(Z).toRgbString()},t.random=function(){return t.fromRatio({r:a(),g:a(),b:a()})};function b(N,Z){Z=Z===0?0:Z||10;var W=t(N).toHsl();return W.s-=Z/100,W.s=ee(W.s),t(W)}function d(N,Z){Z=Z===0?0:Z||10;var W=t(N).toHsl();return W.s+=Z/100,W.s=ee(W.s),t(W)}function T(N){return t(N).desaturate(100)}function k(N,Z){Z=Z===0?0:Z||10;var W=t(N).toHsl();return W.l+=Z/100,W.l=ee(W.l),t(W)}function F(N,Z){Z=Z===0?0:Z||10;var W=t(N).toRgb();return W.r=l(0,o(255,W.r-e(255*-(Z/100)))),W.g=l(0,o(255,W.g-e(255*-(Z/100)))),W.b=l(0,o(255,W.b-e(255*-(Z/100)))),t(W)}function M(N,Z){Z=Z===0?0:Z||10;var W=t(N).toHsl();return W.l-=Z/100,W.l=ee(W.l),t(W)}function S(N,Z){var W=t(N).toHsl(),q=(W.h+Z)%360;return W.h=q<0?360+q:q,t(W)}function E(N){var Z=t(N).toHsl();return Z.h=(Z.h+180)%360,t(Z)}function A(N){var Z=t(N).toHsl(),W=Z.h;return[t(N),t({h:(W+120)%360,s:Z.s,l:Z.l}),t({h:(W+240)%360,s:Z.s,l:Z.l})]}function z(N){var Z=t(N).toHsl(),W=Z.h;return[t(N),t({h:(W+90)%360,s:Z.s,l:Z.l}),t({h:(W+180)%360,s:Z.s,l:Z.l}),t({h:(W+270)%360,s:Z.s,l:Z.l})]}function H(N){var Z=t(N).toHsl(),W=Z.h;return[t(N),t({h:(W+72)%360,s:Z.s,l:Z.l}),t({h:(W+216)%360,s:Z.s,l:Z.l})]}function Q(N,Z,W){Z=Z||6,W=W||30;var q=t(N).toHsl(),re=360/W,se=[t(N)];for(q.h=(q.h-(re*Z>>1)+720)%360;--Z;)q.h=(q.h+re)%360,se.push(t(q));return se}function X(N,Z){Z=Z||6;for(var W=t(N).toHsv(),q=W.h,re=W.s,se=W.v,_e=[],ge=1/Z;Z--;)_e.push(t({h:q,s:re,v:se})),se=(se+ge)%1;return _e}t.mix=function(N,Z,W){W=W===0?0:W||50;var q=t(N).toRgb(),re=t(Z).toRgb(),se=W/100,_e={r:(re.r-q.r)*se+q.r,g:(re.g-q.g)*se+q.g,b:(re.b-q.b)*se+q.b,a:(re.a-q.a)*se+q.a};return t(_e)},t.readability=function(N,Z){var W=t(N),q=t(Z);return(i.max(W.getLuminance(),q.getLuminance())+.05)/(i.min(W.getLuminance(),q.getLuminance())+.05)},t.isReadable=function(N,Z,W){var q=t.readability(N,Z),re,se;switch(se=!1,re=V(W),re.level+re.size){case"AAsmall":case"AAAlarge":se=q>=4.5;break;case"AAlarge":se=q>=3;break;case"AAAsmall":se=q>=7;break}return se},t.mostReadable=function(N,Z,W){var q=null,re=0,se,_e,ge,Ae;W=W||{},_e=W.includeFallbackColors,ge=W.level,Ae=W.size;for(var Ce=0;Ce<Z.length;Ce++)se=t.readability(N,Z[Ce]),se>re&&(re=se,q=t(Z[Ce]));return t.isReadable(N,q,{level:ge,size:Ae})||!_e?q:(W.includeFallbackColors=!1,t.mostReadable(N,["#fff","#000"],W))};var ie=t.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R=t.hexNames=O(ie);function O(N){var Z={};for(var W in N)N.hasOwnProperty(W)&&(Z[N[W]]=W);return Z}function U(N){return N=parseFloat(N),(isNaN(N)||N<0||N>1)&&(N=1),N}function K(N,Z){me(N)&&(N="100%");var W=pe(N);return N=o(Z,l(0,parseFloat(N))),W&&(N=parseInt(N*Z,10)/100),i.abs(N-Z)<1e-6?1:N%Z/parseFloat(Z)}function ee(N){return o(1,l(0,N))}function ne(N){return parseInt(N,16)}function me(N){return typeof N=="string"&&N.indexOf(".")!=-1&&parseFloat(N)===1}function pe(N){return typeof N=="string"&&N.indexOf("%")!=-1}function be(N){return N.length==1?"0"+N:""+N}function ve(N){return N<=1&&(N=N*100+"%"),N}function C(N){return i.round(parseFloat(N)*255).toString(16)}function I(N){return ne(N)/255}var L=function(){var N="[-\\+]?\\d+%?",Z="[-\\+]?\\d*\\.\\d+%?",W="(?:"+Z+")|(?:"+N+")",q="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",re="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?";return{CSS_UNIT:new RegExp(W),rgb:new RegExp("rgb"+q),rgba:new RegExp("rgba"+re),hsl:new RegExp("hsl"+q),hsla:new RegExp("hsla"+re),hsv:new RegExp("hsv"+q),hsva:new RegExp("hsva"+re),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function P(N){return!!L.CSS_UNIT.exec(N)}function B(N){N=N.replace(n,"").replace(c,"").toLowerCase();var Z=!1;if(ie[N])N=ie[N],Z=!0;else if(N=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var W;return(W=L.rgb.exec(N))?{r:W[1],g:W[2],b:W[3]}:(W=L.rgba.exec(N))?{r:W[1],g:W[2],b:W[3],a:W[4]}:(W=L.hsl.exec(N))?{h:W[1],s:W[2],l:W[3]}:(W=L.hsla.exec(N))?{h:W[1],s:W[2],l:W[3],a:W[4]}:(W=L.hsv.exec(N))?{h:W[1],s:W[2],v:W[3]}:(W=L.hsva.exec(N))?{h:W[1],s:W[2],v:W[3],a:W[4]}:(W=L.hex8.exec(N))?{r:ne(W[1]),g:ne(W[2]),b:ne(W[3]),a:I(W[4]),format:Z?"name":"hex8"}:(W=L.hex6.exec(N))?{r:ne(W[1]),g:ne(W[2]),b:ne(W[3]),format:Z?"name":"hex"}:(W=L.hex4.exec(N))?{r:ne(W[1]+""+W[1]),g:ne(W[2]+""+W[2]),b:ne(W[3]+""+W[3]),a:I(W[4]+""+W[4]),format:Z?"name":"hex8"}:(W=L.hex3.exec(N))?{r:ne(W[1]+""+W[1]),g:ne(W[2]+""+W[2]),b:ne(W[3]+""+W[3]),format:Z?"name":"hex"}:!1}function V(N){var Z,W;return N=N||{level:"AA",size:"small"},Z=(N.level||"AA").toUpperCase(),W=(N.size||"small").toLowerCase(),Z!=="AA"&&Z!=="AAA"&&(Z="AA"),W!=="small"&&W!=="large"&&(W="small"),{level:Z,size:W}}typeof te<"u"&&te.exports?te.exports=t:window.tinycolor=t})(Math)},{}],69:[function(u,te,Y){var i=u("../main"),n=u("object-assign"),c=i.instance();function s(g){this.local=this.regionalOptions[g||""]||this.regionalOptions[""]}s.prototype=new i.baseCalendar,n(s.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(g,m){if(typeof g=="string"){var w=g.match(o);return w?w[0]:""}var y=this._validateYear(g),x=g.month(),f=""+this.toChineseMonth(y,x);return m&&f.length<2&&(f="0"+f),this.isIntercalaryMonth(y,x)&&(f+="i"),f},monthNames:function(g){if(typeof g=="string"){var m=g.match(l);return m?m[0]:""}var w=this._validateYear(g),y=g.month(),x=this.toChineseMonth(w,y),f=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][x-1];return this.isIntercalaryMonth(w,y)&&(f="\u95F0"+f),f},monthNamesShort:function(g){if(typeof g=="string"){var m=g.match(a);return m?m[0]:""}var w=this._validateYear(g),y=g.month(),x=this.toChineseMonth(w,y),f=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][x-1];return this.isIntercalaryMonth(w,y)&&(f="\u95F0"+f),f},parseMonth:function(g,m){g=this._validateYear(g);var w=parseInt(m),y;if(isNaN(w))m[0]==="\u95F0"&&(y=!0,m=m.substring(1)),m[m.length-1]==="\u6708"&&(m=m.substring(0,m.length-1)),w=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(m);else{var x=m[m.length-1];y=x==="i"||x==="I"}var f=this.toMonthIndex(g,w,y);return f},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(g,m){if(g.year&&(g=g.year()),typeof g!="number"||g<1888||g>2111)throw m.replace(/\{0\}/,this.local.name);return g},toMonthIndex:function(g,m,w){var y=this.intercalaryMonth(g),x=w&&m!==y;if(x||m<1||m>12)throw i.local.invalidMonth.replace(/\{0\}/,this.local.name);var f;return y?!w&&m<=y?f=m-1:f=m:f=m-1,f},toChineseMonth:function(g,m){g.year&&(g=g.year(),m=g.month());var w=this.intercalaryMonth(g),y=w?12:11;if(m<0||m>y)throw i.local.invalidMonth.replace(/\{0\}/,this.local.name);var x;return w?m<w?x=m+1:x=m:x=m+1,x},intercalaryMonth:function(g){g=this._validateYear(g);var m=t[g-t[0]],w=m>>13;return w},isIntercalaryMonth:function(g,m){g.year&&(g=g.year(),m=g.month());var w=this.intercalaryMonth(g);return!!w&&w===m},leapYear:function(g){return this.intercalaryMonth(g)!==0},weekOfYear:function(g,m,w){var y=this._validateYear(g,i.local.invalidyear),x=v[y-v[0]],f=x>>9&4095,b=x>>5&15,d=x&31,T;T=c.newDate(f,b,d),T.add(4-(T.dayOfWeek()||7),"d");var k=this.toJD(g,m,w)-T.toJD();return 1+Math.floor(k/7)},monthsInYear:function(g){return this.leapYear(g)?13:12},daysInMonth:function(g,m){g.year&&(m=g.month(),g=g.year()),g=this._validateYear(g);var w=t[g-t[0]],y=w>>13,x=y?12:11;if(m>x)throw i.local.invalidMonth.replace(/\{0\}/,this.local.name);var f=w&1<<12-m?30:29;return f},weekDay:function(g,m,w){return(this.dayOfWeek(g,m,w)||7)<6},toJD:function(g,m,w){var y=this._validate(g,f,w,i.local.invalidDate);g=this._validateYear(y.year()),m=y.month(),w=y.day();var x=this.isIntercalaryMonth(g,m),f=this.toChineseMonth(g,m),b=h(g,f,w,x);return c.toJD(b.year,b.month,b.day)},fromJD:function(g){var m=c.fromJD(g),w=p(m.year(),m.month(),m.day()),y=this.toMonthIndex(w.year,w.month,w.isIntercalary);return this.newDate(w.year,y,w.day)},fromString:function(g){var m=g.match(e),w=this._validateYear(+m[1]),y=+m[2],x=!!m[3],f=this.toMonthIndex(w,y,x),b=+m[4];return this.newDate(w,f,b)},add:function(g,m,w){var y=g.year(),x=g.month(),f=this.isIntercalaryMonth(y,x),b=this.toChineseMonth(y,x),d=Object.getPrototypeOf(s.prototype).add.call(this,g,m,w);if(w==="y"){var T=d.year(),k=d.month(),F=this.isIntercalaryMonth(T,b),M=f&&F?this.toMonthIndex(T,b,!0):this.toMonthIndex(T,b,!1);M!==k&&d.month(M)}return d}});var e=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,o=/^\d?\d[iI]?/m,l=/^闰?十?[一二三四五六七八九]?月/m,a=/^闰?十?[一二三四五六七八九]?/m;i.calendars.chinese=s;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],v=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function p(g,m,w,y){var x,f;if(typeof g=="object")x=g,f=m||{};else{var b=typeof g=="number"&&g>=1888&&g<=2111;if(!b)throw new Error("Solar year outside range 1888-2111");var d=typeof m=="number"&&m>=1&&m<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var T=typeof w=="number"&&w>=1&&w<=31;if(!T)throw new Error("Solar day outside range 1 - 31");x={year:g,month:m,day:w},f=y||{}}var k=v[x.year-v[0]],F=x.year<<9|x.month<<5|x.day;f.year=F>=k?x.year:x.year-1,k=v[f.year-v[0]];var M=k>>9&4095,S=k>>5&15,E=k&31,A,z=new Date(M,S-1,E),H=new Date(x.year,x.month-1,x.day);A=Math.round((H-z)/(24*3600*1e3));var Q=t[f.year-t[0]],X;for(X=0;X<13;X++){var ie=Q&1<<12-X?30:29;if(A<ie)break;A-=ie}var R=Q>>13;return!R||X<R?(f.isIntercalary=!1,f.month=1+X):X===R?(f.isIntercalary=!0,f.month=X):(f.isIntercalary=!1,f.month=X),f.day=1+A,f}function h(g,m,w,y,x){var f,b;if(typeof g=="object")b=g,f=m||{};else{var d=typeof g=="number"&&g>=1888&&g<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var T=typeof m=="number"&&m>=1&&m<=12;if(!T)throw new Error("Lunar month outside range 1 - 12");var k=typeof w=="number"&&w>=1&&w<=30;if(!k)throw new Error("Lunar day outside range 1 - 30");var F;typeof y=="object"?(F=!1,f=y):(F=!!y,f=x||{}),b={year:g,month:m,day:w,isIntercalary:F}}var M;M=b.day-1;var S=t[b.year-t[0]],E=S>>13,A;E&&(b.month>E||b.isIntercalary)?A=b.month:A=b.month-1;for(var z=0;z<A;z++){var H=S&1<<12-z?30:29;M+=H}var Q=v[b.year-v[0]],X=Q>>9&4095,ie=Q>>5&15,R=Q&31,O=new Date(X,ie-1,R+M);return f.year=O.getFullYear(),f.month=1+O.getMonth(),f.day=O.getDate(),f}},{"../main":83,"object-assign":55}],70:[function(u,te,Y){var i=u("../main"),n=u("object-assign");function c(s){this.local=this.regionalOptions[s||""]||this.regionalOptions[""]}c.prototype=new i.baseCalendar,n(c.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(o){var e=this._validate(o,this.minMonth,this.minDay,i.local.invalidYear),o=e.year()+(e.year()<0?1:0);return o%4===3||o%4===-1},monthsInYear:function(s){return this._validate(s,this.minMonth,this.minDay,i.local.invalidYear||i.regionalOptions[""].invalidYear),13},weekOfYear:function(s,e,o){var l=this.newDate(s,e,o);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(s,e){var o=this._validate(s,e,this.minDay,i.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===13&&this.leapYear(o.year())?1:0)},weekDay:function(s,e,o){return(this.dayOfWeek(s,e,o)||7)<6},toJD:function(s,e,o){var l=this._validate(s,e,o,i.local.invalidDate);return s=l.year(),s<0&&s++,l.day()+(l.month()-1)*30+(s-1)*365+Math.floor(s/4)+this.jdEpoch-1},fromJD:function(s){var e=Math.floor(s)+.5-this.jdEpoch,o=Math.floor((e-Math.floor((e+366)/1461))/365)+1;o<=0&&o--,e=Math.floor(s)+.5-this.newDate(o,1,1).toJD();var l=Math.floor(e/30)+1,a=e-(l-1)*30+1;return this.newDate(o,l,a)}}),i.calendars.coptic=c},{"../main":83,"object-assign":55}],71:[function(u,te,Y){var i=u("../main"),n=u("object-assign");function c(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}c.prototype=new i.baseCalendar,n(c.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,i.local.invalidYear),!1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,i.local.invalidYear),13},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,i.local.invalidYear),400},weekOfYear:function(e,o,l){var a=this.newDate(e,o,l);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/8)+1},daysInMonth:function(e,o){var l=this._validate(e,o,this.minDay,i.local.invalidMonth);return this.daysPerMonth[l.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,o,l){var a=this._validate(e,o,l,i.local.invalidDate);return(a.day()+1)%8},weekDay:function(e,o,l){var a=this.dayOfWeek(e,o,l);return a>=2&&a<=6},extraInfo:function(e,o,l){var a=this._validate(e,o,l,i.local.invalidDate);return{century:s[Math.floor((a.year()-1)/100)+1]||""}},toJD:function(e,o,l){var a=this._validate(e,o,l,i.local.invalidDate);return e=a.year()+(a.year()<0?1:0),o=a.month(),l=a.day(),l+(o>1?16:0)+(o>2?(o-2)*32:0)+(e-1)*400+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e+.5)-Math.floor(this.jdEpoch)-1;var o=Math.floor(e/400)+1;e-=(o-1)*400,e+=e>15?16:0;var l=Math.floor(e/32)+1,a=e-(l-1)*32+1;return this.newDate(o<=0?o-1:o,l,a)}});var s={20:"Fruitbat",21:"Anchovy"};i.calendars.discworld=c},{"../main":83,"object-assign":55}],72:[function(u,te,Y){var i=u("../main"),n=u("object-assign");function c(s){this.local=this.regionalOptions[s||""]||this.regionalOptions[""]}c.prototype=new i.baseCalendar,n(c.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(o){var e=this._validate(o,this.minMonth,this.minDay,i.local.invalidYear),o=e.year()+(e.year()<0?1:0);return o%4===3||o%4===-1},monthsInYear:function(s){return this._validate(s,this.minMonth,this.minDay,i.local.invalidYear||i.regionalOptions[""].invalidYear),13},weekOfYear:function(s,e,o){var l=this.newDate(s,e,o);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(s,e){var o=this._validate(s,e,this.minDay,i.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===13&&this.leapYear(o.year())?1:0)},weekDay:function(s,e,o){return(this.dayOfWeek(s,e,o)||7)<6},toJD:function(s,e,o){var l=this._validate(s,e,o,i.local.invalidDate);return s=l.year(),s<0&&s++,l.day()+(l.month()-1)*30+(s-1)*365+Math.floor(s/4)+this.jdEpoch-1},fromJD:function(s){var e=Math.floor(s)+.5-this.jdEpoch,o=Math.floor((e-Math.floor((e+366)/1461))/365)+1;o<=0&&o--,e=Math.floor(s)+.5-this.newDate(o,1,1).toJD();var l=Math.floor(e/30)+1,a=e-(l-1)*30+1;return this.newDate(o,l,a)}}),i.calendars.ethiopian=c},{"../main":83,"object-assign":55}],73:[function(u,te,Y){var i=u("../main"),n=u("object-assign");function c(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}c.prototype=new i.baseCalendar,n(c.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var o=this._validate(e,this.minMonth,this.minDay,i.local.invalidYear);return this._leapYear(o.year())},_leapYear:function(e){return e=e<0?e+1:e,s(e*7+1,19)<7},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,i.local.invalidYear),this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(e,o,l){var a=this.newDate(e,o,l);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(e){var o=this._validate(e,this.minMonth,this.minDay,i.local.invalidYear);return e=o.year(),this.toJD(e===-1?1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,o){return e.year&&(o=e.month(),e=e.year()),this._validate(e,o,this.minDay,i.local.invalidMonth),o===12&&this.leapYear(e)||o===8&&s(this.daysInYear(e),10)===5?30:o===9&&s(this.daysInYear(e),10)===3?29:this.daysPerMonth[o-1]},weekDay:function(e,o,l){return this.dayOfWeek(e,o,l)!==6},extraInfo:function(e,o,l){var a=this._validate(e,o,l,i.local.invalidDate);return{yearType:(this.leapYear(a)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(a)%10-3]}},toJD:function(e,o,l){var a=this._validate(e,o,l,i.local.invalidDate);e=a.year(),o=a.month(),l=a.day();var t=e<=0?e+1:e,v=this.jdEpoch+this._delay1(t)+this._delay2(t)+l+1;if(o<7){for(var p=7;p<=this.monthsInYear(e);p++)v+=this.daysInMonth(e,p);for(var p=1;p<o;p++)v+=this.daysInMonth(e,p)}else for(var p=7;p<o;p++)v+=this.daysInMonth(e,p);return v},_delay1:function(e){var o=Math.floor((235*e-234)/19),l=12084+13753*o,a=o*29+Math.floor(l/25920);return s(3*(a+1),7)<3&&a++,a},_delay2:function(e){var o=this._delay1(e-1),l=this._delay1(e),a=this._delay1(e+1);return a-l===356?2:l-o===382?1:0},fromJD:function(e){e=Math.floor(e)+.5;for(var o=Math.floor((e-this.jdEpoch)*98496/35975351)-1;e>=this.toJD(o===-1?1:o+1,7,1);)o++;for(var l=e<this.toJD(o,1,1)?7:1;e>this.toJD(o,l,this.daysInMonth(o,l));)l++;var a=e-this.toJD(o,l,1)+1;return this.newDate(o,l,a)}});function s(e,o){return e-o*Math.floor(e/o)}i.calendars.hebrew=c},{"../main":83,"object-assign":55}],74:[function(u,te,Y){var i=u("../main"),n=u("object-assign");function c(s){this.local=this.regionalOptions[s||""]||this.regionalOptions[""]}c.prototype=new i.baseCalendar,n(c.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(s){var e=this._validate(s,this.minMonth,this.minDay,i.local.invalidYear);return(e.year()*11+14)%30<11},weekOfYear:function(s,e,o){var l=this.newDate(s,e,o);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(s){return this.leapYear(s)?355:354},daysInMonth:function(s,e){var o=this._validate(s,e,this.minDay,i.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===12&&this.leapYear(o.year())?1:0)},weekDay:function(s,e,o){return this.dayOfWeek(s,e,o)!==5},toJD:function(s,e,o){var l=this._validate(s,e,o,i.local.invalidDate);return s=l.year(),e=l.month(),o=l.day(),s=s<=0?s+1:s,o+Math.ceil(29.5*(e-1))+(s-1)*354+Math.floor((3+11*s)/30)+this.jdEpoch-1},fromJD:function(s){s=Math.floor(s)+.5;var e=Math.floor((30*(s-this.jdEpoch)+10646)/10631);e=e<=0?e-1:e;var o=Math.min(12,Math.ceil((s-29-this.toJD(e,1,1))/29.5)+1),l=s-this.toJD(e,o,1)+1;return this.newDate(e,o,l)}}),i.calendars.islamic=c},{"../main":83,"object-assign":55}],75:[function(u,te,Y){var i=u("../main"),n=u("object-assign");function c(s){this.local=this.regionalOptions[s||""]||this.regionalOptions[""]}c.prototype=new i.baseCalendar,n(c.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(o){var e=this._validate(o,this.minMonth,this.minDay,i.local.invalidYear),o=e.year()<0?e.year()+1:e.year();return o%4===0},weekOfYear:function(s,e,o){var l=this.newDate(s,e,o);return l.add(4-(l.dayOfWeek()||7),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(s,e){var o=this._validate(s,e,this.minDay,i.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===2&&this.leapYear(o.year())?1:0)},weekDay:function(s,e,o){return(this.dayOfWeek(s,e,o)||7)<6},toJD:function(s,e,o){var l=this._validate(s,e,o,i.local.invalidDate);return s=l.year(),e=l.month(),o=l.day(),s<0&&s++,e<=2&&(s--,e+=12),Math.floor(365.25*(s+4716))+Math.floor(30.6001*(e+1))+o-1524.5},fromJD:function(s){var e=Math.floor(s+.5),o=e+1524,l=Math.floor((o-122.1)/365.25),a=Math.floor(365.25*l),t=Math.floor((o-a)/30.6001),v=t-Math.floor(t<14?1:13),p=l-Math.floor(v>2?4716:4715),h=o-a-Math.floor(30.6001*t);return p<=0&&p--,this.newDate(p,v,h)}}),i.calendars.julian=c},{"../main":83,"object-assign":55}],76:[function(u,te,Y){var i=u("../main"),n=u("object-assign");function c(o){this.local=this.regionalOptions[o||""]||this.regionalOptions[""]}c.prototype=new i.baseCalendar,n(c.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(o){return this._validate(o,this.minMonth,this.minDay,i.local.invalidYear),!1},formatYear:function(o){var l=this._validate(o,this.minMonth,this.minDay,i.local.invalidYear);o=l.year();var a=Math.floor(o/400);o=o%400,o+=o<0?400:0;var t=Math.floor(o/20);return a+"."+t+"."+o%20},forYear:function(o){if(o=o.split("."),o.length<3)throw"Invalid Mayan year";for(var l=0,a=0;a<o.length;a++){var t=parseInt(o[a],10);if(Math.abs(t)>19||a>0&&t<0)throw"Invalid Mayan year";l=l*20+t}return l},monthsInYear:function(o){return this._validate(o,this.minMonth,this.minDay,i.local.invalidYear),18},weekOfYear:function(o,l,a){return this._validate(o,l,a,i.local.invalidDate),0},daysInYear:function(o){return this._validate(o,this.minMonth,this.minDay,i.local.invalidYear),360},daysInMonth:function(o,l){return this._validate(o,l,this.minDay,i.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(o,l,a){var t=this._validate(o,l,a,i.local.invalidDate);return t.day()},weekDay:function(o,l,a){return this._validate(o,l,a,i.local.invalidDate),!0},extraInfo:function(o,l,a){var t=this._validate(o,l,a,i.local.invalidDate),v=t.toJD(),p=this._toHaab(v),h=this._toTzolkin(v);return{haabMonthName:this.local.haabMonths[p[0]-1],haabMonth:p[0],haabDay:p[1],tzolkinDayName:this.local.tzolkinMonths[h[0]-1],tzolkinDay:h[0],tzolkinTrecena:h[1]}},_toHaab:function(o){o-=this.jdEpoch;var l=s(o+8+(18-1)*20,365);return[Math.floor(l/20)+1,s(l,20)]},_toTzolkin:function(o){return o-=this.jdEpoch,[e(o+20,20),e(o+4,13)]},toJD:function(o,l,a){var t=this._validate(o,l,a,i.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(o){o=Math.floor(o)+.5-this.jdEpoch;var l=Math.floor(o/360);o=o%360,o+=o<0?360:0;var a=Math.floor(o/20),t=o%20;return this.newDate(l,a,t)}});function s(o,l){return o-l*Math.floor(o/l)}function e(o,l){return s(o-1,l)+1}i.calendars.mayan=c},{"../main":83,"object-assign":55}],77:[function(u,te,Y){var i=u("../main"),n=u("object-assign");function c(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}c.prototype=new i.baseCalendar;var s=i.instance("gregorian");n(c.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var o=this._validate(e,this.minMonth,this.minDay,i.local.invalidYear||i.regionalOptions[""].invalidYear);return s.leapYear(o.year()+(o.year()<1?1:0)+1469)},weekOfYear:function(e,o,l){var a=this.newDate(e,o,l);return a.add(1-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,o){var l=this._validate(e,o,this.minDay,i.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===12&&this.leapYear(l.year())?1:0)},weekDay:function(e,o,l){return(this.dayOfWeek(e,o,l)||7)<6},toJD:function(t,o,l){var a=this._validate(t,o,l,i.local.invalidMonth),t=a.year();t<0&&t++;for(var v=a.day(),p=1;p<a.month();p++)v+=this.daysPerMonth[p-1];return v+s.toJD(t+1468,3,13)},fromJD:function(e){e=Math.floor(e+.5);for(var o=Math.floor((e-(this.jdEpoch-1))/366);e>=this.toJD(o+1,1,1);)o++;for(var l=e-Math.floor(this.toJD(o,1,1)+.5)+1,a=1;l>this.daysInMonth(o,a);)l-=this.daysInMonth(o,a),a++;return this.newDate(o,a,l)}}),i.calendars.nanakshahi=c},{"../main":83,"object-assign":55}],78:[function(u,te,Y){var i=u("../main"),n=u("object-assign");function c(s){this.local=this.regionalOptions[s||""]||this.regionalOptions[""]}c.prototype=new i.baseCalendar,n(c.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(s){return this.daysInYear(s)!==this.daysPerYear},weekOfYear:function(s,e,o){var l=this.newDate(s,e,o);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(s){var e=this._validate(s,this.minMonth,this.minDay,i.local.invalidYear);if(s=e.year(),typeof this.NEPALI_CALENDAR_DATA[s]>"u")return this.daysPerYear;for(var o=0,l=this.minMonth;l<=12;l++)o+=this.NEPALI_CALENDAR_DATA[s][l];return o},daysInMonth:function(s,e){return s.year&&(e=s.month(),s=s.year()),this._validate(s,e,this.minDay,i.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[s]>"u"?this.daysPerMonth[e-1]:this.NEPALI_CALENDAR_DATA[s][e]},weekDay:function(s,e,o){return this.dayOfWeek(s,e,o)!==6},toJD:function(s,e,o){var l=this._validate(s,e,o,i.local.invalidDate);s=l.year(),e=l.month(),o=l.day();var a=i.instance(),t=0,v=e,p=s;this._createMissingCalendarData(s);var h=s-(v>9||v===9&&o>=this.NEPALI_CALENDAR_DATA[p][0]?56:57);for(e!==9&&(t=o,v--);v!==9;)v<=0&&(v=12,p--),t+=this.NEPALI_CALENDAR_DATA[p][v],v--;return e===9?(t+=o-this.NEPALI_CALENDAR_DATA[p][0],t<0&&(t+=a.daysInYear(h))):t+=this.NEPALI_CALENDAR_DATA[p][9]-this.NEPALI_CALENDAR_DATA[p][0],a.newDate(h,1,1).add(t,"d").toJD()},fromJD:function(s){var e=i.instance(),o=e.fromJD(s),l=o.year(),a=o.dayOfYear(),t=l+56;this._createMissingCalendarData(t);for(var v=9,p=this.NEPALI_CALENDAR_DATA[t][0],h=this.NEPALI_CALENDAR_DATA[t][v]-p+1;a>h;)v++,v>12&&(v=1,t++),h+=this.NEPALI_CALENDAR_DATA[t][v];var g=this.NEPALI_CALENDAR_DATA[t][v]-(h-a);return this.newDate(t,v,g)},_createMissingCalendarData:function(s){var e=this.daysPerMonth.slice(0);e.unshift(17);for(var o=s-1;o<s+2;o++)typeof this.NEPALI_CALENDAR_DATA[o]>"u"&&(this.NEPALI_CALENDAR_DATA[o]=e)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),i.calendars.nepali=c},{"../main":83,"object-assign":55}],79:[function(u,te,Y){var i=u("../main"),n=u("object-assign");function c(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}c.prototype=new i.baseCalendar,n(c.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xE6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xE6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var o=this._validate(e,this.minMonth,this.minDay,i.local.invalidYear);return((o.year()-(o.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(e,o,l){var a=this.newDate(e,o,l);return a.add(-((a.dayOfWeek()+1)%7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,o){var l=this._validate(e,o,this.minDay,i.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===12&&this.leapYear(l.year())?1:0)},weekDay:function(e,o,l){return this.dayOfWeek(e,o,l)!==5},toJD:function(e,o,l){var a=this._validate(e,o,l,i.local.invalidDate);e=a.year(),o=a.month(),l=a.day();var t=e-(e>=0?474:473),v=474+s(t,2820);return l+(o<=7?(o-1)*31:(o-1)*30+6)+Math.floor((v*682-110)/2816)+(v-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var o=e-this.toJD(475,1,1),l=Math.floor(o/1029983),a=s(o,1029983),t=2820;if(a!==1029982){var v=Math.floor(a/366),p=s(a,366);t=Math.floor((2134*v+2816*p+2815)/1028522)+v+1}var h=t+2820*l+474;h=h<=0?h-1:h;var g=e-this.toJD(h,1,1)+1,m=g<=186?Math.ceil(g/31):Math.ceil((g-6)/30),w=e-this.toJD(h,m,1)+1;return this.newDate(h,m,w)}});function s(e,o){return e-o*Math.floor(e/o)}i.calendars.persian=c,i.calendars.jalali=c},{"../main":83,"object-assign":55}],80:[function(u,te,Y){var i=u("../main"),n=u("object-assign"),c=i.instance();function s(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}s.prototype=new i.baseCalendar,n(s.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(l){var o=this._validate(l,this.minMonth,this.minDay,i.local.invalidYear),l=this._t2gYear(o.year());return c.leapYear(l)},weekOfYear:function(t,o,l){var a=this._validate(t,this.minMonth,this.minDay,i.local.invalidYear),t=this._t2gYear(a.year());return c.weekOfYear(t,a.month(),a.day())},daysInMonth:function(e,o){var l=this._validate(e,o,this.minDay,i.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(e,o,l){return(this.dayOfWeek(e,o,l)||7)<6},toJD:function(t,o,l){var a=this._validate(t,o,l,i.local.invalidDate),t=this._t2gYear(a.year());return c.toJD(t,a.month(),a.day())},fromJD:function(e){var o=c.fromJD(e),l=this._g2tYear(o.year());return this.newDate(l,o.month(),o.day())},_t2gYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)},_g2tYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)}}),i.calendars.taiwan=s},{"../main":83,"object-assign":55}],81:[function(u,te,Y){var i=u("../main"),n=u("object-assign"),c=i.instance();function s(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}s.prototype=new i.baseCalendar,n(s.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var o=this._validate(l,this.minMonth,this.minDay,i.local.invalidYear),l=this._t2gYear(o.year());return c.leapYear(l)},weekOfYear:function(t,o,l){var a=this._validate(t,this.minMonth,this.minDay,i.local.invalidYear),t=this._t2gYear(a.year());return c.weekOfYear(t,a.month(),a.day())},daysInMonth:function(e,o){var l=this._validate(e,o,this.minDay,i.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(e,o,l){return(this.dayOfWeek(e,o,l)||7)<6},toJD:function(t,o,l){var a=this._validate(t,o,l,i.local.invalidDate),t=this._t2gYear(a.year());return c.toJD(t,a.month(),a.day())},fromJD:function(e){var o=c.fromJD(e),l=this._g2tYear(o.year());return this.newDate(l,o.month(),o.day())},_t2gYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)},_g2tYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)}}),i.calendars.thai=s},{"../main":83,"object-assign":55}],82:[function(u,te,Y){var i=u("../main"),n=u("object-assign");function c(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}c.prototype=new i.baseCalendar,n(c.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(e){var o=this._validate(e,this.minMonth,this.minDay,i.local.invalidYear);return this.daysInYear(o.year())===355},weekOfYear:function(e,o,l){var a=this.newDate(e,o,l);return a.add(-a.dayOfWeek(),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInYear:function(e){for(var o=0,l=1;l<=12;l++)o+=this.daysInMonth(e,l);return o},daysInMonth:function(e,o){for(var l=this._validate(e,o,this.minDay,i.local.invalidMonth),a=l.toJD()-24e5+.5,t=0,v=0;v<s.length;v++){if(s[v]>a)return s[t]-s[t-1];t++}return 30},weekDay:function(e,o,l){return this.dayOfWeek(e,o,l)!==5},toJD:function(e,o,l){var a=this._validate(e,o,l,i.local.invalidDate),t=12*(a.year()-1)+a.month()-15292,v=a.day()+s[t-1]-1;return v+24e5-.5},fromJD:function(e){for(var o=e-24e5+.5,l=0,a=0;a<s.length&&!(s[a]>o);a++)l++;var t=l+15292,v=Math.floor((t-1)/12),p=v+1,h=t-12*v,g=o-s[l-1]+1;return this.newDate(p,h,g)},isValid:function(e,o,l){var a=i.baseCalendar.prototype.isValid.apply(this,arguments);return a&&(e=e.year!=null?e.year:e,a=e>=1276&&e<=1500),a},_validate:function(e,o,l,a){var t=i.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw a.replace(/\{0\}/,this.local.name);return t}}),i.calendars.ummalqura=c;var s=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},{"../main":83,"object-assign":55}],83:[function(u,te,Y){var i=u("object-assign");function n(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}i(n.prototype,{instance:function(a,t){a=(a||"gregorian").toLowerCase(),t=t||"";var v=this._localCals[a+"-"+t];if(!v&&this.calendars[a]&&(v=new this.calendars[a](t),this._localCals[a+"-"+t]=v),!v)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,a);return v},newDate:function(a,t,v,p,h){return p=(a!=null&&a.year?a.calendar():typeof p=="string"?this.instance(p,h):p)||this.instance(),p.newDate(a,t,v)},substituteDigits:function(a){return function(t){return(t+"").replace(/[0-9]/g,function(v){return a[v]})}},substituteChineseDigits:function(a,t){return function(v){for(var p="",h=0;v>0;){var g=v%10;p=(g===0?"":a[g]+t[h])+p,h++,v=Math.floor(v/10)}return p.indexOf(a[1]+t[1])===0&&(p=p.substr(1)),p||a[0]}}});function c(a,t,v,p){if(this._calendar=a,this._year=t,this._month=v,this._day=p,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(l.local.invalidDate||l.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function s(a,t){return a=""+a,"000000".substring(0,t-a.length)+a}i(c.prototype,{newDate:function(a,t,v){return this._calendar.newDate(a==null?this:a,t,v)},year:function(a){return arguments.length===0?this._year:this.set(a,"y")},month:function(a){return arguments.length===0?this._month:this.set(a,"m")},day:function(a){return arguments.length===0?this._day:this.set(a,"d")},date:function(a,t,v){if(!this._calendar.isValid(a,t,v))throw(l.local.invalidDate||l.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=a,this._month=t,this._day=v,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(a,t){return this._calendar.add(this,a,t)},set:function(a,t){return this._calendar.set(this,a,t)},compareTo:function(a){if(this._calendar.name!==a._calendar.name)throw(l.local.differentCalendars||l.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,a._calendar.local.name);var t=this._year!==a._year?this._year-a._year:this._month!==a._month?this.monthOfYear()-a.monthOfYear():this._day-a._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(a){return this._calendar.fromJD(a)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(a){return this._calendar.fromJSDate(a)},toString:function(){return(this.year()<0?"-":"")+s(Math.abs(this.year()),4)+"-"+s(this.month(),2)+"-"+s(this.day(),2)}});function e(){this.shortYearCutoff="+10"}i(e.prototype,{_validateLevel:0,newDate:function(a,t,v){return a==null?this.today():(a.year&&(this._validate(a,t,v,l.local.invalidDate||l.regionalOptions[""].invalidDate),v=a.day(),t=a.month(),a=a.year()),new c(this,a,t,v))},today:function(){return this.fromJSDate(new Date)},epoch:function(a){var t=this._validate(a,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(a){var t=this._validate(a,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+s(Math.abs(t.year()),4)},monthsInYear:function(a){return this._validate(a,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear),12},monthOfYear:function(a,t){var v=this._validate(a,t,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth);return(v.month()+this.monthsInYear(v)-this.firstMonth)%this.monthsInYear(v)+this.minMonth},fromMonthOfYear:function(a,t){var v=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(a)+this.minMonth;return this._validate(a,v,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth),v},daysInYear:function(a){var t=this._validate(a,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(a,t,v){var p=this._validate(a,t,v,l.local.invalidDate||l.regionalOptions[""].invalidDate);return p.toJD()-this.newDate(p.year(),this.fromMonthOfYear(p.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(a,t,v){var p=this._validate(a,t,v,l.local.invalidDate||l.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(p))+2)%this.daysInWeek()},extraInfo:function(a,t,v){return this._validate(a,t,v,l.local.invalidDate||l.regionalOptions[""].invalidDate),{}},add:function(a,t,v){return this._validate(a,this.minMonth,this.minDay,l.local.invalidDate||l.regionalOptions[""].invalidDate),this._correctAdd(a,this._add(a,t,v),t,v)},_add:function(a,t,v){if(this._validateLevel++,v==="d"||v==="w"){var p=a.toJD()+t*(v==="w"?this.daysInWeek():1),h=a.calendar().fromJD(p);return this._validateLevel--,[h.year(),h.month(),h.day()]}try{var g=a.year()+(v==="y"?t:0),m=a.monthOfYear()+(v==="m"?t:0),h=a.day(),w=function(f){for(;m<f.minMonth;)g--,m+=f.monthsInYear(g);for(var b=f.monthsInYear(g);m>b-1+f.minMonth;)g++,m-=b,b=f.monthsInYear(g)};v==="y"?(a.month()!==this.fromMonthOfYear(g,m)&&(m=this.newDate(g,a.month(),this.minDay).monthOfYear()),m=Math.min(m,this.monthsInYear(g)),h=Math.min(h,this.daysInMonth(g,this.fromMonthOfYear(g,m)))):v==="m"&&(w(this),h=Math.min(h,this.daysInMonth(g,this.fromMonthOfYear(g,m))));var y=[g,this.fromMonthOfYear(g,m),h];return this._validateLevel--,y}catch(x){throw this._validateLevel--,x}},_correctAdd:function(a,t,v,p){if(!this.hasYearZero&&(p==="y"||p==="m")&&(t[0]===0||a.year()>0!=t[0]>0)){var h={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[p],g=v<0?-1:1;t=this._add(a,v*h[0]+g*h[1],h[2])}return a.date(t[0],t[1],t[2])},set:function(a,t,v){this._validate(a,this.minMonth,this.minDay,l.local.invalidDate||l.regionalOptions[""].invalidDate);var p=v==="y"?t:a.year(),h=v==="m"?t:a.month(),g=v==="d"?t:a.day();return(v==="y"||v==="m")&&(g=Math.min(g,this.daysInMonth(p,h))),a.date(p,h,g)},isValid:function(a,t,v){this._validateLevel++;var p=this.hasYearZero||a!==0;if(p){var h=this.newDate(a,t,this.minDay);p=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(h)&&v>=this.minDay&&v-this.minDay<this.daysInMonth(h)}return this._validateLevel--,p},toJSDate:function(a,t,v){var p=this._validate(a,t,v,l.local.invalidDate||l.regionalOptions[""].invalidDate);return l.instance().fromJD(this.toJD(p)).toJSDate()},fromJSDate:function(a){return this.fromJD(l.instance().fromJSDate(a).toJD())},_validate:function(a,t,v,p){if(a.year){if(this._validateLevel===0&&this.name!==a.calendar().name)throw(l.local.differentCalendars||l.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,a.calendar().local.name);return a}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(a,t,v))throw p.replace(/\{0\}/,this.local.name);var h=this.newDate(a,t,v);return this._validateLevel--,h}catch(g){throw this._validateLevel--,g}}});function o(a){this.local=this.regionalOptions[a]||this.regionalOptions[""]}o.prototype=new e,i(o.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var t=this._validate(v,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear),v=t.year()+(t.year()<0?1:0);return v%4===0&&(v%100!==0||v%400===0)},weekOfYear:function(a,t,v){var p=this.newDate(a,t,v);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(a,t){var v=this._validate(a,t,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(a,t,v){return(this.dayOfWeek(a,t,v)||7)<6},toJD:function(a,t,v){var p=this._validate(a,t,v,l.local.invalidDate||l.regionalOptions[""].invalidDate);a=p.year(),t=p.month(),v=p.day(),a<0&&a++,t<3&&(t+=12,a--);var h=Math.floor(a/100),g=2-h+Math.floor(h/4);return Math.floor(365.25*(a+4716))+Math.floor(30.6001*(t+1))+v+g-1524.5},fromJD:function(a){var t=Math.floor(a+.5),v=Math.floor((t-186721625e-2)/36524.25);v=t+1+v-Math.floor(v/4);var p=v+1524,h=Math.floor((p-122.1)/365.25),g=Math.floor(365.25*h),m=Math.floor((p-g)/30.6001),w=p-g-Math.floor(m*30.6001),y=m-(m>13.5?13:1),x=h-(y>2.5?4716:4715);return x<=0&&x--,this.newDate(x,y,w)},toJSDate:function(a,t,v){var p=this._validate(a,t,v,l.local.invalidDate||l.regionalOptions[""].invalidDate),h=new Date(p.year(),p.month()-1,p.day());return h.setHours(0),h.setMinutes(0),h.setSeconds(0),h.setMilliseconds(0),h.setHours(h.getHours()>12?h.getHours()+2:0),h},fromJSDate:function(a){return this.newDate(a.getFullYear(),a.getMonth()+1,a.getDate())}});var l=te.exports=new n;l.cdate=c,l.baseCalendar=e,l.calendars.gregorian=o},{"object-assign":55}],84:[function(u,te,Y){var i=u("object-assign"),n=u("./main");i(n.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),n.local=n.regionalOptions[""],i(n.cdate.prototype,{formatDate:function(c,s){return typeof c!="string"&&(s=c,c=""),this._calendar.formatDate(c||"",this,s)}}),i(n.baseCalendar.prototype,{UNIX_EPOCH:n.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:n.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(c,s,e){if(typeof c!="string"&&(e=s,s=c,c=""),!s)return"";if(s.calendar()!==this)throw n.local.invalidFormat||n.regionalOptions[""].invalidFormat;c=c||this.local.dateFormat,e=e||{};var o=e.dayNamesShort||this.local.dayNamesShort,l=e.dayNames||this.local.dayNames,a=e.monthNumbers||this.local.monthNumbers,t=e.monthNamesShort||this.local.monthNamesShort,v=e.monthNames||this.local.monthNames;e.calculateWeek||this.local.calculateWeek;for(var p=function(k,F){for(var M=1;T+M<c.length&&c.charAt(T+M)===k;)M++;return T+=M-1,Math.floor(M/(F||1))>1},h=function(k,F,M,S){var E=""+F;if(p(k,S))for(;E.length<M;)E="0"+E;return E},g=function(k,F,M,S){return p(k)?S[F]:M[F]},m=this,w=function(k){return typeof a=="function"?a.call(m,k,p("m")):f(h("m",k.month(),2))},y=function(k,F){return F?typeof v=="function"?v.call(m,k):v[k.month()-m.minMonth]:typeof t=="function"?t.call(m,k):t[k.month()-m.minMonth]},x=this.local.digits,f=function(k){return e.localNumbers&&x?x(k):k},b="",d=!1,T=0;T<c.length;T++)if(d)c.charAt(T)==="'"&&!p("'")?d=!1:b+=c.charAt(T);else switch(c.charAt(T)){case"d":b+=f(h("d",s.day(),2));break;case"D":b+=g("D",s.dayOfWeek(),o,l);break;case"o":b+=h("o",s.dayOfYear(),3);break;case"w":b+=h("w",s.weekOfYear(),2);break;case"m":b+=w(s);break;case"M":b+=y(s,p("M"));break;case"y":b+=p("y",2)?s.year():(s.year()%100<10?"0":"")+s.year()%100;break;case"Y":p("Y",2),b+=s.formatYear();break;case"J":b+=s.toJD();break;case"@":b+=(s.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":b+=(s.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":p("'")?b+="'":d=!0;break;default:b+=c.charAt(T)}return b},parseDate:function(c,s,e){if(s==null)throw n.local.invalidArguments||n.regionalOptions[""].invalidArguments;if(s=typeof s=="object"?s.toString():s+"",s==="")return null;c=c||this.local.dateFormat,e=e||{};var o=e.shortYearCutoff||this.shortYearCutoff;o=typeof o!="string"?o:this.today().year()%100+parseInt(o,10);for(var l=e.dayNamesShort||this.local.dayNamesShort,a=e.dayNames||this.local.dayNames,t=e.parseMonth||this.local.parseMonth,v=e.monthNumbers||this.local.monthNumbers,p=e.monthNamesShort||this.local.monthNamesShort,h=e.monthNames||this.local.monthNames,g=-1,m=-1,w=-1,y=-1,x=-1,f=!1,b=!1,d=function(X,ie){for(var R=1;z+R<c.length&&c.charAt(z+R)===X;)R++;return z+=R-1,Math.floor(R/(ie||1))>1},T=function(X,ie){var R=d(X,ie),O=[2,3,R?4:2,R?4:2,10,11,20]["oyYJ@!".indexOf(X)+1],U=new RegExp("^-?\\d{1,"+O+"}"),K=s.substring(A).match(U);if(!K)throw(n.local.missingNumberAt||n.regionalOptions[""].missingNumberAt).replace(/\{0\}/,A);return A+=K[0].length,parseInt(K[0],10)},k=this,F=function(){if(typeof v=="function"){d("m");var X=v.call(k,s.substring(A));return A+=X.length,X}return T("m")},M=function(X,ie,R,O){for(var U=d(X,O)?R:ie,K=0;K<U.length;K++)if(s.substr(A,U[K].length).toLowerCase()===U[K].toLowerCase())return A+=U[K].length,K+k.minMonth;throw(n.local.unknownNameAt||n.regionalOptions[""].unknownNameAt).replace(/\{0\}/,A)},S=function(){if(typeof h=="function"){var X=d("M")?h.call(k,s.substring(A)):p.call(k,s.substring(A));return A+=X.length,X}return M("M",p,h)},E=function(){if(s.charAt(A)!==c.charAt(z))throw(n.local.unexpectedLiteralAt||n.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,A);A++},A=0,z=0;z<c.length;z++)if(b)c.charAt(z)==="'"&&!d("'")?b=!1:E();else switch(c.charAt(z)){case"d":y=T("d");break;case"D":M("D",l,a);break;case"o":x=T("o");break;case"w":T("w");break;case"m":w=F();break;case"M":w=S();break;case"y":var H=z;f=!d("y",2),z=H,m=T("y",2);break;case"Y":m=T("Y",2);break;case"J":g=T("J")+.5,s.charAt(A)==="."&&(A++,T("J"));break;case"@":g=T("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":g=T("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":A=s.length;break;case"'":d("'")?E():b=!0;break;default:E()}if(A<s.length)throw n.local.unexpectedText||n.regionalOptions[""].unexpectedText;if(m===-1?m=this.today().year():m<100&&f&&(m+=o===-1?1900:this.today().year()-this.today().year()%100-(m<=o?0:100)),typeof w=="string"&&(w=t.call(this,m,w)),x>-1){w=1,y=x;for(var Q=this.daysInMonth(m,w);y>Q;Q=this.daysInMonth(m,w))w++,y-=Q}return g>-1?this.fromJD(g):this.newDate(m,w,y)},determineDate:function(c,s,e,o,l){e&&typeof e!="object"&&(l=o,o=e,e=null),typeof o!="string"&&(l=o,o="");var a=this,t=function(v){try{return a.parseDate(o,v,l)}catch{}v=v.toLowerCase();for(var p=(v.match(/^c/)&&e?e.newDate():null)||a.today(),h=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,g=h.exec(v);g;)p.add(parseInt(g[1],10),g[2]||"d"),g=h.exec(v);return p};return s=s?s.newDate():null,c=c==null?s:typeof c=="string"?t(c):typeof c=="number"?isNaN(c)||c===1/0||c===-1/0?s:a.today().add(c,"d"):a.newDate(c),c}})},{"./main":83,"object-assign":55}],85:[function(u,te,Y){te.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],86:[function(u,te,Y){var i=u("./arrow_paths"),n=u("../../plots/font_attributes"),c=u("../../plots/cartesian/constants"),s=u("../../plot_api/plot_template").templatedArray;u("../../constants/axis_placeable_objects"),te.exports=s("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:n({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:i.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:i.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",c.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",c.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",c.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",c.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:n({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":220,"../../plot_api/plot_template":280,"../../plots/cartesian/constants":298,"../../plots/font_attributes":319,"./arrow_paths":85}],87:[function(u,te,Y){var i=u("../../lib"),n=u("../../plots/cartesian/axes"),c=u("./draw").draw;te.exports=function(l){var a=l._fullLayout,t=i.filterVisible(a.annotations);if(t.length&&l._fullData.length)return i.syncOrAsync([c,s],l)};function s(o){var l=o._fullLayout;i.filterVisible(l.annotations).forEach(function(a){var t=n.getFromId(o,a.xref),v=n.getFromId(o,a.yref),p=n.getRefType(a.xref),h=n.getRefType(a.yref);a._extremes={},p==="range"&&e(a,t),h==="range"&&e(a,v)})}function e(o,l){var a=l._id,t=a.charAt(0),v=o[t],p=o["a"+t],h=o[t+"ref"],g=o["a"+t+"ref"],m=o["_"+t+"padplus"],w=o["_"+t+"padminus"],y={x:1,y:-1}[t]*o[t+"shift"],x=3*o.arrowsize*o.arrowwidth||0,f=x+y,b=x-y,d=3*o.startarrowsize*o.arrowwidth||0,T=d+y,k=d-y,F;if(g===h){var M=n.findExtremes(l,[l.r2c(v)],{ppadplus:f,ppadminus:b}),S=n.findExtremes(l,[l.r2c(p)],{ppadplus:Math.max(m,T),ppadminus:Math.max(w,k)});F={min:[M.min[0],S.min[0]],max:[M.max[0],S.max[0]]}}else T=p?T+p:T,k=p?k-p:k,F=n.findExtremes(l,[l.r2c(v)],{ppadplus:Math.max(m,f,T),ppadminus:Math.max(w,b,k)});o._extremes[a]=F}},{"../../lib":244,"../../plots/cartesian/axes":291,"./draw":92}],88:[function(u,te,Y){var i=u("../../lib"),n=u("../../registry"),c=u("../../plot_api/plot_template").arrayEditor;te.exports={hasClickToShow:s,onClick:e};function s(a,t){var v=o(a,t);return v.on.length>0||v.explicitOff.length>0}function e(a,t){var v=o(a,t),p=v.on,h=v.off.concat(v.explicitOff),g={},m=a._fullLayout.annotations,w,y;if(!!(p.length||h.length)){for(w=0;w<p.length;w++)y=c(a.layout,"annotations",m[p[w]]),y.modifyItem("visible",!0),i.extendFlat(g,y.getUpdateObj());for(w=0;w<h.length;w++)y=c(a.layout,"annotations",m[h[w]]),y.modifyItem("visible",!1),i.extendFlat(g,y.getUpdateObj());return n.call("update",a,{},g)}}function o(a,t){var v=a._fullLayout.annotations,p=[],h=[],g=[],m=(t||[]).length,w,y,x,f,b,d,T,k;for(w=0;w<v.length;w++)if(x=v[w],f=x.clicktoshow,f){for(y=0;y<m;y++)if(b=t[y],d=b.xaxis,T=b.yaxis,d._id===x.xref&&T._id===x.yref&&d.d2r(b.x)===l(x._xclick,d)&&T.d2r(b.y)===l(x._yclick,T)){x.visible?f==="onout"?k=h:k=g:k=p,k.push(w);break}y===m&&x.visible&&f==="onout"&&h.push(w)}return{on:p,off:h,explicitOff:g}}function l(a,t){return t.type==="log"?t.l2r(a):t.d2r(a)}},{"../../lib":244,"../../plot_api/plot_template":280,"../../registry":327}],89:[function(u,te,Y){var i=u("../../lib"),n=u("../color");te.exports=function(s,e,o,l){l("opacity");var a=l("bgcolor"),t=l("bordercolor"),v=n.opacity(t);l("borderpad");var p=l("borderwidth"),h=l("showarrow");l("text",h?" ":o._dfltTitle.annotation),l("textangle"),i.coerceFont(l,"font",o.font),l("width"),l("align");var g=l("height");if(g&&l("valign"),h){var m=l("arrowside"),w,y;m.indexOf("end")!==-1&&(w=l("arrowhead"),y=l("arrowsize")),m.indexOf("start")!==-1&&(l("startarrowhead",w),l("startarrowsize",y)),l("arrowcolor",v?e.bordercolor:n.defaultLine),l("arrowwidth",(v&&p||1)*2),l("standoff"),l("startstandoff")}var x=l("hovertext"),f=o.hoverlabel||{};if(x){var b=l("hoverlabel.bgcolor",f.bgcolor||(n.opacity(a)?n.rgb(a):n.defaultLine)),d=l("hoverlabel.bordercolor",f.bordercolor||n.contrast(b));i.coerceFont(l,"hoverlabel.font",{family:f.font.family,size:f.font.size,color:f.font.color||d})}l("captureevents",!!x)}},{"../../lib":244,"../color":103}],90:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("../../lib/to_log_range");te.exports=function(s,e,o,l){e=e||{};var a=o==="log"&&e.type==="linear",t=o==="linear"&&e.type==="log";if(!(a||t))return;var v=s._fullLayout.annotations,p=e._id.charAt(0),h,g;function m(y){var x=h[y],f=null;a?f=n(x,e.range):f=Math.pow(10,x),i(f)||(f=null),l(g+y,f)}for(var w=0;w<v.length;w++)h=v[w],g="annotations["+w+"].",h[p+"ref"]===e._id&&m(p),h["a"+p+"ref"]===e._id&&m("a"+p)}},{"../../lib/to_log_range":269,"fast-isnumeric":17}],91:[function(u,te,Y){var i=u("../../lib"),n=u("../../plots/cartesian/axes"),c=u("../../plots/array_container_defaults"),s=u("./common_defaults"),e=u("./attributes");te.exports=function(a,t){c(a,t,{name:"annotations",handleItemDefaults:o})};function o(l,a,t){function v(E,A){return i.coerce(l,a,e,E,A)}var p=v("visible"),h=v("clicktoshow");if(!!(p||h)){s(l,a,t,v);for(var g=a.showarrow,m=["x","y"],w=[-10,-30],y={_fullLayout:t},x=0;x<2;x++){var f=m[x],b=n.coerceRef(l,a,y,f,"","paper");if(b!=="paper"){var d=n.getFromId(y,b);d._annIndices.push(a._index)}if(n.coercePosition(a,y,v,b,f,.5),g){var T="a"+f,k=n.coerceRef(l,a,y,T,"pixel",["pixel","paper"]);k!=="pixel"&&k!==b&&(k=a[T]="pixel");var F=k==="pixel"?w[x]:.4;n.coercePosition(a,y,v,k,T,F)}v(f+"anchor"),v(f+"shift")}if(i.noneOrAll(l,a,["x","y"]),g&&i.noneOrAll(l,a,["ax","ay"]),h){var M=v("xclick"),S=v("yclick");a._xclick=M===void 0?a.x:n.cleanPosition(M,y,a.xref),a._yclick=S===void 0?a.y:n.cleanPosition(S,y,a.yref)}}}},{"../../lib":244,"../../plots/array_container_defaults":286,"../../plots/cartesian/axes":291,"./attributes":86,"./common_defaults":89}],92:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../registry"),c=u("../../plots/plots"),s=u("../../lib"),e=s.strTranslate,o=u("../../plots/cartesian/axes"),l=u("../color"),a=u("../drawing"),t=u("../fx"),v=u("../../lib/svg_text_utils"),p=u("../../lib/setcursor"),h=u("../dragelement"),g=u("../../plot_api/plot_template").arrayEditor,m=u("./draw_arrow_head");te.exports={draw:w,drawOne:y,drawRaw:f};function w(b){var d=b._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var T=0;T<d.annotations.length;T++)d.annotations[T].visible&&y(b,T);return c.previousPromises(b)}function y(b,d){var T=b._fullLayout,k=T.annotations[d]||{},F=o.getFromId(b,k.xref),M=o.getFromId(b,k.yref);F&&F.setScale(),M&&M.setScale(),f(b,k,d,!1,F,M)}function x(b,d,T,k,F){var M=F[T],S=F[T+"ref"],E=T.indexOf("y")!==-1,A=o.getRefType(S)==="domain",z=E?k.h:k.w;return b?A?M+(E?-d:d)/b._length:b.p2r(b.r2p(M)+d):M+(E?-d:d)/z}function f(b,d,T,k,F,M){var S=b._fullLayout,E=b._fullLayout._size,A=b._context.edits,z,H;k?(z="annotation-"+k,H=k+".annotations"):(z="annotation",H="annotations");var Q=g(b.layout,H,d),X=Q.modifyBase,ie=Q.modifyItem,R=Q.getUpdateObj;S._infolayer.selectAll("."+z+'[data-index="'+T+'"]').remove();var O="clip"+S._uid+"_ann"+T;if(!d._input||d.visible===!1){i.selectAll("#"+O).remove();return}var U={x:{},y:{}},K=+d.textangle||0,ee=S._infolayer.append("g").classed(z,!0).attr("data-index",String(T)).style("opacity",d.opacity),ne=ee.append("g").classed("annotation-text-g",!0),me=A[d.showarrow?"annotationTail":"annotationPosition"],pe=d.captureevents||A.annotationText||me;function be(se){var _e={index:T,annotation:d._input,fullAnnotation:d,event:se};return k&&(_e.subplotId=k),_e}var ve=ne.append("g").style("pointer-events",pe?"all":null).call(p,"pointer").on("click",function(){b._dragging=!1,b.emit("plotly_clickannotation",be(i.event))});d.hovertext&&ve.on("mouseover",function(){var se=d.hoverlabel,_e=se.font,ge=this.getBoundingClientRect(),Ae=b.getBoundingClientRect();t.loneHover({x0:ge.left-Ae.left,x1:ge.right-Ae.left,y:(ge.top+ge.bottom)/2-Ae.top,text:d.hovertext,color:se.bgcolor,borderColor:se.bordercolor,fontFamily:_e.family,fontSize:_e.size,fontColor:_e.color},{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:b})}).on("mouseout",function(){t.loneUnhover(S._hoverlayer.node())});var C=d.borderwidth,I=d.borderpad,L=C+I,P=ve.append("rect").attr("class","bg").style("stroke-width",C+"px").call(l.stroke,d.bordercolor).call(l.fill,d.bgcolor),B=d.width||d.height,V=S._topclips.selectAll("#"+O).data(B?[0]:[]);V.enter().append("clipPath").classed("annclip",!0).attr("id",O).append("rect"),V.exit().remove();var N=d.font,Z=S._meta?s.templateString(d.text,S._meta):d.text,W=ve.append("text").classed("annotation-text",!0).text(Z);function q(se){return se.call(a.font,N).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),v.convertToTspans(se,b,re),se}function re(){var se=W.selectAll("a");if(se.size()===1&&se.text()===W.text()){var _e=ve.insert("a",":first-child").attr({"xlink:xlink:href":se.attr("xlink:href"),"xlink:xlink:show":se.attr("xlink:show")}).style({cursor:"pointer"});_e.node().appendChild(P.node())}var ge=ve.select(".annotation-text-math-group"),Ae=!ge.empty(),Ce=a.bBox((Ae?ge:W).node()),ue=Ce.width,he=Ce.height,we=d.width||ue,ke=d.height||he,Pe=Math.round(we+2*L),fe=Math.round(ke+2*L);function De(Qt,Nt){return Nt==="auto"&&(Qt<1/3?Nt="left":Qt>2/3?Nt="right":Nt="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Nt]}for(var Fe=!1,et=["x","y"],Xe=0;Xe<et.length;Xe++){var qe=et[Xe],rt=d[qe+"ref"]||qe,ut=d["a"+qe+"ref"],yt={x:F,y:M}[qe],Rt=(K+(qe==="x"?0:-90))*Math.PI/180,bt=Pe*Math.cos(Rt),je=fe*Math.sin(Rt),ct=Math.abs(bt)+Math.abs(je),Dt=d[qe+"anchor"],Lt=d[qe+"shift"]*(qe==="x"?1:-1),de=U[qe],Re,ze,ae,xe,Te,Me=o.getRefType(rt);if(yt&&Me!=="domain"){var Je=yt.r2fraction(d[qe]);(Je<0||Je>1)&&(ut===rt?(Je=yt.r2fraction(d["a"+qe]),(Je<0||Je>1)&&(Fe=!0)):Fe=!0),Re=yt._offset+yt.r2p(d[qe]),xe=.5}else{var Ve=Me==="domain";qe==="x"?(ae=d[qe],Re=Ve?yt._offset+yt._length*ae:Re=E.l+E.w*ae):(ae=1-d[qe],Re=Ve?yt._offset+yt._length*ae:Re=E.t+E.h*ae),xe=d.showarrow?.5:ae}if(d.showarrow){de.head=Re;var Ge=d["a"+qe];if(Te=bt*De(.5,d.xanchor)-je*De(.5,d.yanchor),ut===rt){var Ke=o.getRefType(ut);Ke==="domain"?(qe==="y"&&(Ge=1-Ge),de.tail=yt._offset+yt._length*Ge):Ke==="paper"?qe==="y"?(Ge=1-Ge,de.tail=E.t+E.h*Ge):de.tail=E.l+E.w*Ge:de.tail=yt._offset+yt.r2p(Ge),ze=Te}else de.tail=Re+Ge,ze=Te+Ge;de.text=de.tail+Te;var Qe=S[qe==="x"?"width":"height"];if(rt==="paper"&&(de.head=s.constrain(de.head,1,Qe-1)),ut==="pixel"){var Ie=-Math.max(de.tail-3,de.text),ft=Math.min(de.tail+3,de.text)-Qe;Ie>0?(de.tail+=Ie,de.text+=Ie):ft>0&&(de.tail-=ft,de.text-=ft)}de.tail+=Lt,de.head+=Lt}else Te=ct*De(xe,Dt),ze=Te,de.text=Re+Te;de.text+=Lt,Te+=Lt,ze+=Lt,d["_"+qe+"padplus"]=ct/2+ze,d["_"+qe+"padminus"]=ct/2-ze,d["_"+qe+"size"]=ct,d["_"+qe+"shift"]=Te}if(Fe){ve.remove();return}var vt=0,pt=0;if(d.align!=="left"&&(vt=(we-ue)*(d.align==="center"?.5:1)),d.valign!=="top"&&(pt=(ke-he)*(d.valign==="middle"?.5:1)),Ae)ge.select("svg").attr({x:L+vt-1,y:L+pt}).call(a.setClipUrl,B?O:null,b);else{var Ot=L+pt-Ce.top,Gt=L+vt-Ce.left;W.call(v.positionText,Gt,Ot).call(a.setClipUrl,B?O:null,b)}V.select("rect").call(a.setRect,L,L,we,ke),P.call(a.setRect,C/2,C/2,Pe-C,fe-C),ve.call(a.setTranslate,Math.round(U.x.text-Pe/2),Math.round(U.y.text-fe/2)),ne.attr({transform:"rotate("+K+","+U.x.text+","+U.y.text+")"});var Wt=function(Qt,Nt){ee.selectAll(".annotation-arrow-g").remove();var Et=U.x.head,Xt=U.y.head,Tt=U.x.tail+Qt,Yt=U.y.tail+Nt,Bt=U.x.text+Qt,At=U.y.text+Nt,Vt=s.rotationXYMatrix(K,Bt,At),tr=s.apply2DTransform(Vt),oe=s.apply2DTransform2(Vt),$=+P.attr("width"),Ee=+P.attr("height"),Ne=Bt-.5*$,He=Ne+$,Ze=At-.5*Ee,Ue=Ze+Ee,Be=[[Ne,Ze,Ne,Ue],[Ne,Ue,He,Ue],[He,Ue,He,Ze],[He,Ze,Ne,Ze]].map(oe);if(!Be.reduce(function(Pt,Ft){return Pt^!!s.segmentsIntersect(Et,Xt,Et+1e6,Xt+1e6,Ft[0],Ft[1],Ft[2],Ft[3])},!1)){Be.forEach(function(Pt){var Ft=s.segmentsIntersect(Tt,Yt,Et,Xt,Pt[0],Pt[1],Pt[2],Pt[3]);Ft&&(Tt=Ft.x,Yt=Ft.y)});var it=d.arrowwidth,mt=d.arrowcolor,Mt=d.arrowside,at=ee.append("g").style({opacity:l.opacity(mt)}).classed("annotation-arrow-g",!0),st=at.append("path").attr("d","M"+Tt+","+Yt+"L"+Et+","+Xt).style("stroke-width",it+"px").call(l.stroke,l.rgb(mt));if(m(st,Mt,d),A.annotationPosition&&st.node().parentNode&&!k){var kt=Et,xt=Xt;if(d.standoff){var lt=Math.sqrt(Math.pow(Et-Tt,2)+Math.pow(Xt-Yt,2));kt+=d.standoff*(Tt-Et)/lt,xt+=d.standoff*(Yt-Xt)/lt}var wt=at.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Tt-kt)+","+(Yt-xt),transform:e(kt,xt)}).style("stroke-width",it+6+"px").call(l.stroke,"rgba(0,0,0,0)").call(l.fill,"rgba(0,0,0,0)"),Ct,_t;h.init({element:wt.node(),gd:b,prepFn:function(){var Pt=a.getTranslate(ve);Ct=Pt.x,_t=Pt.y,F&&F.autorange&&X(F._name+".autorange",!0),M&&M.autorange&&X(M._name+".autorange",!0)},moveFn:function(Pt,Ft){var Ht=tr(Ct,_t),St=Ht[0]+Pt,er=Ht[1]+Ft;ve.call(a.setTranslate,St,er),ie("x",x(F,Pt,"x",E,d)),ie("y",x(M,Ft,"y",E,d)),d.axref===d.xref&&ie("ax",x(F,Pt,"ax",E,d)),d.ayref===d.yref&&ie("ay",x(M,Ft,"ay",E,d)),at.attr("transform",e(Pt,Ft)),ne.attr({transform:"rotate("+K+","+St+","+er+")"})},doneFn:function(){n.call("_guiRelayout",b,R());var Pt=document.querySelector(".js-notes-box-panel");Pt&&Pt.redraw(Pt.selectedObj)}})}}};if(d.showarrow&&Wt(0,0),me){var It;h.init({element:ve.node(),gd:b,prepFn:function(){It=ne.attr("transform")},moveFn:function(Qt,Nt){var Et="pointer";if(d.showarrow)d.axref===d.xref?ie("ax",x(F,Qt,"ax",E,d)):ie("ax",d.ax+Qt),d.ayref===d.yref?ie("ay",x(M,Nt,"ay",E.w,d)):ie("ay",d.ay+Nt),Wt(Qt,Nt);else{if(k)return;var Xt,Tt;if(F)Xt=x(F,Qt,"x",E,d);else{var Yt=d._xsize/E.w,Bt=d.x+(d._xshift-d.xshift)/E.w-Yt/2;Xt=h.align(Bt+Qt/E.w,Yt,0,1,d.xanchor)}if(M)Tt=x(M,Nt,"y",E,d);else{var At=d._ysize/E.h,Vt=d.y-(d._yshift+d.yshift)/E.h-At/2;Tt=h.align(Vt-Nt/E.h,At,0,1,d.yanchor)}ie("x",Xt),ie("y",Tt),(!F||!M)&&(Et=h.getCursor(F?.5:Xt,M?.5:Tt,d.xanchor,d.yanchor))}ne.attr({transform:e(Qt,Nt)+It}),p(ve,Et)},clickFn:function(Qt,Nt){d.captureevents&&b.emit("plotly_clickannotation",be(Nt))},doneFn:function(){p(ve),n.call("_guiRelayout",b,R());var Qt=document.querySelector(".js-notes-box-panel");Qt&&Qt.redraw(Qt.selectedObj)}})}}A.annotationText?W.call(v.makeEditable,{delegate:ve,gd:b}).call(q).on("edit",function(se){d.text=se,this.call(q),ie("text",se),F&&F.autorange&&X(F._name+".autorange",!0),M&&M.autorange&&X(M._name+".autorange",!0),n.call("_guiRelayout",b,R())}):W.call(q)}},{"../../lib":244,"../../lib/setcursor":264,"../../lib/svg_text_utils":267,"../../plot_api/plot_template":280,"../../plots/cartesian/axes":291,"../../plots/plots":325,"../../registry":327,"../color":103,"../dragelement":122,"../drawing":125,"../fx":143,"./draw_arrow_head":93,"@plotly/d3":11}],93:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../color"),c=u("./arrow_paths"),s=u("../../lib"),e=s.strScale,o=s.strRotate,l=s.strTranslate;te.exports=function(t,v,p){var h=t.node(),g=c[p.arrowhead||0],m=c[p.startarrowhead||0],w=(p.arrowwidth||1)*(p.arrowsize||1),y=(p.arrowwidth||1)*(p.startarrowsize||1),x=v.indexOf("start")>=0,f=v.indexOf("end")>=0,b=g.backoff*w+p.standoff,d=m.backoff*y+p.startstandoff,T,k,F,M;if(h.nodeName==="line"){T={x:+t.attr("x1"),y:+t.attr("y1")},k={x:+t.attr("x2"),y:+t.attr("y2")};var S=T.x-k.x,E=T.y-k.y;if(F=Math.atan2(E,S),M=F+Math.PI,b&&d&&b+d>Math.sqrt(S*S+E*E)){ne();return}if(b){if(b*b>S*S+E*E){ne();return}var A=b*Math.cos(F),z=b*Math.sin(F);k.x+=A,k.y+=z,t.attr({x2:k.x,y2:k.y})}if(d){if(d*d>S*S+E*E){ne();return}var H=d*Math.cos(F),Q=d*Math.sin(F);T.x-=H,T.y-=Q,t.attr({x1:T.x,y1:T.y})}}else if(h.nodeName==="path"){var X=h.getTotalLength(),ie="";if(X<b+d){ne();return}var R=h.getPointAtLength(0),O=h.getPointAtLength(.1);F=Math.atan2(R.y-O.y,R.x-O.x),T=h.getPointAtLength(Math.min(d,X)),ie="0px,"+d+"px,";var U=h.getPointAtLength(X),K=h.getPointAtLength(X-.1);M=Math.atan2(U.y-K.y,U.x-K.x),k=h.getPointAtLength(Math.max(0,X-b));var ee=ie?d+b:b;ie+=X-ee+"px,"+X+"px",t.style("stroke-dasharray",ie)}function ne(){t.style("stroke-dasharray","0px,100px")}function me(pe,be,ve,C){!pe.path||(pe.noRotate&&(ve=0),i.select(h.parentNode).append("path").attr({class:t.attr("class"),d:pe.path,transform:l(be.x,be.y)+o(ve*180/Math.PI)+e(C)}).style({fill:n.rgb(p.arrowcolor),"stroke-width":0}))}x&&me(m,T,F,y),f&&me(g,k,M,w)}},{"../../lib":244,"../color":103,"./arrow_paths":85,"@plotly/d3":11}],94:[function(u,te,Y){var i=u("./draw"),n=u("./click");te.exports={moduleType:"component",name:"annotations",layoutAttributes:u("./attributes"),supplyLayoutDefaults:u("./defaults"),includeBasePlot:u("../../plots/cartesian/include_components")("annotations"),calcAutorange:u("./calc_autorange"),draw:i.draw,drawOne:i.drawOne,drawRaw:i.drawRaw,hasClickToShow:n.hasClickToShow,onClick:n.onClick,convertCoords:u("./convert_coords")}},{"../../plots/cartesian/include_components":302,"./attributes":86,"./calc_autorange":87,"./click":88,"./convert_coords":90,"./defaults":91,"./draw":92}],95:[function(u,te,Y){var i=u("../annotations/attributes"),n=u("../../plot_api/edit_types").overrideAll,c=u("../../plot_api/plot_template").templatedArray;te.exports=n(c("annotation",{visible:i.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:i.xanchor,xshift:i.xshift,yanchor:i.yanchor,yshift:i.yshift,text:i.text,textangle:i.textangle,font:i.font,width:i.width,height:i.height,opacity:i.opacity,align:i.align,valign:i.valign,bgcolor:i.bgcolor,bordercolor:i.bordercolor,borderpad:i.borderpad,borderwidth:i.borderwidth,showarrow:i.showarrow,arrowcolor:i.arrowcolor,arrowhead:i.arrowhead,startarrowhead:i.startarrowhead,arrowside:i.arrowside,arrowsize:i.arrowsize,startarrowsize:i.startarrowsize,arrowwidth:i.arrowwidth,standoff:i.standoff,startstandoff:i.startstandoff,hovertext:i.hovertext,hoverlabel:i.hoverlabel,captureevents:i.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":273,"../../plot_api/plot_template":280,"../annotations/attributes":86}],96:[function(u,te,Y){var i=u("../../lib"),n=u("../../plots/cartesian/axes");te.exports=function(e){for(var o=e.fullSceneLayout,l=o.annotations,a=0;a<l.length;a++)c(l[a],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()};function c(s,e){var o=e.fullSceneLayout,l=o.domain,a=e.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};s._xa={},i.extendFlat(s._xa,t),n.setConvert(s._xa),s._xa._offset=a.l+l.x[0]*a.w,s._xa.l2p=function(){return .5*(1+s._pdata[0]/s._pdata[3])*a.w*(l.x[1]-l.x[0])},s._ya={},i.extendFlat(s._ya,t),n.setConvert(s._ya),s._ya._offset=a.t+(1-l.y[1])*a.h,s._ya.l2p=function(){return .5*(1-s._pdata[1]/s._pdata[3])*a.h*(l.y[1]-l.y[0])}}},{"../../lib":244,"../../plots/cartesian/axes":291}],97:[function(u,te,Y){var i=u("../../lib"),n=u("../../plots/cartesian/axes"),c=u("../../plots/array_container_defaults"),s=u("../annotations/common_defaults"),e=u("./attributes");te.exports=function(a,t,v){c(a,t,{name:"annotations",handleItemDefaults:o,fullLayout:v.fullLayout})};function o(l,a,t,v){function p(m,w){return i.coerce(l,a,e,m,w)}function h(m){var w=m+"axis",y={_fullLayout:{}};return y._fullLayout[w]=t[w],n.coercePosition(a,y,p,m,m,.5)}var g=p("visible");!g||(s(l,a,v.fullLayout,p),h("x"),h("y"),h("z"),i.noneOrAll(l,a,["x","y","z"]),a.xref="x",a.yref="y",a.zref="z",p("xanchor"),p("yanchor"),p("xshift"),p("yshift"),a.showarrow&&(a.axref="pixel",a.ayref="pixel",p("ax",-10),p("ay",-30),i.noneOrAll(l,a,["ax","ay"])))}},{"../../lib":244,"../../plots/array_container_defaults":286,"../../plots/cartesian/axes":291,"../annotations/common_defaults":89,"./attributes":95}],98:[function(u,te,Y){var i=u("../annotations/draw").drawRaw,n=u("../../plots/gl3d/project"),c=["x","y","z"];te.exports=function(e){for(var o=e.fullSceneLayout,l=e.dataScale,a=o.annotations,t=0;t<a.length;t++){for(var v=a[t],p=!1,h=0;h<3;h++){var g=c[h],m=v[g],w=o[g+"axis"],y=w.r2fraction(m);if(y<0||y>1){p=!0;break}}p?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+t+'"]').remove():(v._pdata=n(e.glplot.cameraParams,[o.xaxis.r2l(v.x)*l[0],o.yaxis.r2l(v.y)*l[1],o.zaxis.r2l(v.z)*l[2]]),i(e.graphDiv,v,t,e.id,v._xa,v._ya))}}},{"../../plots/gl3d/project":322,"../annotations/draw":92}],99:[function(u,te,Y){var i=u("../../registry"),n=u("../../lib");te.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:u("./attributes")}}},layoutAttributes:u("./attributes"),handleDefaults:u("./defaults"),includeBasePlot:c,convert:u("./convert"),draw:u("./draw")};function c(s,e){var o=i.subplotsRegistry.gl3d;if(!!o)for(var l=o.attrRegex,a=Object.keys(s),t=0;t<a.length;t++){var v=a[t];l.test(v)&&(s[v].annotations||[]).length&&(n.pushUnique(e._basePlotModules,o),n.pushUnique(e._subplots.gl3d,v))}}},{"../../lib":244,"../../registry":327,"./attributes":95,"./convert":96,"./defaults":97,"./draw":98}],100:[function(u,te,Y){te.exports=u("world-calendars/dist/main"),u("world-calendars/dist/plus"),u("world-calendars/dist/calendars/chinese"),u("world-calendars/dist/calendars/coptic"),u("world-calendars/dist/calendars/discworld"),u("world-calendars/dist/calendars/ethiopian"),u("world-calendars/dist/calendars/hebrew"),u("world-calendars/dist/calendars/islamic"),u("world-calendars/dist/calendars/julian"),u("world-calendars/dist/calendars/mayan"),u("world-calendars/dist/calendars/nanakshahi"),u("world-calendars/dist/calendars/nepali"),u("world-calendars/dist/calendars/persian"),u("world-calendars/dist/calendars/taiwan"),u("world-calendars/dist/calendars/thai"),u("world-calendars/dist/calendars/ummalqura")},{"world-calendars/dist/calendars/chinese":69,"world-calendars/dist/calendars/coptic":70,"world-calendars/dist/calendars/discworld":71,"world-calendars/dist/calendars/ethiopian":72,"world-calendars/dist/calendars/hebrew":73,"world-calendars/dist/calendars/islamic":74,"world-calendars/dist/calendars/julian":75,"world-calendars/dist/calendars/mayan":76,"world-calendars/dist/calendars/nanakshahi":77,"world-calendars/dist/calendars/nepali":78,"world-calendars/dist/calendars/persian":79,"world-calendars/dist/calendars/taiwan":80,"world-calendars/dist/calendars/thai":81,"world-calendars/dist/calendars/ummalqura":82,"world-calendars/dist/main":83,"world-calendars/dist/plus":84}],101:[function(u,te,Y){var i=u("./calendars"),n=u("../../lib"),c=u("../../constants/numerical"),s=c.EPOCHJD,e=c.ONEDAY,o={valType:"enumerated",values:n.sortObjectKeys(i.calendars),editType:"calc",dflt:"gregorian"},l=function(F,M,S,E){var A={};return A[S]=o,n.coerce(F,M,A,S,E)},a=function(F,M,S,E){for(var A=0;A<S.length;A++)l(F,M,S[A]+"calendar",E.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},v={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},p={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},h="##",g={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:h,w:h,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function m(F,M,S){for(var E=Math.floor((M+.05)/e)+s,A=y(S).fromJD(E),z=0,H,Q,X,ie,R;(z=F.indexOf("%",z))!==-1;)H=F.charAt(z+1),H==="0"||H==="-"||H==="_"?(X=3,Q=F.charAt(z+2),H==="_"&&(H="-")):(Q=H,H="0",X=2),ie=g[Q],ie?(ie===h?R=h:R=A.formatDate(ie[H]),F=F.substr(0,z)+R+F.substr(z+X),z+=R.length):z+=X;return F}var w={};function y(F){var M=w[F];return M||(M=w[F]=i.instance(F),M)}function x(F){return n.extendFlat({},o,{description:F})}function f(F){return"Sets the calendar system to use with `"+F+"` date data."}var b={xcalendar:x(f("x"))},d=n.extendFlat({},b,{ycalendar:x(f("y"))}),T=n.extendFlat({},d,{zcalendar:x(f("z"))}),k=x(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));te.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:T,surface:T,mesh3d:T,scattergl:d,ohlc:b,candlestick:b},layout:{calendar:x(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:k},yaxis:{calendar:k},scene:{xaxis:{calendar:k},yaxis:{calendar:k},zaxis:{calendar:k}},polar:{radialaxis:{calendar:k}}},transforms:{filter:{valuecalendar:x(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:x(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:o,handleDefaults:l,handleTraceDefaults:a,CANONICAL_SUNDAY:v,CANONICAL_TICK:t,DFLTRANGE:p,getCal:y,worldCalFmt:m}},{"../../constants/numerical":224,"../../lib":244,"./calendars":100}],102:[function(u,te,Y){Y.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Y.defaultLine="#444",Y.lightLine="#eee",Y.background="#fff",Y.borderLine="#BEC8D9",Y.lightFraction=100*(14-4)/(15-4)},{}],103:[function(u,te,Y){var i=u("tinycolor2"),n=u("fast-isnumeric"),c=u("../../lib/array").isTypedArray,s=te.exports={},e=u("./attributes");s.defaults=e.defaults;var o=s.defaultLine=e.defaultLine;s.lightLine=e.lightLine;var l=s.background=e.background;s.tinyRGB=function(t){var v=t.toRgb();return"rgb("+Math.round(v.r)+", "+Math.round(v.g)+", "+Math.round(v.b)+")"},s.rgb=function(t){return s.tinyRGB(i(t))},s.opacity=function(t){return t?i(t).getAlpha():0},s.addOpacity=function(t,v){var p=i(t).toRgb();return"rgba("+Math.round(p.r)+", "+Math.round(p.g)+", "+Math.round(p.b)+", "+v+")"},s.combine=function(t,v){var p=i(t).toRgb();if(p.a===1)return i(t).toRgbString();var h=i(v||l).toRgb(),g=h.a===1?h:{r:255*(1-h.a)+h.r*h.a,g:255*(1-h.a)+h.g*h.a,b:255*(1-h.a)+h.b*h.a},m={r:g.r*(1-p.a)+p.r*p.a,g:g.g*(1-p.a)+p.g*p.a,b:g.b*(1-p.a)+p.b*p.a};return i(m).toRgbString()},s.contrast=function(t,v,p){var h=i(t);h.getAlpha()!==1&&(h=i(s.combine(t,l)));var g=h.isDark()?v?h.lighten(v):l:p?h.darken(p):o;return g.toString()},s.stroke=function(t,v){var p=i(v);t.style({stroke:s.tinyRGB(p),"stroke-opacity":p.getAlpha()})},s.fill=function(t,v){var p=i(v);t.style({fill:s.tinyRGB(p),"fill-opacity":p.getAlpha()})},s.clean=function(t){if(!(!t||typeof t!="object")){var v=Object.keys(t),p,h,g,m;for(p=0;p<v.length;p++)if(g=v[p],m=t[g],g.substr(g.length-5)==="color")if(Array.isArray(m))for(h=0;h<m.length;h++)m[h]=a(m[h]);else t[g]=a(m);else if(g.substr(g.length-10)==="colorscale"&&Array.isArray(m))for(h=0;h<m.length;h++)Array.isArray(m[h])&&(m[h][1]=a(m[h][1]));else if(Array.isArray(m)){var w=m[0];if(!Array.isArray(w)&&w&&typeof w=="object")for(h=0;h<m.length;h++)s.clean(m[h])}else m&&typeof m=="object"&&!c(m)&&s.clean(m)}};function a(t){if(n(t)||typeof t!="string")return t;var v=t.trim();if(v.substr(0,3)!=="rgb")return t;var p=v.match(/^rgba?\s*\(([^()]*)\)$/);if(!p)return t;var h=p[1].trim().split(/\s*[\s,]\s*/),g=v.charAt(3)==="a"&&h.length===4;if(!g&&h.length!==3)return t;for(var m=0;m<h.length;m++){if(!h[m].length||(h[m]=Number(h[m]),!(h[m]>=0)))return t;if(m===3)h[m]>1&&(h[m]=1);else if(h[m]>=1)return t}var w=Math.round(h[0]*255)+", "+Math.round(h[1]*255)+", "+Math.round(h[2]*255);return g?"rgba("+w+", "+h[3]+")":"rgb("+w+")"}},{"../../lib/array":230,"./attributes":102,"fast-isnumeric":17,tinycolor2:68}],104:[function(u,te,Y){var i=u("../../plots/cartesian/layout_attributes"),n=u("../../plots/font_attributes"),c=u("../../lib/extend").extendFlat,s=u("../../plot_api/edit_types").overrideAll;te.exports=s({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:i.linecolor,outlinewidth:i.linewidth,bordercolor:i.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:i.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:c({},i.ticks,{dflt:""}),ticklabeloverflow:c({},i.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,ticklabelstep:i.ticklabelstep,showticklabels:i.showticklabels,tickfont:n({}),tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,tickprefix:i.tickprefix,showtickprefix:i.showtickprefix,ticksuffix:i.ticksuffix,showticksuffix:i.showticksuffix,separatethousands:i.separatethousands,exponentformat:i.exponentformat,minexponent:i.minexponent,showexponent:i.showexponent,title:{text:{valType:"string"},font:n({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:n({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":238,"../../plot_api/edit_types":273,"../../plots/cartesian/layout_attributes":304,"../../plots/font_attributes":319}],105:[function(u,te,Y){te.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],106:[function(u,te,Y){var i=u("../../lib"),n=u("../../plot_api/plot_template"),c=u("../../plots/cartesian/tick_value_defaults"),s=u("../../plots/cartesian/tick_mark_defaults"),e=u("../../plots/cartesian/tick_label_defaults"),o=u("../../plots/cartesian/prefix_suffix_defaults"),l=u("./attributes");te.exports=function(t,v,p){var h=n.newContainer(v,"colorbar"),g=t.colorbar||{};function m(A,z){return i.coerce(g,h,l,A,z)}var w=p.margin||{t:0,b:0,l:0,r:0},y=p.width-w.l-w.r,x=p.height-w.t-w.b,f=m("orientation"),b=f==="v",d=m("thicknessmode");m("thickness",d==="fraction"?30/(b?y:x):30);var T=m("lenmode");m("len",T==="fraction"?1:b?x:y),m("x",b?1.02:.5),m("xanchor",b?"left":"center"),m("xpad"),m("y",b?.5:1.02),m("yanchor",b?"middle":"bottom"),m("ypad"),i.noneOrAll(g,h,["x","y"]),m("outlinecolor"),m("outlinewidth"),m("bordercolor"),m("borderwidth"),m("bgcolor");var k=i.coerce(g,h,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:b?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");m("ticklabeloverflow",k.indexOf("inside")!==-1?"hide past domain":"hide past div"),c(g,h,m,"linear");var F=p.font,M={outerTicks:!1,font:F};k.indexOf("inside")!==-1&&(M.bgColor="black"),o(g,h,m,"linear",M),e(g,h,m,"linear",M),s(g,h,m,"linear",M),m("title.text",p._dfltTitle.colorbar);var S=h.tickfont,E=i.extendFlat({},S,{color:F.color,size:i.bigFont(S.size)});i.coerceFont(m,"title.font",E),m("title.side",b?"top":"right")}},{"../../lib":244,"../../plot_api/plot_template":280,"../../plots/cartesian/prefix_suffix_defaults":308,"../../plots/cartesian/tick_label_defaults":312,"../../plots/cartesian/tick_mark_defaults":313,"../../plots/cartesian/tick_value_defaults":314,"./attributes":104}],107:[function(u,te,Y){var i=u("@plotly/d3"),n=u("tinycolor2"),c=u("../../plots/plots"),s=u("../../registry"),e=u("../../plots/cartesian/axes"),o=u("../dragelement"),l=u("../../lib"),a=l.strTranslate,t=u("../../lib/extend").extendFlat,v=u("../../lib/setcursor"),p=u("../drawing"),h=u("../color"),g=u("../titles"),m=u("../../lib/svg_text_utils"),w=u("../colorscale/helpers").flipScale,y=u("../../plots/cartesian/axis_defaults"),x=u("../../plots/cartesian/position_defaults"),f=u("../../plots/cartesian/layout_attributes"),b=u("../../constants/alignment"),d=b.LINE_SPACING,T=b.FROM_TL,k=b.FROM_BR,F=u("./constants").cn;function M(Q){var X=Q._fullLayout,ie=X._infolayer.selectAll("g."+F.colorbar).data(S(Q),function(R){return R._id});ie.enter().append("g").attr("class",function(R){return R._id}).classed(F.colorbar,!0),ie.each(function(R){var O=i.select(this);l.ensureSingle(O,"rect",F.cbbg),l.ensureSingle(O,"g",F.cbfills),l.ensureSingle(O,"g",F.cblines),l.ensureSingle(O,"g",F.cbaxis,function(K){K.classed(F.crisp,!0)}),l.ensureSingle(O,"g",F.cbtitleunshift,function(K){K.append("g").classed(F.cbtitle,!0)}),l.ensureSingle(O,"rect",F.cboutline);var U=E(O,R,Q);U&&U.then&&(Q._promises||[]).push(U),Q._context.edits.colorbarPosition&&A(O,R,Q)}),ie.exit().each(function(R){c.autoMargin(Q,R._id)}).remove(),ie.order()}function S(Q){var X=Q._fullLayout,ie=Q.calcdata,R=[],O,U,K,ee;function ne(N){return t(N,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function me(){typeof ee.calc=="function"?ee.calc(Q,K,O):(O._fillgradient=U.reversescale?w(U.colorscale):U.colorscale,O._zrange=[U[ee.min],U[ee.max]])}for(var pe=0;pe<ie.length;pe++){var be=ie[pe];K=be[0].trace;var ve=K._module.colorbar;if(K.visible===!0&&ve)for(var C=Array.isArray(ve),I=C?ve:[ve],L=0;L<I.length;L++){ee=I[L];var P=ee.container;U=P?K[P]:K,U&&U.showscale&&(O=ne(U.colorbar),O._id="cb"+K.uid+(C&&P?"-"+P:""),O._traceIndex=K.index,O._propPrefix=(P?P+".":"")+"colorbar.",O._meta=K._meta,me(),R.push(O))}}for(var B in X._colorAxes)if(U=X[B],U.showscale){var V=X._colorAxes[B];O=ne(U.colorbar),O._id="cb"+B,O._propPrefix=B+".colorbar.",O._meta=X._meta,ee={min:"cmin",max:"cmax"},V[0]!=="heatmap"&&(K=V[1],ee.calc=K._module.colorbar.calc),me(),R.push(O)}return R}function E(Q,X,ie){var R=X.orientation==="v",O=X.len,U=X.lenmode,K=X.thickness,ee=X.thicknessmode,ne=X.outlinewidth,me=X.borderwidth,pe=X.bgcolor,be=X.xanchor,ve=X.yanchor,C=X.xpad,I=X.ypad,L=X.x,P=R?X.y:1-X.y,B=ie._fullLayout,V=B._size,N=X._fillcolor,Z=X._line,W=X.title,q=W.side,re=X._zrange||i.extent((typeof N=="function"?N:Z.color).domain()),se=typeof Z.color=="function"?Z.color:function(){return Z.color},_e=typeof N=="function"?N:function(){return N},ge=X._levels,Ae=z(ie,X,re),Ce=Ae.fill,ue=Ae.line,he=Math.round(K*(ee==="fraction"?R?V.w:V.h:1)),we=he/(R?V.w:V.h),ke=Math.round(O*(U==="fraction"?R?V.h:V.w:1)),Pe=ke/(R?V.h:V.w),fe=Math.round(R?L*V.w+C:P*V.h+I),De={center:.5,right:1}[be]||0,Fe={top:1,middle:.5}[ve]||0,et=R?L-De*we:P-Fe*we,Xe=R?P-Fe*Pe:L-De*Pe,qe=Math.round(R?V.h*(1-Xe):V.w*Xe);X._lenFrac=Pe,X._thickFrac=we,X._uFrac=et,X._vFrac=Xe;var rt=X._axis=H(ie,X,re);rt.position=we+(R?L+C/V.w:P+I/V.h);var ut=["top","bottom"].indexOf(q)!==-1;if(R&&ut&&(rt.title.side=q,rt.titlex=L+C/V.w,rt.titley=Xe+(W.side==="top"?Pe-I/V.h:I/V.h)),!R&&!ut&&(rt.title.side=q,rt.titley=P+I/V.h,rt.titlex=Xe+C/V.w),Z.color&&X.tickmode==="auto"){rt.tickmode="linear",rt.tick0=ge.start;var yt=ge.size,Rt=l.constrain(ke/50,4,15)+1,bt=(re[1]-re[0])/((X.nticks||Rt)*yt);if(bt>1){var je=Math.pow(10,Math.floor(Math.log(bt)/Math.LN10));yt*=je*l.roundUp(bt/je,[2,5,10]),(Math.abs(ge.start)/ge.size+1e-6)%1<2e-6&&(rt.tick0=0)}rt.dtick=yt}rt.domain=R?[Xe+I/V.h,Xe+Pe-I/V.h]:[Xe+C/V.w,Xe+Pe-C/V.w],rt.setScale(),Q.attr("transform",a(Math.round(V.l),Math.round(V.t)));var ct=Q.select("."+F.cbtitleunshift).attr("transform",a(-Math.round(V.l),-Math.round(V.t))),Dt=rt.ticklabelposition,Lt=rt.title.font.size,de=Q.select("."+F.cbaxis),Re,ze=0,ae=0;function xe(Ge,Ke){var Qe={propContainer:rt,propName:X._propPrefix+"title",traceIndex:X._traceIndex,_meta:X._meta,placeholder:B._dfltTitle.colorbar,containerGroup:Q.select("."+F.cbtitle)},Ie=Ge.charAt(0)==="h"?Ge.substr(1):"h"+Ge;Q.selectAll("."+Ie+",."+Ie+"-math-group").remove(),g.draw(ie,Ge,t(Qe,Ke||{}))}function Te(){if(R&&ut||!R&&!ut){var Ge,Ke;q==="top"&&(Ge=C+V.l+V.w*L,Ke=I+V.t+V.h*(1-Xe-Pe)+3+Lt*.75),q==="bottom"&&(Ge=C+V.l+V.w*L,Ke=I+V.t+V.h*(1-Xe)-3-Lt*.25),q==="right"&&(Ke=I+V.t+V.h*P+3+Lt*.75,Ge=C+V.l+V.w*Xe),xe(rt._id+"title",{attributes:{x:Ge,y:Ke,"text-anchor":R?"start":"middle"}})}}function Me(){if(R&&!ut||!R&&ut){var Ge=rt.position||0,Ke=rt._offset+rt._length/2,Qe,Ie;if(q==="right")Ie=Ke,Qe=V.l+V.w*Ge+10+Lt*(rt.showticklabels?1:.5);else if(Qe=Ke,q==="bottom"&&(Ie=V.t+V.h*Ge+10+(Dt.indexOf("inside")===-1?rt.tickfont.size:0)+(rt.ticks!=="intside"&&X.ticklen||0)),q==="top"){var ft=W.text.split("<br>").length;Ie=V.t+V.h*Ge+10-he-d*Lt*ft}xe((R?"h":"v")+rt._id+"title",{avoid:{selection:i.select(ie).selectAll("g."+rt._id+"tick"),side:q,offsetTop:R?0:V.t,offsetLeft:R?V.l:0,maxShift:R?B.width:B.height},attributes:{x:Qe,y:Ie,"text-anchor":"middle"},transform:{rotate:R?-90:0,offset:0}})}}function Je(){if(!R&&!ut||R&&ut){var Ge=Q.select("."+F.cbtitle),Ke=Ge.select("text"),Qe=[-ne/2,ne/2],Ie=Ge.select(".h"+rt._id+"title-math-group").node(),ft=15.6;Ke.node()&&(ft=parseInt(Ke.node().style.fontSize,10)*d);var vt;if(Ie?(vt=p.bBox(Ie),ae=vt.width,ze=vt.height,ze>ft&&(Qe[1]-=(ze-ft)/2)):Ke.node()&&!Ke.classed(F.jsPlaceholder)&&(vt=p.bBox(Ke.node()),ae=vt.width,ze=vt.height),R){if(ze){if(ze+=5,q==="top")rt.domain[1]-=ze/V.h,Qe[1]*=-1;else{rt.domain[0]+=ze/V.h;var pt=m.lineCount(Ke);Qe[1]+=(1-pt)*ft}Ge.attr("transform",a(Qe[0],Qe[1])),rt.setScale()}}else ae&&(q==="right"&&(rt.domain[0]+=(ae+Lt/2)/V.w),Ge.attr("transform",a(Qe[0],Qe[1])),rt.setScale())}Q.selectAll("."+F.cbfills+",."+F.cblines).attr("transform",R?a(0,Math.round(V.h*(1-rt.domain[1]))):a(Math.round(V.w*rt.domain[0]),0)),de.attr("transform",R?a(0,Math.round(-V.t)):a(Math.round(-V.l),0));var Ot=Q.select("."+F.cbfills).selectAll("rect."+F.cbfill).attr("style","").data(Ce);Ot.enter().append("rect").classed(F.cbfill,!0).style("stroke","none"),Ot.exit().remove();var Gt=re.map(rt.c2p).map(Math.round).sort(function(Et,Xt){return Et-Xt});Ot.each(function(Et,Xt){var Tt=[Xt===0?re[0]:(Ce[Xt]+Ce[Xt-1])/2,Xt===Ce.length-1?re[1]:(Ce[Xt]+Ce[Xt+1])/2].map(rt.c2p).map(Math.round);R&&(Tt[1]=l.constrain(Tt[1]+(Tt[1]>Tt[0])?1:-1,Gt[0],Gt[1]));var Yt=i.select(this).attr(R?"x":"y",fe).attr(R?"y":"x",i.min(Tt)).attr(R?"width":"height",Math.max(he,2)).attr(R?"height":"width",Math.max(i.max(Tt)-i.min(Tt),2));if(X._fillgradient)p.gradient(Yt,ie,X._id,R?"vertical":"horizontalreversed",X._fillgradient,"fill");else{var Bt=_e(Et).replace("e-","");Yt.attr("fill",n(Bt).toHexString())}});var Wt=Q.select("."+F.cblines).selectAll("path."+F.cbline).data(Z.color&&Z.width?ue:[]);Wt.enter().append("path").classed(F.cbline,!0),Wt.exit().remove(),Wt.each(function(Et){var Xt=fe,Tt=Math.round(rt.c2p(Et))+Z.width/2%1;i.select(this).attr("d","M"+(R?Xt+","+Tt:Tt+","+Xt)+(R?"h":"v")+he).call(p.lineGroupStyle,Z.width,se(Et),Z.dash)}),de.selectAll("g."+rt._id+"tick,path").remove();var It=fe+he+(ne||0)/2-(X.ticks==="outside"?1:0),Qt=e.calcTicks(rt),Nt=e.getTickSigns(rt)[2];return e.drawTicks(ie,rt,{vals:rt.ticks==="inside"?e.clipEnds(rt,Qt):Qt,layer:de,path:e.makeTickPath(rt,It,Nt),transFn:e.makeTransTickFn(rt)}),e.drawLabels(ie,rt,{vals:Qt,layer:de,transFn:e.makeTransTickLabelFn(rt),labelFns:e.makeLabelFns(rt,It)})}function Ve(){var Ge,Ke=he+ne/2;Dt.indexOf("inside")===-1&&(Ge=p.bBox(de.node()),Ke+=R?Ge.width:Ge.height),Re=ct.select("text");var Qe=0,Ie=R&&q==="top",ft=!R&&q==="right",vt=0;if(Re.node()&&!Re.classed(F.jsPlaceholder)){var pt,Ot=ct.select(".h"+rt._id+"title-math-group").node();Ot&&(R&&ut||!R&&!ut)?(Ge=p.bBox(Ot),Qe=Ge.width,pt=Ge.height):(Ge=p.bBox(ct.node()),Qe=Ge.right-V.l-(R?fe:qe),pt=Ge.bottom-V.t-(R?qe:fe),!R&&q==="top"&&(Ke+=Ge.height,vt=Ge.height)),ft&&(Re.attr("transform",a(Qe/2+Lt/2,0)),Qe*=2),Ke=Math.max(Ke,R?Qe:pt)}var Gt=(R?C:I)*2+Ke+me+ne/2,Wt=0;!R&&W.text&&ve==="bottom"&&P<=0&&(Wt=Gt/2,Gt+=Wt,vt+=Wt),B._hColorbarMoveTitle=Wt,B._hColorbarMoveCBTitle=vt;var It=me+ne;Q.select("."+F.cbbg).attr("x",(R?fe:qe)-It/2-(R?C:0)).attr("y",(R?qe:fe)-(R?ke:I+vt-Wt)).attr(R?"width":"height",Math.max(Gt-Wt,2)).attr(R?"height":"width",Math.max(ke+It,2)).call(h.fill,pe).call(h.stroke,X.bordercolor).style("stroke-width",me);var Qt=ft?Math.max(Qe-10,0):0;if(Q.selectAll("."+F.cboutline).attr("x",(R?fe:qe+C)+Qt).attr("y",(R?qe+I-ke:fe)+(Ie?ze:0)).attr(R?"width":"height",Math.max(he,2)).attr(R?"height":"width",Math.max(ke-(R?2*I+ze:2*C+Qt),2)).call(h.stroke,X.outlinecolor).style({fill:"none","stroke-width":ne}),Q.attr("transform",a(V.l-(R?De*Gt:0),V.t-(R?0:(1-Fe)*Gt-vt))),!R&&(me||n(pe).getAlpha()&&!n.equals(B.paper_bgcolor,pe))){var Nt=de.selectAll("text"),Et=Nt[0].length,Xt=Q.select("."+F.cbbg).node(),Tt=p.bBox(Xt),Yt=p.getTranslate(Q),Bt=2;Nt.each(function(Ne,He){var Ze=0,Ue=Et-1;if(He===Ze||He===Ue){var Be=p.bBox(this),it=p.getTranslate(this),mt;if(He===Ue){var Mt=Be.right+it.x,at=Tt.right+Yt.x+qe-me-Bt+L;mt=at-Mt,mt>0&&(mt=0)}else if(He===Ze){var st=Be.left+it.x,kt=Tt.left+Yt.x+qe+me+Bt;mt=kt-st,mt<0&&(mt=0)}mt&&(Et<3?this.setAttribute("transform","translate("+mt+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var At={},Vt=T[be],tr=k[be],oe=T[ve],$=k[ve],Ee=Gt-he;R?(U==="pixels"?(At.y=P,At.t=ke*oe,At.b=ke*$):(At.t=At.b=0,At.yt=P+O*oe,At.yb=P-O*$),ee==="pixels"?(At.x=L,At.l=Gt*Vt,At.r=Gt*tr):(At.l=Ee*Vt,At.r=Ee*tr,At.xl=L-K*Vt,At.xr=L+K*tr)):(U==="pixels"?(At.x=L,At.l=ke*Vt,At.r=ke*tr):(At.l=At.r=0,At.xl=L+O*Vt,At.xr=L-O*tr),ee==="pixels"?(At.y=1-P,At.t=Gt*oe,At.b=Gt*$):(At.t=Ee*oe,At.b=Ee*$,At.yt=P-K*oe,At.yb=P+K*$)),c.autoMargin(ie,X._id,At)}return l.syncOrAsync([c.previousPromises,Te,Je,Me,c.previousPromises,Ve],ie)}function A(Q,X,ie){var R=X.orientation==="v",O=ie._fullLayout,U=O._size,K,ee,ne;o.init({element:Q.node(),gd:ie,prepFn:function(){K=Q.attr("transform"),v(Q)},moveFn:function(me,pe){Q.attr("transform",K+a(me,pe)),ee=o.align((R?X._uFrac:X._vFrac)+me/U.w,R?X._thickFrac:X._lenFrac,0,1,X.xanchor),ne=o.align((R?X._vFrac:1-X._uFrac)-pe/U.h,R?X._lenFrac:X._thickFrac,0,1,X.yanchor);var be=o.getCursor(ee,ne,X.xanchor,X.yanchor);v(Q,be)},doneFn:function(){if(v(Q),ee!==void 0&&ne!==void 0){var me={};me[X._propPrefix+"x"]=ee,me[X._propPrefix+"y"]=ne,X._traceIndex!==void 0?s.call("_guiRestyle",ie,me,X._traceIndex):s.call("_guiRelayout",ie,me)}}})}function z(Q,X,ie){var R=X._levels,O=[],U=[],K,ee,ne=R.end+R.size/100,me=R.size,pe=1.001*ie[0]-.001*ie[1],be=1.001*ie[1]-.001*ie[0];for(ee=0;ee<1e5&&(K=R.start+ee*me,!(me>0?K>=ne:K<=ne));ee++)K>pe&&K<be&&O.push(K);if(X._fillgradient)U=[0];else if(typeof X._fillcolor=="function"){var ve=X._filllevels;if(ve)for(ne=ve.end+ve.size/100,me=ve.size,ee=0;ee<1e5&&(K=ve.start+ee*me,!(me>0?K>=ne:K<=ne));ee++)K>ie[0]&&K<ie[1]&&U.push(K);else U=O.map(function(C){return C-R.size/2}),U.push(U[U.length-1]+R.size)}else X._fillcolor&&typeof X._fillcolor=="string"&&(U=[0]);return R.size<0&&(O.reverse(),U.reverse()),{line:O,fill:U}}function H(Q,X,ie){var R=Q._fullLayout,O=X.orientation==="v",U={type:"linear",range:ie,tickmode:X.tickmode,nticks:X.nticks,tick0:X.tick0,dtick:X.dtick,tickvals:X.tickvals,ticktext:X.ticktext,ticks:X.ticks,ticklen:X.ticklen,tickwidth:X.tickwidth,tickcolor:X.tickcolor,showticklabels:X.showticklabels,ticklabelposition:X.ticklabelposition,ticklabeloverflow:X.ticklabeloverflow,ticklabelstep:X.ticklabelstep,tickfont:X.tickfont,tickangle:X.tickangle,tickformat:X.tickformat,exponentformat:X.exponentformat,minexponent:X.minexponent,separatethousands:X.separatethousands,showexponent:X.showexponent,showtickprefix:X.showtickprefix,tickprefix:X.tickprefix,showticksuffix:X.showticksuffix,ticksuffix:X.ticksuffix,title:X.title,showline:!0,anchor:"free",side:O?"right":"bottom",position:1},K=O?"y":"x",ee={type:"linear",_id:K+X._id},ne={letter:K,font:R.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:R.calendar};function me(pe,be){return l.coerce(U,ee,f,pe,be)}return y(U,ee,me,ne,R),x(U,ee,me,ne),ee}te.exports={draw:M}},{"../../constants/alignment":219,"../../lib":244,"../../lib/extend":238,"../../lib/setcursor":264,"../../lib/svg_text_utils":267,"../../plots/cartesian/axes":291,"../../plots/cartesian/axis_defaults":293,"../../plots/cartesian/layout_attributes":304,"../../plots/cartesian/position_defaults":307,"../../plots/plots":325,"../../registry":327,"../color":103,"../colorscale/helpers":114,"../dragelement":122,"../drawing":125,"../titles":212,"./constants":105,"@plotly/d3":11,tinycolor2:68}],108:[function(u,te,Y){var i=u("../../lib");te.exports=function(c){return i.isPlainObject(c.colorbar)}},{"../../lib":244}],109:[function(u,te,Y){te.exports={moduleType:"component",name:"colorbar",attributes:u("./attributes"),supplyDefaults:u("./defaults"),draw:u("./draw").draw,hasColorbar:u("./has_colorbar")}},{"./attributes":104,"./defaults":106,"./draw":107,"./has_colorbar":108}],110:[function(u,te,Y){var i=u("../colorbar/attributes"),n=u("../../lib/regex").counter,c=u("../../lib/sort_object_keys"),s=u("./scales.js").scales;c(s),te.exports=function(o,l){o=o||"",l=l||{};var a=l.cLetter||"c";"onlyIfNumerical"in l?l.onlyIfNumerical:Boolean(o);var t="noScale"in l?l.noScale:o==="marker.line",v="showScaleDflt"in l?l.showScaleDflt:a==="z",p=typeof l.colorscaleDflt=="string"?s[l.colorscaleDflt]:null,h=l.editTypeOverride||"",g;"colorAttr"in l?(g=l.colorAttr,l.colorAttr):g={z:"z",c:"color"}[a];var m=a+"auto",w=a+"min",y=a+"max",x=a+"mid",f={};f[w]=f[y]=void 0;var b={};b[m]=!1;var d={};return g==="color"&&(d.color={valType:"color",arrayOk:!0,editType:h||"style"},l.anim&&(d.color.anim=!0)),d[m]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:f},d[w]={valType:"number",dflt:null,editType:h||"plot",impliedEdits:b},d[y]={valType:"number",dflt:null,editType:h||"plot",impliedEdits:b},d[x]={valType:"number",dflt:null,editType:"calc",impliedEdits:f},d.colorscale={valType:"colorscale",editType:"calc",dflt:p,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:l.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(d.showscale={valType:"boolean",dflt:v,editType:"calc"},d.colorbar=i),l.noColorAxis||(d.coloraxis={valType:"subplotid",regex:n("coloraxis"),dflt:null,editType:"calc"}),d}},{"../../lib/regex":260,"../../lib/sort_object_keys":265,"../colorbar/attributes":104,"./scales.js":118}],111:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("../../lib"),c=u("./helpers").extractOpts;te.exports=function(e,o,l){var a=e._fullLayout,t=l.vals,v=l.containerStr,p=v?n.nestedProperty(o,v).get():o,h=c(p),g=h.auto!==!1,m=h.min,w=h.max,y=h.mid,x=function(){return n.aggNums(Math.min,null,t)},f=function(){return n.aggNums(Math.max,null,t)};if(m===void 0?m=x():g&&(p._colorAx&&i(m)?m=Math.min(m,x()):m=x()),w===void 0?w=f():g&&(p._colorAx&&i(w)?w=Math.max(w,f()):w=f()),g&&y!==void 0&&(w-y>y-m?m=y-(w-y):w-y<y-m&&(w=y+(y-m))),m===w&&(m-=.5,w+=.5),h._sync("min",m),h._sync("max",w),h.autocolorscale){var b;m*w<0?b=a.colorscale.diverging:m>=0?b=a.colorscale.sequential:b=a.colorscale.sequentialminus,h._sync("colorscale",b)}}},{"../../lib":244,"./helpers":114,"fast-isnumeric":17}],112:[function(u,te,Y){var i=u("../../lib"),n=u("./helpers").hasColorscale,c=u("./helpers").extractOpts;te.exports=function(e,o){function l(m,w){var y=m["_"+w];y!==void 0&&(m[w]=y)}function a(m,w){var y=w.container?i.nestedProperty(m,w.container).get():m;if(y)if(y.coloraxis)y._colorAx=o[y.coloraxis];else{var x=c(y),f=x.auto;(f||x.min===void 0)&&l(y,w.min),(f||x.max===void 0)&&l(y,w.max),x.autocolorscale&&l(y,"colorscale")}}for(var t=0;t<e.length;t++){var v=e[t],p=v._module.colorbar;if(p)if(Array.isArray(p))for(var h=0;h<p.length;h++)a(v,p[h]);else a(v,p);n(v,"marker.line")&&a(v,{container:"marker.line",min:"cmin",max:"cmax"})}for(var g in o._colorAxes)a(o[g],{min:"cmin",max:"cmax"})}},{"../../lib":244,"./helpers":114}],113:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("../../lib"),c=u("../colorbar/has_colorbar"),s=u("../colorbar/defaults"),e=u("./scales").isValid,o=u("../../registry").traceIs;function l(a,t){var v=t.slice(0,t.length-1);return t?n.nestedProperty(a,v).get()||{}:a}te.exports=function a(t,v,p,h,g){var m=g.prefix,w=g.cLetter,y="_module"in v,x=l(t,m),f=l(v,m),b=l(v._template||{},m)||{},d=function(){return delete t.coloraxis,delete v.coloraxis,a(t,v,p,h,g)};if(y){var T=p._colorAxes||{},k=h(m+"coloraxis");if(k){var F=o(v,"contour")&&n.nestedProperty(v,"contours.coloring").get()||"heatmap",M=T[k];M?(M[2].push(d),M[0]!==F&&(M[0]=!1,n.warn(["Ignoring coloraxis:",k,"setting","as it is linked to incompatible colorscales."].join(" ")))):T[k]=[F,v,[d]];return}}var S=x[w+"min"],E=x[w+"max"],A=i(S)&&i(E)&&S<E,z=h(m+w+"auto",!A);z?h(m+w+"mid"):(h(m+w+"min"),h(m+w+"max"));var H=x.colorscale,Q=b.colorscale,X;if(H!==void 0&&(X=!e(H)),Q!==void 0&&(X=!e(Q)),h(m+"autocolorscale",X),h(m+"colorscale"),h(m+"reversescale"),m!=="marker.line."){var ie;m&&y&&(ie=c(x));var R=h(m+"showscale",ie);R&&(m&&b&&(f._template=b),s(x,f,p))}}},{"../../lib":244,"../../registry":327,"../colorbar/defaults":106,"../colorbar/has_colorbar":108,"./scales":118,"fast-isnumeric":17}],114:[function(u,te,Y){var i=u("@plotly/d3"),n=u("tinycolor2"),c=u("fast-isnumeric"),s=u("../../lib"),e=u("../color"),o=u("./scales").isValid;function l(y,x,f){var b=x?s.nestedProperty(y,x).get()||{}:y,d=b[f||"color"],T=!1;if(s.isArrayOrTypedArray(d)){for(var k=0;k<d.length;k++)if(c(d[k])){T=!0;break}}return s.isPlainObject(b)&&(T||b.showscale===!0||c(b.cmin)&&c(b.cmax)||o(b.colorscale)||s.isPlainObject(b.colorbar))}var a=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function v(y){var x=y._colorAx,f=x||y,b={},d,T,k;for(T=0;T<a.length;T++)k=a[T],b[k]=f[k];if(x)for(d="c",T=0;T<t.length;T++)k=t[T],b[k]=f["c"+k];else{var F;for(T=0;T<t.length;T++){if(k=t[T],F="c"+k,F in f){b[k]=f[F];continue}F="z"+k,F in f&&(b[k]=f[F])}d=F.charAt(0)}return b._sync=function(M,S){var E=t.indexOf(M)!==-1?d+M:M;f[E]=f["_"+E]=S},b}function p(y){for(var x=v(y),f=x.min,b=x.max,d=x.reversescale?h(x.colorscale):x.colorscale,T=d.length,k=new Array(T),F=new Array(T),M=0;M<T;M++){var S=d[M];k[M]=f+S[0]*(b-f),F[M]=S[1]}return{domain:k,range:F}}function h(y){for(var x=y.length,f=new Array(x),b=x-1,d=0;b>=0;b--,d++){var T=y[b];f[d]=[1-T[0],T[1]]}return f}function g(y,x){x=x||{};for(var f=y.domain,b=y.range,d=b.length,T=new Array(d),k=0;k<d;k++){var F=n(b[k]).toRgb();T[k]=[F.r,F.g,F.b,F.a]}var M=i.scale.linear().domain(f).range(T).clamp(!0),S=x.noNumericCheck,E=x.returnArray,A;return S&&E?A=M:S?A=function(z){return w(M(z))}:E?A=function(z){return c(z)?M(z):n(z).isValid()?z:e.defaultLine}:A=function(z){return c(z)?w(M(z)):n(z).isValid()?z:e.defaultLine},A.domain=M.domain,A.range=function(){return b},A}function m(y,x){return g(p(y),x)}function w(y){var x={r:y[0],g:y[1],b:y[2],a:y[3]};return n(x).toRgbString()}te.exports={hasColorscale:l,extractOpts:v,extractScale:p,flipScale:h,makeColorScaleFunc:g,makeColorScaleFuncFromTrace:m}},{"../../lib":244,"../color":103,"./scales":118,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:68}],115:[function(u,te,Y){var i=u("./scales"),n=u("./helpers");te.exports={moduleType:"component",name:"colorscale",attributes:u("./attributes"),layoutAttributes:u("./layout_attributes"),supplyLayoutDefaults:u("./layout_defaults"),handleDefaults:u("./defaults"),crossTraceDefaults:u("./cross_trace_defaults"),calc:u("./calc"),scales:i.scales,defaultScale:i.defaultScale,getScale:i.get,isValidScale:i.isValid,hasColorscale:n.hasColorscale,extractOpts:n.extractOpts,extractScale:n.extractScale,flipScale:n.flipScale,makeColorScaleFunc:n.makeColorScaleFunc,makeColorScaleFuncFromTrace:n.makeColorScaleFuncFromTrace}},{"./attributes":110,"./calc":111,"./cross_trace_defaults":112,"./defaults":113,"./helpers":114,"./layout_attributes":116,"./layout_defaults":117,"./scales":118}],116:[function(u,te,Y){var i=u("../../lib/extend").extendFlat,n=u("./attributes"),c=u("./scales").scales;te.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:c.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:c.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:c.RdBu,editType:"calc"}},coloraxis:i({_isSubplotObj:!0,editType:"calc"},n("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":238,"./attributes":110,"./scales":118}],117:[function(u,te,Y){var i=u("../../lib"),n=u("../../plot_api/plot_template"),c=u("./layout_attributes"),s=u("./defaults");te.exports=function(o,l){function a(y,x){return i.coerce(o,l,c,y,x)}a("colorscale.sequential"),a("colorscale.sequentialminus"),a("colorscale.diverging");var t=l._colorAxes,v,p;function h(y,x){return i.coerce(v,p,c.coloraxis,y,x)}for(var g in t){var m=t[g];if(m[0])v=o[g]||{},p=n.newContainer(l,g,"coloraxis"),p._name=g,s(v,p,l,h,{prefix:"",cLetter:"c"});else{for(var w=0;w<m[2].length;w++)m[2][w]();delete l._colorAxes[g]}}}},{"../../lib":244,"../../plot_api/plot_template":280,"./defaults":113,"./layout_attributes":116}],118:[function(u,te,Y){var i=u("tinycolor2"),n={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},c=n.RdBu;function s(l,a){if(a||(a=c),!l)return a;function t(){try{l=n[l]||JSON.parse(l)}catch{l=a}}return typeof l=="string"&&(t(),typeof l=="string"&&t()),e(l)?l:a}function e(l){var a=0;if(!Array.isArray(l)||l.length<2||!l[0]||!l[l.length-1]||+l[0][0]!=0||+l[l.length-1][0]!=1)return!1;for(var t=0;t<l.length;t++){var v=l[t];if(v.length!==2||+v[0]<a||!i(v[1]).isValid())return!1;a=+v[0]}return!0}function o(l){return n[l]!==void 0?!0:e(l)}te.exports={scales:n,defaultScale:c,get:s,isValid:o}},{tinycolor2:68}],119:[function(u,te,Y){te.exports=function(n,c,s,e,o){var l=(n-s)/(e-s),a=l+c/(e-s),t=(l+a)/2;return o==="left"||o==="bottom"?l:o==="center"||o==="middle"?t:o==="right"||o==="top"?a:l<2/3-t?l:a>4/3-t?a:t}},{}],120:[function(u,te,Y){var i=u("../../lib"),n=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];te.exports=function(s,e,o,l){return o==="left"?s=0:o==="center"?s=1:o==="right"?s=2:s=i.constrain(Math.floor(s*3),0,2),l==="bottom"?e=0:l==="middle"?e=1:l==="top"?e=2:e=i.constrain(Math.floor(e*3),0,2),n[e][s]}},{"../../lib":244}],121:[function(u,te,Y){Y.selectMode=function(i){return i==="lasso"||i==="select"},Y.drawMode=function(i){return i==="drawclosedpath"||i==="drawopenpath"||i==="drawline"||i==="drawrect"||i==="drawcircle"},Y.openMode=function(i){return i==="drawline"||i==="drawopenpath"},Y.rectMode=function(i){return i==="select"||i==="drawline"||i==="drawrect"||i==="drawcircle"},Y.freeMode=function(i){return i==="lasso"||i==="drawclosedpath"||i==="drawopenpath"},Y.selectingOrDrawing=function(i){return Y.freeMode(i)||Y.rectMode(i)}},{}],122:[function(u,te,Y){var i=u("mouse-event-offset"),n=u("has-hover"),c=u("has-passive-events"),s=u("../../lib").removeElement,e=u("../../plots/cartesian/constants"),o=te.exports={};o.align=u("./align"),o.getCursor=u("./cursor");var l=u("./unhover");o.unhover=l.wrapped,o.unhoverRaw=l.raw,o.init=function(p){var h=p.gd,g=1,m=h._context.doubleClickDelay,w=p.element,y,x,f,b,d,T,k,F;h._mouseDownTime||(h._mouseDownTime=0),w.style.pointerEvents="all",w.onmousedown=E,c?(w._ontouchstart&&w.removeEventListener("touchstart",w._ontouchstart),w._ontouchstart=E,w.addEventListener("touchstart",E,{passive:!1})):w.ontouchstart=E;function M(H,Q,X){return Math.abs(H)<X&&(H=0),Math.abs(Q)<X&&(Q=0),[H,Q]}var S=p.clampFn||M;function E(H){h._dragged=!1,h._dragging=!0;var Q=t(H);y=Q[0],x=Q[1],k=H.target,T=H,F=H.buttons===2||H.ctrlKey,typeof H.clientX>"u"&&typeof H.clientY>"u"&&(H.clientX=y,H.clientY=x),f=new Date().getTime(),f-h._mouseDownTime<m?g+=1:(g=1,h._mouseDownTime=f),p.prepFn&&p.prepFn(H,y,x),n&&!F?(d=a(),d.style.cursor=window.getComputedStyle(w).cursor):n||(d=document,b=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(w).cursor),document.addEventListener("mouseup",z),document.addEventListener("touchend",z),p.dragmode!==!1&&(H.preventDefault(),document.addEventListener("mousemove",A),document.addEventListener("touchmove",A,{passive:!1}))}function A(H){H.preventDefault();var Q=t(H),X=p.minDrag||e.MINDRAG,ie=S(Q[0]-y,Q[1]-x,X),R=ie[0],O=ie[1];(R||O)&&(h._dragged=!0,o.unhover(h,H)),h._dragged&&p.moveFn&&!F&&(h._dragdata={element:w,dx:R,dy:O},p.moveFn(R,O))}function z(H){if(delete h._dragdata,p.dragmode!==!1&&(H.preventDefault(),document.removeEventListener("mousemove",A),document.removeEventListener("touchmove",A)),document.removeEventListener("mouseup",z),document.removeEventListener("touchend",z),n?s(d):b&&(d.documentElement.style.cursor=b,b=null),!h._dragging){h._dragged=!1;return}if(h._dragging=!1,new Date().getTime()-h._mouseDownTime>m&&(g=Math.max(g-1,1)),h._dragged)p.doneFn&&p.doneFn();else if(p.clickFn&&p.clickFn(g,T),!F){var Q;try{Q=new MouseEvent("click",H)}catch{var X=t(H);Q=document.createEvent("MouseEvents"),Q.initMouseEvent("click",H.bubbles,H.cancelable,H.view,H.detail,H.screenX,H.screenY,X[0],X[1],H.ctrlKey,H.altKey,H.shiftKey,H.metaKey,H.button,H.relatedTarget)}k.dispatchEvent(Q)}h._dragging=!1,h._dragged=!1}};function a(){var v=document.createElement("div");v.className="dragcover";var p=v.style;return p.position="fixed",p.left=0,p.right=0,p.top=0,p.bottom=0,p.zIndex=999999999,p.background="none",document.body.appendChild(v),v}o.coverSlip=a;function t(v){return i(v.changedTouches?v.changedTouches[0]:v,document.body)}},{"../../lib":244,"../../plots/cartesian/constants":298,"./align":119,"./cursor":120,"./unhover":123,"has-hover":48,"has-passive-events":49,"mouse-event-offset":53}],123:[function(u,te,Y){var i=u("../../lib/events"),n=u("../../lib/throttle"),c=u("../../lib/dom").getGraphDiv,s=u("../fx/constants"),e=te.exports={};e.wrapped=function(o,l,a){o=c(o),o._fullLayout&&n.clear(o._fullLayout._uid+s.HOVERID),e.raw(o,l,a)},e.raw=function(l,a){var t=l._fullLayout,v=l._hoverdata;a||(a={}),!(a.target&&!l._dragged&&i.triggerHandler(l,"plotly_beforehover",a)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),l._hoverdata=void 0,a.target&&v&&l.emit("plotly_unhover",{event:a,points:v}))}},{"../../lib/dom":236,"../../lib/events":237,"../../lib/throttle":268,"../fx/constants":137}],124:[function(u,te,Y){Y.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},Y.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},{}],125:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../lib"),c=n.numberFormat,s=u("fast-isnumeric"),e=u("tinycolor2"),o=u("../../registry"),l=u("../color"),a=u("../colorscale"),t=n.strTranslate,v=u("../../lib/svg_text_utils"),p=u("../../constants/xmlns_namespaces"),h=u("../../constants/alignment"),g=h.LINE_SPACING,m=u("../../constants/interactions").DESELECTDIM,w=u("../../traces/scatter/subtypes"),y=u("../../traces/scatter/make_bubble_size_func"),x=u("../../components/fx/helpers").appendArrayPointValue,f=te.exports={};f.font=function(ue,he,we,ke){n.isPlainObject(he)&&(ke=he.color,we=he.size,he=he.family),he&&ue.style("font-family",he),we+1&&ue.style("font-size",we+"px"),ke&&ue.call(l.fill,ke)},f.setPosition=function(ue,he,we){ue.attr("x",he).attr("y",we)},f.setSize=function(ue,he,we){ue.attr("width",he).attr("height",we)},f.setRect=function(ue,he,we,ke,Pe){ue.call(f.setPosition,he,we).call(f.setSize,ke,Pe)},f.translatePoint=function(ue,he,we,ke){var Pe=we.c2p(ue.x),fe=ke.c2p(ue.y);if(s(Pe)&&s(fe)&&he.node())he.node().nodeName==="text"?he.attr("x",Pe).attr("y",fe):he.attr("transform",t(Pe,fe));else return!1;return!0},f.translatePoints=function(ue,he,we){ue.each(function(ke){var Pe=i.select(this);f.translatePoint(ke,Pe,he,we)})},f.hideOutsideRangePoint=function(ue,he,we,ke,Pe,fe){he.attr("display",we.isPtWithinRange(ue,Pe)&&ke.isPtWithinRange(ue,fe)?null:"none")},f.hideOutsideRangePoints=function(ue,he){if(!!he._hasClipOnAxisFalse){var we=he.xaxis,ke=he.yaxis;ue.each(function(Pe){var fe=Pe[0].trace,De=fe.xcalendar,Fe=fe.ycalendar,et=o.traceIs(fe,"bar-like")?".bartext":".point,.textpoint";ue.selectAll(et).each(function(Xe){f.hideOutsideRangePoint(Xe,i.select(this),we,ke,De,Fe)})})}},f.crispRound=function(ue,he,we){return!he||!s(he)?we||0:ue._context.staticPlot?he:he<1?1:Math.round(he)},f.singleLineStyle=function(ue,he,we,ke,Pe){he.style("fill","none");var fe=(((ue||[])[0]||{}).trace||{}).line||{},De=we||fe.width||0,Fe=Pe||fe.dash||"";l.stroke(he,ke||fe.color),f.dashLine(he,Fe,De)},f.lineGroupStyle=function(ue,he,we,ke){ue.style("fill","none").each(function(Pe){var fe=(((Pe||[])[0]||{}).trace||{}).line||{},De=he||fe.width||0,Fe=ke||fe.dash||"";i.select(this).call(l.stroke,we||fe.color).call(f.dashLine,Fe,De)})},f.dashLine=function(ue,he,we){we=+we||0,he=f.dashStyle(he,we),ue.style({"stroke-dasharray":he,"stroke-width":we+"px"})},f.dashStyle=function(ue,he){he=+he||1;var we=Math.max(he,3);return ue==="solid"?ue="":ue==="dot"?ue=we+"px,"+we+"px":ue==="dash"?ue=3*we+"px,"+3*we+"px":ue==="longdash"?ue=5*we+"px,"+5*we+"px":ue==="dashdot"?ue=3*we+"px,"+we+"px,"+we+"px,"+we+"px":ue==="longdashdot"&&(ue=5*we+"px,"+2*we+"px,"+we+"px,"+2*we+"px"),ue};function b(ue,he,we){var ke=he.fillpattern,Pe=ke&&f.getPatternAttr(ke.shape,0,"");if(Pe){var fe=f.getPatternAttr(ke.bgcolor,0,null),De=f.getPatternAttr(ke.fgcolor,0,null),Fe=ke.fgopacity,et=f.getPatternAttr(ke.size,0,8),Xe=f.getPatternAttr(ke.solidity,0,.3),qe=he.uid;f.pattern(ue,"point",we,qe,Pe,et,Xe,void 0,ke.fillmode,fe,De,Fe)}else he.fillcolor&&ue.call(l.fill,he.fillcolor)}f.singleFillStyle=function(ue,he){var we=i.select(ue.node()),ke=we.data(),Pe=((ke[0]||[])[0]||{}).trace||{};b(ue,Pe,he)},f.fillGroupStyle=function(ue,he){ue.style("stroke-width",0).each(function(we){var ke=i.select(this);we[0].trace&&b(ke,we[0].trace,he)})};var d=u("./symbol_defs");f.symbolNames=[],f.symbolFuncs=[],f.symbolBackOffs=[],f.symbolNeedLines={},f.symbolNoDot={},f.symbolNoFill={},f.symbolList=[],Object.keys(d).forEach(function(ue){var he=d[ue],we=he.n;f.symbolList.push(we,String(we),ue,we+100,String(we+100),ue+"-open"),f.symbolNames[we]=ue,f.symbolFuncs[we]=he.f,f.symbolBackOffs[we]=he.backoff||0,he.needLine&&(f.symbolNeedLines[we]=!0),he.noDot?f.symbolNoDot[we]=!0:f.symbolList.push(we+200,String(we+200),ue+"-dot",we+300,String(we+300),ue+"-open-dot"),he.noFill&&(f.symbolNoFill[we]=!0)});var T=f.symbolNames.length,k="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";f.symbolNumber=function(ue){if(s(ue))ue=+ue;else if(typeof ue=="string"){var he=0;ue.indexOf("-open")>0&&(he=100,ue=ue.replace("-open","")),ue.indexOf("-dot")>0&&(he+=200,ue=ue.replace("-dot","")),ue=f.symbolNames.indexOf(ue),ue>=0&&(ue+=he)}return ue%100>=T||ue>=400?0:Math.floor(Math.max(ue,0))};function F(ue,he,we,ke){var Pe=ue%100;return f.symbolFuncs[Pe](he,we,ke)+(ue>=200?k:"")}var M={x1:1,x2:0,y1:0,y2:0},S={x1:0,x2:0,y1:1,y2:0},E=c("~f"),A={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:M},horizontalreversed:{node:"linearGradient",attrs:M,reversed:!0},vertical:{node:"linearGradient",attrs:S},verticalreversed:{node:"linearGradient",attrs:S,reversed:!0}};f.gradient=function(ue,he,we,ke,Pe,fe){for(var De=Pe.length,Fe=A[ke],et=new Array(De),Xe=0;Xe<De;Xe++)Fe.reversed?et[De-1-Xe]=[E((1-Pe[Xe][0])*100),Pe[Xe][1]]:et[Xe]=[E(Pe[Xe][0]*100),Pe[Xe][1]];var qe=he._fullLayout,rt="g"+qe._uid+"-"+we,ut=qe._defs.select(".gradients").selectAll("#"+rt).data([ke+et.join(";")],n.identity);ut.exit().remove(),ut.enter().append(Fe.node).each(function(){var yt=i.select(this);Fe.attrs&&yt.attr(Fe.attrs),yt.attr("id",rt);var Rt=yt.selectAll("stop").data(et);Rt.exit().remove(),Rt.enter().append("stop"),Rt.each(function(bt){var je=e(bt[1]);i.select(this).attr({offset:bt[0]+"%","stop-color":l.tinyRGB(je),"stop-opacity":je.getAlpha()})})}),ue.style(fe,I(rt,he)).style(fe+"-opacity",null),ue.classed("gradient_filled",!0)},f.pattern=function(ue,he,we,ke,Pe,fe,De,Fe,et,Xe,qe,rt){var ut=he==="legend";Fe&&(et==="overlay"?(Xe=Fe,qe=l.contrast(Xe)):(Xe=void 0,qe=Fe));var yt=we._fullLayout,Rt="p"+yt._uid+"-"+ke,bt,je,ct=function(Ge,Ke,Qe,Ie,ft){return Ie+(ft-Ie)*(Ge-Ke)/(Qe-Ke)},Dt,Lt,de,Re,ze={},ae=e(qe),xe=l.tinyRGB(ae),Te=ae.getAlpha(),Me=rt*Te;switch(Pe){case"/":bt=fe*Math.sqrt(2),je=fe*Math.sqrt(2),Dt="M-"+bt/4+","+je/4+"l"+bt/2+",-"+je/2+"M0,"+je+"L"+bt+",0M"+bt/4*3+","+je/4*5+"l"+bt/2+",-"+je/2,Lt=De*fe,Re="path",ze={d:Dt,opacity:Me,stroke:xe,"stroke-width":Lt+"px"};break;case"\\":bt=fe*Math.sqrt(2),je=fe*Math.sqrt(2),Dt="M"+bt/4*3+",-"+je/4+"l"+bt/2+","+je/2+"M0,0L"+bt+","+je+"M-"+bt/4+","+je/4*3+"l"+bt/2+","+je/2,Lt=De*fe,Re="path",ze={d:Dt,opacity:Me,stroke:xe,"stroke-width":Lt+"px"};break;case"x":bt=fe*Math.sqrt(2),je=fe*Math.sqrt(2),Dt="M-"+bt/4+","+je/4+"l"+bt/2+",-"+je/2+"M0,"+je+"L"+bt+",0M"+bt/4*3+","+je/4*5+"l"+bt/2+",-"+je/2+"M"+bt/4*3+",-"+je/4+"l"+bt/2+","+je/2+"M0,0L"+bt+","+je+"M-"+bt/4+","+je/4*3+"l"+bt/2+","+je/2,Lt=fe-fe*Math.sqrt(1-De),Re="path",ze={d:Dt,opacity:Me,stroke:xe,"stroke-width":Lt+"px"};break;case"|":bt=fe,je=fe,Re="path",Dt="M"+bt/2+",0L"+bt/2+","+je,Lt=De*fe,Re="path",ze={d:Dt,opacity:Me,stroke:xe,"stroke-width":Lt+"px"};break;case"-":bt=fe,je=fe,Re="path",Dt="M0,"+je/2+"L"+bt+","+je/2,Lt=De*fe,Re="path",ze={d:Dt,opacity:Me,stroke:xe,"stroke-width":Lt+"px"};break;case"+":bt=fe,je=fe,Re="path",Dt="M"+bt/2+",0L"+bt/2+","+je+"M0,"+je/2+"L"+bt+","+je/2,Lt=fe-fe*Math.sqrt(1-De),Re="path",ze={d:Dt,opacity:Me,stroke:xe,"stroke-width":Lt+"px"};break;case".":bt=fe,je=fe,De<Math.PI/4?de=Math.sqrt(De*fe*fe/Math.PI):de=ct(De,Math.PI/4,1,fe/2,fe/Math.sqrt(2)),Re="circle",ze={cx:bt/2,cy:je/2,r:de,opacity:Me,fill:xe};break}var Je=[Pe||"noSh",Xe||"noBg",qe||"noFg",fe,De].join(";"),Ve=yt._defs.select(".patterns").selectAll("#"+Rt).data([Je],n.identity);Ve.exit().remove(),Ve.enter().append("pattern").each(function(){var Ge=i.select(this);if(Ge.attr({id:Rt,width:bt+"px",height:je+"px",patternUnits:"userSpaceOnUse",patternTransform:ut?"scale(0.8)":""}),Xe){var Ke=e(Xe),Qe=l.tinyRGB(Ke),Ie=Ke.getAlpha(),ft=Ge.selectAll("rect").data([0]);ft.exit().remove(),ft.enter().append("rect").attr({width:bt+"px",height:je+"px",fill:Qe,"fill-opacity":Ie})}var vt=Ge.selectAll(Re).data([0]);vt.exit().remove(),vt.enter().append(Re).attr(ze)}),ue.style("fill",I(Rt,we)).style("fill-opacity",null),ue.classed("pattern_filled",!0)},f.initGradients=function(ue){var he=ue._fullLayout,we=n.ensureSingle(he._defs,"g","gradients");we.selectAll("linearGradient,radialGradient").remove(),i.select(ue).selectAll(".gradient_filled").classed("gradient_filled",!1)},f.initPatterns=function(ue){var he=ue._fullLayout,we=n.ensureSingle(he._defs,"g","patterns");we.selectAll("pattern").remove(),i.select(ue).selectAll(".pattern_filled").classed("pattern_filled",!1)},f.getPatternAttr=function(ue,he,we){return ue&&n.isArrayOrTypedArray(ue)?he<ue.length?ue[he]:we:ue},f.pointStyle=function(ue,he,we){if(!!ue.size()){var ke=f.makePointStyleFns(he);ue.each(function(Pe){f.singlePointStyle(Pe,i.select(this),he,ke,we)})}},f.singlePointStyle=function(ue,he,we,ke,Pe){var fe=we.marker,De=fe.line;if(he.style("opacity",ke.selectedOpacityFn?ke.selectedOpacityFn(ue):ue.mo===void 0?fe.opacity:ue.mo),ke.ms2mrc){var Fe;ue.ms==="various"||fe.size==="various"?Fe=3:Fe=ke.ms2mrc(ue.ms),ue.mrc=Fe,ke.selectedSizeFn&&(Fe=ue.mrc=ke.selectedSizeFn(ue));var et=f.symbolNumber(ue.mx||fe.symbol)||0;ue.om=et%200>=100;var Xe=Ce(ue,we),qe=B(ue,we);he.attr("d",F(et,Fe,Xe,qe))}var rt=!1,ut,yt,Rt;if(ue.so)Rt=De.outlierwidth,yt=De.outliercolor,ut=fe.outliercolor;else{var bt=(De||{}).width;Rt=(ue.mlw+1||bt+1||(ue.trace?(ue.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in ue?yt=ue.mlcc=ke.lineScale(ue.mlc):n.isArrayOrTypedArray(De.color)?yt=l.defaultLine:yt=De.color,n.isArrayOrTypedArray(fe.color)&&(ut=l.defaultLine,rt=!0),"mc"in ue?ut=ue.mcc=ke.markerScale(ue.mc):ut=fe.color||"rgba(0,0,0,0)",ke.selectedColorFn&&(ut=ke.selectedColorFn(ue))}if(ue.om)he.call(l.stroke,ut).style({"stroke-width":(Rt||1)+"px",fill:"none"});else{he.style("stroke-width",(ue.isBlank?0:Rt)+"px");var je=fe.gradient,ct=ue.mgt;ct?rt=!0:ct=je&&je.type,n.isArrayOrTypedArray(ct)&&(ct=ct[0],A[ct]||(ct=0));var Dt=fe.pattern,Lt=Dt&&f.getPatternAttr(Dt.shape,ue.i,"");if(ct&&ct!=="none"){var de=ue.mgc;de?rt=!0:de=je.color;var Re=we.uid;rt&&(Re+="-"+ue.i),f.gradient(he,Pe,Re,ct,[[0,de],[1,ut]],"fill")}else if(Lt){var ze=f.getPatternAttr(Dt.bgcolor,ue.i,null),ae=f.getPatternAttr(Dt.fgcolor,ue.i,null),xe=Dt.fgopacity,Te=f.getPatternAttr(Dt.size,ue.i,8),Me=f.getPatternAttr(Dt.solidity,ue.i,.3),Je=ue.mcc||n.isArrayOrTypedArray(Dt.shape)||n.isArrayOrTypedArray(Dt.bgcolor)||n.isArrayOrTypedArray(Dt.size)||n.isArrayOrTypedArray(Dt.solidity),Ve=we.uid;Je&&(Ve+="-"+ue.i),f.pattern(he,"point",Pe,Ve,Lt,Te,Me,ue.mcc,Dt.fillmode,ze,ae,xe)}else l.fill(he,ut);Rt&&l.stroke(he,yt)}},f.makePointStyleFns=function(ue){var he={},we=ue.marker;return he.markerScale=f.tryColorscale(we,""),he.lineScale=f.tryColorscale(we,"line"),o.traceIs(ue,"symbols")&&(he.ms2mrc=w.isBubble(ue)?y(ue):function(){return(we.size||6)/2}),ue.selectedpoints&&n.extendFlat(he,f.makeSelectedPointStyleFns(ue)),he},f.makeSelectedPointStyleFns=function(ue){var he={},we=ue.selected||{},ke=ue.unselected||{},Pe=ue.marker||{},fe=we.marker||{},De=ke.marker||{},Fe=Pe.opacity,et=fe.opacity,Xe=De.opacity,qe=et!==void 0,rt=Xe!==void 0;(n.isArrayOrTypedArray(Fe)||qe||rt)&&(he.selectedOpacityFn=function(de){var Re=de.mo===void 0?Pe.opacity:de.mo;return de.selected?qe?et:Re:rt?Xe:m*Re});var ut=Pe.color,yt=fe.color,Rt=De.color;(yt||Rt)&&(he.selectedColorFn=function(de){var Re=de.mcc||ut;return de.selected?yt||Re:Rt||Re});var bt=Pe.size,je=fe.size,ct=De.size,Dt=je!==void 0,Lt=ct!==void 0;return o.traceIs(ue,"symbols")&&(Dt||Lt)&&(he.selectedSizeFn=function(de){var Re=de.mrc||bt/2;return de.selected?Dt?je/2:Re:Lt?ct/2:Re}),he},f.makeSelectedTextStyleFns=function(ue){var he={},we=ue.selected||{},ke=ue.unselected||{},Pe=ue.textfont||{},fe=we.textfont||{},De=ke.textfont||{},Fe=Pe.color,et=fe.color,Xe=De.color;return he.selectedTextColorFn=function(qe){var rt=qe.tc||Fe;return qe.selected?et||rt:Xe||(et?rt:l.addOpacity(rt,m))},he},f.selectedPointStyle=function(ue,he){if(!(!ue.size()||!he.selectedpoints)){var we=f.makeSelectedPointStyleFns(he),ke=he.marker||{},Pe=[];we.selectedOpacityFn&&Pe.push(function(fe,De){fe.style("opacity",we.selectedOpacityFn(De))}),we.selectedColorFn&&Pe.push(function(fe,De){l.fill(fe,we.selectedColorFn(De))}),we.selectedSizeFn&&Pe.push(function(fe,De){var Fe=De.mx||ke.symbol||0,et=we.selectedSizeFn(De);fe.attr("d",F(f.symbolNumber(Fe),et,Ce(De,he),B(De,he))),De.mrc2=et}),Pe.length&&ue.each(function(fe){for(var De=i.select(this),Fe=0;Fe<Pe.length;Fe++)Pe[Fe](De,fe)})}},f.tryColorscale=function(ue,he){var we=he?n.nestedProperty(ue,he).get():ue;if(we){var ke=we.color;if((we.colorscale||we._colorAx)&&n.isArrayOrTypedArray(ke))return a.makeColorScaleFuncFromTrace(we)}return n.identity};var z={start:1,end:-1,middle:0,bottom:1,top:-1};function H(ue,he,we,ke,Pe){var fe=i.select(ue.node().parentNode),De=he.indexOf("top")!==-1?"top":he.indexOf("bottom")!==-1?"bottom":"middle",Fe=he.indexOf("left")!==-1?"end":he.indexOf("right")!==-1?"start":"middle",et=ke?ke/.8+1:0,Xe=(v.lineCount(ue)-1)*g+1,qe=z[Fe]*et,rt=we*.75+z[De]*et+(z[De]-1)*Xe*we/2;ue.attr("text-anchor",Fe),Pe||fe.attr("transform",t(qe,rt))}function Q(ue,he){var we=ue.ts||he.textfont.size;return s(we)&&we>0?we:0}f.textPointStyle=function(ue,he,we){if(!!ue.size()){var ke;if(he.selectedpoints){var Pe=f.makeSelectedTextStyleFns(he);ke=Pe.selectedTextColorFn}var fe=he.texttemplate,De=we._fullLayout;ue.each(function(Fe){var et=i.select(this),Xe=fe?n.extractOption(Fe,he,"txt","texttemplate"):n.extractOption(Fe,he,"tx","text");if(!Xe&&Xe!==0){et.remove();return}if(fe){var qe=he._module.formatLabels,rt=qe?qe(Fe,he,De):{},ut={};x(ut,he,Fe.i);var yt=he._meta||{};Xe=n.texttemplateString(Xe,rt,De._d3locale,ut,Fe,yt)}var Rt=Fe.tp||he.textposition,bt=Q(Fe,he),je=ke?ke(Fe):Fe.tc||he.textfont.color;et.call(f.font,Fe.tf||he.textfont.family,bt,je).text(Xe).call(v.convertToTspans,we).call(H,Rt,bt,Fe.mrc)})}},f.selectedTextStyle=function(ue,he){if(!(!ue.size()||!he.selectedpoints)){var we=f.makeSelectedTextStyleFns(he);ue.each(function(ke){var Pe=i.select(this),fe=we.selectedTextColorFn(ke),De=ke.tp||he.textposition,Fe=Q(ke,he);l.fill(Pe,fe);var et=o.traceIs(he,"bar-like");H(Pe,De,Fe,ke.mrc2||ke.mrc,et)})}};var X=.5;f.smoothopen=function(ue,he){if(ue.length<3)return"M"+ue.join("L");var we="M"+ue[0],ke=[],Pe;for(Pe=1;Pe<ue.length-1;Pe++)ke.push(ee(ue[Pe-1],ue[Pe],ue[Pe+1],he));for(we+="Q"+ke[0][0]+" "+ue[1],Pe=2;Pe<ue.length-1;Pe++)we+="C"+ke[Pe-2][1]+" "+ke[Pe-1][0]+" "+ue[Pe];return we+="Q"+ke[ue.length-3][1]+" "+ue[ue.length-1],we},f.smoothclosed=function(ue,he){if(ue.length<3)return"M"+ue.join("L")+"Z";var we="M"+ue[0],ke=ue.length-1,Pe=[ee(ue[ke],ue[0],ue[1],he)],fe;for(fe=1;fe<ke;fe++)Pe.push(ee(ue[fe-1],ue[fe],ue[fe+1],he));for(Pe.push(ee(ue[ke-1],ue[ke],ue[0],he)),fe=1;fe<=ke;fe++)we+="C"+Pe[fe-1][1]+" "+Pe[fe][0]+" "+ue[fe];return we+="C"+Pe[ke][1]+" "+Pe[0][0]+" "+ue[0]+"Z",we};var ie,R;function O(ue,he,we){return we&&(ue=pe(ue)),he?K(ue[1]):U(ue[0])}function U(ue){var he=i.round(ue,2);return ie=he,he}function K(ue){var he=i.round(ue,2);return R=he,he}function ee(ue,he,we,ke){var Pe=ue[0]-he[0],fe=ue[1]-he[1],De=we[0]-he[0],Fe=we[1]-he[1],et=Math.pow(Pe*Pe+fe*fe,X/2),Xe=Math.pow(De*De+Fe*Fe,X/2),qe=(Xe*Xe*Pe-et*et*De)*ke,rt=(Xe*Xe*fe-et*et*Fe)*ke,ut=3*Xe*(et+Xe),yt=3*et*(et+Xe);return[[U(he[0]+(ut&&qe/ut)),K(he[1]+(ut&&rt/ut))],[U(he[0]-(yt&&qe/yt)),K(he[1]-(yt&&rt/yt))]]}var ne={hv:function(ue,he,we){return"H"+U(he[0])+"V"+O(he,1,we)},vh:function(ue,he,we){return"V"+K(he[1])+"H"+O(he,0,we)},hvh:function(ue,he,we){return"H"+U((ue[0]+he[0])/2)+"V"+K(he[1])+"H"+O(he,0,we)},vhv:function(ue,he,we){return"V"+K((ue[1]+he[1])/2)+"H"+U(he[0])+"V"+O(he,1,we)}},me=function(ue,he,we){return"L"+O(he,0,we)+","+O(he,1,we)};f.steps=function(ue){var he=ne[ue]||me;return function(we){for(var ke="M"+U(we[0][0])+","+K(we[0][1]),Pe=we.length,fe=1;fe<Pe;fe++)ke+=he(we[fe-1],we[fe],fe===Pe-1);return ke}};function pe(ue,he){var we=ue.backoff,ke=ue.trace,Pe=ue.d,fe=ue.i;if(we&&ke&&ke.marker&&ke.marker.angle%360===0&&ke.line&&ke.line.shape!=="spline"){var De=n.isArrayOrTypedArray(we),Fe=ue,et=he?he[0]:ie||0,Xe=he?he[1]:R||0,qe=Fe[0],rt=Fe[1],ut=qe-et,yt=rt-Xe,Rt=Math.atan2(yt,ut),bt=De?we[fe]:we;if(bt==="auto"){var je=Fe.i;ke.type==="scatter"&&je--;var ct=Fe.marker;bt=ct?f.symbolBackOffs[f.symbolNumber(ct.symbol)]*ct.size:0,bt+=f.getMarkerStandoff(Pe[je],ke)||0}var Dt=qe-bt*Math.cos(Rt),Lt=rt-bt*Math.sin(Rt);(Dt<=qe&&Dt>=et||Dt>=qe&&Dt<=et)&&(Lt<=rt&&Lt>=Xe||Lt>=rt&&Lt<=Xe)&&(ue=[Dt,Lt])}return ue}f.applyBackoff=pe,f.makeTester=function(){var ue=n.ensureSingleById(i.select("body"),"svg","js-plotly-tester",function(we){we.attr(p.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),he=n.ensureSingle(ue,"path","js-reference-point",function(we){we.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});f.tester=ue,f.testref=he},f.savedBBoxes={};var be=0,ve=1e4;f.bBox=function(ue,he,we){we||(we=C(ue));var ke;if(we){if(ke=f.savedBBoxes[we],ke)return n.extendFlat({},ke)}else if(ue.childNodes.length===1){var Pe=ue.childNodes[0];if(we=C(Pe),we){var fe=+Pe.getAttribute("x")||0,De=+Pe.getAttribute("y")||0,Fe=Pe.getAttribute("transform");if(!Fe){var et=f.bBox(Pe,!1,we);return fe&&(et.left+=fe,et.right+=fe),De&&(et.top+=De,et.bottom+=De),et}if(we+="~"+fe+"~"+De+"~"+Fe,ke=f.savedBBoxes[we],ke)return n.extendFlat({},ke)}}var Xe,qe;he?Xe=ue:(qe=f.tester.node(),Xe=ue.cloneNode(!0),qe.appendChild(Xe)),i.select(Xe).attr("transform",null).call(v.positionText,0,0);var rt=Xe.getBoundingClientRect(),ut=f.testref.node().getBoundingClientRect();he||qe.removeChild(Xe);var yt={height:rt.height,width:rt.width,left:rt.left-ut.left,top:rt.top-ut.top,right:rt.right-ut.left,bottom:rt.bottom-ut.top};return be>=ve&&(f.savedBBoxes={},be=0),we&&(f.savedBBoxes[we]=yt),be++,n.extendFlat({},yt)};function C(ue){var he=ue.getAttribute("data-unformatted");if(he!==null)return he+ue.getAttribute("data-math")+ue.getAttribute("text-anchor")+ue.getAttribute("style")}f.setClipUrl=function(ue,he,we){ue.attr("clip-path",I(he,we))};function I(ue,he){if(!ue)return null;var we=he._context,ke=we._exportedPlot?"":we._baseUrl||"";return ke?"url('"+ke+"#"+ue+"')":"url(#"+ue+")"}f.getTranslate=function(ue){var he=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,we=ue.attr?"attr":"getAttribute",ke=ue[we]("transform")||"",Pe=ke.replace(he,function(fe,De,Fe){return[De,Fe].join(" ")}).split(" ");return{x:+Pe[0]||0,y:+Pe[1]||0}},f.setTranslate=function(ue,he,we){var ke=/(\btranslate\(.*?\);?)/,Pe=ue.attr?"attr":"getAttribute",fe=ue.attr?"attr":"setAttribute",De=ue[Pe]("transform")||"";return he=he||0,we=we||0,De=De.replace(ke,"").trim(),De+=t(he,we),De=De.trim(),ue[fe]("transform",De),De},f.getScale=function(ue){var he=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,we=ue.attr?"attr":"getAttribute",ke=ue[we]("transform")||"",Pe=ke.replace(he,function(fe,De,Fe){return[De,Fe].join(" ")}).split(" ");return{x:+Pe[0]||1,y:+Pe[1]||1}},f.setScale=function(ue,he,we){var ke=/(\bscale\(.*?\);?)/,Pe=ue.attr?"attr":"getAttribute",fe=ue.attr?"attr":"setAttribute",De=ue[Pe]("transform")||"";return he=he||1,we=we||1,De=De.replace(ke,"").trim(),De+="scale("+he+","+we+")",De=De.trim(),ue[fe]("transform",De),De};var L=/\s*sc.*/;f.setPointGroupScale=function(ue,he,we){if(he=he||1,we=we||1,!!ue){var ke=he===1&&we===1?"":"scale("+he+","+we+")";ue.each(function(){var Pe=(this.getAttribute("transform")||"").replace(L,"");Pe+=ke,Pe=Pe.trim(),this.setAttribute("transform",Pe)})}};var P=/translate\([^)]*\)\s*$/;f.setTextPointsScale=function(ue,he,we){!ue||ue.each(function(){var ke,Pe=i.select(this),fe=Pe.select("text");if(!!fe.node()){var De=parseFloat(fe.attr("x")||0),Fe=parseFloat(fe.attr("y")||0),et=(Pe.attr("transform")||"").match(P);he===1&&we===1?ke=[]:ke=[t(De,Fe),"scale("+he+","+we+")",t(-De,-Fe)],et&&ke.push(et),Pe.attr("transform",ke.join(""))}})};function B(ue,he){var we;return ue&&(we=ue.mf),we===void 0&&(we=he.marker&&he.marker.standoff||0),!he._geo&&!he._xA?-we:we}f.getMarkerStandoff=B;var V=Math.atan2,N=Math.cos,Z=Math.sin;function W(ue,he){var we=he[0],ke=he[1];return[we*N(ue)-ke*Z(ue),we*Z(ue)+ke*N(ue)]}var q,re,se,_e,ge,Ae;function Ce(ue,he){var we=ue.ma;we===void 0&&(we=he.marker.angle||0);var ke,Pe,fe=he.marker.angleref;if(fe==="previous"||fe==="north"){if(he._geo){var De=he._geo.project(ue.lonlat);ke=De[0],Pe=De[1]}else{var Fe=he._xA,et=he._yA;if(Fe&&et)ke=Fe.c2p(ue.x),Pe=et.c2p(ue.y);else return 90}if(he._geo){var Xe=ue.lonlat[0],qe=ue.lonlat[1],rt=he._geo.project([Xe,qe+1e-5]),ut=he._geo.project([Xe+1e-5,qe]),yt=V(ut[1]-Pe,ut[0]-ke),Rt=V(rt[1]-Pe,rt[0]-ke),bt;if(fe==="north")bt=we/180*Math.PI;else if(fe==="previous"){var je=Xe/180*Math.PI,ct=qe/180*Math.PI,Dt=q/180*Math.PI,Lt=re/180*Math.PI,de=Dt-je,Re=N(Lt)*Z(de),ze=Z(Lt)*N(ct)-N(Lt)*Z(ct)*N(de);bt=-V(Re,ze)-Math.PI,q=Xe,re=qe}var ae=W(yt,[N(bt),0]),xe=W(Rt,[Z(bt),0]);we=V(ae[1]+xe[1],ae[0]+xe[0])/Math.PI*180,fe==="previous"&&!(Ae===he.uid&&ue.i===ge+1)&&(we=null)}if(fe==="previous"&&!he._geo)if(Ae===he.uid&&ue.i===ge+1&&s(ke)&&s(Pe)){var Te=ke-se,Me=Pe-_e,Je=he.line&&he.line.shape||"",Ve=Je.slice(Je.length-1);Ve==="h"&&(Me=0),Ve==="v"&&(Te=0),we+=V(Me,Te)/Math.PI*180+90}else we=null}return se=ke,_e=Pe,ge=ue.i,Ae=he.uid,we}f.getMarkerAngle=Ce},{"../../components/fx/helpers":139,"../../constants/alignment":219,"../../constants/interactions":223,"../../constants/xmlns_namespaces":225,"../../lib":244,"../../lib/svg_text_utils":267,"../../registry":327,"../../traces/scatter/make_bubble_size_func":384,"../../traces/scatter/subtypes":392,"../color":103,"../colorscale":115,"./symbol_defs":126,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:68}],126:[function(u,te,Y){var i=u("parse-svg-path"),n=u("@plotly/d3").round,c="M0,0Z",s=Math.sqrt(2),e=Math.sqrt(3),o=Math.PI,l=Math.cos,a=Math.sin;te.exports={circle:{n:0,f:function(w,y,x){if(t(y))return c;var f=n(w,2),b="M"+f+",0A"+f+","+f+" 0 1,1 0,-"+f+"A"+f+","+f+" 0 0,1 "+f+",0Z";return x?m(y,x,b):b}},square:{n:1,f:function(w,y,x){if(t(y))return c;var f=n(w,2);return m(y,x,"M"+f+","+f+"H-"+f+"V-"+f+"H"+f+"Z")}},diamond:{n:2,f:function(w,y,x){if(t(y))return c;var f=n(w*1.3,2);return m(y,x,"M"+f+",0L0,"+f+"L-"+f+",0L0,-"+f+"Z")}},cross:{n:3,f:function(w,y,x){if(t(y))return c;var f=n(w*.4,2),b=n(w*1.2,2);return m(y,x,"M"+b+","+f+"H"+f+"V"+b+"H-"+f+"V"+f+"H-"+b+"V-"+f+"H-"+f+"V-"+b+"H"+f+"V-"+f+"H"+b+"Z")}},x:{n:4,f:function(w,y,x){if(t(y))return c;var f=n(w*.8/s,2),b="l"+f+","+f,d="l"+f+",-"+f,T="l-"+f+",-"+f,k="l-"+f+","+f;return m(y,x,"M0,"+f+b+d+T+d+T+k+T+k+b+k+b+"Z")}},"triangle-up":{n:5,f:function(w,y,x){if(t(y))return c;var f=n(w*2/e,2),b=n(w/2,2),d=n(w,2);return m(y,x,"M-"+f+","+b+"H"+f+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(w,y,x){if(t(y))return c;var f=n(w*2/e,2),b=n(w/2,2),d=n(w,2);return m(y,x,"M-"+f+",-"+b+"H"+f+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(w,y,x){if(t(y))return c;var f=n(w*2/e,2),b=n(w/2,2),d=n(w,2);return m(y,x,"M"+b+",-"+f+"V"+f+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(w,y,x){if(t(y))return c;var f=n(w*2/e,2),b=n(w/2,2),d=n(w,2);return m(y,x,"M-"+b+",-"+f+"V"+f+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(w,y,x){if(t(y))return c;var f=n(w*.6,2),b=n(w*1.2,2);return m(y,x,"M-"+b+",-"+f+"H"+f+"V"+b+"Z")}},"triangle-se":{n:10,f:function(w,y,x){if(t(y))return c;var f=n(w*.6,2),b=n(w*1.2,2);return m(y,x,"M"+f+",-"+b+"V"+f+"H-"+b+"Z")}},"triangle-sw":{n:11,f:function(w,y,x){if(t(y))return c;var f=n(w*.6,2),b=n(w*1.2,2);return m(y,x,"M"+b+","+f+"H-"+f+"V-"+b+"Z")}},"triangle-nw":{n:12,f:function(w,y,x){if(t(y))return c;var f=n(w*.6,2),b=n(w*1.2,2);return m(y,x,"M-"+f+","+b+"V-"+f+"H"+b+"Z")}},pentagon:{n:13,f:function(w,y,x){if(t(y))return c;var f=n(w*.951,2),b=n(w*.588,2),d=n(-w,2),T=n(w*-.309,2),k=n(w*.809,2);return m(y,x,"M"+f+","+T+"L"+b+","+k+"H-"+b+"L-"+f+","+T+"L0,"+d+"Z")}},hexagon:{n:14,f:function(w,y,x){if(t(y))return c;var f=n(w,2),b=n(w/2,2),d=n(w*e/2,2);return m(y,x,"M"+d+",-"+b+"V"+b+"L0,"+f+"L-"+d+","+b+"V-"+b+"L0,-"+f+"Z")}},hexagon2:{n:15,f:function(w,y,x){if(t(y))return c;var f=n(w,2),b=n(w/2,2),d=n(w*e/2,2);return m(y,x,"M-"+b+","+d+"H"+b+"L"+f+",0L"+b+",-"+d+"H-"+b+"L-"+f+",0Z")}},octagon:{n:16,f:function(w,y,x){if(t(y))return c;var f=n(w*.924,2),b=n(w*.383,2);return m(y,x,"M-"+b+",-"+f+"H"+b+"L"+f+",-"+b+"V"+b+"L"+b+","+f+"H-"+b+"L-"+f+","+b+"V-"+b+"Z")}},star:{n:17,f:function(w,y,x){if(t(y))return c;var f=w*1.4,b=n(f*.225,2),d=n(f*.951,2),T=n(f*.363,2),k=n(f*.588,2),F=n(-f,2),M=n(f*-.309,2),S=n(f*.118,2),E=n(f*.809,2),A=n(f*.382,2);return m(y,x,"M"+b+","+M+"H"+d+"L"+T+","+S+"L"+k+","+E+"L0,"+A+"L-"+k+","+E+"L-"+T+","+S+"L-"+d+","+M+"H-"+b+"L0,"+F+"Z")}},hexagram:{n:18,f:function(w,y,x){if(t(y))return c;var f=n(w*.66,2),b=n(w*.38,2),d=n(w*.76,2);return m(y,x,"M-"+d+",0l-"+b+",-"+f+"h"+d+"l"+b+",-"+f+"l"+b+","+f+"h"+d+"l-"+b+","+f+"l"+b+","+f+"h-"+d+"l-"+b+","+f+"l-"+b+",-"+f+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(w,y,x){if(t(y))return c;var f=n(w*e*.8,2),b=n(w*.8,2),d=n(w*1.6,2),T=n(w*4,2),k="A "+T+","+T+" 0 0 1 ";return m(y,x,"M-"+f+","+b+k+f+","+b+k+"0,-"+d+k+"-"+f+","+b+"Z")}},"star-triangle-down":{n:20,f:function(w,y,x){if(t(y))return c;var f=n(w*e*.8,2),b=n(w*.8,2),d=n(w*1.6,2),T=n(w*4,2),k="A "+T+","+T+" 0 0 1 ";return m(y,x,"M"+f+",-"+b+k+"-"+f+",-"+b+k+"0,"+d+k+f+",-"+b+"Z")}},"star-square":{n:21,f:function(w,y,x){if(t(y))return c;var f=n(w*1.1,2),b=n(w*2,2),d="A "+b+","+b+" 0 0 1 ";return m(y,x,"M-"+f+",-"+f+d+"-"+f+","+f+d+f+","+f+d+f+",-"+f+d+"-"+f+",-"+f+"Z")}},"star-diamond":{n:22,f:function(w,y,x){if(t(y))return c;var f=n(w*1.4,2),b=n(w*1.9,2),d="A "+b+","+b+" 0 0 1 ";return m(y,x,"M-"+f+",0"+d+"0,"+f+d+f+",0"+d+"0,-"+f+d+"-"+f+",0Z")}},"diamond-tall":{n:23,f:function(w,y,x){if(t(y))return c;var f=n(w*.7,2),b=n(w*1.4,2);return m(y,x,"M0,"+b+"L"+f+",0L0,-"+b+"L-"+f+",0Z")}},"diamond-wide":{n:24,f:function(w,y,x){if(t(y))return c;var f=n(w*1.4,2),b=n(w*.7,2);return m(y,x,"M0,"+b+"L"+f+",0L0,-"+b+"L-"+f+",0Z")}},hourglass:{n:25,f:function(w,y,x){if(t(y))return c;var f=n(w,2);return m(y,x,"M"+f+","+f+"H-"+f+"L"+f+",-"+f+"H-"+f+"Z")},noDot:!0},bowtie:{n:26,f:function(w,y,x){if(t(y))return c;var f=n(w,2);return m(y,x,"M"+f+","+f+"V-"+f+"L-"+f+","+f+"V-"+f+"Z")},noDot:!0},"circle-cross":{n:27,f:function(w,y,x){if(t(y))return c;var f=n(w,2);return m(y,x,"M0,"+f+"V-"+f+"M"+f+",0H-"+f+"M"+f+",0A"+f+","+f+" 0 1,1 0,-"+f+"A"+f+","+f+" 0 0,1 "+f+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(w,y,x){if(t(y))return c;var f=n(w,2),b=n(w/s,2);return m(y,x,"M"+b+","+b+"L-"+b+",-"+b+"M"+b+",-"+b+"L-"+b+","+b+"M"+f+",0A"+f+","+f+" 0 1,1 0,-"+f+"A"+f+","+f+" 0 0,1 "+f+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(w,y,x){if(t(y))return c;var f=n(w,2);return m(y,x,"M0,"+f+"V-"+f+"M"+f+",0H-"+f+"M"+f+","+f+"H-"+f+"V-"+f+"H"+f+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(w,y,x){if(t(y))return c;var f=n(w,2);return m(y,x,"M"+f+","+f+"L-"+f+",-"+f+"M"+f+",-"+f+"L-"+f+","+f+"M"+f+","+f+"H-"+f+"V-"+f+"H"+f+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(w,y,x){if(t(y))return c;var f=n(w*1.3,2);return m(y,x,"M"+f+",0L0,"+f+"L-"+f+",0L0,-"+f+"ZM0,-"+f+"V"+f+"M-"+f+",0H"+f)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(w,y,x){if(t(y))return c;var f=n(w*1.3,2),b=n(w*.65,2);return m(y,x,"M"+f+",0L0,"+f+"L-"+f+",0L0,-"+f+"ZM-"+b+",-"+b+"L"+b+","+b+"M-"+b+","+b+"L"+b+",-"+b)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(w,y,x){if(t(y))return c;var f=n(w*1.4,2);return m(y,x,"M0,"+f+"V-"+f+"M"+f+",0H-"+f)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(w,y,x){if(t(y))return c;var f=n(w,2);return m(y,x,"M"+f+","+f+"L-"+f+",-"+f+"M"+f+",-"+f+"L-"+f+","+f)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(w,y,x){if(t(y))return c;var f=n(w*1.2,2),b=n(w*.85,2);return m(y,x,"M0,"+f+"V-"+f+"M"+f+",0H-"+f+"M"+b+","+b+"L-"+b+",-"+b+"M"+b+",-"+b+"L-"+b+","+b)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(w,y,x){if(t(y))return c;var f=n(w/2,2),b=n(w,2);return m(y,x,"M"+f+","+b+"V-"+b+"M"+(f-b)+",-"+b+"V"+b+"M"+b+","+f+"H-"+b+"M-"+b+","+(f-b)+"H"+b)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(w,y,x){if(t(y))return c;var f=n(w*1.2,2),b=n(w*1.6,2),d=n(w*.8,2);return m(y,x,"M-"+f+","+d+"L0,0M"+f+","+d+"L0,0M0,-"+b+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(w,y,x){if(t(y))return c;var f=n(w*1.2,2),b=n(w*1.6,2),d=n(w*.8,2);return m(y,x,"M-"+f+",-"+d+"L0,0M"+f+",-"+d+"L0,0M0,"+b+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(w,y,x){if(t(y))return c;var f=n(w*1.2,2),b=n(w*1.6,2),d=n(w*.8,2);return m(y,x,"M"+d+","+f+"L0,0M"+d+",-"+f+"L0,0M-"+b+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(w,y,x){if(t(y))return c;var f=n(w*1.2,2),b=n(w*1.6,2),d=n(w*.8,2);return m(y,x,"M-"+d+","+f+"L0,0M-"+d+",-"+f+"L0,0M"+b+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(w,y,x){if(t(y))return c;var f=n(w*1.4,2);return m(y,x,"M"+f+",0H-"+f)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(w,y,x){if(t(y))return c;var f=n(w*1.4,2);return m(y,x,"M0,"+f+"V-"+f)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(w,y,x){if(t(y))return c;var f=n(w,2);return m(y,x,"M"+f+",-"+f+"L-"+f+","+f)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(w,y,x){if(t(y))return c;var f=n(w,2);return m(y,x,"M"+f+","+f+"L-"+f+",-"+f)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(w,y,x){if(t(y))return c;var f=n(w,2),b=n(w*2,2);return m(y,x,"M0,0L-"+f+","+b+"H"+f+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(w,y,x){if(t(y))return c;var f=n(w,2),b=n(w*2,2);return m(y,x,"M0,0L-"+f+",-"+b+"H"+f+"Z")},noDot:!0},"arrow-left":{n:47,f:function(w,y,x){if(t(y))return c;var f=n(w*2,2),b=n(w,2);return m(y,x,"M0,0L"+f+",-"+b+"V"+b+"Z")},noDot:!0},"arrow-right":{n:48,f:function(w,y,x){if(t(y))return c;var f=n(w*2,2),b=n(w,2);return m(y,x,"M0,0L-"+f+",-"+b+"V"+b+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(w,y,x){if(t(y))return c;var f=n(w,2),b=n(w*2,2);return m(y,x,"M-"+f+",0H"+f+"M0,0L-"+f+","+b+"H"+f+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(w,y,x){if(t(y))return c;var f=n(w,2),b=n(w*2,2);return m(y,x,"M-"+f+",0H"+f+"M0,0L-"+f+",-"+b+"H"+f+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(w,y,x){if(t(y))return c;var f=n(w*2,2),b=n(w,2);return m(y,x,"M0,-"+b+"V"+b+"M0,0L"+f+",-"+b+"V"+b+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(w,y,x){if(t(y))return c;var f=n(w*2,2),b=n(w,2);return m(y,x,"M0,-"+b+"V"+b+"M0,0L-"+f+",-"+b+"V"+b+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(w,y,x){if(t(y))return c;var f=o/2.5,b=2*w*l(f),d=2*w*a(f);return m(y,x,"M0,0L"+-b+","+d+"L"+b+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(w,y,x){if(t(y))return c;var f=o/4,b=2*w*l(f),d=2*w*a(f);return m(y,x,"M0,0L"+-b+","+d+"A "+2*w+","+2*w+" 0 0 1 "+b+","+d+"Z")},backoff:.4,noDot:!0}};function t(w){return w===null}var v,p,h,g;function m(w,y,x){if((!w||w%360===0)&&!y)return x;if(h===w&&g===y&&v===x)return p;h=w,g=y,v=x;function f(X,ie){var R=l(X),O=a(X),U=ie[0],K=ie[1]+(y||0);return[U*R-K*O,U*O+K*R]}for(var b=w/180*o,d=0,T=0,k=i(x),F="",M=0;M<k.length;M++){var S=k[M],E=S[0],A=d,z=T;if(E==="M"||E==="L")d=+S[1],T=+S[2];else if(E==="m"||E==="l")d+=+S[1],T+=+S[2];else if(E==="H")d=+S[1];else if(E==="h")d+=+S[1];else if(E==="V")T=+S[1];else if(E==="v")T+=+S[1];else if(E==="A"){d=+S[1],T=+S[2];var H=f(b,[+S[6],+S[7]]);S[6]=H[0],S[7]=H[1],S[3]=+S[3]+w}(E==="H"||E==="V")&&(E="L"),(E==="h"||E==="v")&&(E="l"),(E==="m"||E==="l")&&(d-=A,T-=z);var Q=f(b,[d,T]);(E==="H"||E==="V")&&(E="L"),(E==="M"||E==="L"||E==="m"||E==="l")&&(S[1]=Q[0],S[2]=Q[1]),S[0]=E,F+=S[0]+S.slice(1).join(",")}return p=F,F}},{"@plotly/d3":11,"parse-svg-path":56}],127:[function(u,te,Y){te.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],128:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("../../registry"),c=u("../../plots/cartesian/axes"),s=u("../../lib"),e=u("./compute_error");te.exports=function(a){for(var t=a.calcdata,v=0;v<t.length;v++){var p=t[v],h=p[0].trace;if(h.visible===!0&&n.traceIs(h,"errorBarsOK")){var g=c.getFromId(a,h.xaxis),m=c.getFromId(a,h.yaxis);o(p,h,g,"x"),o(p,h,m,"y")}}};function o(l,a,t,v){var p=a["error_"+v]||{},h=p.visible&&["linear","log"].indexOf(t.type)!==-1,g=[];if(!!h){for(var m=e(p),w=0;w<l.length;w++){var y=l[w],x=y.i;if(x===void 0)x=w;else if(x===null)continue;var f=y[v];if(!!i(t.c2l(f))){var b=m(f,x);if(i(b[0])&&i(b[1])){var d=y[v+"s"]=f-b[0],T=y[v+"h"]=f+b[1];g.push(d,T)}}}var k=t._id,F=a._extremes[k],M=c.findExtremes(t,g,s.extendFlat({tozero:F.opts.tozero},{padded:!0}));F.min=F.min.concat(M.min),F.max=F.max.concat(M.max)}}},{"../../lib":244,"../../plots/cartesian/axes":291,"../../registry":327,"./compute_error":129,"fast-isnumeric":17}],129:[function(u,te,Y){te.exports=function(c){var s=c.type,e=c.symmetric;if(s==="data"){var o=c.array||[];if(e)return function(p,h){var g=+o[h];return[g,g]};var l=c.arrayminus||[];return function(p,h){var g=+o[h],m=+l[h];return!isNaN(g)||!isNaN(m)?[m||0,g||0]:[NaN,NaN]}}else{var a=i(s,c.value),t=i(s,c.valueminus);return e||c.valueminus===void 0?function(p){var h=a(p);return[h,h]}:function(p){return[t(p),a(p)]}}};function i(n,c){if(n==="percent")return function(s){return Math.abs(s*c/100)};if(n==="constant")return function(){return Math.abs(c)};if(n==="sqrt")return function(s){return Math.sqrt(Math.abs(s))}}},{}],130:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("../../registry"),c=u("../../lib"),s=u("../../plot_api/plot_template"),e=u("./attributes");te.exports=function(o,l,a,t){var v="error_"+t.axis,p=s.newContainer(l,v),h=o[v]||{};function g(d,T){return c.coerce(h,p,e,d,T)}var m=h.array!==void 0||h.value!==void 0||h.type==="sqrt",w=g("visible",m);if(w!==!1){var y=g("type","array"in h?"data":"percent"),x=!0;y!=="sqrt"&&(x=g("symmetric",!((y==="data"?"arrayminus":"valueminus")in h))),y==="data"?(g("array"),g("traceref"),x||(g("arrayminus"),g("tracerefminus"))):(y==="percent"||y==="constant")&&(g("value"),x||g("valueminus"));var f="copy_"+t.inherit+"style";if(t.inherit){var b=l["error_"+t.inherit];(b||{}).visible&&g(f,!(h.color||i(h.thickness)||i(h.width)))}(!t.inherit||!p[f])&&(g("color",a),g("thickness"),g("width",n.traceIs(l,"gl3d")?0:4))}}},{"../../lib":244,"../../plot_api/plot_template":280,"../../registry":327,"./attributes":127,"fast-isnumeric":17}],131:[function(u,te,Y){var i=u("../../lib"),n=u("../../plot_api/edit_types").overrideAll,c=u("./attributes"),s={error_x:i.extendFlat({},c),error_y:i.extendFlat({},c)};delete s.error_x.copy_zstyle,delete s.error_y.copy_zstyle,delete s.error_y.copy_ystyle;var e={error_x:i.extendFlat({},c),error_y:i.extendFlat({},c),error_z:i.extendFlat({},c)};delete e.error_x.copy_ystyle,delete e.error_y.copy_ystyle,delete e.error_z.copy_ystyle,delete e.error_z.copy_zstyle,te.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:s,bar:s,histogram:s,scatter3d:n(e,"calc","nested"),scattergl:n(s,"calc","nested")}},supplyDefaults:u("./defaults"),calc:u("./calc"),makeComputeError:u("./compute_error"),plot:u("./plot"),style:u("./style"),hoverInfo:o};function o(l,a,t){(a.error_y||{}).visible&&(t.yerr=l.yh-l.y,a.error_y.symmetric||(t.yerrneg=l.y-l.ys)),(a.error_x||{}).visible&&(t.xerr=l.xh-l.x,a.error_x.symmetric||(t.xerrneg=l.x-l.xs))}},{"../../lib":244,"../../plot_api/edit_types":273,"./attributes":127,"./calc":128,"./compute_error":129,"./defaults":130,"./plot":132,"./style":133}],132:[function(u,te,Y){var i=u("@plotly/d3"),n=u("fast-isnumeric"),c=u("../drawing"),s=u("../../traces/scatter/subtypes");te.exports=function(l,a,t,v){var p,h=t.xaxis,g=t.yaxis,m=v&&v.duration>0;a.each(function(w){var y=w[0].trace,x=y.error_x||{},f=y.error_y||{},b;y.ids&&(b=function(F){return F.id});var d=s.hasMarkers(y)&&y.marker.maxdisplayed>0;!f.visible&&!x.visible&&(w=[]);var T=i.select(this).selectAll("g.errorbar").data(w,b);if(T.exit().remove(),!!w.length){x.visible||T.selectAll("path.xerror").remove(),f.visible||T.selectAll("path.yerror").remove(),T.style("opacity",1);var k=T.enter().append("g").classed("errorbar",!0);m&&k.style("opacity",0).transition().duration(v.duration).style("opacity",1),c.setClipUrl(T,t.layerClipId,l),T.each(function(F){var M=i.select(this),S=e(F,h,g);if(!(d&&!F.vis)){var E,A=M.select("path.yerror");if(f.visible&&n(S.x)&&n(S.yh)&&n(S.ys)){var z=f.width;E="M"+(S.x-z)+","+S.yh+"h"+2*z+"m-"+z+",0V"+S.ys,S.noYS||(E+="m-"+z+",0h"+2*z),p=!A.size(),p?A=M.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):m&&(A=A.transition().duration(v.duration).ease(v.easing)),A.attr("d",E)}else A.remove();var H=M.select("path.xerror");if(x.visible&&n(S.y)&&n(S.xh)&&n(S.xs)){var Q=(x.copy_ystyle?f:x).width;E="M"+S.xh+","+(S.y-Q)+"v"+2*Q+"m0,-"+Q+"H"+S.xs,S.noXS||(E+="m0,-"+Q+"v"+2*Q),p=!H.size(),p?H=M.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):m&&(H=H.transition().duration(v.duration).ease(v.easing)),H.attr("d",E)}else H.remove()}})}})};function e(o,l,a){var t={x:l.c2p(o.x),y:a.c2p(o.y)};return o.yh!==void 0&&(t.yh=a.c2p(o.yh),t.ys=a.c2p(o.ys),n(t.ys)||(t.noYS=!0,t.ys=a.c2p(o.ys,!0))),o.xh!==void 0&&(t.xh=l.c2p(o.xh),t.xs=l.c2p(o.xs),n(t.xs)||(t.noXS=!0,t.xs=l.c2p(o.xs,!0))),t}},{"../../traces/scatter/subtypes":392,"../drawing":125,"@plotly/d3":11,"fast-isnumeric":17}],133:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../color");te.exports=function(s){s.each(function(e){var o=e[0].trace,l=o.error_y||{},a=o.error_x||{},t=i.select(this);t.selectAll("path.yerror").style("stroke-width",l.thickness+"px").call(n.stroke,l.color),a.copy_ystyle&&(a=l),t.selectAll("path.xerror").style("stroke-width",a.thickness+"px").call(n.stroke,a.color)})}},{"../color":103,"@plotly/d3":11}],134:[function(u,te,Y){var i=u("../../plots/font_attributes"),n=u("./layout_attributes").hoverlabel,c=u("../../lib/extend").extendFlat;te.exports={hoverlabel:{bgcolor:c({},n.bgcolor,{arrayOk:!0}),bordercolor:c({},n.bordercolor,{arrayOk:!0}),font:i({arrayOk:!0,editType:"none"}),align:c({},n.align,{arrayOk:!0}),namelength:c({},n.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":238,"../../plots/font_attributes":319,"./layout_attributes":144}],135:[function(u,te,Y){var i=u("../../lib"),n=u("../../registry");te.exports=function(e){var o=e.calcdata,l=e._fullLayout;function a(g){return function(m){return i.coerceHoverinfo({hoverinfo:m},{_module:g._module},l)}}for(var t=0;t<o.length;t++){var v=o[t],p=v[0].trace;if(!n.traceIs(p,"pie-like")){var h=n.traceIs(p,"2dMap")?c:i.fillArray;h(p.hoverinfo,v,"hi",a(p)),p.hovertemplate&&h(p.hovertemplate,v,"ht"),p.hoverlabel&&(h(p.hoverlabel.bgcolor,v,"hbg"),h(p.hoverlabel.bordercolor,v,"hbc"),h(p.hoverlabel.font.size,v,"hts"),h(p.hoverlabel.font.color,v,"htc"),h(p.hoverlabel.font.family,v,"htf"),h(p.hoverlabel.namelength,v,"hnl"),h(p.hoverlabel.align,v,"hta"))}}};function c(s,e,o,l){l=l||i.identity,Array.isArray(s)&&(e[0][o]=l(s))}},{"../../lib":244,"../../registry":327}],136:[function(u,te,Y){var i=u("../../registry"),n=u("./hover").hover;te.exports=function(s,e,o){var l=i.getComponentMethod("annotations","onClick")(s,s._hoverdata);o!==void 0&&n(s,e,o,!0);function a(){s.emit("plotly_click",{points:s._hoverdata,event:e})}s._hoverdata&&e&&e.target&&(l&&l.then?l.then(a):a(),e.stopImmediatePropagation&&e.stopImmediatePropagation())}},{"../../registry":327,"./hover":140}],137:[function(u,te,Y){te.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],138:[function(u,te,Y){var i=u("../../lib"),n=u("./attributes"),c=u("./hoverlabel_defaults");te.exports=function(e,o,l,a){function t(p,h){return i.coerce(e,o,n,p,h)}var v=i.extendFlat({},a.hoverlabel);o.hovertemplate&&(v.namelength=-1),c(e,o,t,v)}},{"../../lib":244,"./attributes":134,"./hoverlabel_defaults":141}],139:[function(u,te,Y){var i=u("../../lib");Y.getSubplot=function(l){return l.subplot||l.xaxis+l.yaxis||l.geo},Y.isTraceInSubplots=function(l,a){if(l.type==="splom"){for(var t=l.xaxes||[],v=l.yaxes||[],p=0;p<t.length;p++)for(var h=0;h<v.length;h++)if(a.indexOf(t[p]+v[h])!==-1)return!0;return!1}return a.indexOf(Y.getSubplot(l))!==-1},Y.flat=function(l,a){for(var t=new Array(l.length),v=0;v<l.length;v++)t[v]=a;return t},Y.p2c=function(l,a){for(var t=new Array(l.length),v=0;v<l.length;v++)t[v]=l[v].p2c(a);return t},Y.getDistanceFunction=function(l,a,t,v){return l==="closest"?v||Y.quadrature(a,t):l.charAt(0)==="x"?a:t},Y.getClosest=function(l,a,t){if(t.index!==!1)t.index>=0&&t.index<l.length?t.distance=0:t.index=!1;else for(var v=0;v<l.length;v++){var p=a(l[v]);p<=t.distance&&(t.index=v,t.distance=p)}return t},Y.inbox=function(l,a,t){return l*a<0||l===0?t:1/0},Y.quadrature=function(l,a){return function(t){var v=l(t),p=a(t);return Math.sqrt(v*v+p*p)}},Y.makeEventData=function(l,a,t){var v="index"in l?l.index:l.pointNumber,p={data:a._input,fullData:a,curveNumber:a.index,pointNumber:v};if(a._indexToPoints){var h=a._indexToPoints[v];h.length===1?p.pointIndex=h[0]:p.pointIndices=h}else p.pointIndex=v;return a._module.eventData?p=a._module.eventData(p,l,a,t,v):("xVal"in l?p.x=l.xVal:"x"in l&&(p.x=l.x),"yVal"in l?p.y=l.yVal:"y"in l&&(p.y=l.y),l.xa&&(p.xaxis=l.xa),l.ya&&(p.yaxis=l.ya),l.zLabelVal!==void 0&&(p.z=l.zLabelVal)),Y.appendArrayPointValue(p,a,v),p},Y.appendArrayPointValue=function(l,a,t){var v=a._arrayAttrs;if(!!v)for(var p=0;p<v.length;p++){var h=v[p],g=c(h);if(l[g]===void 0){var m=i.nestedProperty(a,h).get(),w=s(m,t);w!==void 0&&(l[g]=w)}}},Y.appendArrayMultiPointValues=function(l,a,t){var v=a._arrayAttrs;if(!!v)for(var p=0;p<v.length;p++){var h=v[p],g=c(h);if(l[g]===void 0){for(var m=i.nestedProperty(a,h).get(),w=new Array(t.length),y=0;y<t.length;y++)w[y]=s(m,t[y]);l[g]=w}}};var n={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function c(l){return n[l]||l}function s(l,a){if(Array.isArray(a)){if(Array.isArray(l)&&Array.isArray(l[a[0]]))return l[a[0]][a[1]]}else return l[a]}var e={x:!0,y:!0},o={"x unified":!0,"y unified":!0};Y.isUnifiedHover=function(l){return typeof l!="string"?!1:!!o[l]},Y.isXYhover=function(l){return typeof l!="string"?!1:!!e[l]}},{"../../lib":244}],140:[function(u,te,Y){var i=u("@plotly/d3"),n=u("fast-isnumeric"),c=u("tinycolor2"),s=u("../../lib"),e=s.strTranslate,o=s.strRotate,l=u("../../lib/events"),a=u("../../lib/svg_text_utils"),t=u("../../lib/override_cursor"),v=u("../drawing"),p=u("../color"),h=u("../dragelement"),g=u("../../plots/cartesian/axes"),m=u("../../registry"),w=u("./helpers"),y=u("./constants"),x=u("../legend/defaults"),f=u("../legend/draw"),b=y.YANGLE,d=Math.PI*b/180,T=1/Math.sin(d),k=Math.cos(d),F=Math.sin(d),M=y.HOVERARROWSIZE,S=y.HOVERTEXTPAD,E={box:!0,ohlc:!0,violin:!0,candlestick:!0},A={scatter:!0,scattergl:!0,splom:!0};Y.hover=function(P,B,V,N){P=s.getGraphDiv(P);var Z=B.target;s.throttle(P._fullLayout._uid+y.HOVERID,y.HOVERMINTIME,function(){z(P,B,V,N,Z)})},Y.loneHover=function(P,B){var V=!0;Array.isArray(P)||(V=!1,P=[P]);var N=B.gd,Z=ve(N),W=C(N),q=P.map(function(he){var we=he._x0||he.x0||he.x||0,ke=he._x1||he.x1||he.x||0,Pe=he._y0||he.y0||he.y||0,fe=he._y1||he.y1||he.y||0,De=he.eventData;if(De){var Fe=Math.min(we,ke),et=Math.max(we,ke),Xe=Math.min(Pe,fe),qe=Math.max(Pe,fe),rt=he.trace;if(m.traceIs(rt,"gl3d")){var ut=N._fullLayout[rt.scene]._scene.container,yt=ut.offsetLeft,Rt=ut.offsetTop;Fe+=yt,et+=yt,Xe+=Rt,qe+=Rt}De.bbox={x0:Fe+W,x1:et+W,y0:Xe+Z,y1:qe+Z},B.inOut_bbox&&B.inOut_bbox.push(De.bbox)}else De=!1;return{color:he.color||p.defaultLine,x0:he.x0||he.x||0,x1:he.x1||he.x||0,y0:he.y0||he.y||0,y1:he.y1||he.y||0,xLabel:he.xLabel,yLabel:he.yLabel,zLabel:he.zLabel,text:he.text,name:he.name,idealAlign:he.idealAlign,borderColor:he.borderColor,fontFamily:he.fontFamily,fontSize:he.fontSize,fontColor:he.fontColor,nameLength:he.nameLength,textAlign:he.textAlign,trace:he.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:he.hovertemplate||!1,hovertemplateLabels:he.hovertemplateLabels||!1,eventData:De}}),re=!1,se=X(q,{gd:N,hovermode:"closest",rotateLabels:re,bgColor:B.bgColor||p.background,container:i.select(B.container),outerContainer:B.outerContainer||B.container}),_e=5,ge=0,Ae=0;se.sort(function(he,we){return he.y0-we.y0}).each(function(he,we){var ke=he.y0-he.by/2;ke-_e<ge?he.offset=ge-ke+_e:he.offset=0,ge=ke+he.by+he.offset,we===B.anchorIndex&&(Ae=he.offset)}).each(function(he){he.offset-=Ae});var Ce=N._fullLayout._invScaleX,ue=N._fullLayout._invScaleY;return O(se,re,Ce,ue),V?se:se.node()};function z(L,P,B,V,N){B||(B="xy");var Z=Array.isArray(B)?B:[B],W=L._fullLayout,q=W._plots||[],re=q[B],se=W._has("cartesian");if(re){var _e=re.overlays.map(function(St){return St.id});Z=Z.concat(_e)}for(var ge=Z.length,Ae=new Array(ge),Ce=new Array(ge),ue=!1,he=0;he<ge;he++){var we=Z[he];if(q[we])ue=!0,Ae[he]=q[we].xaxis,Ce[he]=q[we].yaxis;else if(W[we]&&W[we]._subplot){var ke=W[we]._subplot;Ae[he]=ke.xaxis,Ce[he]=ke.yaxis}else{s.warn("Unrecognized subplot: "+we);return}}var Pe=P.hovermode||W.hovermode;if(Pe&&!ue&&(Pe="closest"),["x","y","closest","x unified","y unified"].indexOf(Pe)===-1||!L.calcdata||L.querySelector(".zoombox")||L._dragging)return h.unhoverRaw(L,P);var fe=W.hoverdistance;fe===-1&&(fe=1/0);var De=W.spikedistance;De===-1&&(De=1/0);var Fe=[],et=[],Xe,qe,rt,ut,yt,Rt,bt,je,ct,Dt,Lt,de,Re,ze={hLinePoint:null,vLinePoint:null},ae=!1;if(Array.isArray(P))for(Pe="array",rt=0;rt<P.length;rt++)yt=L.calcdata[P[rt].curveNumber||0],yt&&(Rt=yt[0].trace,yt[0].trace.hoverinfo!=="skip"&&(et.push(yt),Rt.orientation==="h"&&(ae=!0)));else{for(ut=0;ut<L.calcdata.length;ut++)yt=L.calcdata[ut],Rt=yt[0].trace,Rt.hoverinfo!=="skip"&&w.isTraceInSubplots(Rt,Z)&&(et.push(yt),Rt.orientation==="h"&&(ae=!0));var xe=!N,Te,Me;if(xe)"xpx"in P?Te=P.xpx:Te=Ae[0]._length/2,"ypx"in P?Me=P.ypx:Me=Ce[0]._length/2;else{if(l.triggerHandler(L,"plotly_beforehover",P)===!1)return;var Je=N.getBoundingClientRect();Te=P.clientX-Je.left,Me=P.clientY-Je.top,W._calcInverseTransform(L);var Ve=s.apply3DTransform(W._invTransform)(Te,Me);if(Te=Ve[0],Me=Ve[1],Te<0||Te>Ae[0]._length||Me<0||Me>Ce[0]._length)return h.unhoverRaw(L,P)}if(P.pointerX=Te+Ae[0]._offset,P.pointerY=Me+Ce[0]._offset,"xval"in P?Xe=w.flat(Z,P.xval):Xe=w.p2c(Ae,Te),"yval"in P?qe=w.flat(Z,P.yval):qe=w.p2c(Ce,Me),!n(Xe[0])||!n(qe[0]))return s.warn("Fx.hover failed",P,L),h.unhoverRaw(L,P)}var Ge=1/0;function Ke(St,er){for(ut=0;ut<et.length;ut++)if(yt=et[ut],!(!yt||!yt[0]||!yt[0].trace)&&(Rt=yt[0].trace,!(Rt.visible!==!0||Rt._length===0)&&["carpet","contourcarpet"].indexOf(Rt._module.name)===-1)){if(Rt.type==="splom"?(je=0,bt=Z[je]):(bt=w.getSubplot(Rt),je=Z.indexOf(bt)),ct=Pe,w.isUnifiedHover(ct)&&(ct=ct.charAt(0)),de={cd:yt,trace:Rt,xa:Ae[je],ya:Ce[je],maxHoverDistance:fe,maxSpikeDistance:De,index:!1,distance:Math.min(Ge,fe),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:p.defaultLine,name:Rt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},W[bt]&&(de.subplot=W[bt]._subplot),W._splomScenes&&W._splomScenes[Rt.uid]&&(de.scene=W._splomScenes[Rt.uid]),Re=Fe.length,ct==="array"){var jt=P[ut];"pointNumber"in jt?(de.index=jt.pointNumber,ct="closest"):(ct="","xval"in jt&&(Dt=jt.xval,ct="x"),"yval"in jt&&(Lt=jt.yval,ct=ct?"closest":"y"))}else St!==void 0&&er!==void 0?(Dt=St,Lt=er):(Dt=Xe[je],Lt=qe[je]);if(fe!==0)if(Rt._module&&Rt._module.hoverPoints){var Ut=Rt._module.hoverPoints(de,Dt,Lt,ct,{finiteRange:!0,hoverLayer:W._hoverlayer});if(Ut)for(var qt,ir=0;ir<Ut.length;ir++)qt=Ut[ir],n(qt.x0)&&n(qt.y0)&&Fe.push(U(qt,Pe))}else s.log("Unrecognized trace type in hover:",Rt);if(Pe==="closest"&&Fe.length>Re&&(Fe.splice(0,Re),Ge=Fe[0].distance),se&&De!==0&&Fe.length===0){de.distance=De,de.index=!1;var rr=Rt._module.hoverPoints(de,Dt,Lt,"closest",{hoverLayer:W._hoverlayer});if(rr&&(rr=rr.filter(function(br){return br.spikeDistance<=De})),rr&&rr.length){var lr,vr=rr.filter(function(br){return br.xa.showspikes&&br.xa.spikesnap!=="hovered data"});if(vr.length){var hr=vr[0];n(hr.x0)&&n(hr.y0)&&(lr=Ie(hr),(!ze.vLinePoint||ze.vLinePoint.spikeDistance>lr.spikeDistance)&&(ze.vLinePoint=lr))}var gr=rr.filter(function(br){return br.ya.showspikes&&br.ya.spikesnap!=="hovered data"});if(gr.length){var mr=gr[0];n(mr.x0)&&n(mr.y0)&&(lr=Ie(mr),(!ze.hLinePoint||ze.hLinePoint.spikeDistance>lr.spikeDistance)&&(ze.hLinePoint=lr))}}}}}Ke();function Qe(St,er,jt){for(var Ut=null,qt=1/0,ir,rr=0;rr<St.length;rr++)ir=St[rr].spikeDistance,jt&&rr===0&&(ir=-1/0),ir<=qt&&ir<=er&&(Ut=St[rr],qt=ir);return Ut}function Ie(St){return St?{xa:St.xa,ya:St.ya,x:St.xSpike!==void 0?St.xSpike:(St.x0+St.x1)/2,y:St.ySpike!==void 0?St.ySpike:(St.y0+St.y1)/2,distance:St.distance,spikeDistance:St.spikeDistance,curveNumber:St.trace.index,color:St.color,pointNumber:St.index}:null}var ft={fullLayout:W,container:W._hoverlayer,event:P},vt=L._spikepoints,pt={vLinePoint:ze.vLinePoint,hLinePoint:ze.hLinePoint};L._spikepoints=pt;var Ot=function(){Fe.sort(function(St,er){return St.distance-er.distance}),Fe=pe(Fe,Pe)};Ot();var Gt=Pe.charAt(0),Wt=(Gt==="x"||Gt==="y")&&Fe[0]&&A[Fe[0].trace.type];if(se&&De!==0&&Fe.length!==0){var It=Fe.filter(function(St){return St.ya.showspikes}),Qt=Qe(It,De,Wt);ze.hLinePoint=Ie(Qt);var Nt=Fe.filter(function(St){return St.xa.showspikes}),Et=Qe(Nt,De,Wt);ze.vLinePoint=Ie(Et)}if(Fe.length===0){var Xt=h.unhoverRaw(L,P);return se&&(ze.hLinePoint!==null||ze.vLinePoint!==null)&&ne(vt)&&K(L,ze,ft),Xt}if(se&&ne(vt)&&K(L,ze,ft),w.isXYhover(ct)&&Fe[0].length!==0&&Fe[0].trace.type!=="splom"){var Tt=Fe[0];E[Tt.trace.type]?Fe=Fe.filter(function(St){return St.trace.index===Tt.trace.index}):Fe=[Tt];var Yt=Fe.length,Bt=be("x",Tt,W),At=be("y",Tt,W);Ke(Bt,At);var Vt=[],tr={},oe=0,$=function(St){var er=E[St.trace.type]?H(St):St.trace.index;if(!tr[er])oe++,tr[er]=oe,Vt.push(St);else{var jt=tr[er]-1,Ut=Vt[jt];jt>0&&Math.abs(St.distance)<Math.abs(Ut.distance)&&(Vt[jt]=St)}},Ee;for(Ee=0;Ee<Yt;Ee++)$(Fe[Ee]);for(Ee=Fe.length-1;Ee>Yt-1;Ee--)$(Fe[Ee]);Fe=Vt,Ot()}var Ne=L._hoverdata,He=[],Ze=ve(L),Ue=C(L);for(rt=0;rt<Fe.length;rt++){var Be=Fe[rt],it=w.makeEventData(Be,Be.trace,Be.cd);if(Be.hovertemplate!==!1){var mt=!1;Be.cd[Be.index]&&Be.cd[Be.index].ht&&(mt=Be.cd[Be.index].ht),Be.hovertemplate=mt||Be.trace.hovertemplate||!1}if(Be.xa&&Be.ya){var Mt=Be.x0+Be.xa._offset,at=Be.x1+Be.xa._offset,st=Be.y0+Be.ya._offset,kt=Be.y1+Be.ya._offset,xt=Math.min(Mt,at),lt=Math.max(Mt,at),wt=Math.min(st,kt),Ct=Math.max(st,kt);it.bbox={x0:xt+Ue,x1:lt+Ue,y0:wt+Ze,y1:Ct+Ze}}Be.eventData=[it],He.push(it)}L._hoverdata=He;var _t=Pe==="y"&&(et.length>1||Fe.length>1)||Pe==="closest"&&ae&&Fe.length>1,Pt=p.combine(W.plot_bgcolor||p.background,W.paper_bgcolor),Ft=X(Fe,{gd:L,hovermode:Pe,rotateLabels:_t,bgColor:Pt,container:W._hoverlayer,outerContainer:W._paper.node(),commonLabelOpts:W.hoverlabel,hoverdistance:W.hoverdistance});if(w.isUnifiedHover(Pe)||(R(Ft,_t?"xa":"ya",W),O(Ft,_t,W._invScaleX,W._invScaleY)),N&&N.tagName){var Ht=m.getComponentMethod("annotations","hasClickToShow")(L,He);t(i.select(N),Ht?"pointer":"")}!N||V||!ee(L,P,Ne)||(Ne&&L.emit("plotly_unhover",{event:P,points:Ne}),L.emit("plotly_hover",{event:P,points:L._hoverdata,xaxes:Ae,yaxes:Ce,xvals:Xe,yvals:qe}))}function H(L){return[L.trace.index,L.index,L.x0,L.y0,L.name,L.attr,L.xa?L.xa._id:"",L.ya?L.ya._id:""].join(",")}var Q=/<extra>([\s\S]*)<\/extra>/;function X(L,P){var B=P.gd,V=B._fullLayout,N=P.hovermode,Z=P.rotateLabels,W=P.bgColor,q=P.container,re=P.outerContainer,se=P.commonLabelOpts||{};if(L.length===0)return[[]];var _e=P.fontFamily||y.HOVERFONT,ge=P.fontSize||y.HOVERFONTSIZE,Ae=L[0],Ce=Ae.xa,ue=Ae.ya,he=N.charAt(0),we=he+"Label",ke=Ae[we];if(ke===void 0&&Ce.type==="multicategory")for(var Pe=0;Pe<L.length&&(ke=L[Pe][we],ke===void 0);Pe++);var fe=I(B,re),De=fe.top,Fe=fe.width,et=fe.height,Xe=ke!==void 0&&Ae.distance<=P.hoverdistance&&(N==="x"||N==="y");if(Xe){var qe=!0,rt,ut;for(rt=0;rt<L.length;rt++)if(qe&&L[rt].zLabel===void 0&&(qe=!1),ut=L[rt].hoverinfo||L[rt].trace.hoverinfo,ut){var yt=Array.isArray(ut)?ut:ut.split("+");if(yt.indexOf("all")===-1&&yt.indexOf(N)===-1){Xe=!1;break}}qe&&(Xe=!1)}var Rt=q.selectAll("g.axistext").data(Xe?[0]:[]);if(Rt.enter().append("g").classed("axistext",!0),Rt.exit().remove(),Rt.each(function(){var Tt=i.select(this),Yt=s.ensureSingle(Tt,"path","",function(lt){lt.style({"stroke-width":"1px"})}),Bt=s.ensureSingle(Tt,"text","",function(lt){lt.attr("data-notex",1)}),At=se.bgcolor||p.defaultLine,Vt=se.bordercolor||p.contrast(At),tr=p.contrast(At),oe={family:se.font.family||_e,size:se.font.size||ge,color:se.font.color||tr};Yt.style({fill:At,stroke:Vt}),Bt.text(ke).call(v.font,oe).call(a.positionText,0,0).call(a.convertToTspans,B),Tt.attr("transform","");var $=I(B,Bt.node()),Ee,Ne;if(N==="x"){var He=Ce.side==="top"?"-":"";Bt.attr("text-anchor","middle").call(a.positionText,0,Ce.side==="top"?De-$.bottom-M-S:De-$.top+M+S),Ee=Ce._offset+(Ae.x0+Ae.x1)/2,Ne=ue._offset+(Ce.side==="top"?0:ue._length);var Ze=$.width/2+S;Ee<Ze?(Ee=Ze,Yt.attr("d","M-"+(Ze-M)+",0L-"+(Ze-M*2)+","+He+M+"H"+(S+$.width/2)+"v"+He+(S*2+$.height)+"H-"+Ze+"V"+He+M+"Z")):Ee>V.width-Ze?(Ee=V.width-Ze,Yt.attr("d","M"+(Ze-M)+",0L"+Ze+","+He+M+"v"+He+(S*2+$.height)+"H-"+Ze+"V"+He+M+"H"+(Ze-M*2)+"Z")):Yt.attr("d","M0,0L"+M+","+He+M+"H"+(S+$.width/2)+"v"+He+(S*2+$.height)+"H-"+(S+$.width/2)+"V"+He+M+"H-"+M+"Z")}else{var Ue,Be,it;ue.side==="right"?(Ue="start",Be=1,it="",Ee=Ce._offset+Ce._length):(Ue="end",Be=-1,it="-",Ee=Ce._offset),Ne=ue._offset+(Ae.y0+Ae.y1)/2,Bt.attr("text-anchor",Ue),Yt.attr("d","M0,0L"+it+M+","+M+"V"+(S+$.height/2)+"h"+it+(S*2+$.width)+"V-"+(S+$.height/2)+"H"+it+M+"V-"+M+"Z");var mt=$.height/2,Mt=De-$.top-mt,at="clip"+V._uid+"commonlabel"+ue._id,st;if(Ee<$.width+2*S+M){st="M-"+(M+S)+"-"+mt+"h-"+($.width-S)+"V"+mt+"h"+($.width-S)+"Z";var kt=$.width-Ee+S;a.positionText(Bt,kt,Mt),Ue==="end"&&Bt.selectAll("tspan").each(function(){var lt=i.select(this),wt=v.tester.append("text").text(lt.text()).call(v.font,oe),Ct=I(B,wt.node());Math.round(Ct.width)<Math.round($.width)&&lt.attr("x",kt-Ct.width),wt.remove()})}else a.positionText(Bt,Be*(S+M),Mt),st=null;var xt=V._topclips.selectAll("#"+at).data(st?[0]:[]);xt.enter().append("clipPath").attr("id",at).append("path"),xt.exit().remove(),xt.select("path").attr("d",st),v.setClipUrl(Bt,st?at:null,B)}Tt.attr("transform",e(Ee,Ne))}),w.isUnifiedHover(N)){q.selectAll("g.hovertext").remove();var bt=L.filter(function(Tt){return Tt.hoverinfo!=="none"});if(bt.length===0)return;var je=V.hoverlabel,ct=je.font,Dt={showlegend:!0,legend:{title:{text:ke,font:ct},font:ct,bgcolor:je.bgcolor,bordercolor:je.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:V.legend?V.legend.traceorder:void 0,orientation:"v"}},Lt={font:ct};x(Dt,Lt,B._fullData);var de=Lt.legend;de.entries=[];for(var Re=0;Re<bt.length;Re++){var ze=bt[Re];if(ze.hoverinfo!=="none"){var ae=ie(ze,!0,N,V,ke),xe=ae[0],Te=ae[1];ze.name=Te,Te!==""?ze.text=Te+" : "+xe:ze.text=xe;var Me=ze.cd[ze.index];Me&&(Me.mc&&(ze.mc=Me.mc),Me.mcc&&(ze.mc=Me.mcc),Me.mlc&&(ze.mlc=Me.mlc),Me.mlcc&&(ze.mlc=Me.mlcc),Me.mlw&&(ze.mlw=Me.mlw),Me.mrc&&(ze.mrc=Me.mrc),Me.dir&&(ze.dir=Me.dir)),ze._distinct=!0,de.entries.push([ze])}}de.entries.sort(function(Tt,Yt){return Tt[0].trace.index-Yt[0].trace.index}),de.layer=q,de._inHover=!0,de._groupTitleFont=je.grouptitlefont,f(B,de);var Je=q.select("g.legend"),Ve=I(B,Je.node()),Ge=Ve.width+2*S,Ke=Ve.height+2*S,Qe=bt[0],Ie=(Qe.x0+Qe.x1)/2,ft=(Qe.y0+Qe.y1)/2,vt=!(m.traceIs(Qe.trace,"bar-like")||m.traceIs(Qe.trace,"box-violin")),pt,Ot;he==="y"?vt?(Ot=ft-S,pt=ft+S):(Ot=Math.min.apply(null,bt.map(function(Tt){return Math.min(Tt.y0,Tt.y1)})),pt=Math.max.apply(null,bt.map(function(Tt){return Math.max(Tt.y0,Tt.y1)}))):Ot=pt=s.mean(bt.map(function(Tt){return(Tt.y0+Tt.y1)/2}))-Ke/2;var Gt,Wt;he==="x"?vt?(Gt=Ie+S,Wt=Ie-S):(Gt=Math.max.apply(null,bt.map(function(Tt){return Math.max(Tt.x0,Tt.x1)})),Wt=Math.min.apply(null,bt.map(function(Tt){return Math.min(Tt.x0,Tt.x1)}))):Gt=Wt=s.mean(bt.map(function(Tt){return(Tt.x0+Tt.x1)/2}))-Ge/2;var It=Ce._offset,Qt=ue._offset;pt+=Qt,Gt+=It,Wt+=It-Ge,Ot+=Qt-Ke;var Nt,Et;return Gt+Ge<Fe&&Gt>=0?Nt=Gt:Wt+Ge<Fe&&Wt>=0?Nt=Wt:It+Ge<Fe?Nt=It:Gt-Ie<Ie-Wt+Ge?Nt=Fe-Ge:Nt=0,Nt+=S,pt+Ke<et&&pt>=0?Et=pt:Ot+Ke<et&&Ot>=0?Et=Ot:Qt+Ke<et?Et=Qt:pt-ft<ft-Ot+Ke?Et=et-Ke:Et=0,Et+=S,Je.attr("transform",e(Nt-1,Et-1)),Je}var Xt=q.selectAll("g.hovertext").data(L,function(Tt){return H(Tt)});return Xt.enter().append("g").classed("hovertext",!0).each(function(){var Tt=i.select(this);Tt.append("rect").call(p.fill,p.addOpacity(W,.8)),Tt.append("text").classed("name",!0),Tt.append("path").style("stroke-width","1px"),Tt.append("text").classed("nums",!0).call(v.font,_e,ge)}),Xt.exit().remove(),Xt.each(function(Tt){var Yt=i.select(this).attr("transform",""),Bt=Tt.color;Array.isArray(Bt)&&(Bt=Bt[Tt.eventData[0].pointNumber]);var At=Tt.bgcolor||Bt,Vt=p.combine(p.opacity(At)?At:p.defaultLine,W),tr=p.combine(p.opacity(Bt)?Bt:p.defaultLine,W),oe=Tt.borderColor||p.contrast(Vt),$=ie(Tt,Xe,N,V,ke,Yt),Ee=$[0],Ne=$[1],He=Yt.select("text.nums").call(v.font,Tt.fontFamily||_e,Tt.fontSize||ge,Tt.fontColor||oe).text(Ee).attr("data-notex",1).call(a.positionText,0,0).call(a.convertToTspans,B),Ze=Yt.select("text.name"),Ue=0,Be=0;if(Ne&&Ne!==Ee){Ze.call(v.font,Tt.fontFamily||_e,Tt.fontSize||ge,tr).text(Ne).attr("data-notex",1).call(a.positionText,0,0).call(a.convertToTspans,B);var it=I(B,Ze.node());Ue=it.width+2*S,Be=it.height+2*S}else Ze.remove(),Yt.select("rect").remove();Yt.select("path").style({fill:Vt,stroke:oe});var mt=Tt.xa._offset+(Tt.x0+Tt.x1)/2,Mt=Tt.ya._offset+(Tt.y0+Tt.y1)/2,at=Math.abs(Tt.x1-Tt.x0),st=Math.abs(Tt.y1-Tt.y0),kt=I(B,He.node()),xt=kt.width/V._invScaleX,lt=kt.height/V._invScaleY;Tt.ty0=(De-kt.top)/V._invScaleY,Tt.bx=xt+2*S,Tt.by=Math.max(lt+2*S,Be),Tt.anchor="start",Tt.txwidth=xt,Tt.tx2width=Ue,Tt.offset=0;var wt=(xt+M+S+Ue)*V._invScaleX,Ct,_t;if(Z)Tt.pos=mt,Ct=Mt+st/2+wt<=et,_t=Mt-st/2-wt>=0,(Tt.idealAlign==="top"||!Ct)&&_t?(Mt-=st/2,Tt.anchor="end"):Ct?(Mt+=st/2,Tt.anchor="start"):Tt.anchor="middle";else if(Tt.pos=Mt,Ct=mt+at/2+wt<=Fe,_t=mt-at/2-wt>=0,(Tt.idealAlign==="left"||!Ct)&&_t)mt-=at/2,Tt.anchor="end";else if(Ct)mt+=at/2,Tt.anchor="start";else{Tt.anchor="middle";var Pt=wt/2,Ft=mt+Pt-Fe,Ht=mt-Pt;Ft>0&&(mt-=Ft),Ht<0&&(mt+=-Ht)}He.attr("text-anchor",Tt.anchor),Ue&&Ze.attr("text-anchor",Tt.anchor),Yt.attr("transform",e(mt,Mt)+(Z?o(b):""))}),Xt}function ie(L,P,B,V,N,Z){var W="",q="";L.nameOverride!==void 0&&(L.name=L.nameOverride),L.name&&(L.trace._meta&&(L.name=s.templateString(L.name,L.trace._meta)),W=me(L.name,L.nameLength));var re=B.charAt(0),se=re==="x"?"y":"x";L.zLabel!==void 0?(L.xLabel!==void 0&&(q+="x: "+L.xLabel+"<br>"),L.yLabel!==void 0&&(q+="y: "+L.yLabel+"<br>"),L.trace.type!=="choropleth"&&L.trace.type!=="choroplethmapbox"&&(q+=(q?"z: ":"")+L.zLabel)):P&&L[re+"Label"]===N?q=L[se+"Label"]||"":L.xLabel===void 0?L.yLabel!==void 0&&L.trace.type!=="scattercarpet"&&(q=L.yLabel):L.yLabel===void 0?q=L.xLabel:q="("+L.xLabel+", "+L.yLabel+")",(L.text||L.text===0)&&!Array.isArray(L.text)&&(q+=(q?"<br>":"")+L.text),L.extraText!==void 0&&(q+=(q?"<br>":"")+L.extraText),Z&&q===""&&!L.hovertemplate&&(W===""&&Z.remove(),q=W);var _e=L.hovertemplate||!1;if(_e){var ge=L.hovertemplateLabels||L;L[re+"Label"]!==N&&(ge[re+"other"]=ge[re+"Val"],ge[re+"otherLabel"]=ge[re+"Label"]),q=s.hovertemplateString(_e,ge,V._d3locale,L.eventData[0]||{},L.trace._meta),q=q.replace(Q,function(Ae,Ce){return W=me(Ce,L.nameLength),""})}return[q,W]}function R(L,P,B){var V=0,N=1,Z=L.size(),W=new Array(Z),q=0;L.each(function(Xe){var qe=Xe[P],rt=qe._id.charAt(0)==="x",ut=qe.range;q===0&&ut&&ut[0]>ut[1]!==rt&&(N=-1),W[q++]=[{datum:Xe,traceIndex:Xe.trace.index,dp:0,pos:Xe.pos,posref:Xe.posref,size:Xe.by*(rt?T:1)/2,pmin:0,pmax:rt?B.width:B.height}]}),W.sort(function(Xe,qe){return Xe[0].posref-qe[0].posref||N*(qe[0].traceIndex-Xe[0].traceIndex)});var re,se,_e,ge,Ae,Ce,ue;function he(Xe){var qe=Xe[0],rt=Xe[Xe.length-1];if(se=qe.pmin-qe.pos-qe.dp+qe.size,_e=rt.pos+rt.dp+rt.size-qe.pmax,se>.01){for(Ae=Xe.length-1;Ae>=0;Ae--)Xe[Ae].dp+=se;re=!1}if(!(_e<.01)){if(se<-.01){for(Ae=Xe.length-1;Ae>=0;Ae--)Xe[Ae].dp-=_e;re=!1}if(!!re){var ut=0;for(ge=0;ge<Xe.length;ge++)Ce=Xe[ge],Ce.pos+Ce.dp+Ce.size>qe.pmax&&ut++;for(ge=Xe.length-1;ge>=0&&!(ut<=0);ge--)Ce=Xe[ge],Ce.pos>qe.pmax-1&&(Ce.del=!0,ut--);for(ge=0;ge<Xe.length&&!(ut<=0);ge++)if(Ce=Xe[ge],Ce.pos<qe.pmin+1)for(Ce.del=!0,ut--,_e=Ce.size*2,Ae=Xe.length-1;Ae>=0;Ae--)Xe[Ae].dp-=_e;for(ge=Xe.length-1;ge>=0&&!(ut<=0);ge--)Ce=Xe[ge],Ce.pos+Ce.dp+Ce.size>qe.pmax&&(Ce.del=!0,ut--)}}}for(;!re&&V<=Z;){for(V++,re=!0,ge=0;ge<W.length-1;){var we=W[ge],ke=W[ge+1],Pe=we[we.length-1],fe=ke[0];if(se=Pe.pos+Pe.dp+Pe.size-fe.pos-fe.dp+fe.size,se>.01&&Pe.pmin===fe.pmin&&Pe.pmax===fe.pmax){for(Ae=ke.length-1;Ae>=0;Ae--)ke[Ae].dp+=se;for(we.push.apply(we,ke),W.splice(ge+1,1),ue=0,Ae=we.length-1;Ae>=0;Ae--)ue+=we[Ae].dp;for(_e=ue/we.length,Ae=we.length-1;Ae>=0;Ae--)we[Ae].dp-=_e;re=!1}else ge++}W.forEach(he)}for(ge=W.length-1;ge>=0;ge--){var De=W[ge];for(Ae=De.length-1;Ae>=0;Ae--){var Fe=De[Ae],et=Fe.datum;et.offset=Fe.dp,et.del=Fe.del}}}function O(L,P,B,V){var N=function(W){return W*B},Z=function(W){return W*V};L.each(function(W){var q=i.select(this);if(W.del)return q.remove();var re=q.select("text.nums"),se=W.anchor,_e=se==="end"?-1:1,ge={start:1,end:-1,middle:0}[se],Ae=ge*(M+S),Ce=Ae+ge*(W.txwidth+S),ue=0,he=W.offset,we=se==="middle";we&&(Ae-=W.tx2width/2,Ce+=W.txwidth/2+S),P&&(he*=-F,ue=W.offset*k),q.select("path").attr("d",we?"M-"+N(W.bx/2+W.tx2width/2)+","+Z(he-W.by/2)+"h"+N(W.bx)+"v"+Z(W.by)+"h-"+N(W.bx)+"Z":"M0,0L"+N(_e*M+ue)+","+Z(M+he)+"v"+Z(W.by/2-M)+"h"+N(_e*W.bx)+"v-"+Z(W.by)+"H"+N(_e*M+ue)+"V"+Z(he-M)+"Z");var ke=ue+Ae,Pe=he+W.ty0-W.by/2+S,fe=W.textAlign||"auto";fe!=="auto"&&(fe==="left"&&se!=="start"?(re.attr("text-anchor","start"),ke=we?-W.bx/2-W.tx2width/2+S:-W.bx-S):fe==="right"&&se!=="end"&&(re.attr("text-anchor","end"),ke=we?W.bx/2-W.tx2width/2-S:W.bx+S)),re.call(a.positionText,N(ke),Z(Pe)),W.tx2width&&(q.select("text.name").call(a.positionText,N(Ce+ge*S+ue),Z(he+W.ty0-W.by/2+S)),q.select("rect").call(v.setRect,N(Ce+(ge-1)*W.tx2width/2+ue),Z(he-W.by/2-1),N(W.tx2width),Z(W.by+2)))})}function U(L,P){var B=L.index,V=L.trace||{},N=L.cd[0],Z=L.cd[B]||{};function W(Ae){return Ae||n(Ae)&&Ae===0}var q=Array.isArray(B)?function(Ae,Ce){var ue=s.castOption(N,B,Ae);return W(ue)?ue:s.extractOption({},V,"",Ce)}:function(Ae,Ce){return s.extractOption(Z,V,Ae,Ce)};function re(Ae,Ce,ue){var he=q(Ce,ue);W(he)&&(L[Ae]=he)}if(re("hoverinfo","hi","hoverinfo"),re("bgcolor","hbg","hoverlabel.bgcolor"),re("borderColor","hbc","hoverlabel.bordercolor"),re("fontFamily","htf","hoverlabel.font.family"),re("fontSize","hts","hoverlabel.font.size"),re("fontColor","htc","hoverlabel.font.color"),re("nameLength","hnl","hoverlabel.namelength"),re("textAlign","hta","hoverlabel.align"),L.posref=P==="y"||P==="closest"&&V.orientation==="h"?L.xa._offset+(L.x0+L.x1)/2:L.ya._offset+(L.y0+L.y1)/2,L.x0=s.constrain(L.x0,0,L.xa._length),L.x1=s.constrain(L.x1,0,L.xa._length),L.y0=s.constrain(L.y0,0,L.ya._length),L.y1=s.constrain(L.y1,0,L.ya._length),L.xLabelVal!==void 0&&(L.xLabel="xLabel"in L?L.xLabel:g.hoverLabelText(L.xa,L.xLabelVal,V.xhoverformat),L.xVal=L.xa.c2d(L.xLabelVal)),L.yLabelVal!==void 0&&(L.yLabel="yLabel"in L?L.yLabel:g.hoverLabelText(L.ya,L.yLabelVal,V.yhoverformat),L.yVal=L.ya.c2d(L.yLabelVal)),L.zLabelVal!==void 0&&L.zLabel===void 0&&(L.zLabel=String(L.zLabelVal)),!isNaN(L.xerr)&&!(L.xa.type==="log"&&L.xerr<=0)){var se=g.tickText(L.xa,L.xa.c2l(L.xerr),"hover").text;L.xerrneg!==void 0?L.xLabel+=" +"+se+" / -"+g.tickText(L.xa,L.xa.c2l(L.xerrneg),"hover").text:L.xLabel+=" \xB1 "+se,P==="x"&&(L.distance+=1)}if(!isNaN(L.yerr)&&!(L.ya.type==="log"&&L.yerr<=0)){var _e=g.tickText(L.ya,L.ya.c2l(L.yerr),"hover").text;L.yerrneg!==void 0?L.yLabel+=" +"+_e+" / -"+g.tickText(L.ya,L.ya.c2l(L.yerrneg),"hover").text:L.yLabel+=" \xB1 "+_e,P==="y"&&(L.distance+=1)}var ge=L.hoverinfo||L.trace.hoverinfo;return ge&&ge!=="all"&&(ge=Array.isArray(ge)?ge:ge.split("+"),ge.indexOf("x")===-1&&(L.xLabel=void 0),ge.indexOf("y")===-1&&(L.yLabel=void 0),ge.indexOf("z")===-1&&(L.zLabel=void 0),ge.indexOf("text")===-1&&(L.text=void 0),ge.indexOf("name")===-1&&(L.name=void 0)),L}function K(L,P,B){var V=B.container,N=B.fullLayout,Z=N._size,W=B.event,q=!!P.hLinePoint,re=!!P.vLinePoint,se,_e;if(V.selectAll(".spikeline").remove(),!!(re||q)){var ge=p.combine(N.plot_bgcolor,N.paper_bgcolor);if(q){var Ae=P.hLinePoint,Ce,ue;se=Ae&&Ae.xa,_e=Ae&&Ae.ya;var he=_e.spikesnap;he==="cursor"?(Ce=W.pointerX,ue=W.pointerY):(Ce=se._offset+Ae.x,ue=_e._offset+Ae.y);var we=c.readability(Ae.color,ge)<1.5?p.contrast(ge):Ae.color,ke=_e.spikemode,Pe=_e.spikethickness,fe=_e.spikecolor||we,De=g.getPxPosition(L,_e),Fe,et;if(ke.indexOf("toaxis")!==-1||ke.indexOf("across")!==-1){if(ke.indexOf("toaxis")!==-1&&(Fe=De,et=Ce),ke.indexOf("across")!==-1){var Xe=_e._counterDomainMin,qe=_e._counterDomainMax;_e.anchor==="free"&&(Xe=Math.min(Xe,_e.position),qe=Math.max(qe,_e.position)),Fe=Z.l+Xe*Z.w,et=Z.l+qe*Z.w}V.insert("line",":first-child").attr({x1:Fe,x2:et,y1:ue,y2:ue,"stroke-width":Pe,stroke:fe,"stroke-dasharray":v.dashStyle(_e.spikedash,Pe)}).classed("spikeline",!0).classed("crisp",!0),V.insert("line",":first-child").attr({x1:Fe,x2:et,y1:ue,y2:ue,"stroke-width":Pe+2,stroke:ge}).classed("spikeline",!0).classed("crisp",!0)}ke.indexOf("marker")!==-1&&V.insert("circle",":first-child").attr({cx:De+(_e.side!=="right"?Pe:-Pe),cy:ue,r:Pe,fill:fe}).classed("spikeline",!0)}if(re){var rt=P.vLinePoint,ut,yt;se=rt&&rt.xa,_e=rt&&rt.ya;var Rt=se.spikesnap;Rt==="cursor"?(ut=W.pointerX,yt=W.pointerY):(ut=se._offset+rt.x,yt=_e._offset+rt.y);var bt=c.readability(rt.color,ge)<1.5?p.contrast(ge):rt.color,je=se.spikemode,ct=se.spikethickness,Dt=se.spikecolor||bt,Lt=g.getPxPosition(L,se),de,Re;if(je.indexOf("toaxis")!==-1||je.indexOf("across")!==-1){if(je.indexOf("toaxis")!==-1&&(de=Lt,Re=yt),je.indexOf("across")!==-1){var ze=se._counterDomainMin,ae=se._counterDomainMax;se.anchor==="free"&&(ze=Math.min(ze,se.position),ae=Math.max(ae,se.position)),de=Z.t+(1-ae)*Z.h,Re=Z.t+(1-ze)*Z.h}V.insert("line",":first-child").attr({x1:ut,x2:ut,y1:de,y2:Re,"stroke-width":ct,stroke:Dt,"stroke-dasharray":v.dashStyle(se.spikedash,ct)}).classed("spikeline",!0).classed("crisp",!0),V.insert("line",":first-child").attr({x1:ut,x2:ut,y1:de,y2:Re,"stroke-width":ct+2,stroke:ge}).classed("spikeline",!0).classed("crisp",!0)}je.indexOf("marker")!==-1&&V.insert("circle",":first-child").attr({cx:ut,cy:Lt-(se.side!=="top"?ct:-ct),r:ct,fill:Dt}).classed("spikeline",!0)}}}function ee(L,P,B){if(!B||B.length!==L._hoverdata.length)return!0;for(var V=B.length-1;V>=0;V--){var N=B[V],Z=L._hoverdata[V];if(N.curveNumber!==Z.curveNumber||String(N.pointNumber)!==String(Z.pointNumber)||String(N.pointNumbers)!==String(Z.pointNumbers))return!0}return!1}function ne(L,P){return!P||P.vLinePoint!==L._spikepoints.vLinePoint||P.hLinePoint!==L._spikepoints.hLinePoint}function me(L,P){return a.plainText(L||"",{len:P,allowedTags:["br","sub","sup","b","i","em"]})}function pe(L,P){for(var B=P.charAt(0),V=[],N=[],Z=[],W=0;W<L.length;W++){var q=L[W];m.traceIs(q.trace,"bar-like")||m.traceIs(q.trace,"box-violin")?Z.push(q):q.trace[B+"period"]?N.push(q):V.push(q)}return V.concat(N).concat(Z)}function be(L,P,B){var V=P[L+"a"],N=P[L+"Val"],Z=P.cd[0];if(V.type==="category"||V.type==="multicategory")N=V._categoriesMap[N];else if(V.type==="date"){var W=P.trace[L+"periodalignment"];if(W){var q=P.cd[P.index],re=q[L+"Start"];re===void 0&&(re=q[L]);var se=q[L+"End"];se===void 0&&(se=q[L]);var _e=se-re;W==="end"?N+=_e:W==="middle"&&(N+=_e/2)}N=V.d2c(N)}return Z&&Z.t&&Z.t.posLetter===V._id&&(B.boxmode==="group"||B.violinmode==="group")&&(N+=Z.t.dPos),N}function ve(L){return L.offsetTop+L.clientTop}function C(L){return L.offsetLeft+L.clientLeft}function I(L,P){var B=L._fullLayout,V=P.getBoundingClientRect(),N=V.x,Z=V.y,W=N+V.width,q=Z+V.height,re=s.apply3DTransform(B._invTransform)(N,Z),se=s.apply3DTransform(B._invTransform)(W,q),_e=re[0],ge=re[1],Ae=se[0],Ce=se[1];return{x:_e,y:ge,width:Ae-_e,height:Ce-ge,top:Math.min(ge,Ce),left:Math.min(_e,Ae),right:Math.max(_e,Ae),bottom:Math.max(ge,Ce)}}},{"../../lib":244,"../../lib/events":237,"../../lib/override_cursor":255,"../../lib/svg_text_utils":267,"../../plots/cartesian/axes":291,"../../registry":327,"../color":103,"../dragelement":122,"../drawing":125,"../legend/defaults":155,"../legend/draw":156,"./constants":137,"./helpers":139,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:68}],141:[function(u,te,Y){var i=u("../../lib"),n=u("../color"),c=u("./helpers").isUnifiedHover;te.exports=function(e,o,l,a){a=a||{};var t=o.legend;function v(p){a.font[p]||(a.font[p]=t?o.legend.font[p]:o.font[p])}o&&c(o.hovermode)&&(a.font||(a.font={}),v("size"),v("family"),v("color"),t?(a.bgcolor||(a.bgcolor=n.combine(o.legend.bgcolor,o.paper_bgcolor)),a.bordercolor||(a.bordercolor=o.legend.bordercolor)):a.bgcolor||(a.bgcolor=o.paper_bgcolor)),l("hoverlabel.bgcolor",a.bgcolor),l("hoverlabel.bordercolor",a.bordercolor),l("hoverlabel.namelength",a.namelength),i.coerceFont(l,"hoverlabel.font",a.font),l("hoverlabel.align",a.align)}},{"../../lib":244,"../color":103,"./helpers":139}],142:[function(u,te,Y){var i=u("../../lib"),n=u("./layout_attributes");te.exports=function(s,e){function o(l,a){return e[l]!==void 0?e[l]:i.coerce(s,e,n,l,a)}return o("clickmode"),o("hovermode")}},{"../../lib":244,"./layout_attributes":144}],143:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../lib"),c=u("../dragelement"),s=u("./helpers"),e=u("./layout_attributes"),o=u("./hover");te.exports={moduleType:"component",name:"fx",constants:u("./constants"),schema:{layout:e},attributes:u("./attributes"),layoutAttributes:e,supplyLayoutGlobalDefaults:u("./layout_global_defaults"),supplyDefaults:u("./defaults"),supplyLayoutDefaults:u("./layout_defaults"),calc:u("./calc"),getDistanceFunction:s.getDistanceFunction,getClosest:s.getClosest,inbox:s.inbox,quadrature:s.quadrature,appendArrayPointValue:s.appendArrayPointValue,castHoverOption:a,castHoverinfo:t,hover:o.hover,unhover:c.unhover,loneHover:o.loneHover,loneUnhover:l,click:u("./click")};function l(v){var p=n.isD3Selection(v)?v:i.select(v);p.selectAll("g.hovertext").remove(),p.selectAll(".spikeline").remove()}function a(v,p,h){return n.castOption(v,p,"hoverlabel."+h)}function t(v,p,h){function g(m){return n.coerceHoverinfo({hoverinfo:m},{_module:v._module},p)}return n.castOption(v,h,"hoverinfo",g)}},{"../../lib":244,"../dragelement":122,"./attributes":134,"./calc":135,"./click":136,"./constants":137,"./defaults":138,"./helpers":139,"./hover":140,"./layout_attributes":144,"./layout_defaults":145,"./layout_global_defaults":146,"@plotly/d3":11}],144:[function(u,te,Y){var i=u("./constants"),n=u("../../plots/font_attributes"),c=n({editType:"none"});c.family.dflt=i.HOVERFONT,c.size.dflt=i.HOVERFONTSIZE,te.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:c,grouptitlefont:n({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":319,"./constants":137}],145:[function(u,te,Y){var i=u("../../lib"),n=u("./layout_attributes"),c=u("./hovermode_defaults"),s=u("./hoverlabel_defaults");te.exports=function(o,l){function a(m,w){return i.coerce(o,l,n,m,w)}var t=c(o,l);t&&(a("hoverdistance"),a("spikedistance"));var v=a("dragmode");v==="select"&&a("selectdirection");var p=l._has("mapbox"),h=l._has("geo"),g=l._basePlotModules.length;l.dragmode==="zoom"&&((p||h)&&g===1||p&&h&&g===2)&&(l.dragmode="pan"),s(o,l,a),i.coerceFont(a,"hoverlabel.grouptitlefont",l.hoverlabel.font)}},{"../../lib":244,"./hoverlabel_defaults":141,"./hovermode_defaults":142,"./layout_attributes":144}],146:[function(u,te,Y){var i=u("../../lib"),n=u("./hoverlabel_defaults"),c=u("./layout_attributes");te.exports=function(e,o){function l(a,t){return i.coerce(e,o,c,a,t)}n(e,o,l)}},{"../../lib":244,"./hoverlabel_defaults":141,"./layout_attributes":144}],147:[function(u,te,Y){var i=u("../../lib"),n=u("../../lib/regex").counter,c=u("../../plots/domain").attributes,s=u("../../plots/cartesian/constants").idRegex,e=u("../../plot_api/plot_template"),o={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[n("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[s.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[s.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:c({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function l(h,g,m){var w=g[m+"axes"],y=Object.keys((h._splomAxes||{})[m]||{});if(Array.isArray(w))return w;if(y.length)return y}function a(h,g){var m=h.grid||{},w=l(g,m,"x"),y=l(g,m,"y");if(!h.grid&&!w&&!y)return;var x=Array.isArray(m.subplots)&&Array.isArray(m.subplots[0]),f=Array.isArray(w),b=Array.isArray(y),d=f&&w!==m.xaxes&&b&&y!==m.yaxes,T,k;x?(T=m.subplots.length,k=m.subplots[0].length):(b&&(T=y.length),f&&(k=w.length));var F=e.newContainer(g,"grid");function M(O,U){return i.coerce(m,F,o,O,U)}var S=M("rows",T),E=M("columns",k);if(!(S*E>1)){delete g.grid;return}if(!x&&!f&&!b){var A=M("pattern")==="independent";A&&(x=!0)}F._hasSubplotGrid=x;var z=M("roworder"),H=z==="top to bottom",Q=x?.2:.1,X=x?.3:.1,ie,R;d&&g._splomGridDflt&&(ie=g._splomGridDflt.xside,R=g._splomGridDflt.yside),F._domains={x:t("x",M,Q,ie,E),y:t("y",M,X,R,S,H)}}function t(h,g,m,w,y,x){var f=g(h+"gap",m),b=g("domain."+h);g(h+"side",w);for(var d=new Array(y),T=b[0],k=(b[1]-T)/(y-f),F=k*(1-f),M=0;M<y;M++){var S=T+k*M;d[x?y-1-M:M]=[S,S+F]}return d}function v(h,g){var m=g.grid;if(!(!m||!m._domains)){var w=h.grid||{},y=g._subplots,x=m._hasSubplotGrid,f=m.rows,b=m.columns,d=m.pattern==="independent",T,k,F,M,S,E,A,z=m._axisMap={};if(x){var H=w.subplots||[];E=m.subplots=new Array(f);var Q=1;for(T=0;T<f;T++){var X=E[T]=new Array(b),ie=H[T]||[];for(k=0;k<b;k++)if(d?(S=Q===1?"xy":"x"+Q+"y"+Q,Q++):S=ie[k],X[k]="",y.cartesian.indexOf(S)!==-1){if(A=S.indexOf("y"),F=S.slice(0,A),M=S.slice(A),z[F]!==void 0&&z[F]!==k||z[M]!==void 0&&z[M]!==T)continue;X[k]=S,z[F]=k,z[M]=T}}}else{var R=l(g,w,"x"),O=l(g,w,"y");m.xaxes=p(R,y.xaxis,b,z,"x"),m.yaxes=p(O,y.yaxis,f,z,"y")}var U=m._anchors={},K=m.roworder==="top to bottom";for(var ee in z){var ne=ee.charAt(0),me=m[ne+"side"],pe,be,ve;if(me.length<8)U[ee]="free";else if(ne==="x"){if(me.charAt(0)==="t"===K?(pe=0,be=1,ve=f):(pe=f-1,be=-1,ve=-1),x){var C=z[ee];for(T=pe;T!==ve;T+=be)if(S=E[T][C],!!S&&(A=S.indexOf("y"),S.slice(0,A)===ee)){U[ee]=S.slice(A);break}}else for(T=pe;T!==ve;T+=be)if(M=m.yaxes[T],y.cartesian.indexOf(ee+M)!==-1){U[ee]=M;break}}else if(me.charAt(0)==="l"?(pe=0,be=1,ve=b):(pe=b-1,be=-1,ve=-1),x){var I=z[ee];for(T=pe;T!==ve;T+=be)if(S=E[I][T],!!S&&(A=S.indexOf("y"),S.slice(A)===ee)){U[ee]=S.slice(0,A);break}}else for(T=pe;T!==ve;T+=be)if(F=m.xaxes[T],y.cartesian.indexOf(F+ee)!==-1){U[ee]=F;break}}}}function p(h,g,m,w,y){var x=new Array(m),f;function b(d,T){g.indexOf(T)!==-1&&w[T]===void 0?(x[d]=T,w[T]=d):x[d]=""}if(Array.isArray(h))for(f=0;f<m;f++)b(f,h[f]);else for(b(0,y),f=1;f<m;f++)b(f,y+(f+1));return x}te.exports={moduleType:"component",name:"grid",schema:{layout:{grid:o}},layoutAttributes:o,sizeDefaults:a,contentDefaults:v}},{"../../lib":244,"../../lib/regex":260,"../../plot_api/plot_template":280,"../../plots/cartesian/constants":298,"../../plots/domain":318}],148:[function(u,te,Y){var i=u("../../plots/cartesian/constants"),n=u("../../plot_api/plot_template").templatedArray;u("../../constants/axis_placeable_objects"),te.exports=n("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":220,"../../plot_api/plot_template":280,"../../plots/cartesian/constants":298}],149:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("../../lib/to_log_range");te.exports=function(s,e,o,l){e=e||{};var a=o==="log"&&e.type==="linear",t=o==="linear"&&e.type==="log";if(!!(a||t)){for(var v=s._fullLayout.images,p=e._id.charAt(0),h,g,m=0;m<v.length;m++)if(h=v[m],g="images["+m+"].",h[p+"ref"]===e._id){var w=h[p],y=h["size"+p],x=null,f=null;if(a){x=n(w,e.range);var b=y/Math.pow(10,x)/2;f=2*Math.log(b+Math.sqrt(1+b*b))/Math.LN10}else x=Math.pow(10,w),f=x*(Math.pow(10,y/2)-Math.pow(10,-y/2));i(x)?i(f)||(f=null):(x=null,f=null),l(g+p,x),l(g+"size"+p,f)}}}},{"../../lib/to_log_range":269,"fast-isnumeric":17}],150:[function(u,te,Y){var i=u("../../lib"),n=u("../../plots/cartesian/axes"),c=u("../../plots/array_container_defaults"),s=u("./attributes"),e="images";te.exports=function(a,t){var v={name:e,handleItemDefaults:o};c(a,t,v)};function o(l,a,t){function v(b,d){return i.coerce(l,a,s,b,d)}var p=v("source"),h=v("visible",!!p);if(!h)return a;v("layer"),v("xanchor"),v("yanchor"),v("sizex"),v("sizey"),v("sizing"),v("opacity");for(var g={_fullLayout:t},m=["x","y"],w=0;w<2;w++){var y=m[w],x=n.coerceRef(l,a,g,y,"paper",void 0);if(x!=="paper"){var f=n.getFromId(g,x);f._imgIndices.push(a._index)}n.coercePosition(a,g,v,x,y,0)}return a}},{"../../lib":244,"../../plots/array_container_defaults":286,"../../plots/cartesian/axes":291,"./attributes":148}],151:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../drawing"),c=u("../../plots/cartesian/axes"),s=u("../../plots/cartesian/axis_ids"),e=u("../../constants/xmlns_namespaces");te.exports=function(l){var a=l._fullLayout,t=[],v={},p=[],h,g;for(g=0;g<a.images.length;g++){var m=a.images[g];if(m.visible)if(m.layer==="below"&&m.xref!=="paper"&&m.yref!=="paper"){h=s.ref2id(m.xref)+s.ref2id(m.yref);var w=a._plots[h];if(!w){p.push(m);continue}w.mainplot&&(h=w.mainplot.id),v[h]||(v[h]=[]),v[h].push(m)}else m.layer==="above"?t.push(m):p.push(m)}var y={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function x(M){var S=i.select(this);if(this._imgSrc!==M.source)if(S.attr("xmlns",e.svg),M.source&&M.source.slice(0,5)==="data:")S.attr("xlink:href",M.source),this._imgSrc=M.source;else{var E=new Promise(function(A){var z=new Image;this.img=z,z.setAttribute("crossOrigin","anonymous"),z.onerror=H,z.onload=function(){var Q=document.createElement("canvas");Q.width=this.width,Q.height=this.height;var X=Q.getContext("2d",{willReadFrequently:!0});X.drawImage(this,0,0);var ie=Q.toDataURL("image/png");S.attr("xlink:href",ie),A()},S.on("error",H),z.src=M.source,this._imgSrc=M.source;function H(){S.remove(),A()}}.bind(this));l._promises.push(E)}}function f(M){var S=i.select(this),E=c.getFromId(l,M.xref),A=c.getFromId(l,M.yref),z=c.getRefType(M.xref)==="domain",H=c.getRefType(M.yref)==="domain",Q=a._size,X,ie;E!==void 0?X=typeof M.xref=="string"&&z?E._length*M.sizex:Math.abs(E.l2p(M.sizex)-E.l2p(0)):X=M.sizex*Q.w,A!==void 0?ie=typeof M.yref=="string"&&H?A._length*M.sizey:Math.abs(A.l2p(M.sizey)-A.l2p(0)):ie=M.sizey*Q.h;var R=X*y.x[M.xanchor].offset,O=ie*y.y[M.yanchor].offset,U=y.x[M.xanchor].sizing+y.y[M.yanchor].sizing,K,ee;switch(E!==void 0?K=typeof M.xref=="string"&&z?E._length*M.x+E._offset:E.r2p(M.x)+E._offset:K=M.x*Q.w+Q.l,K+=R,A!==void 0?ee=typeof M.yref=="string"&&H?A._length*(1-M.y)+A._offset:A.r2p(M.y)+A._offset:ee=Q.h-M.y*Q.h+Q.t,ee+=O,M.sizing){case"fill":U+=" slice";break;case"stretch":U="none";break}S.attr({x:K,y:ee,width:X,height:ie,preserveAspectRatio:U,opacity:M.opacity});var ne=E&&c.getRefType(M.xref)!=="domain"?E._id:"",me=A&&c.getRefType(M.yref)!=="domain"?A._id:"",pe=ne+me;n.setClipUrl(S,pe?"clip"+a._uid+pe:null,l)}var b=a._imageLowerLayer.selectAll("image").data(p),d=a._imageUpperLayer.selectAll("image").data(t);b.enter().append("image"),d.enter().append("image"),b.exit().remove(),d.exit().remove(),b.each(function(M){x.bind(this)(M),f.bind(this)(M)}),d.each(function(M){x.bind(this)(M),f.bind(this)(M)});var T=Object.keys(a._plots);for(g=0;g<T.length;g++){h=T[g];var k=a._plots[h];if(!!k.imagelayer){var F=k.imagelayer.selectAll("image").data(v[h]||[]);F.enter().append("image"),F.exit().remove(),F.each(function(M){x.bind(this)(M),f.bind(this)(M)})}}}},{"../../constants/xmlns_namespaces":225,"../../plots/cartesian/axes":291,"../../plots/cartesian/axis_ids":295,"../drawing":125,"@plotly/d3":11}],152:[function(u,te,Y){te.exports={moduleType:"component",name:"images",layoutAttributes:u("./attributes"),supplyLayoutDefaults:u("./defaults"),includeBasePlot:u("../../plots/cartesian/include_components")("images"),draw:u("./draw"),convertCoords:u("./convert_coords")}},{"../../plots/cartesian/include_components":302,"./attributes":148,"./convert_coords":149,"./defaults":150,"./draw":151}],153:[function(u,te,Y){var i=u("../../plots/font_attributes"),n=u("../color/attributes");te.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:n.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:i({editType:"legend"}),grouptitlefont:i({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:i({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":319,"../color/attributes":102}],154:[function(u,te,Y){te.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],155:[function(u,te,Y){var i=u("../../registry"),n=u("../../lib"),c=u("../../plot_api/plot_template"),s=u("../../plots/attributes"),e=u("./attributes"),o=u("../../plots/layout_attributes"),l=u("./helpers");te.exports=function(t,v,p){var h=t.legend||{},g=c.newContainer(v,"legend");function m(ie,R){return n.coerce(h,g,e,ie,R)}for(var w,y=function(ie,R){var O=w._input,U=w;return n.coerce(O,U,s,ie,R)},x=v.font||{},f=n.coerceFont(m,"grouptitlefont",n.extendFlat({},x,{size:Math.round(x.size*1.1)})),b=0,d=!1,T="normal",k=0;k<p.length;k++)w=p[k],w.visible&&((w.showlegend||w._dfltShowLegend&&!(w._module&&w._module.attributes&&w._module.attributes.showlegend&&w._module.attributes.showlegend.dflt===!1))&&(b++,w.showlegend&&(d=!0,(i.traceIs(w,"pie-like")||w._input.showlegend===!0)&&b++),n.coerceFont(y,"legendgrouptitle.font",f)),(i.traceIs(w,"bar")&&v.barmode==="stack"||["tonextx","tonexty"].indexOf(w.fill)!==-1)&&(T=l.isGrouped({traceorder:T})?"grouped+reversed":"reversed"),w.legendgroup!==void 0&&w.legendgroup!==""&&(T=l.isReversed({traceorder:T})?"reversed+grouped":"grouped"));var F=n.coerce(t,v,o,"showlegend",d&&b>1);if(F===!1&&(v.legend=void 0),!(F===!1&&!h.uirevision)&&(m("uirevision",v.uirevision),F!==!1)){m("bgcolor",v.paper_bgcolor),m("bordercolor"),m("borderwidth");var M=n.coerceFont(m,"font",v.font),S=m("orientation"),E=S==="h",A,z,H;E?(A=0,i.getComponentMethod("rangeslider","isVisible")(t.xaxis)?(z=1.1,H="bottom"):(z=-.1,H="top")):(A=1.02,z=1,H="auto"),m("traceorder",T),l.isGrouped(v.legend)&&m("tracegroupgap"),m("entrywidth"),m("entrywidthmode"),m("itemsizing"),m("itemwidth"),m("itemclick"),m("itemdoubleclick"),m("groupclick"),m("x",A),m("xanchor"),m("y",z),m("yanchor",H),m("valign"),n.noneOrAll(h,g,["x","y"]);var Q=m("title.text");if(Q){m("title.side",E?"left":"top");var X=n.extendFlat({},M,{size:n.bigFont(M.size)});n.coerceFont(m,"title.font",X)}}}},{"../../lib":244,"../../plot_api/plot_template":280,"../../plots/attributes":287,"../../plots/layout_attributes":323,"../../registry":327,"./attributes":153,"./helpers":159}],156:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../lib"),c=u("../../plots/plots"),s=u("../../registry"),e=u("../../lib/events"),o=u("../dragelement"),l=u("../drawing"),a=u("../color"),t=u("../../lib/svg_text_utils"),v=u("./handle_click"),p=u("./constants"),h=u("../../constants/alignment"),g=h.LINE_SPACING,m=h.FROM_TL,w=h.FROM_BR,y=u("./get_legend_data"),x=u("./style"),f=u("./helpers"),b=1;te.exports=function(O,U){return U||(U=O._fullLayout.legend||{}),d(O,U)};function d(R,O){var U=R._fullLayout,K="legend"+U._uid,ee,ne=O._inHover;if(ne?(ee=O.layer,K+="-hover"):ee=U._infolayer,!!ee){R._legendMouseDownTime||(R._legendMouseDownTime=0);var me;if(ne){if(!O.entries)return;me=y(O.entries,O)}else{if(!R.calcdata)return;me=U.showlegend&&y(R.calcdata,O)}var pe=U.hiddenlabels||[];if(!ne&&(!U.showlegend||!me.length))return ee.selectAll(".legend").remove(),U._topdefs.select("#"+K).remove(),c.autoMargin(R,"legend");var be=n.ensureSingle(ee,"g","legend",function(Z){ne||Z.attr("pointer-events","all")}),ve=n.ensureSingleById(U._topdefs,"clipPath",K,function(Z){Z.append("rect")}),C=n.ensureSingle(be,"rect","bg",function(Z){Z.attr("shape-rendering","crispEdges")});C.call(a.stroke,O.bordercolor).call(a.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px");var I=n.ensureSingle(be,"g","scrollbox"),L=O.title;if(O._titleWidth=0,O._titleHeight=0,L.text){var P=n.ensureSingle(I,"text","legendtitletext");P.attr("text-anchor","start").call(l.font,L.font).text(L.text),E(P,I,R,O,b)}else I.selectAll(".legendtitletext").remove();var B=n.ensureSingle(be,"rect","scrollbar",function(Z){Z.attr(p.scrollBarEnterAttrs).call(a.fill,p.scrollBarColor)}),V=I.selectAll("g.groups").data(me);V.enter().append("g").attr("class","groups"),V.exit().remove();var N=V.selectAll("g.traces").data(n.identity);N.enter().append("g").attr("class","traces"),N.exit().remove(),N.style("opacity",function(Z){var W=Z[0].trace;return s.traceIs(W,"pie-like")?pe.indexOf(Z[0].label)!==-1?.5:1:W.visible==="legendonly"?.5:1}).each(function(){i.select(this).call(F,R,O)}).call(x,R,O).each(function(){ne||i.select(this).call(S,R)}),n.syncOrAsync([c.previousPromises,function(){return H(R,V,N,O)},function(){var Z=U._size,W=O.borderwidth;if(!ne){var q=Q(R);if(q)return;var re=Z.l+Z.w*O.x-m[X(O)]*O._width,se=Z.t+Z.h*(1-O.y)-m[ie(O)]*O._effHeight;if(U.margin.autoexpand){var _e=re,ge=se;re=n.constrain(re,0,U.width-O._width),se=n.constrain(se,0,U.height-O._effHeight),re!==_e&&n.log("Constrain legend.x to make legend fit inside graph"),se!==ge&&n.log("Constrain legend.y to make legend fit inside graph")}l.setTranslate(be,re,se)}if(B.on(".drag",null),be.on("wheel",null),ne||O._height<=O._maxHeight||R._context.staticPlot){var Ae=O._effHeight;ne&&(Ae=O._height),C.attr({width:O._width-W,height:Ae-W,x:W/2,y:W/2}),l.setTranslate(I,0,0),ve.select("rect").attr({width:O._width-2*W,height:Ae-2*W,x:W,y:W}),l.setClipUrl(I,K,R),l.setRect(B,0,0,0,0),delete O._scrollY}else{var Ce=Math.max(p.scrollBarMinHeight,O._effHeight*O._effHeight/O._height),ue=O._effHeight-Ce-2*p.scrollBarMargin,he=O._height-O._effHeight,we=ue/he,ke=Math.min(O._scrollY||0,he);C.attr({width:O._width-2*W+p.scrollBarWidth+p.scrollBarMargin,height:O._effHeight-W,x:W/2,y:W/2}),ve.select("rect").attr({width:O._width-2*W+p.scrollBarWidth+p.scrollBarMargin,height:O._effHeight-2*W,x:W,y:W+ke}),l.setClipUrl(I,K,R),rt(ke,Ce,we),be.on("wheel",function(){ke=n.constrain(O._scrollY+i.event.deltaY/ue*he,0,he),rt(ke,Ce,we),ke!==0&&ke!==he&&i.event.preventDefault()});var Pe,fe,De,Fe=function(je,ct,Dt){var Lt=(Dt-ct)/we+je;return n.constrain(Lt,0,he)},et=function(je,ct,Dt){var Lt=(ct-Dt)/we+je;return n.constrain(Lt,0,he)},Xe=i.behavior.drag().on("dragstart",function(){var je=i.event.sourceEvent;je.type==="touchstart"?Pe=je.changedTouches[0].clientY:Pe=je.clientY,De=ke}).on("drag",function(){var je=i.event.sourceEvent;je.buttons===2||je.ctrlKey||(je.type==="touchmove"?fe=je.changedTouches[0].clientY:fe=je.clientY,ke=Fe(De,Pe,fe),rt(ke,Ce,we))});B.call(Xe);var qe=i.behavior.drag().on("dragstart",function(){var je=i.event.sourceEvent;je.type==="touchstart"&&(Pe=je.changedTouches[0].clientY,De=ke)}).on("drag",function(){var je=i.event.sourceEvent;je.type==="touchmove"&&(fe=je.changedTouches[0].clientY,ke=et(De,Pe,fe),rt(ke,Ce,we))});I.call(qe)}function rt(je,ct,Dt){O._scrollY=R._fullLayout.legend._scrollY=je,l.setTranslate(I,0,-je),l.setRect(B,O._width,p.scrollBarMargin+je*Dt,p.scrollBarWidth,ct),ve.select("rect").attr("y",W+je)}if(R._context.edits.legendPosition){var ut,yt,Rt,bt;be.classed("cursor-move",!0),o.init({element:be.node(),gd:R,prepFn:function(){var je=l.getTranslate(be);Rt=je.x,bt=je.y},moveFn:function(je,ct){var Dt=Rt+je,Lt=bt+ct;l.setTranslate(be,Dt,Lt),ut=o.align(Dt,0,Z.l,Z.l+Z.w,O.xanchor),yt=o.align(Lt,0,Z.t+Z.h,Z.t,O.yanchor)},doneFn:function(){ut!==void 0&&yt!==void 0&&s.call("_guiRelayout",R,{"legend.x":ut,"legend.y":yt})},clickFn:function(je,ct){var Dt=ee.selectAll("g.traces").filter(function(){var Lt=this.getBoundingClientRect();return ct.clientX>=Lt.left&&ct.clientX<=Lt.right&&ct.clientY>=Lt.top&&ct.clientY<=Lt.bottom});Dt.size()>0&&k(R,be,Dt,je,ct)}})}}],R)}}function T(R,O,U){var K=R[0],ee=K.width,ne=O.entrywidthmode,me=K.trace.legendwidth||O.entrywidth;return ne==="fraction"?O._maxWidth*me:U+(me||ee)}function k(R,O,U,K,ee){var ne=U.data()[0][0].trace,me={event:ee,node:U.node(),curveNumber:ne.index,expandedIndex:ne._expandedIndex,data:R.data,layout:R.layout,frames:R._transitionData._frames,config:R._context,fullData:R._fullData,fullLayout:R._fullLayout};ne._group&&(me.group=ne._group),s.traceIs(ne,"pie-like")&&(me.label=U.datum()[0].label);var pe=e.triggerHandler(R,"plotly_legendclick",me);if(pe!==!1){if(K===1)O._clickTimeout=setTimeout(function(){!R._fullLayout||v(U,R,K)},R._context.doubleClickDelay);else if(K===2){O._clickTimeout&&clearTimeout(O._clickTimeout),R._legendMouseDownTime=0;var be=e.triggerHandler(R,"plotly_legenddoubleclick",me);be!==!1&&v(U,R,K)}}}function F(R,O,U){var K=R.data()[0][0],ee=K.trace,ne=s.traceIs(ee,"pie-like"),me=!U._inHover&&O._context.edits.legendText&&!ne,pe=U._maxNameLength,be,ve;K.groupTitle?(be=K.groupTitle.text,ve=K.groupTitle.font):(ve=U.font,U.entries?be=K.text:(be=ne?K.label:ee.name,ee._meta&&(be=n.templateString(be,ee._meta))));var C=n.ensureSingle(R,"text","legendtext");C.attr("text-anchor","start").call(l.font,ve).text(me?M(be,pe):be);var I=U.itemwidth+p.itemGap*2;t.positionText(C,I,0),me?C.call(t.makeEditable,{gd:O,text:be}).call(E,R,O,U).on("edit",function(L){this.text(M(L,pe)).call(E,R,O,U);var P=K.trace._fullInput||{},B={};if(s.hasTransform(P,"groupby")){var V=s.getTransformIndices(P,"groupby"),N=V[V.length-1],Z=n.keyedContainer(P,"transforms["+N+"].styles","target","value.name");Z.set(K.trace._group,L),B=Z.constructUpdate()}else B.name=L;return s.call("_guiRestyle",O,B,ee.index)}):E(C,R,O,U)}function M(R,O){var U=Math.max(4,O);if(R&&R.trim().length>=U/2)return R;R=R||"";for(var K=U-R.length;K>0;K--)R+=" ";return R}function S(R,O){var U=O._context.doubleClickDelay,K,ee=1,ne=n.ensureSingle(R,"rect","legendtoggle",function(me){O._context.staticPlot||me.style("cursor","pointer").attr("pointer-events","all"),me.call(a.fill,"rgba(0,0,0,0)")});O._context.staticPlot||(ne.on("mousedown",function(){K=new Date().getTime(),K-O._legendMouseDownTime<U?ee+=1:(ee=1,O._legendMouseDownTime=K)}),ne.on("mouseup",function(){if(!(O._dragged||O._editing)){var me=O._fullLayout.legend;new Date().getTime()-O._legendMouseDownTime>U&&(ee=Math.max(ee-1,1)),k(O,me,R,ee,i.event)}}))}function E(R,O,U,K,ee){K._inHover&&R.attr("data-notex",!0),t.convertToTspans(R,U,function(){A(O,U,K,ee)})}function A(R,O,U,K){var ee=R.data()[0][0];if(!U._inHover&&ee&&!ee.trace.showlegend){R.remove();return}var ne=R.select("g[class*=math-group]"),me=ne.node();U||(U=O._fullLayout.legend);var pe=U.borderwidth,be;K===b?be=U.title.font:ee.groupTitle?be=ee.groupTitle.font:be=U.font;var ve=be.size*g,C,I;if(me){var L=l.bBox(me);C=L.height,I=L.width,K===b?l.setTranslate(ne,pe,pe+C*.75):l.setTranslate(ne,0,C*.25)}else{var P=R.select(K===b?".legendtitletext":".legendtext"),B=t.lineCount(P),V=P.node();if(C=ve*B,I=V?l.bBox(V).width:0,K===b)U.title.side==="left"&&(I+=p.itemGap*2),t.positionText(P,pe+p.titlePad,pe+ve);else{var N=p.itemGap*2+U.itemwidth;ee.groupTitle&&(N=p.itemGap,I-=U.itemwidth),t.positionText(P,N,-ve*((B-1)/2-.3))}}K===b?(U._titleWidth=I,U._titleHeight=C):(ee.lineHeight=ve,ee.height=Math.max(C,16)+3,ee.width=I)}function z(R){var O=0,U=0,K=R.title.side;return K&&(K.indexOf("left")!==-1&&(O=R._titleWidth),K.indexOf("top")!==-1&&(U=R._titleHeight)),[O,U]}function H(R,O,U,K){var ee=R._fullLayout;K||(K=ee.legend);var ne=ee._size,me=f.isVertical(K),pe=f.isGrouped(K),be=K.entrywidthmode==="fraction",ve=K.borderwidth,C=2*ve,I=p.itemGap,L=K.itemwidth+I*2,P=2*(ve+I),B=ie(K),V=K.y<0||K.y===0&&B==="top",N=K.y>1||K.y===1&&B==="bottom",Z=K.tracegroupgap,W={};K._maxHeight=Math.max(V||N?ee.height/2:ne.h,30);var q=0;K._width=0,K._height=0;var re=z(K);if(me)U.each(function(Rt){var bt=Rt[0].height;l.setTranslate(this,ve+re[0],ve+re[1]+K._height+bt/2+I),K._height+=bt,K._width=Math.max(K._width,Rt[0].width)}),q=L+K._width,K._width+=I+L+C,K._height+=P,pe&&(O.each(function(Rt,bt){l.setTranslate(this,0,bt*K.tracegroupgap)}),K._height+=(K._lgroupsLength-1)*K.tracegroupgap);else{var se=X(K),_e=K.x<0||K.x===0&&se==="right",ge=K.x>1||K.x===1&&se==="left",Ae=N||V,Ce=ee.width/2;K._maxWidth=Math.max(_e?Ae&&se==="left"?ne.l+ne.w:Ce:ge?Ae&&se==="right"?ne.r+ne.w:Ce:ne.w,2*L);var ue=0,he=0;U.each(function(Rt){var bt=T(Rt,K,L);ue=Math.max(ue,bt),he+=bt}),q=null;var we=0;if(pe){var ke=0,Pe=0,fe=0;O.each(function(){var Rt=0,bt=0;i.select(this).selectAll("g.traces").each(function(ct){var Dt=T(ct,K,L),Lt=ct[0].height;l.setTranslate(this,re[0],re[1]+ve+I+Lt/2+bt),bt+=Lt,Rt=Math.max(Rt,Dt),W[ct[0].trace.legendgroup]=Rt});var je=Rt+I;Pe>0&&je+ve+Pe>K._maxWidth?(we=Math.max(we,Pe),Pe=0,fe+=ke+Z,ke=bt):ke=Math.max(ke,bt),l.setTranslate(this,Pe,fe),Pe+=je}),K._width=Math.max(we,Pe)+ve,K._height=fe+ke+P}else{var De=U.size(),Fe=he+C+(De-1)*I<K._maxWidth,et=0,Xe=0,qe=0,rt=0;U.each(function(Rt){var bt=Rt[0].height,je=T(Rt,K,L),ct=Fe?je:ue;be||(ct+=I),ct+ve+Xe-I>=K._maxWidth&&(we=Math.max(we,rt),Xe=0,qe+=et,K._height+=et,et=0),l.setTranslate(this,re[0]+ve+Xe,re[1]+ve+qe+bt/2+I),rt=Xe+je+I,Xe+=ct,et=Math.max(et,bt)}),Fe?(K._width=Xe+C,K._height=et+P):(K._width=Math.max(we,rt)+C,K._height+=et+P)}}K._width=Math.ceil(Math.max(K._width+re[0],K._titleWidth+2*(ve+p.titlePad))),K._height=Math.ceil(Math.max(K._height+re[1],K._titleHeight+2*(ve+p.itemGap))),K._effHeight=Math.min(K._height,K._maxHeight);var ut=R._context.edits,yt=ut.legendText||ut.legendPosition;U.each(function(Rt){var bt=i.select(this).select(".legendtoggle"),je=Rt[0].height,ct=Rt[0].trace.legendgroup,Dt=T(Rt,K,L);pe&&ct!==""&&(Dt=W[ct]);var Lt=yt?L:q||Dt;!me&&!be&&(Lt+=I/2),l.setRect(bt,0,-je/2,Lt,je)})}function Q(R){var O=R._fullLayout,U=O.legend,K=X(U),ee=ie(U);return c.autoMargin(R,"legend",{x:U.x,y:U.y,l:U._width*m[K],r:U._width*w[K],b:U._effHeight*w[ee],t:U._effHeight*m[ee]})}function X(R){return n.isRightAnchor(R)?"right":n.isCenterAnchor(R)?"center":"left"}function ie(R){return n.isBottomAnchor(R)?"bottom":n.isMiddleAnchor(R)?"middle":"top"}},{"../../constants/alignment":219,"../../lib":244,"../../lib/events":237,"../../lib/svg_text_utils":267,"../../plots/plots":325,"../../registry":327,"../color":103,"../dragelement":122,"../drawing":125,"./constants":154,"./get_legend_data":157,"./handle_click":158,"./helpers":159,"./style":161,"@plotly/d3":11}],157:[function(u,te,Y){var i=u("../../registry"),n=u("./helpers");te.exports=function(s,e){var o=e._inHover,l=n.isGrouped(e),a=n.isReversed(e),t={},v=[],p=!1,h={},g=0,m=0,w,y;function x(O,U){if(O===""||!n.isGrouped(e)){var K="~~i"+g;v.push(K),t[K]=[U],g++}else v.indexOf(O)===-1?(v.push(O),p=!0,t[O]=[U]):t[O].push(U)}for(w=0;w<s.length;w++){var f=s[w],b=f[0],d=b.trace,T=d.legendgroup;if(!(!o&&(!d.visible||!d.showlegend)))if(i.traceIs(d,"pie-like"))for(h[T]||(h[T]={}),y=0;y<f.length;y++){var k=f[y].label;h[T][k]||(x(T,{label:k,color:f[y].color,i:f[y].i,trace:d,pts:f[y].pts}),h[T][k]=!0,m=Math.max(m,(k||"").length))}else x(T,b),m=Math.max(m,(d.name||"").length)}if(!v.length)return[];var F=!p||!l,M=[];for(w=0;w<v.length;w++){var S=t[v[w]];F?M.push(S[0]):M.push(S)}for(F&&(M=[M]),w=0;w<M.length;w++){var E=1/0;for(y=0;y<M[w].length;y++){var A=M[w][y].trace.legendrank;E>A&&(E=A)}M[w][0]._groupMinRank=E,M[w][0]._preGroupSort=w}var z=function(O,U){return O[0]._groupMinRank-U[0]._groupMinRank||O[0]._preGroupSort-U[0]._preGroupSort},H=function(O,U){return O.trace.legendrank-U.trace.legendrank||O._preSort-U._preSort};for(M.forEach(function(O,U){O[0]._preGroupSort=U}),M.sort(z),w=0;w<M.length;w++){M[w].forEach(function(O,U){O._preSort=U}),M[w].sort(H);var Q=M[w][0].trace,X=null;for(y=0;y<M[w].length;y++){var ie=M[w][y].trace.legendgrouptitle;if(ie&&ie.text){X=ie,o&&(ie.font=e._groupTitleFont);break}}if(a&&M[w].reverse(),X){var R=!1;for(y=0;y<M[w].length;y++)if(i.traceIs(M[w][y].trace,"pie-like")){R=!0;break}M[w].unshift({i:-1,groupTitle:X,noClick:R,trace:{showlegend:Q.showlegend,legendgroup:Q.legendgroup,visible:e.groupclick==="toggleitem"?!0:Q.visible}})}for(y=0;y<M[w].length;y++)M[w][y]=[M[w][y]]}return e._lgroupsLength=M.length,e._maxNameLength=m,M}},{"../../registry":327,"./helpers":159}],158:[function(u,te,Y){var i=u("../../lib"),n=u("../../registry"),c=!0;te.exports=function(e,o,l){var a=o._fullLayout;if(o._dragged||o._editing)return;var t=a.legend.itemclick,v=a.legend.itemdoubleclick,p=a.legend.groupclick;l===1&&t==="toggle"&&v==="toggleothers"&&c&&o.data&&o._context.showTips&&i.notifier(i._(o,"Double-click on legend to isolate one trace"),"long"),c=!1;var h;if(l===1?h=t:l===2&&(h=v),!h)return;var g=p==="togglegroup",m=a.hiddenlabels?a.hiddenlabels.slice():[],w=e.data()[0][0];if(w.groupTitle&&w.noClick)return;var y=o._fullData,x=w.trace,f=x.legendgroup,b,d,T,k,F,M,S={},E=[],A=[],z=[];function H(I,L,P){var B=E.indexOf(I),V=S[L];return V||(V=S[L]=[]),E.indexOf(I)===-1&&(E.push(I),B=E.length-1),V[B]=P,B}function Q(I,L){if(!(w.groupTitle&&!g)){var P=I._fullInput;if(n.hasTransform(P,"groupby")){var B=A[P.index];if(!B){var V=n.getTransformIndices(P,"groupby"),N=V[V.length-1];B=i.keyedContainer(P,"transforms["+N+"].styles","target","value.visible"),A[P.index]=B}var Z=B.get(I._group);Z===void 0&&(Z=!0),Z!==!1&&B.set(I._group,L),z[P.index]=H(P.index,"visible",P.visible!==!1)}else{var W=P.visible===!1?!1:L;H(P.index,"visible",W)}}}if(n.traceIs(x,"pie-like")){var X=w.label,ie=m.indexOf(X);h==="toggle"?ie===-1?m.push(X):m.splice(ie,1):h==="toggleothers"&&(m=[],o.calcdata[0].forEach(function(I){X!==I.label&&m.push(I.label)}),o._fullLayout.hiddenlabels&&o._fullLayout.hiddenlabels.length===m.length&&ie===-1&&(m=[])),n.call("_guiRelayout",o,"hiddenlabels",m)}else{var R=f&&f.length,O=[],U;if(R)for(b=0;b<y.length;b++)U=y[b],!!U.visible&&U.legendgroup===f&&O.push(b);if(h==="toggle"){var K;switch(x.visible){case!0:K="legendonly";break;case!1:K=!1;break;case"legendonly":K=!0;break}if(R)if(g)for(b=0;b<y.length;b++)y[b].visible!==!1&&y[b].legendgroup===f&&Q(y[b],K);else Q(x,K);else Q(x,K)}else if(h==="toggleothers"){var ee,ne,me,pe,be=!0;for(b=0;b<y.length;b++)if(ee=y[b]===x,me=y[b].showlegend!==!0,!(ee||me)&&(ne=R&&y[b].legendgroup===f,!ne&&y[b].visible===!0&&!n.traceIs(y[b],"notLegendIsolatable"))){be=!1;break}for(b=0;b<y.length;b++)if(y[b].visible!==!1&&!n.traceIs(y[b],"notLegendIsolatable"))switch(x.visible){case"legendonly":Q(y[b],!0);break;case!0:pe=be?!0:"legendonly",ee=y[b]===x,me=y[b].showlegend!==!0&&!y[b].legendgroup,ne=ee||R&&y[b].legendgroup===f,Q(y[b],ne||me?!0:pe);break}}for(b=0;b<A.length;b++)if(T=A[b],!!T){var ve=T.constructUpdate(),C=Object.keys(ve);for(d=0;d<C.length;d++)k=C[d],M=S[k]=S[k]||[],M[z[b]]=ve[k]}for(F=Object.keys(S),b=0;b<F.length;b++)for(k=F[b],d=0;d<E.length;d++)S[k].hasOwnProperty(d)||(S[k][d]=void 0);n.call("_guiRestyle",o,S,E)}}},{"../../lib":244,"../../registry":327}],159:[function(u,te,Y){Y.isGrouped=function(n){return(n.traceorder||"").indexOf("grouped")!==-1},Y.isVertical=function(n){return n.orientation!=="h"},Y.isReversed=function(n){return(n.traceorder||"").indexOf("reversed")!==-1}},{}],160:[function(u,te,Y){te.exports={moduleType:"component",name:"legend",layoutAttributes:u("./attributes"),supplyLayoutDefaults:u("./defaults"),draw:u("./draw"),style:u("./style")}},{"./attributes":153,"./defaults":155,"./draw":156,"./style":161}],161:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../registry"),c=u("../../lib"),s=c.strTranslate,e=u("../drawing"),o=u("../color"),l=u("../colorscale/helpers").extractOpts,a=u("../../traces/scatter/subtypes"),t=u("../../traces/pie/style_one"),v=u("../../traces/pie/helpers").castOption,p=u("./constants"),h=12,g=5,m=2,w=10,y=5;te.exports=function(T,k,F){var M=k._fullLayout;F||(F=M.legend);var S=F.itemsizing==="constant",E=F.itemwidth,A=(E+p.itemGap*2)/2,z=s(A,0),H=function(C,I,L,P){var B;if(C+1)B=C;else if(I&&I.width>0)B=I.width;else return 0;return S?P:Math.min(B,L)};T.each(function(C){var I=i.select(this),L=c.ensureSingle(I,"g","layers");L.style("opacity",C[0].trace.opacity);var P=F.valign,B=C[0].lineHeight,V=C[0].height;if(P==="middle"||!B||!V)L.attr("transform",null);else{var N={top:1,bottom:-1}[P],Z=N*(.5*(B-V+3));L.attr("transform",s(0,Z))}var W=L.selectAll("g.legendfill").data([C]);W.enter().append("g").classed("legendfill",!0);var q=L.selectAll("g.legendlines").data([C]);q.enter().append("g").classed("legendlines",!0);var re=L.selectAll("g.legendsymbols").data([C]);re.enter().append("g").classed("legendsymbols",!0),re.selectAll("g.legendpoints").data([C]).enter().append("g").classed("legendpoints",!0)}).each(ve).each(ie).each(O).each(R).each(K).each(pe).each(me).each(Q).each(X).each(ee).each(ne);function Q(C){var I=f(C),L=I.showFill,P=I.showLine,B=I.showGradientLine,V=I.showGradientFill,N=I.anyFill,Z=I.anyLine,W=C[0],q=W.trace,re,se,_e=l(q),ge=_e.colorscale,Ae=_e.reversescale,Ce=function(De){if(De.size())if(L)e.fillGroupStyle(De,k);else{var Fe="legendfill-"+q.uid;e.gradient(De,k,Fe,x(Ae),ge,"fill")}},ue=function(De){if(De.size()){var Fe="legendline-"+q.uid;e.lineGroupStyle(De),e.gradient(De,k,Fe,x(Ae),ge,"stroke")}},he=a.hasMarkers(q)||!N?"M5,0":Z?"M5,-2":"M5,-3",we=i.select(this),ke=we.select(".legendfill").selectAll("path").data(L||V?[C]:[]);if(ke.enter().append("path").classed("js-fill",!0),ke.exit().remove(),ke.attr("d",he+"h"+E+"v6h-"+E+"z").call(Ce),P||B){var Pe=H(void 0,q.line,w,g);se=c.minExtend(q,{line:{width:Pe}}),re=[c.minExtend(W,{trace:se})]}var fe=we.select(".legendlines").selectAll("path").data(P||B?[re]:[]);fe.enter().append("path").classed("js-line",!0),fe.exit().remove(),fe.attr("d",he+(B?"l"+E+",0.0001":"h"+E)).call(P?e.lineGroupStyle:ue)}function X(C){var I=f(C),L=I.anyFill,P=I.anyLine,B=I.showLine,V=I.showMarker,N=C[0],Z=N.trace,W=!V&&!P&&!L&&a.hasText(Z),q,re;function se(ke,Pe,fe,De){var Fe=c.nestedProperty(Z,ke).get(),et=c.isArrayOrTypedArray(Fe)&&Pe?Pe(Fe):Fe;if(S&&et&&De!==void 0&&(et=De),fe){if(et<fe[0])return fe[0];if(et>fe[1])return fe[1]}return et}function _e(ke){return N._distinct&&N.index&&ke[N.index]?ke[N.index]:ke[0]}if(V||W||B){var ge={},Ae={};if(V){ge.mc=se("marker.color",_e),ge.mx=se("marker.symbol",_e),ge.mo=se("marker.opacity",c.mean,[.2,1]),ge.mlc=se("marker.line.color",_e),ge.mlw=se("marker.line.width",c.mean,[0,5],m),Ae.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Ce=se("marker.size",c.mean,[2,16],h);ge.ms=Ce,Ae.marker.size=Ce}B&&(Ae.line={width:se("line.width",_e,[0,10],g)}),W&&(ge.tx="Aa",ge.tp=se("textposition",_e),ge.ts=10,ge.tc=se("textfont.color",_e),ge.tf=se("textfont.family",_e)),q=[c.minExtend(N,ge)],re=c.minExtend(Z,Ae),re.selectedpoints=null,re.texttemplate=null}var ue=i.select(this).select("g.legendpoints"),he=ue.selectAll("path.scatterpts").data(V?q:[]);he.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",z),he.exit().remove(),he.call(e.pointStyle,re,k),V&&(q[0].mrc=3);var we=ue.selectAll("g.pointtext").data(W?q:[]);we.enter().append("g").classed("pointtext",!0).append("text").attr("transform",z),we.exit().remove(),we.selectAll("text").call(e.textPointStyle,re,k)}function ie(C){var I=C[0].trace,L=I.type==="waterfall";if(C[0]._distinct&&L){var P=C[0].trace[C[0].dir].marker;return C[0].mc=P.color,C[0].mlw=P.line.width,C[0].mlc=P.line.color,U(C,this,"waterfall")}var B=[];I.visible&&L&&(B=C[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var V=i.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(B);V.enter().append("path").classed("legendwaterfall",!0).attr("transform",z).style("stroke-miterlimit",1),V.exit().remove(),V.each(function(N){var Z=i.select(this),W=I[N[0]].marker,q=H(void 0,W.line,y,m);Z.attr("d",N[1]).style("stroke-width",q+"px").call(o.fill,W.color),q&&Z.call(o.stroke,W.line.color)})}function R(C){U(C,this)}function O(C){U(C,this,"funnel")}function U(C,I,L){var P=C[0].trace,B=P.marker||{},V=B.line||{},N=L?P.visible&&P.type===L:n.traceIs(P,"bar"),Z=i.select(I).select("g.legendpoints").selectAll("path.legend"+L).data(N?[C]:[]);Z.enter().append("path").classed("legend"+L,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",z),Z.exit().remove(),Z.each(function(W){var q=i.select(this),re=W[0],se=H(re.mlw,B.line,y,m);q.style("stroke-width",se+"px");var _e=re.mcc;if(!F._inHover&&"mc"in re){var ge=l(B),Ae=ge.mid;Ae===void 0&&(Ae=(ge.max+ge.min)/2),_e=e.tryColorscale(B,"")(Ae)}var Ce=_e||re.mc||B.color,ue=B.pattern,he=ue&&e.getPatternAttr(ue.shape,0,"");if(he){var we=e.getPatternAttr(ue.bgcolor,0,null),ke=e.getPatternAttr(ue.fgcolor,0,null),Pe=ue.fgopacity,fe=b(ue.size,8,10),De=b(ue.solidity,.5,1),Fe="legend-"+P.uid;q.call(e.pattern,"legend",k,Fe,he,fe,De,_e,ue.fillmode,we,ke,Pe)}else q.call(o.fill,Ce);se&&o.stroke(q,re.mlc||V.color)})}function K(C){var I=C[0].trace,L=i.select(this).select("g.legendpoints").selectAll("path.legendbox").data(I.visible&&n.traceIs(I,"box-violin")?[C]:[]);L.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",z),L.exit().remove(),L.each(function(){var P=i.select(this);if((I.boxpoints==="all"||I.points==="all")&&o.opacity(I.fillcolor)===0&&o.opacity((I.line||{}).color)===0){var B=c.minExtend(I,{marker:{size:S?h:c.constrain(I.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});L.call(e.pointStyle,B,k)}else{var V=H(void 0,I.line,y,m);P.style("stroke-width",V+"px").call(o.fill,I.fillcolor),V&&o.stroke(P,I.line.color)}})}function ee(C){var I=C[0].trace,L=i.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(I.visible&&I.type==="candlestick"?[C,C]:[]);L.enter().append("path").classed("legendcandle",!0).attr("d",function(P,B){return B?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",z).style("stroke-miterlimit",1),L.exit().remove(),L.each(function(P,B){var V=i.select(this),N=I[B?"increasing":"decreasing"],Z=H(void 0,N.line,y,m);V.style("stroke-width",Z+"px").call(o.fill,N.fillcolor),Z&&o.stroke(V,N.line.color)})}function ne(C){var I=C[0].trace,L=i.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(I.visible&&I.type==="ohlc"?[C,C]:[]);L.enter().append("path").classed("legendohlc",!0).attr("d",function(P,B){return B?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",z).style("stroke-miterlimit",1),L.exit().remove(),L.each(function(P,B){var V=i.select(this),N=I[B?"increasing":"decreasing"],Z=H(void 0,N.line,y,m);V.style("fill","none").call(e.dashLine,N.line.dash,Z),Z&&o.stroke(V,N.line.color)})}function me(C){be(C,this,"pie")}function pe(C){be(C,this,"funnelarea")}function be(C,I,L){var P=C[0],B=P.trace,V=L?B.visible&&B.type===L:n.traceIs(B,L),N=i.select(I).select("g.legendpoints").selectAll("path.legend"+L).data(V?[C]:[]);if(N.enter().append("path").classed("legend"+L,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",z),N.exit().remove(),N.size()){var Z=(B.marker||{}).line,W=H(v(Z.width,P.pts),Z,y,m),q=c.minExtend(B,{marker:{line:{width:W}}});q.marker.line.color=Z.color;var re=c.minExtend(P,{trace:q});t(N,re,q)}}function ve(C){var I=C[0].trace,L,P=[];if(I.visible)switch(I.type){case"histogram2d":case"heatmap":P=[["M-15,-2V4H15V-2Z"]],L=!0;break;case"choropleth":case"choroplethmapbox":P=[["M-6,-6V6H6V-6Z"]],L=!0;break;case"densitymapbox":P=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],L="radial";break;case"cone":P=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],L=!1;break;case"streamtube":P=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],L=!1;break;case"surface":P=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],L=!0;break;case"mesh3d":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],L=!1;break;case"volume":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],L=!0;break;case"isosurface":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],L=!1;break}var B=i.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(P);B.enter().append("path").classed("legend3dandfriends",!0).attr("transform",z).style("stroke-miterlimit",1),B.exit().remove(),B.each(function(V,N){var Z=i.select(this),W=l(I),q=W.colorscale,re=W.reversescale,se=function(Ce){if(Ce.size()){var ue="legendfill-"+I.uid;e.gradient(Ce,k,ue,x(re,L==="radial"),q,"fill")}},_e;if(q){if(!L){var Ae=q.length;_e=N===0?q[re?Ae-1:0][1]:N===1?q[re?0:Ae-1][1]:q[Math.floor((Ae-1)/2)][1]}}else{var ge=I.vertexcolor||I.facecolor||I.color;_e=c.isArrayOrTypedArray(ge)?ge[N]||ge[0]:ge}Z.attr("d",V[0]),_e?Z.call(o.fill,_e):Z.call(se)})}};function x(d,T){var k=T?"radial":"horizontal";return k+(d?"":"reversed")}function f(d){var T=d[0].trace,k=T.contours,F=a.hasLines(T),M=a.hasMarkers(T),S=T.visible&&T.fill&&T.fill!=="none",E=!1,A=!1;if(k){var z=k.coloring;z==="lines"?E=!0:F=z==="none"||z==="heatmap"||k.showlines,k.type==="constraint"?S=k._operation!=="=":(z==="fill"||z==="heatmap")&&(A=!0)}return{showMarker:M,showLine:F,showFill:S,showGradientLine:E,showGradientFill:A,anyLine:F||E,anyFill:S||A}}function b(d,T,k){return d&&c.isArrayOrTypedArray(d)?T:d>k?k:d}},{"../../lib":244,"../../registry":327,"../../traces/pie/helpers":359,"../../traces/pie/style_one":365,"../../traces/scatter/subtypes":392,"../color":103,"../colorscale/helpers":114,"../drawing":125,"./constants":154,"@plotly/d3":11}],162:[function(u,te,Y){u("./constants"),te.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},{"./constants":164}],163:[function(u,te,Y){var i=u("../../registry"),n=u("../../plots/plots"),c=u("../../plots/cartesian/axis_ids"),s=u("../../fonts/ploticon"),e=u("../shapes/draw").eraseActiveShape,o=u("../../lib"),l=o._,a=te.exports={};a.toImage={name:"toImage",title:function(d){var T=d._context.toImageButtonOptions||{},k=T.format||"png";return k==="png"?l(d,"Download plot as a png"):l(d,"Download plot")},icon:s.camera,click:function(d){var T=d._context.toImageButtonOptions,k={format:T.format||"png"};o.notifier(l(d,"Taking snapshot - this may take a few seconds"),"long"),k.format!=="svg"&&o.isIE()&&(o.notifier(l(d,"IE only supports svg.  Changing format to svg."),"long"),k.format="svg"),["filename","width","height","scale"].forEach(function(F){F in T&&(k[F]=T[F])}),i.call("downloadImage",d,k).then(function(F){o.notifier(l(d,"Snapshot succeeded")+" - "+F,"long")}).catch(function(){o.notifier(l(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},a.sendDataToCloud={name:"sendDataToCloud",title:function(d){return l(d,"Edit in Chart Studio")},icon:s.disk,click:function(d){n.sendDataToCloud(d)}},a.editInChartStudio={name:"editInChartStudio",title:function(d){return l(d,"Edit in Chart Studio")},icon:s.pencil,click:function(d){n.sendDataToCloud(d)}},a.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return l(d,"Zoom")},attr:"dragmode",val:"zoom",icon:s.zoombox,click:t},a.pan2d={name:"pan2d",_cat:"pan",title:function(d){return l(d,"Pan")},attr:"dragmode",val:"pan",icon:s.pan,click:t},a.select2d={name:"select2d",_cat:"select",title:function(d){return l(d,"Box Select")},attr:"dragmode",val:"select",icon:s.selectbox,click:t},a.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return l(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:s.lasso,click:t},a.drawclosedpath={name:"drawclosedpath",title:function(d){return l(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:s.drawclosedpath,click:t},a.drawopenpath={name:"drawopenpath",title:function(d){return l(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:s.drawopenpath,click:t},a.drawline={name:"drawline",title:function(d){return l(d,"Draw line")},attr:"dragmode",val:"drawline",icon:s.drawline,click:t},a.drawrect={name:"drawrect",title:function(d){return l(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:s.drawrect,click:t},a.drawcircle={name:"drawcircle",title:function(d){return l(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:s.drawcircle,click:t},a.eraseshape={name:"eraseshape",title:function(d){return l(d,"Erase active shape")},icon:s.eraseshape,click:e},a.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return l(d,"Zoom in")},attr:"zoom",val:"in",icon:s.zoom_plus,click:t},a.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return l(d,"Zoom out")},attr:"zoom",val:"out",icon:s.zoom_minus,click:t},a.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return l(d,"Autoscale")},attr:"zoom",val:"auto",icon:s.autoscale,click:t},a.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return l(d,"Reset axes")},attr:"zoom",val:"reset",icon:s.home,click:t},a.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return l(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:s.tooltip_basic,gravity:"ne",click:t},a.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return l(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:s.tooltip_compare,gravity:"ne",click:t};function t(d,T){var k=T.currentTarget,F=k.getAttribute("data-attr"),M=k.getAttribute("data-val")||!0,S=d._fullLayout,E={},A=c.list(d,null,!0),z=S._cartesianSpikesEnabled,H,Q;if(F==="zoom"){var X=M==="in"?.5:2,ie=(1+X)/2,R=(1-X)/2,O;for(Q=0;Q<A.length;Q++)if(H=A[Q],!H.fixedrange)if(O=H._name,M==="auto")E[O+".autorange"]=!0;else if(M==="reset"){if(H._rangeInitial===void 0)E[O+".autorange"]=!0;else{var U=H._rangeInitial.slice();E[O+".range[0]"]=U[0],E[O+".range[1]"]=U[1]}H._showSpikeInitial!==void 0&&(E[O+".showspikes"]=H._showSpikeInitial,z==="on"&&!H._showSpikeInitial&&(z="off"))}else{var K=[H.r2l(H.range[0]),H.r2l(H.range[1])],ee=[ie*K[0]+R*K[1],ie*K[1]+R*K[0]];E[O+".range[0]"]=H.l2r(ee[0]),E[O+".range[1]"]=H.l2r(ee[1])}}else F==="hovermode"&&(M==="x"||M==="y")&&(M=S._isHoriz?"y":"x",k.setAttribute("data-val",M)),E[F]=M;S._cartesianSpikesEnabled=z,i.call("_guiRelayout",d,E)}a.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return l(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:s.zoombox,click:v},a.pan3d={name:"pan3d",_cat:"pan",title:function(d){return l(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:s.pan,click:v},a.orbitRotation={name:"orbitRotation",title:function(d){return l(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:s["3d_rotate"],click:v},a.tableRotation={name:"tableRotation",title:function(d){return l(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:s["z-axis"],click:v};function v(d,T){for(var k=T.currentTarget,F=k.getAttribute("data-attr"),M=k.getAttribute("data-val")||!0,S=d._fullLayout._subplots.gl3d||[],E={},A=F.split("."),z=0;z<S.length;z++)E[S[z]+"."+A[1]]=M;var H=M==="pan"?M:"zoom";E.dragmode=H,i.call("_guiRelayout",d,E)}a.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return l(d,"Reset camera to default")},attr:"resetDefault",icon:s.home,click:p},a.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return l(d,"Reset camera to last save")},attr:"resetLastSave",icon:s.movie,click:p};function p(d,T){for(var k=T.currentTarget,F=k.getAttribute("data-attr"),M=F==="resetLastSave",S=F==="resetDefault",E=d._fullLayout,A=E._subplots.gl3d||[],z={},H=0;H<A.length;H++){var Q=A[H],X=Q+".camera",ie=Q+".aspectratio",R=Q+".aspectmode",O=E[Q]._scene,U;M?(z[X+".up"]=O.viewInitial.up,z[X+".eye"]=O.viewInitial.eye,z[X+".center"]=O.viewInitial.center,U=!0):S&&(z[X+".up"]=null,z[X+".eye"]=null,z[X+".center"]=null,U=!0),U&&(z[ie+".x"]=O.viewInitial.aspectratio.x,z[ie+".y"]=O.viewInitial.aspectratio.y,z[ie+".z"]=O.viewInitial.aspectratio.z,z[R]=O.viewInitial.aspectmode)}i.call("_guiRelayout",d,z)}a.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return l(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:g};function h(d,T){var k=T.currentTarget,F=k._previousVal,M=d._fullLayout,S=M._subplots.gl3d||[],E=["xaxis","yaxis","zaxis"],A={},z={};if(F)z=F,k._previousVal=null;else{for(var H=0;H<S.length;H++){var Q=S[H],X=M[Q],ie=Q+".hovermode";A[ie]=X.hovermode,z[ie]=!1;for(var R=0;R<3;R++){var O=E[R],U=Q+"."+O+".showspikes";z[U]=!1,A[U]=X[O].showspikes}}k._previousVal=A}return z}function g(d,T){var k=h(d,T);i.call("_guiRelayout",d,k)}a.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return l(d,"Zoom in")},attr:"zoom",val:"in",icon:s.zoom_plus,click:m},a.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return l(d,"Zoom out")},attr:"zoom",val:"out",icon:s.zoom_minus,click:m},a.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return l(d,"Reset")},attr:"reset",val:null,icon:s.autoscale,click:m},a.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return l(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:y};function m(d,T){for(var k=T.currentTarget,F=k.getAttribute("data-attr"),M=k.getAttribute("data-val")||!0,S=d._fullLayout,E=S._subplots.geo||[],A=0;A<E.length;A++){var z=E[A],H=S[z];if(F==="zoom"){var Q=H.projection.scale,X=M==="in"?2*Q:.5*Q;i.call("_guiRelayout",d,z+".projection.scale",X)}}F==="reset"&&b(d,"geo")}a.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return l(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:y},a.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return l(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:s.tooltip_basic,gravity:"ne",click:y};function w(d){var T=d._fullLayout;return T.hovermode?!1:T._has("cartesian")?T._isHoriz?"y":"x":"closest"}function y(d){var T=w(d);i.call("_guiRelayout",d,"hovermode",T)}a.resetViewSankey={name:"resetSankeyGroup",title:function(d){return l(d,"Reset view")},icon:s.home,click:function(d){for(var T={"node.groups":[],"node.x":[],"node.y":[]},k=0;k<d._fullData.length;k++){var F=d._fullData[k]._viewInitial;T["node.groups"].push(F.node.groups.slice()),T["node.x"].push(F.node.x.slice()),T["node.y"].push(F.node.y.slice())}i.call("restyle",d,T)}},a.toggleHover={name:"toggleHover",title:function(d){return l(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:function(d,T){var k=h(d,T);k.hovermode=w(d),i.call("_guiRelayout",d,k)}},a.resetViews={name:"resetViews",title:function(d){return l(d,"Reset views")},icon:s.home,click:function(d,T){var k=T.currentTarget;k.setAttribute("data-attr","zoom"),k.setAttribute("data-val","reset"),t(d,T),k.setAttribute("data-attr","resetLastSave"),p(d,T),b(d,"geo"),b(d,"mapbox")}},a.toggleSpikelines={name:"toggleSpikelines",title:function(d){return l(d,"Toggle Spike Lines")},icon:s.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var T=d._fullLayout,k=T._cartesianSpikesEnabled;T._cartesianSpikesEnabled=k==="on"?"off":"on",i.call("_guiRelayout",d,x(d))}};function x(d){for(var T=d._fullLayout,k=T._cartesianSpikesEnabled==="on",F=c.list(d,null,!0),M={},S=0;S<F.length;S++){var E=F[S];M[E._name+".showspikes"]=k?!0:E._showSpikeInitial}return M}a.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return l(d,"Reset view")},attr:"reset",icon:s.home,click:function(d){b(d,"mapbox")}},a.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return l(d,"Zoom in")},attr:"zoom",val:"in",icon:s.zoom_plus,click:f},a.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return l(d,"Zoom out")},attr:"zoom",val:"out",icon:s.zoom_minus,click:f};function f(d,T){for(var k=T.currentTarget,F=k.getAttribute("data-val"),M=d._fullLayout,S=M._subplots.mapbox||[],E=1.05,A={},z=0;z<S.length;z++){var H=S[z],Q=M[H].zoom,X=F==="in"?E*Q:Q/E;A[H+".zoom"]=X}i.call("_guiRelayout",d,A)}function b(d,T){for(var k=d._fullLayout,F=k._subplots[T]||[],M={},S=0;S<F.length;S++)for(var E=F[S],A=k[E]._subplot,z=A.viewInitial,H=Object.keys(z),Q=0;Q<H.length;Q++){var X=H[Q];M[E+"."+X]=z[X]}i.call("_guiRelayout",d,M)}},{"../../fonts/ploticon":227,"../../lib":244,"../../plots/cartesian/axis_ids":295,"../../plots/plots":325,"../../registry":327,"../shapes/draw":198}],164:[function(u,te,Y){var i=u("./buttons"),n=Object.keys(i),c=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],s=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(c),e=[],o=function(l){if(s.indexOf(l._cat||l.name)===-1){var a=l.name,t=(l._cat||l.name).toLowerCase();e.indexOf(a)===-1&&e.push(a),e.indexOf(t)===-1&&e.push(t)}};n.forEach(function(l){o(i[l])}),e.sort(),te.exports={DRAW_MODES:c,backButtons:s,foreButtons:e}},{"./buttons":163}],165:[function(u,te,Y){var i=u("../../lib"),n=u("../color"),c=u("../../plot_api/plot_template"),s=u("./attributes");te.exports=function(o,l){var a=o.modebar||{},t=c.newContainer(l,"modebar");function v(h,g){return i.coerce(a,t,s,h,g)}v("orientation"),v("bgcolor",n.addOpacity(l.paper_bgcolor,.5));var p=n.contrast(n.rgb(l.modebar.bgcolor));v("color",n.addOpacity(p,.3)),v("activecolor",n.addOpacity(p,.7)),v("uirevision",l.uirevision),v("add"),v("remove")}},{"../../lib":244,"../../plot_api/plot_template":280,"../color":103,"./attributes":162}],166:[function(u,te,Y){te.exports={moduleType:"component",name:"modebar",layoutAttributes:u("./attributes"),supplyLayoutDefaults:u("./defaults"),manage:u("./manage")}},{"./attributes":162,"./defaults":165,"./manage":167}],167:[function(u,te,Y){var i=u("../../plots/cartesian/axis_ids"),n=u("../../traces/scatter/subtypes"),c=u("../../registry"),s=u("../fx/helpers").isUnifiedHover,e=u("./modebar"),o=u("./buttons"),l=u("./constants").DRAW_MODES,a=u("../../lib").extendDeep;te.exports=function(y){var x=y._fullLayout,f=y._context,b=x._modeBar;if(!f.displayModeBar&&!f.watermark){b&&(b.destroy(),delete x._modeBar);return}if(!Array.isArray(f.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(f.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=f.modeBarButtons,T;Array.isArray(d)&&d.length?T=m(d):!f.displayModeBar&&f.watermark?T=[]:T=t(y),b?b.update(y,T):x._modeBar=e(y,T)};function t(w){var y=w._fullLayout,x=w._fullData,f=w._context;function b(N,Z){if(typeof Z=="string"){if(Z.toLowerCase()===N.toLowerCase())return!0}else{var W=Z.name,q=Z._cat||Z.name;if(W===N||q===N.toLowerCase())return!0}return!1}var d=y.modebar.add;typeof d=="string"&&(d=[d]);var T=y.modebar.remove;typeof T=="string"&&(T=[T]);var k=f.modeBarButtonsToAdd.concat(d.filter(function(N){for(var Z=0;Z<f.modeBarButtonsToRemove.length;Z++)if(b(N,f.modeBarButtonsToRemove[Z]))return!1;return!0})),F=f.modeBarButtonsToRemove.concat(T.filter(function(N){for(var Z=0;Z<f.modeBarButtonsToAdd.length;Z++)if(b(N,f.modeBarButtonsToAdd[Z]))return!1;return!0})),M=y._has("cartesian"),S=y._has("gl3d"),E=y._has("geo"),A=y._has("pie"),z=y._has("funnelarea"),H=y._has("gl2d"),Q=y._has("ternary"),X=y._has("mapbox"),ie=y._has("polar"),R=y._has("smith"),O=y._has("sankey"),U=v(y),K=s(y.hovermode),ee=[];function ne(N){if(!!N.length){for(var Z=[],W=0;W<N.length;W++){for(var q=N[W],re=o[q],se=re.name.toLowerCase(),_e=(re._cat||re.name).toLowerCase(),ge=!1,Ae=0;Ae<F.length;Ae++){var Ce=F[Ae].toLowerCase();if(Ce===se||Ce===_e){ge=!0;break}}ge||Z.push(o[q])}ee.push(Z)}}var me=["toImage"];f.showEditInChartStudio?me.push("editInChartStudio"):f.showSendToCloud&&me.push("sendDataToCloud"),ne(me);var pe=[],be=[],ve=[],C=[];(M||H||A||z||Q)+E+S+X+ie+R>1?(be=["toggleHover"],ve=["resetViews"]):E?(pe=["zoomInGeo","zoomOutGeo"],be=["hoverClosestGeo"],ve=["resetGeo"]):S?(be=["hoverClosest3d"],ve=["resetCameraDefault3d","resetCameraLastSave3d"]):X?(pe=["zoomInMapbox","zoomOutMapbox"],be=["toggleHover"],ve=["resetViewMapbox"]):H?be=["hoverClosestGl2d"]:A?be=["hoverClosestPie"]:O?(be=["hoverClosestCartesian","hoverCompareCartesian"],ve=["resetViewSankey"]):be=["toggleHover"],M&&(be=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(h(x)||K)&&(be=[]),(M||H)&&!U&&(pe=["zoomIn2d","zoomOut2d","autoScale2d"],ve[0]!=="resetViews"&&(ve=["resetScale2d"])),S?C=["zoom3d","pan3d","orbitRotation","tableRotation"]:(M||H)&&!U||Q?C=["zoom2d","pan2d"]:X||E?C=["pan2d"]:ie&&(C=["zoom2d"]),p(x)&&C.push("select2d","lasso2d");var I=[],L=function(N){I.indexOf(N)===-1&&be.indexOf(N)!==-1&&I.push(N)};if(Array.isArray(k)){for(var P=[],B=0;B<k.length;B++){var V=k[B];typeof V=="string"?(V=V.toLowerCase(),l.indexOf(V)!==-1?(y._has("mapbox")||y._has("cartesian"))&&C.push(V):V==="togglespikelines"?L("toggleSpikelines"):V==="togglehover"?L("toggleHover"):V==="hovercompare"?L("hoverCompareCartesian"):V==="hoverclosest"?(L("hoverClosestCartesian"),L("hoverClosestGeo"),L("hoverClosest3d"),L("hoverClosestGl2d"),L("hoverClosestPie")):V==="v1hovermode"&&(L("toggleHover"),L("hoverClosestCartesian"),L("hoverCompareCartesian"),L("hoverClosestGeo"),L("hoverClosest3d"),L("hoverClosestGl2d"),L("hoverClosestPie"))):P.push(V)}k=P}return ne(C),ne(pe.concat(ve)),ne(I),g(ee,k)}function v(w){for(var y=i.list({_fullLayout:w},null,!0),x=0;x<y.length;x++)if(!y[x].fixedrange)return!1;return!0}function p(w){for(var y=!1,x=0;x<w.length&&!y;x++){var f=w[x];!f._module||!f._module.selectPoints||(c.traceIs(f,"scatter-like")?(n.hasMarkers(f)||n.hasText(f))&&(y=!0):c.traceIs(f,"box-violin")?(f.boxpoints==="all"||f.points==="all")&&(y=!0):y=!0)}return y}function h(w){for(var y=0;y<w.length;y++)if(!c.traceIs(w[y],"noHover"))return!1;return!0}function g(w,y){if(y.length)if(Array.isArray(y[0]))for(var x=0;x<y.length;x++)w.push(y[x]);else w.push(y);return w}function m(w){for(var y=a([],w),x=0;x<y.length;x++)for(var f=y[x],b=0;b<f.length;b++){var d=f[b];if(typeof d=="string")if(o[d]!==void 0)y[x][b]=o[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return y}},{"../../lib":244,"../../plots/cartesian/axis_ids":295,"../../registry":327,"../../traces/scatter/subtypes":392,"../fx/helpers":139,"./buttons":163,"./constants":164,"./modebar":168}],168:[function(u,te,Y){var i=u("@plotly/d3"),n=u("fast-isnumeric"),c=u("../../lib"),s=u("../../fonts/ploticon"),e=u("../../version").version,o=new DOMParser;function l(p){this.container=p.container,this.element=document.createElement("div"),this.update(p.graphInfo,p.buttons),this.container.appendChild(this.element)}var a=l.prototype;a.update=function(p,h){this.graphInfo=p;var g=this.graphInfo._context,m=this.graphInfo._fullLayout,w="modebar-"+m._uid;this.element.setAttribute("id",w),this._uid=w,this.element.className="modebar",g.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),m.modebar.orientation==="v"&&(this.element.className+=" vertical",h=h.reverse());var y=m.modebar,x=g.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";c.deleteRelatedStyleRule(w),c.addRelatedStyleRule(w,x+"#"+w+" .modebar-group","background-color: "+y.bgcolor),c.addRelatedStyleRule(w,"#"+w+" .modebar-btn .icon path","fill: "+y.color),c.addRelatedStyleRule(w,"#"+w+" .modebar-btn:hover .icon path","fill: "+y.activecolor),c.addRelatedStyleRule(w,"#"+w+" .modebar-btn.active .icon path","fill: "+y.activecolor);var f=!this.hasButtons(h),b=this.hasLogo!==g.displaylogo,d=this.locale!==g.locale;if(this.locale=g.locale,(f||b||d)&&(this.removeAllButtons(),this.updateButtons(h),g.watermark||g.displaylogo)){var T=this.getLogo();g.watermark&&(T.className=T.className+" watermark"),m.modebar.orientation==="v"?this.element.insertBefore(T,this.element.childNodes[0]):this.element.appendChild(T),this.hasLogo=!0}this.updateActiveButton()},a.updateButtons=function(p){var h=this;this.buttons=p,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(g){var m=h.createGroup();g.forEach(function(w){var y=w.name;if(!y)throw new Error("must provide button 'name' in button config");if(h.buttonsNames.indexOf(y)!==-1)throw new Error("button name '"+y+"' is taken");h.buttonsNames.push(y);var x=h.createButton(w);h.buttonElements.push(x),m.appendChild(x)}),h.element.appendChild(m)})},a.createGroup=function(){var p=document.createElement("div");return p.className="modebar-group",p},a.createButton=function(p){var h=this,g=document.createElement("a");g.setAttribute("rel","tooltip"),g.className="modebar-btn";var m=p.title;m===void 0?m=p.name:typeof m=="function"&&(m=m(this.graphInfo)),(m||m===0)&&g.setAttribute("data-title",m),p.attr!==void 0&&g.setAttribute("data-attr",p.attr);var w=p.val;w!==void 0&&(typeof w=="function"&&(w=w(this.graphInfo)),g.setAttribute("data-val",w));var y=p.click;if(typeof y!="function")throw new Error("must provide button 'click' function in button config");g.addEventListener("click",function(f){p.click(h.graphInfo,f),h.updateActiveButton(f.currentTarget)}),g.setAttribute("data-toggle",p.toggle||!1),p.toggle&&i.select(g).classed("active",!0);var x=p.icon;return typeof x=="function"?g.appendChild(x()):g.appendChild(this.createIcon(x||s.question)),g.setAttribute("data-gravity",p.gravity||"n"),g},a.createIcon=function(p){var h=n(p.height)?Number(p.height):p.ascent-p.descent,g="http://www.w3.org/2000/svg",m;if(p.path){m=document.createElementNS(g,"svg"),m.setAttribute("viewBox",[0,0,p.width,h].join(" ")),m.setAttribute("class","icon");var w=document.createElementNS(g,"path");w.setAttribute("d",p.path),p.transform?w.setAttribute("transform",p.transform):p.ascent!==void 0&&w.setAttribute("transform","matrix(1 0 0 -1 0 "+p.ascent+")"),m.appendChild(w)}if(p.svg){var y=o.parseFromString(p.svg,"application/xml");m=y.childNodes[0]}return m.setAttribute("height","1em"),m.setAttribute("width","1em"),m},a.updateActiveButton=function(p){var h=this.graphInfo._fullLayout,g=p!==void 0?p.getAttribute("data-attr"):null;this.buttonElements.forEach(function(m){var w=m.getAttribute("data-val")||!0,y=m.getAttribute("data-attr"),x=m.getAttribute("data-toggle")==="true",f=i.select(m);if(x)y===g&&f.classed("active",!f.classed("active"));else{var b=y===null?y:c.nestedProperty(h,y).get();f.classed("active",b===w)}})},a.hasButtons=function(p){var h=this.buttons;if(!h||p.length!==h.length)return!1;for(var g=0;g<p.length;++g){if(p[g].length!==h[g].length)return!1;for(var m=0;m<p[g].length;m++)if(p[g][m].name!==h[g][m].name)return!1}return!0};function t(p){return p+" (v"+e+")"}a.getLogo=function(){var p=this.createGroup(),h=document.createElement("a");return h.href="https://plotly.com/",h.target="_blank",h.setAttribute("data-title",t(c._(this.graphInfo,"Produced with Plotly.js"))),h.className="modebar-btn plotlyjsicon modebar-btn--logo",h.appendChild(this.createIcon(s.newplotlylogo)),p.appendChild(h),p},a.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},a.destroy=function(){c.removeElement(this.container.querySelector(".modebar")),c.deleteRelatedStyleRule(this._uid)};function v(p,h){var g=p._fullLayout,m=new l({graphInfo:p,container:g._modebardiv.node(),buttons:h});return g._privateplot&&i.select(m.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),m}te.exports=v},{"../../fonts/ploticon":227,"../../lib":244,"../../version":400,"@plotly/d3":11,"fast-isnumeric":17}],169:[function(u,te,Y){var i=u("../../plots/font_attributes"),n=u("../color/attributes"),c=u("../../plot_api/plot_template").templatedArray,s=c("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});te.exports={visible:{valType:"boolean",editType:"plot"},buttons:s,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:i({editType:"plot"}),bgcolor:{valType:"color",dflt:n.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:n.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":280,"../../plots/font_attributes":319,"../color/attributes":102}],170:[function(u,te,Y){te.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],171:[function(u,te,Y){var i=u("../../lib"),n=u("../color"),c=u("../../plot_api/plot_template"),s=u("../../plots/array_container_defaults"),e=u("./attributes"),o=u("./constants");te.exports=function(v,p,h,g,m){var w=v.rangeselector||{},y=c.newContainer(p,"rangeselector");function x(k,F){return i.coerce(w,y,e,k,F)}var f=s(w,y,{name:"buttons",handleItemDefaults:l,calendar:m}),b=x("visible",f.length>0);if(b){var d=a(p,h,g);x("x",d[0]),x("y",d[1]),i.noneOrAll(v,p,["x","y"]),x("xanchor"),x("yanchor"),i.coerceFont(x,"font",h.font);var T=x("bgcolor");x("activecolor",n.contrast(T,o.lightAmount,o.darkAmount)),x("bordercolor"),x("borderwidth")}};function l(t,v,p,h){var g=h.calendar;function m(x,f){return i.coerce(t,v,e.buttons,x,f)}var w=m("visible");if(w){var y=m("step");y!=="all"&&(g&&g!=="gregorian"&&(y==="month"||y==="year")?v.stepmode="backward":m("stepmode"),m("count")),m("label")}}function a(t,v,p){for(var h=p.filter(function(y){return v[y].anchor===t._id}),g=0,m=0;m<h.length;m++){var w=v[h[m]].domain;w&&(g=Math.max(w[1],g))}return[t.domain[0],g+o.yPad]}},{"../../lib":244,"../../plot_api/plot_template":280,"../../plots/array_container_defaults":286,"../color":103,"./attributes":169,"./constants":170}],172:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../registry"),c=u("../../plots/plots"),s=u("../color"),e=u("../drawing"),o=u("../../lib"),l=o.strTranslate,a=u("../../lib/svg_text_utils"),t=u("../../plots/cartesian/axis_ids"),v=u("../../constants/alignment"),p=v.LINE_SPACING,h=v.FROM_TL,g=v.FROM_BR,m=u("./constants"),w=u("./get_update_object");te.exports=function(S){var E=S._fullLayout,A=E._infolayer.selectAll(".rangeselector").data(y(S),x);A.enter().append("g").classed("rangeselector",!0),A.exit().remove(),A.style({cursor:"pointer","pointer-events":"all"}),A.each(function(z){var H=i.select(this),Q=z,X=Q.rangeselector,ie=H.selectAll("g.button").data(o.filterVisible(X.buttons));ie.enter().append("g").classed("button",!0),ie.exit().remove(),ie.each(function(R){var O=i.select(this),U=w(Q,R);R._isActive=f(Q,R,U),O.call(b,X,R),O.call(T,X,R,S),O.on("click",function(){S._dragged||n.call("_guiRelayout",S,U)}),O.on("mouseover",function(){R._isHovered=!0,O.call(b,X,R)}),O.on("mouseout",function(){R._isHovered=!1,O.call(b,X,R)})}),F(S,ie,X,Q._name,H)})};function y(M){for(var S=t.list(M,"x",!0),E=[],A=0;A<S.length;A++){var z=S[A];z.rangeselector&&z.rangeselector.visible&&E.push(z)}return E}function x(M){return M._id}function f(M,S,E){if(S.step==="all")return M.autorange===!0;var A=Object.keys(E);return M.range[0]===E[A[0]]&&M.range[1]===E[A[1]]}function b(M,S,E){var A=o.ensureSingle(M,"rect","selector-rect",function(z){z.attr("shape-rendering","crispEdges")});A.attr({rx:m.rx,ry:m.ry}),A.call(s.stroke,S.bordercolor).call(s.fill,d(S,E)).style("stroke-width",S.borderwidth+"px")}function d(M,S){return S._isActive||S._isHovered?M.activecolor:M.bgcolor}function T(M,S,E,A){function z(Q){a.convertToTspans(Q,A)}var H=o.ensureSingle(M,"text","selector-text",function(Q){Q.attr("text-anchor","middle")});H.call(e.font,S.font).text(k(E,A._fullLayout._meta)).call(z)}function k(M,S){return M.label?S?o.templateString(M.label,S):M.label:M.step==="all"?"all":M.count+M.step.charAt(0)}function F(M,S,E,A,z){var H=0,Q=0,X=E.borderwidth;S.each(function(){var ee=i.select(this),ne=ee.select(".selector-text"),me=E.font.size*p,pe=Math.max(me*a.lineCount(ne),16)+3;Q=Math.max(Q,pe)}),S.each(function(){var ee=i.select(this),ne=ee.select(".selector-rect"),me=ee.select(".selector-text"),pe=me.node()&&e.bBox(me.node()).width,be=E.font.size*p,ve=a.lineCount(me),C=Math.max(pe+10,m.minButtonWidth);ee.attr("transform",l(X+H,X)),ne.attr({x:0,y:0,width:C,height:Q}),a.positionText(me,C/2,Q/2-(ve-1)*be/2+3),H+=C+5});var ie=M._fullLayout._size,R=ie.l+ie.w*E.x,O=ie.t+ie.h*(1-E.y),U="left";o.isRightAnchor(E)&&(R-=H,U="right"),o.isCenterAnchor(E)&&(R-=H/2,U="center");var K="top";o.isBottomAnchor(E)&&(O-=Q,K="bottom"),o.isMiddleAnchor(E)&&(O-=Q/2,K="middle"),H=Math.ceil(H),Q=Math.ceil(Q),R=Math.round(R),O=Math.round(O),c.autoMargin(M,A+"-range-selector",{x:E.x,y:E.y,l:H*h[U],r:H*g[U],b:Q*g[K],t:Q*h[K]}),z.attr("transform",l(R,O))}},{"../../constants/alignment":219,"../../lib":244,"../../lib/svg_text_utils":267,"../../plots/cartesian/axis_ids":295,"../../plots/plots":325,"../../registry":327,"../color":103,"../drawing":125,"./constants":170,"./get_update_object":173,"@plotly/d3":11}],173:[function(u,te,Y){var i=u("d3-time"),n=u("../../lib").titleCase;te.exports=function(e,o){var l=e._name,a={};if(o.step==="all")a[l+".autorange"]=!0;else{var t=c(e,o);a[l+".range[0]"]=t[0],a[l+".range[1]"]=t[1]}return a};function c(s,e){var o=s.range,l=new Date(s.r2l(o[1])),a=e.step,t=i["utc"+n(a)],v=e.count,p;switch(e.stepmode){case"backward":p=s.l2r(+t.offset(l,-v));break;case"todate":var h=t.offset(l,-v);p=s.l2r(+t.ceil(h));break}var g=o[1];return[p,g]}},{"../../lib":244,"d3-time":16}],174:[function(u,te,Y){te.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:u("./attributes")}}},layoutAttributes:u("./attributes"),handleDefaults:u("./defaults"),draw:u("./draw")}},{"./attributes":169,"./defaults":171,"./draw":172}],175:[function(u,te,Y){var i=u("../color/attributes");te.exports={bgcolor:{valType:"color",dflt:i.background,editType:"plot"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":102}],176:[function(u,te,Y){var i=u("../../plots/cartesian/axis_ids").list,n=u("../../plots/cartesian/autorange").getAutoRange,c=u("./constants");te.exports=function(e){for(var o=i(e,"x",!0),l=0;l<o.length;l++){var a=o[l],t=a[c.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=n(e,a))}}},{"../../plots/cartesian/autorange":290,"../../plots/cartesian/axis_ids":295,"./constants":177}],177:[function(u,te,Y){te.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],178:[function(u,te,Y){var i=u("../../lib"),n=u("../../plot_api/plot_template"),c=u("../../plots/cartesian/axis_ids"),s=u("./attributes"),e=u("./oppaxis_attributes");te.exports=function(l,a,t){var v=l[t],p=a[t];if(!(v.rangeslider||a._requestRangeslider[p._id]))return;i.isPlainObject(v.rangeslider)||(v.rangeslider={});var h=v.rangeslider,g=n.newContainer(p,"rangeslider");function m(A,z){return i.coerce(h,g,s,A,z)}var w,y;function x(A,z){return i.coerce(w,y,e,A,z)}var f=m("visible");if(!!f){m("bgcolor",a.plot_bgcolor),m("bordercolor"),m("borderwidth"),m("thickness"),m("autorange",!p.isValidRange(h.range)),m("range");var b=a._subplots;if(b)for(var d=b.cartesian.filter(function(A){return A.substr(0,A.indexOf("y"))===c.name2id(t)}).map(function(A){return A.substr(A.indexOf("y"),A.length)}),T=i.simpleMap(d,c.id2name),k=0;k<T.length;k++){var F=T[k];w=h[F]||{},y=n.newContainer(g,F,"yaxis");var M=a[F],S;w.range&&M.isValidRange(w.range)&&(S="fixed");var E=x("rangemode",S);E!=="match"&&x("range",M.range.slice())}g._input=h}}},{"../../lib":244,"../../plot_api/plot_template":280,"../../plots/cartesian/axis_ids":295,"./attributes":175,"./oppaxis_attributes":182}],179:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../registry"),c=u("../../plots/plots"),s=u("../../lib"),e=s.strTranslate,o=u("../drawing"),l=u("../color"),a=u("../titles"),t=u("../../plots/cartesian"),v=u("../../plots/cartesian/axis_ids"),p=u("../dragelement"),h=u("../../lib/setcursor"),g=u("./constants");te.exports=function(M){for(var S=M._fullLayout,E=S._rangeSliderData,A=0;A<E.length;A++){var z=E[A][g.name];z._clipId=z._id+"-"+S._uid}function H(X){return X._name}var Q=S._infolayer.selectAll("g."+g.containerClassName).data(E,H);Q.exit().each(function(X){var ie=X[g.name];S._topdefs.select("#"+ie._clipId).remove()}).remove(),E.length!==0&&(Q.enter().append("g").classed(g.containerClassName,!0).attr("pointer-events","all"),Q.each(function(X){var ie=i.select(this),R=X[g.name],O=S[v.id2name(X.anchor)],U=R[v.id2name(X.anchor)];if(R.range){var K=s.simpleMap(R.range,X.r2l),ee=s.simpleMap(X.range,X.r2l),ne;ee[0]<ee[1]?ne=[Math.min(K[0],ee[0]),Math.max(K[1],ee[1])]:ne=[Math.max(K[0],ee[0]),Math.min(K[1],ee[1])],R.range=R._input.range=s.simpleMap(ne,X.l2r)}X.cleanRange("rangeslider.range");var me=S._size,pe=X.domain;R._width=me.w*(pe[1]-pe[0]);var be=Math.round(me.l+me.w*pe[0]),ve=Math.round(me.t+me.h*(1-X._counterDomainMin)+(X.side==="bottom"?X._depth:0)+R._offsetShift+g.extraPad);ie.attr("transform",e(be,ve)),R._rl=s.simpleMap(R.range,X.r2l);var C=R._rl[0],I=R._rl[1],L=I-C;if(R.p2d=function(_e){return _e/R._width*L+C},R.d2p=function(_e){return(_e-C)/L*R._width},X.rangebreaks){var P=X.locateBreaks(C,I);if(P.length){var B,V,N=0;for(B=0;B<P.length;B++)V=P[B],N+=V.max-V.min;var Z=R._width/(I-C-N),W=[-Z*C];for(B=0;B<P.length;B++)V=P[B],W.push(W[W.length-1]-Z*(V.max-V.min));for(R.d2p=function(_e){for(var ge=W[0],Ae=0;Ae<P.length;Ae++){var Ce=P[Ae];if(_e>=Ce.max)ge=W[Ae+1];else if(_e<Ce.min)break}return ge+Z*_e},B=0;B<P.length;B++)V=P[B],V.pmin=R.d2p(V.min),V.pmax=R.d2p(V.max);R.p2d=function(_e){for(var ge=W[0],Ae=0;Ae<P.length;Ae++){var Ce=P[Ae];if(_e>=Ce.pmax)ge=W[Ae+1];else if(_e<Ce.pmin)break}return(_e-ge)/Z}}}if(U.rangemode!=="match"){var q=O.r2l(U.range[0]),re=O.r2l(U.range[1]),se=re-q;R.d2pOppAxis=function(_e){return(_e-q)/se*R._height}}ie.call(x,M,X,R).call(f,M,X,R).call(b,M,X,R).call(T,M,X,R,U).call(k,M,X,R).call(F,M,X,R),m(ie,M,X,R),y(ie,M,X,R,O,U),X.side==="bottom"&&a.draw(M,X._id+"title",{propContainer:X,propName:X._name+".title",placeholder:S._dfltTitle.x,attributes:{x:X._offset+X._length/2,y:ve+R._height+R._offsetShift+10+1.5*X.title.font.size,"text-anchor":"middle"}})}))};function m(M,S,E,A){if(S._context.staticPlot)return;var z=M.select("rect."+g.slideBoxClassName).node(),H=M.select("rect."+g.grabAreaMinClassName).node(),Q=M.select("rect."+g.grabAreaMaxClassName).node();function X(){var ie=i.event,R=ie.target,O=ie.clientX||ie.touches[0].clientX,U=O-M.node().getBoundingClientRect().left,K=A.d2p(E._rl[0]),ee=A.d2p(E._rl[1]),ne=p.coverSlip();this.addEventListener("touchmove",me),this.addEventListener("touchend",pe),ne.addEventListener("mousemove",me),ne.addEventListener("mouseup",pe);function me(be){var ve=be.clientX||be.touches[0].clientX,C=+ve-O,I,L,P;switch(R){case z:P="ew-resize",I=K+C,L=ee+C;break;case H:P="col-resize",I=K+C,L=ee;break;case Q:P="col-resize",I=K,L=ee+C;break;default:P="ew-resize",I=U,L=U+C;break}if(L<I){var B=L;L=I,I=B}A._pixelMin=I,A._pixelMax=L,h(i.select(ne),P),w(M,S,E,A)}function pe(){ne.removeEventListener("mousemove",me),ne.removeEventListener("mouseup",pe),this.removeEventListener("touchmove",me),this.removeEventListener("touchend",pe),s.removeElement(ne)}}M.on("mousedown",X),M.on("touchstart",X)}function w(M,S,E,A){function z(X){return E.l2r(s.constrain(X,A._rl[0],A._rl[1]))}var H=z(A.p2d(A._pixelMin)),Q=z(A.p2d(A._pixelMax));window.requestAnimationFrame(function(){n.call("_guiRelayout",S,E._name+".range",[H,Q])})}function y(M,S,E,A,z,H){var Q=g.handleWidth/2;function X(be){return s.constrain(be,0,A._width)}function ie(be){return s.constrain(be,0,A._height)}function R(be){return s.constrain(be,-Q,A._width+Q)}var O=X(A.d2p(E._rl[0])),U=X(A.d2p(E._rl[1]));if(M.select("rect."+g.slideBoxClassName).attr("x",O).attr("width",U-O),M.select("rect."+g.maskMinClassName).attr("width",O),M.select("rect."+g.maskMaxClassName).attr("x",U).attr("width",A._width-U),H.rangemode!=="match"){var K=A._height-ie(A.d2pOppAxis(z._rl[1])),ee=A._height-ie(A.d2pOppAxis(z._rl[0]));M.select("rect."+g.maskMinOppAxisClassName).attr("x",O).attr("height",K).attr("width",U-O),M.select("rect."+g.maskMaxOppAxisClassName).attr("x",O).attr("y",ee).attr("height",A._height-ee).attr("width",U-O),M.select("rect."+g.slideBoxClassName).attr("y",K).attr("height",ee-K)}var ne=.5,me=Math.round(R(O-Q))-ne,pe=Math.round(R(U-Q))+ne;M.select("g."+g.grabberMinClassName).attr("transform",e(me,ne)),M.select("g."+g.grabberMaxClassName).attr("transform",e(pe,ne))}function x(M,S,E,A){var z=s.ensureSingle(M,"rect",g.bgClassName,function(ie){ie.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),H=A.borderwidth%2===0?A.borderwidth:A.borderwidth-1,Q=-A._offsetShift,X=o.crispRound(S,A.borderwidth);z.attr({width:A._width+H,height:A._height+H,transform:e(Q,Q),"stroke-width":X}).call(l.stroke,A.bordercolor).call(l.fill,A.bgcolor)}function f(M,S,E,A){var z=S._fullLayout,H=s.ensureSingleById(z._topdefs,"clipPath",A._clipId,function(Q){Q.append("rect").attr({x:0,y:0})});H.select("rect").attr({width:A._width,height:A._height})}function b(M,S,E,A){var z=S.calcdata,H=M.selectAll("g."+g.rangePlotClassName).data(E._subplotsWith,s.identity);H.enter().append("g").attr("class",function(X){return g.rangePlotClassName+" "+X}).call(o.setClipUrl,A._clipId,S),H.order(),H.exit().remove();var Q;H.each(function(X,ie){var R=i.select(this),O=ie===0,U=v.getFromId(S,X,"y"),K=U._name,ee=A[K],ne={data:[],layout:{xaxis:{type:E.type,domain:[0,1],range:A.range.slice(),calendar:E.calendar},width:A._width,height:A._height,margin:{t:0,b:0,l:0,r:0}},_context:S._context};E.rangebreaks&&(ne.layout.xaxis.rangebreaks=E.rangebreaks),ne.layout[K]={type:U.type,domain:[0,1],range:ee.rangemode!=="match"?ee.range.slice():U.range.slice(),calendar:U.calendar},U.rangebreaks&&(ne.layout[K].rangebreaks=U.rangebreaks),c.supplyDefaults(ne);var me=ne._fullLayout.xaxis,pe=ne._fullLayout[K];me.clearCalc(),me.setScale(),pe.clearCalc(),pe.setScale();var be={id:X,plotgroup:R,xaxis:me,yaxis:pe,isRangePlot:!0};O?Q=be:(be.mainplot="xy",be.mainplotinfo=Q),t.rangePlot(S,be,d(z,X))})}function d(M,S){for(var E=[],A=0;A<M.length;A++){var z=M[A],H=z[0].trace;H.xaxis+H.yaxis===S&&E.push(z)}return E}function T(M,S,E,A,z){var H=s.ensureSingle(M,"rect",g.maskMinClassName,function(R){R.attr({x:0,y:0,"shape-rendering":"crispEdges"})});H.attr("height",A._height).call(l.fill,g.maskColor);var Q=s.ensureSingle(M,"rect",g.maskMaxClassName,function(R){R.attr({y:0,"shape-rendering":"crispEdges"})});if(Q.attr("height",A._height).call(l.fill,g.maskColor),z.rangemode!=="match"){var X=s.ensureSingle(M,"rect",g.maskMinOppAxisClassName,function(R){R.attr({y:0,"shape-rendering":"crispEdges"})});X.attr("width",A._width).call(l.fill,g.maskOppAxisColor);var ie=s.ensureSingle(M,"rect",g.maskMaxOppAxisClassName,function(R){R.attr({y:0,"shape-rendering":"crispEdges"})});ie.attr("width",A._width).style("border-top",g.maskOppBorder).call(l.fill,g.maskOppAxisColor)}}function k(M,S,E,A){if(!S._context.staticPlot){var z=s.ensureSingle(M,"rect",g.slideBoxClassName,function(H){H.attr({y:0,cursor:g.slideBoxCursor,"shape-rendering":"crispEdges"})});z.attr({height:A._height,fill:g.slideBoxFill})}}function F(M,S,E,A){var z=s.ensureSingle(M,"g",g.grabberMinClassName),H=s.ensureSingle(M,"g",g.grabberMaxClassName),Q={x:0,width:g.handleWidth,rx:g.handleRadius,fill:l.background,stroke:l.defaultLine,"stroke-width":g.handleStrokeWidth,"shape-rendering":"crispEdges"},X={y:Math.round(A._height/4),height:Math.round(A._height/2)},ie=s.ensureSingle(z,"rect",g.handleMinClassName,function(ee){ee.attr(Q)});ie.attr(X);var R=s.ensureSingle(H,"rect",g.handleMaxClassName,function(ee){ee.attr(Q)});R.attr(X);var O={width:g.grabAreaWidth,x:0,y:0,fill:g.grabAreaFill,cursor:S._context.staticPlot?void 0:g.grabAreaCursor},U=s.ensureSingle(z,"rect",g.grabAreaMinClassName,function(ee){ee.attr(O)});U.attr("height",A._height);var K=s.ensureSingle(H,"rect",g.grabAreaMaxClassName,function(ee){ee.attr(O)});K.attr("height",A._height)}},{"../../lib":244,"../../lib/setcursor":264,"../../plots/cartesian":303,"../../plots/cartesian/axis_ids":295,"../../plots/plots":325,"../../registry":327,"../color":103,"../dragelement":122,"../drawing":125,"../titles":212,"./constants":177,"@plotly/d3":11}],180:[function(u,te,Y){var i=u("../../plots/cartesian/axis_ids"),n=u("../../lib/svg_text_utils"),c=u("./constants"),s=u("../../constants/alignment").LINE_SPACING,e=c.name;function o(l){var a=l&&l[e];return a&&a.visible}Y.isVisible=o,Y.makeData=function(l){var a=i.list({_fullLayout:l},"x",!0),t=l.margin,v=[];if(!l._has("gl2d"))for(var p=0;p<a.length;p++){var h=a[p];if(o(h)){v.push(h);var g=h[e];g._id=e+h._id,g._height=(l.height-t.b-t.t)*g.thickness,g._offsetShift=Math.floor(g.borderwidth/2)}}l._rangeSliderData=v},Y.autoMarginOpts=function(l,a){var t=l._fullLayout,v=a[e],p=a._id.charAt(0),h=0,g=0;if(a.side==="bottom"&&(h=a._depth,a.title.text!==t._dfltTitle[p])){g=1.5*a.title.font.size+10+v._offsetShift;var m=(a.title.text.match(n.BR_TAG_ALL)||[]).length;g+=m*a.title.font.size*s}return{x:0,y:a._counterDomainMin,l:0,r:0,t:0,b:v._height+h+Math.max(t.margin.b,g),pad:c.extraPad+v._offsetShift*2}}},{"../../constants/alignment":219,"../../lib/svg_text_utils":267,"../../plots/cartesian/axis_ids":295,"./constants":177}],181:[function(u,te,Y){var i=u("../../lib"),n=u("./attributes"),c=u("./oppaxis_attributes"),s=u("./helpers");te.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:i.extendFlat({},n,{yaxis:c})}}},layoutAttributes:u("./attributes"),handleDefaults:u("./defaults"),calcAutorange:u("./calc_autorange"),draw:u("./draw"),isVisible:s.isVisible,makeData:s.makeData,autoMarginOpts:s.autoMarginOpts}},{"../../lib":244,"./attributes":175,"./calc_autorange":176,"./defaults":178,"./draw":179,"./helpers":180,"./oppaxis_attributes":182}],182:[function(u,te,Y){te.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],183:[function(u,te,Y){var i=u("../annotations/attributes"),n=u("../../traces/scatter/attributes").line,c=u("../drawing/attributes").dash,s=u("../../lib/extend").extendFlat,e=u("../../plot_api/edit_types").overrideAll,o=u("../../plot_api/plot_template").templatedArray;u("../../constants/axis_placeable_objects"),te.exports=e(o("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:s({},i.xref,{}),yref:s({},i.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:n.color,width:s({},n.width,{min:1,dflt:1}),dash:s({},c,{dflt:"dot"})}}),"arraydraw","from-root")},{"../../constants/axis_placeable_objects":220,"../../lib/extend":238,"../../plot_api/edit_types":273,"../../plot_api/plot_template":280,"../../traces/scatter/attributes":367,"../annotations/attributes":86,"../drawing/attributes":124}],184:[function(u,te,Y){te.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},{}],185:[function(u,te,Y){var i=u("../../lib"),n=u("../../plots/cartesian/axes"),c=u("../../plots/array_container_defaults"),s=u("./attributes"),e=u("../shapes/helpers");te.exports=function(a,t){c(a,t,{name:"selections",handleItemDefaults:o});for(var v=t.selections,p=0;p<v.length;p++){var h=v[p];!h||h.path===void 0&&(h.x0===void 0||h.x1===void 0||h.y0===void 0||h.y1===void 0)&&(t.selections[p]=null)}};function o(l,a,t){function v(H,Q){return i.coerce(l,a,s,H,Q)}var p=v("path"),h=p?"path":"rect",g=v("type",h),m=g!=="path";m&&delete a.path,v("opacity"),v("line.color"),v("line.width"),v("line.dash");for(var w=["x","y"],y=0;y<2;y++){var x=w[y],f={_fullLayout:t},b,d,T,k=n.coerceRef(l,a,f,x);if(b=n.getFromId(f,k),b._selectionIndices.push(a._index),T=e.rangeToShapePosition(b),d=e.shapePositionToRange(b),m){var F=x+"0",M=x+"1",S=l[F],E=l[M];l[F]=d(l[F],!0),l[M]=d(l[M],!0),n.coercePosition(a,f,v,k,F),n.coercePosition(a,f,v,k,M);var A=a[F],z=a[M];A!==void 0&&z!==void 0&&(a[F]=T(A),a[M]=T(z),l[F]=S,l[M]=E)}}m&&i.noneOrAll(l,a,["x0","x1","y0","y1"])}},{"../../lib":244,"../../plots/array_container_defaults":286,"../../plots/cartesian/axes":291,"../shapes/helpers":205,"./attributes":183}],186:[function(u,te,Y){var i=u("../shapes/draw_newshape/helpers").readPaths,n=u("../shapes/display_outlines"),c=u("../shapes/handle_outline").clearOutlineControllers,s=u("../color"),e=u("../drawing"),o=u("../../plot_api/plot_template").arrayEditor,l=u("../shapes/helpers"),a=l.getPathString;te.exports={draw:t,drawOne:p,activateLastSelection:m};function t(y){var x=y._fullLayout;c(y),x._selectionLayer.selectAll("path").remove();for(var f in x._plots){var b=x._plots[f].selectionLayer;b&&b.selectAll("path").remove()}for(var d=0;d<x.selections.length;d++)p(y,d)}function v(y){return y._context.editSelection}function p(y,x){y._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+x+'"]').remove();var f=l.makeSelectionsOptionsAndPlotinfo(y,x),b=f.options,d=f.plotinfo;if(!b._input)return;T(y._fullLayout._selectionLayer);function T(k){var F=a(y,b),M={"data-index":x,"fill-rule":"evenodd",d:F},S=b.opacity,E="rgba(0,0,0,0)",A=b.line.color||s.contrast(y._fullLayout.plot_bgcolor),z=b.line.width,H=b.line.dash;z||(z=5,H="solid");var Q=v(y)&&y._fullLayout._activeSelectionIndex===x;Q&&(E=y._fullLayout.activeselection.fillcolor,S=y._fullLayout.activeselection.opacity);for(var X=[],ie=1;ie>=0;ie--){var R=k.append("path").attr(M).style("opacity",ie?.1:S).call(s.stroke,A).call(s.fill,E).call(e.dashLine,ie?"solid":H,ie?4+z:z);if(h(R,y,b),Q){var O=o(y.layout,"selections",b);R.style({cursor:"move"});var U={element:R.node(),plotinfo:d,gd:y,editHelpers:O,isActiveSelection:!0},K=i(F,y);n(K,R,U)}else R.style("pointer-events",ie?"all":"none");X[ie]=R}var ee=X[0],ne=X[1];ne.node().addEventListener("click",function(){return g(y,ee)})}}function h(y,x,f){var b=f.xref+f.yref;e.setClipUrl(y,"clip"+x._fullLayout._uid+b,x)}function g(y,x){if(!!v(y)){var f=x.node(),b=+f.getAttribute("data-index");if(b>=0){if(b===y._fullLayout._activeSelectionIndex){w(y);return}y._fullLayout._activeSelectionIndex=b,y._fullLayout._deactivateSelection=w,t(y)}}}function m(y){if(!!v(y)){var x=y._fullLayout.selections.length-1;y._fullLayout._activeSelectionIndex=x,y._fullLayout._deactivateSelection=w,t(y)}}function w(y){if(!!v(y)){var x=y._fullLayout._activeSelectionIndex;x>=0&&(c(y),delete y._fullLayout._activeSelectionIndex,t(y))}}},{"../../plot_api/plot_template":280,"../color":103,"../drawing":125,"../shapes/display_outlines":197,"../shapes/draw_newshape/helpers":202,"../shapes/handle_outline":204,"../shapes/helpers":205}],187:[function(u,te,Y){var i=u("../../drawing/attributes").dash,n=u("../../../lib/extend").extendFlat;te.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:n({},i,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":238,"../../drawing/attributes":124}],188:[function(u,te,Y){te.exports=function(n,c,s){s("newselection.mode");var e=s("newselection.line.width");e&&(s("newselection.line.color"),s("newselection.line.dash")),s("activeselection.fillcolor"),s("activeselection.opacity")}},{}],189:[function(u,te,Y){var i=u("../../dragelement/helpers"),n=i.selectMode,c=u("../../shapes/handle_outline"),s=c.clearOutline,e=u("../../shapes/draw_newshape/helpers"),o=e.readPaths,l=e.writePaths,a=e.fixDatesForPaths;te.exports=function(v,p){if(!!v.length){var h=v[0][0];if(!!h){var g=h.getAttribute("d"),m=p.gd,w=m._fullLayout.newselection,y=p.plotinfo,x=y.xaxis,f=y.yaxis,b=p.isActiveSelection,d=p.dragmode,T=(m.layout||{}).selections||[];if(!n(d)&&b!==void 0){var k=m._fullLayout._activeSelectionIndex;if(k<T.length)switch(m._fullLayout.selections[k].type){case"rect":d="select";break;case"path":d="lasso";break}}var F=o(g,m,y,b),M={xref:x._id,yref:f._id,opacity:w.opacity,line:{color:w.line.color,width:w.line.width,dash:w.line.dash}},S;F.length===1&&(S=F[0]),S&&S.length===5&&d==="select"?(M.type="rect",M.x0=S[0][1],M.y0=S[0][2],M.x1=S[2][1],M.y1=S[2][2]):(M.type="path",x&&f&&a(F,x,f),M.path=l(F),S=null),s(m);for(var E=p.editHelpers,A=(E||{}).modifyItem,z=[],H=0;H<T.length;H++){var Q=m._fullLayout.selections[H];if(!Q){z[H]=Q;continue}if(z[H]=Q._input,b!==void 0&&H===m._fullLayout._activeSelectionIndex){var X=M;switch(Q.type){case"rect":A("x0",X.x0),A("x1",X.x1),A("y0",X.y0),A("y1",X.y1);break;case"path":A("path",X.path);break}}}return b===void 0?(z.push(M),z):E?E.getUpdateObj():{}}}}},{"../../dragelement/helpers":121,"../../shapes/draw_newshape/helpers":202,"../../shapes/handle_outline":204}],190:[function(u,te,Y){var i=u("../../lib").strTranslate;function n(o,l){switch(o.type){case"log":return o.p2d(l);case"date":return o.p2r(l,0,o.calendar);default:return o.p2r(l)}}function c(o,l){switch(o.type){case"log":return o.d2p(l);case"date":return o.r2p(l,0,o.calendar);default:return o.r2p(l)}}function s(o){var l=o._id.charAt(0)==="y"?1:0;return function(a){return n(o,a[l])}}function e(o){return i(o.xaxis._offset,o.yaxis._offset)}te.exports={p2r:n,r2p:c,axValue:s,getTransform:e}},{"../../lib":244}],191:[function(u,te,Y){var i=u("./draw"),n=u("./select");te.exports={moduleType:"component",name:"selections",layoutAttributes:u("./attributes"),supplyLayoutDefaults:u("./defaults"),supplyDrawNewSelectionDefaults:u("./draw_newselection/defaults"),includeBasePlot:u("../../plots/cartesian/include_components")("selections"),draw:i.draw,drawOne:i.drawOne,reselect:n.reselect,prepSelect:n.prepSelect,clearOutline:n.clearOutline,clearSelectionsCache:n.clearSelectionsCache,selectOnClick:n.selectOnClick}},{"../../plots/cartesian/include_components":302,"./attributes":183,"./defaults":185,"./draw":186,"./draw_newselection/defaults":188,"./select":192}],192:[function(u,te,Y){var i=u("polybooljs"),n=u("point-in-polygon/nested"),c=u("../../registry"),s=u("../drawing").dashStyle,e=u("../color"),o=u("../fx"),l=u("../fx/helpers").makeEventData,a=u("../dragelement/helpers"),t=a.freeMode,v=a.rectMode,p=a.drawMode,h=a.openMode,g=a.selectMode,m=u("../shapes/helpers"),w=u("../shapes/constants"),y=u("../shapes/display_outlines"),x=u("../shapes/handle_outline").clearOutline,f=u("../shapes/draw_newshape/helpers"),b=f.handleEllipse,d=f.readPaths,T=u("../shapes/draw_newshape/newshapes"),k=u("./draw_newselection/newselections"),F=u("./draw").activateLastSelection,M=u("../../lib"),S=M.sorterAsc,E=u("../../lib/polygon"),A=u("../../lib/throttle"),z=u("../../plots/cartesian/axis_ids").getFromId,H=u("../../lib/clear_gl_canvases"),Q=u("../../plot_api/subroutines").redrawReglTraces,X=u("./constants"),ie=X.MINSELECT,R=E.filter,O=E.tester,U=u("./helpers"),K=U.p2r,ee=U.axValue,ne=U.getTransform;function me(de){return de.subplot!==void 0}function pe(de,Re,ze,ae,xe){var Te=!me(ae),Me=t(xe),Je=v(xe),Ve=h(xe),Ge=p(xe),Ke=g(xe),Qe=xe==="drawline",Ie=xe==="drawcircle",ft=Qe||Ie,vt=ae.gd,pt=vt._fullLayout,Ot=Ke&&pt.newselection.mode==="immediate"&&Te,Gt=pt._zoomlayer,Wt=ae.element.getBoundingClientRect(),It=ae.plotinfo,Qt=ne(It),Nt=Re-Wt.left,Et=ze-Wt.top;pt._calcInverseTransform(vt);var Xt=M.apply3DTransform(pt._invTransform)(Nt,Et);Nt=Xt[0],Et=Xt[1];var Tt=pt._invScaleX,Yt=pt._invScaleY,Bt=Nt,At=Et,Vt="M"+Nt+","+Et,tr=ae.xaxes[0],oe=ae.yaxes[0],$=tr._length,Ee=oe._length,Ne=de.altKey&&!(p(xe)&&Ve),He,Ze,Ue,Be,it,mt,Mt;P(de,vt,ae),Me&&(He=R([[Nt,Et]],X.BENDPX));var at=Gt.selectAll("path.select-outline-"+It.id).data([1]),st=Ge?pt.newshape:pt.newselection,kt=Ge&&!Ve?st.fillcolor:"rgba(0,0,0,0)",xt=st.line.color||(Te?e.contrast(vt._fullLayout.plot_bgcolor):"#7f7f7f");at.enter().append("path").attr("class","select-outline select-outline-"+It.id).style({opacity:Ge?st.opacity/2:1,"stroke-dasharray":s(st.line.dash,st.line.width),"stroke-width":st.line.width+"px","shape-rendering":"crispEdges"}).call(e.stroke,xt).call(e.fill,kt).attr("fill-rule","evenodd").classed("cursor-move",!!Ge).attr("transform",Qt).attr("d",Vt+"Z");var lt=Gt.append("path").attr("class","zoombox-corners").style({fill:e.background,stroke:e.defaultLine,"stroke-width":1}).attr("transform",Qt).attr("d","M0,0Z"),wt=pt._uid+X.SELECTID,Ct=[],_t=W(vt,ae.xaxes,ae.yaxes,ae.subplot);Ot&&!de.shiftKey&&(ae._clearSubplotSelections=function(){if(!!Te){var Ft=tr._id,Ht=oe._id;et(vt,Ft,Ht,_t);for(var St=(vt.layout||{}).selections||[],er=[],jt=!1,Ut=0;Ut<St.length;Ut++){var qt=pt.selections[Ut];qt.xref!==Ft||qt.yref!==Ht?er.push(St[Ut]):jt=!0}jt&&(vt._fullLayout._noEmitSelectedAtStart=!0,c.call("_guiRelayout",vt,{selections:er}))}});var Pt=je(ae);ae.moveFn=function(Ft,Ht){ae._clearSubplotSelections&&(ae._clearSubplotSelections(),ae._clearSubplotSelections=void 0),Bt=Math.max(0,Math.min($,Tt*Ft+Nt)),At=Math.max(0,Math.min(Ee,Yt*Ht+Et));var St=Math.abs(Bt-Nt),er=Math.abs(At-Et);if(Je){var jt,Ut,qt;if(Ke){var ir=pt.selectdirection;switch(ir==="any"?er<Math.min(St*.6,ie)?jt="h":St<Math.min(er*.6,ie)?jt="v":jt="d":jt=ir,jt){case"h":Ut=Ie?Ee/2:0,qt=Ee;break;case"v":Ut=Ie?$/2:0,qt=$;break}}if(Ge)switch(pt.newshape.drawdirection){case"vertical":jt="h",Ut=Ie?Ee/2:0,qt=Ee;break;case"horizontal":jt="v",Ut=Ie?$/2:0,qt=$;break;case"ortho":St<er?(jt="h",Ut=Et,qt=At):(jt="v",Ut=Nt,qt=Bt);break;default:jt="d"}jt==="h"?(Be=ft?b(Ie,[Bt,Ut],[Bt,qt]):[[Nt,Ut],[Nt,qt],[Bt,qt],[Bt,Ut]],Be.xmin=ft?Bt:Math.min(Nt,Bt),Be.xmax=ft?Bt:Math.max(Nt,Bt),Be.ymin=Math.min(Ut,qt),Be.ymax=Math.max(Ut,qt),lt.attr("d","M"+Be.xmin+","+(Et-ie)+"h-4v"+2*ie+"h4ZM"+(Be.xmax-1)+","+(Et-ie)+"h4v"+2*ie+"h-4Z")):jt==="v"?(Be=ft?b(Ie,[Ut,At],[qt,At]):[[Ut,Et],[Ut,At],[qt,At],[qt,Et]],Be.xmin=Math.min(Ut,qt),Be.xmax=Math.max(Ut,qt),Be.ymin=ft?At:Math.min(Et,At),Be.ymax=ft?At:Math.max(Et,At),lt.attr("d","M"+(Nt-ie)+","+Be.ymin+"v-4h"+2*ie+"v4ZM"+(Nt-ie)+","+(Be.ymax-1)+"v4h"+2*ie+"v-4Z")):jt==="d"&&(Be=ft?b(Ie,[Nt,Et],[Bt,At]):[[Nt,Et],[Nt,At],[Bt,At],[Bt,Et]],Be.xmin=Math.min(Nt,Bt),Be.xmax=Math.max(Nt,Bt),Be.ymin=Math.min(Et,At),Be.ymax=Math.max(Et,At),lt.attr("d","M0,0Z"))}else Me&&(He.addPt([Bt,At]),Be=He.filtered);if(ae.selectionDefs&&ae.selectionDefs.length?(Ue=he(ae.mergedPolygons,Be,Ne),Be.subtract=Ne,Ze=L(ae.selectionDefs.concat([Be]))):(Ue=[Be],Ze=O(Be)),y(ke(Ue,Ve),at,ae),Ke){var rr=fe(vt,!1),lr=rr.eventData?rr.eventData.points.slice():[];rr=fe(vt,!1,Ze,_t,ae),Ze=rr.selectionTesters,Mt=rr.eventData;var vr;He?vr=He.filtered:vr=yt(Ue),A.throttle(wt,X.SELECTDELAY,function(){Ct=Pe(Ze,_t);for(var hr=Ct.slice(),gr=0;gr<lr.length;gr++){for(var mr=lr[gr],br=!1,Sr=0;Sr<hr.length;Sr++)if(hr[Sr].curveNumber===mr.curveNumber&&hr[Sr].pointNumber===mr.pointNumber){br=!0;break}br||hr.push(mr)}hr.length&&(Mt||(Mt={}),Mt.points=hr),Pt(Mt,vr),ct(vt,Mt)})}},ae.clickFn=function(Ft,Ht){if(lt.remove(),vt._fullLayout._activeShapeIndex>=0){vt._fullLayout._deactivateShape(vt);return}if(!Ge){var St=pt.clickmode;A.done(wt).then(function(){if(A.clear(wt),Ft===2){for(at.remove(),it=0;it<_t.length;it++)mt=_t[it],mt._module.selectPoints(mt,!1);if(Ce(vt,_t),N(ae),Lt(vt),_t.length){var er=_t[0].xaxis,jt=_t[0].yaxis;if(er&&jt){for(var Ut=[],qt=vt._fullLayout.selections,ir=0;ir<qt.length;ir++){var rr=qt[ir];!rr||(rr.xref!==er._id||rr.yref!==jt._id)&&Ut.push(rr)}Ut.length<qt.length&&(vt._fullLayout._noEmitSelectedAtStart=!0,c.call("_guiRelayout",vt,{selections:Ut}))}}}else St.indexOf("select")>-1&&be(Ht,vt,ae.xaxes,ae.yaxes,ae.subplot,ae,at),St==="event"&&Dt(vt,void 0);o.click(vt,Ht)}).catch(M.error)}},ae.doneFn=function(){lt.remove(),A.done(wt).then(function(){A.clear(wt),!Ot&&Be&&ae.selectionDefs&&(Be.subtract=Ne,ae.selectionDefs.push(Be),ae.mergedPolygons.length=0,[].push.apply(ae.mergedPolygons,Ue)),(Ot||Ge)&&N(ae,Ot),ae.doneFnCompleted&&ae.doneFnCompleted(Ct),Ke&&Dt(vt,Mt)}).catch(M.error)}}function be(de,Re,ze,ae,xe,Te,Me){var Je=Re._hoverdata,Ve=Re._fullLayout,Ge=Ve.clickmode,Ke=Ge.indexOf("event")>-1,Qe=[],Ie,ft,vt,pt,Ot,Gt,Wt,It,Qt,Nt;if(re(Je)){P(de,Re,Te),Ie=W(Re,ze,ae,xe);var Et=se(Je,Ie),Xt=Et.pointNumbers.length>0;if(Xt?ge(Ie,Et):Ae(Ie)&&(Wt=_e(Et))){for(Me&&Me.remove(),Nt=0;Nt<Ie.length;Nt++)ft=Ie[Nt],ft._module.selectPoints(ft,!1);Ce(Re,Ie),N(Te),Ke&&Lt(Re)}else{It=de.shiftKey&&(Wt!==void 0?Wt:_e(Et)),vt=ve(Et.pointNumber,Et.searchInfo,It);var Tt=Te.selectionDefs.concat([vt]);for(pt=L(Tt),Nt=0;Nt<Ie.length;Nt++)if(Ot=Ie[Nt]._module.selectPoints(Ie[Nt],pt),Gt=we(Ot,Ie[Nt]),Qe.length)for(var Yt=0;Yt<Gt.length;Yt++)Qe.push(Gt[Yt]);else Qe=Gt;if(Qt={points:Qe},Ce(Re,Ie,Qt),vt&&Te&&Te.selectionDefs.push(vt),Me){var Bt=Te.mergedPolygons,At=h(Te.dragmode);y(ke(Bt,At),Me,Te)}Ke&&Dt(Re,Qt)}}}function ve(de,Re,ze){return{pointNumber:de,searchInfo:Re,subtract:!!ze}}function C(de){return"pointNumber"in de&&"searchInfo"in de}function I(de){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Re,ze,ae,xe){var Te=de.searchInfo.cd[0].trace._expandedIndex,Me=xe.cd[0].trace._expandedIndex;return Me===Te&&ae===de.pointNumber},isRect:!1,degenerate:!1,subtract:!!de.subtract}}function L(de){if(!de.length)return;for(var Re=[],ze=C(de[0])?0:de[0][0][0],ae=ze,xe=C(de[0])?0:de[0][0][1],Te=xe,Me=0;Me<de.length;Me++)if(C(de[Me]))Re.push(I(de[Me]));else{var Je=O(de[Me]);Je.subtract=!!de[Me].subtract,Re.push(Je),ze=Math.min(ze,Je.xmin),ae=Math.max(ae,Je.xmax),xe=Math.min(xe,Je.ymin),Te=Math.max(Te,Je.ymax)}function Ve(Ge,Ke,Qe,Ie){for(var ft=!1,vt=0;vt<Re.length;vt++)Re[vt].contains(Ge,Ke,Qe,Ie)&&(ft=!Re[vt].subtract);return ft}return{xmin:ze,xmax:ae,ymin:xe,ymax:Te,pts:[],contains:Ve,isRect:!1,degenerate:!1}}function P(de,Re,ze){var ae=Re._fullLayout,xe=ze.plotinfo,Te=ze.dragmode,Me=ae._lastSelectedSubplot&&ae._lastSelectedSubplot===xe.id,Je=(de.shiftKey||de.altKey)&&!(p(Te)&&h(Te));Me&&Je&&xe.selection&&xe.selection.selectionDefs&&!ze.selectionDefs?(ze.selectionDefs=xe.selection.selectionDefs,ze.mergedPolygons=xe.selection.mergedPolygons):(!Je||!xe.selection)&&N(ze),Me||(x(Re),ae._lastSelectedSubplot=xe.id)}function B(de){return de._fullLayout._activeShapeIndex>=0}function V(de){return de._fullLayout._activeSelectionIndex>=0}function N(de,Re){var ze=de.dragmode,ae=de.plotinfo,xe=de.gd;B(xe)&&xe._fullLayout._deactivateShape(xe),V(xe)&&xe._fullLayout._deactivateSelection(xe);var Te=xe._fullLayout,Me=Te._zoomlayer,Je=p(ze),Ve=g(ze);if(Je||Ve){var Ge=Me.selectAll(".select-outline-"+ae.id);if(Ge&&xe._fullLayout._outlining){var Ke;Je&&(Ke=T(Ge,de)),Ke&&c.call("_guiRelayout",xe,{shapes:Ke});var Qe;Ve&&!me(de)&&(Qe=k(Ge,de)),Qe&&(xe._fullLayout._noEmitSelectedAtStart=!0,c.call("_guiRelayout",xe,{selections:Qe}).then(function(){Re&&F(xe)})),xe._fullLayout._outlining=!1}}ae.selection={},ae.selection.selectionDefs=de.selectionDefs=[],ae.selection.mergedPolygons=de.mergedPolygons=[]}function Z(de){return de._id}function W(de,Re,ze,ae){if(!de.calcdata)return[];var xe=[],Te=Re.map(Z),Me=ze.map(Z),Je,Ve,Ge;for(Ge=0;Ge<de.calcdata.length;Ge++)if(Je=de.calcdata[Ge],Ve=Je[0].trace,!(Ve.visible!==!0||!Ve._module||!Ve._module.selectPoints))if(me({subplot:ae})&&(Ve.subplot===ae||Ve.geo===ae))xe.push(q(Ve._module,Je,Re[0],ze[0]));else if(Ve.type==="splom"){if(Ve._xaxes[Te[0]]&&Ve._yaxes[Me[0]]){var Ke=q(Ve._module,Je,Re[0],ze[0]);Ke.scene=de._fullLayout._splomScenes[Ve.uid],xe.push(Ke)}}else if(Ve.type==="sankey"){var Qe=q(Ve._module,Je,Re[0],ze[0]);xe.push(Qe)}else{if(Te.indexOf(Ve.xaxis)===-1||Me.indexOf(Ve.yaxis)===-1)continue;xe.push(q(Ve._module,Je,z(de,Ve.xaxis),z(de,Ve.yaxis)))}return xe}function q(de,Re,ze,ae){return{_module:de,cd:Re,xaxis:ze,yaxis:ae}}function re(de){return de&&Array.isArray(de)&&de[0].hoverOnBox!==!0}function se(de,Re){var ze=de[0],ae=-1,xe=[],Te,Me;for(Me=0;Me<Re.length;Me++)if(Te=Re[Me],ze.fullData._expandedIndex===Te.cd[0].trace._expandedIndex){if(ze.hoverOnBox===!0)break;ze.pointNumber!==void 0?ae=ze.pointNumber:ze.binNumber!==void 0&&(ae=ze.binNumber,xe=ze.pointNumbers);break}return{pointNumber:ae,pointNumbers:xe,searchInfo:Te}}function _e(de){var Re=de.searchInfo.cd[0].trace,ze=de.pointNumber,ae=de.pointNumbers,xe=ae.length>0,Te=xe?ae[0]:ze;return Re.selectedpoints?Re.selectedpoints.indexOf(Te)>-1:!1}function ge(de,Re){var ze=[],ae,xe,Te,Me;for(Me=0;Me<de.length;Me++)ae=de[Me],ae.cd[0].trace.selectedpoints&&ae.cd[0].trace.selectedpoints.length>0&&ze.push(ae);if(ze.length===1&&(Te=ze[0]===Re.searchInfo,Te&&(xe=Re.searchInfo.cd[0].trace,xe.selectedpoints.length===Re.pointNumbers.length))){for(Me=0;Me<Re.pointNumbers.length;Me++)if(xe.selectedpoints.indexOf(Re.pointNumbers[Me])<0)return!1;return!0}return!1}function Ae(de){var Re=0,ze,ae,xe;for(xe=0;xe<de.length;xe++)if(ze=de[xe],ae=ze.cd[0].trace,ae.selectedpoints&&(ae.selectedpoints.length>1||(Re+=ae.selectedpoints.length,Re>1)))return!1;return Re===1}function Ce(de,Re,ze){var ae;for(ae=0;ae<Re.length;ae++){var xe=Re[ae].cd[0].trace._fullInput,Te=de._fullLayout._tracePreGUI[xe.uid]||{};Te.selectedpoints===void 0&&(Te.selectedpoints=xe._input.selectedpoints||null)}var Me;if(ze){var Je=ze.points||[];for(ae=0;ae<Re.length;ae++)Me=Re[ae].cd[0].trace,Me._input.selectedpoints=Me._fullInput.selectedpoints=[],Me._fullInput!==Me&&(Me.selectedpoints=[]);for(var Ve=0;Ve<Je.length;Ve++){var Ge=Je[Ve],Ke=Ge.data,Qe=Ge.fullData,Ie=Ge.pointIndex,ft=Ge.pointIndices;ft?([].push.apply(Ke.selectedpoints,ft),Me._fullInput!==Me&&[].push.apply(Qe.selectedpoints,ft)):(Ke.selectedpoints.push(Ie),Me._fullInput!==Me&&Qe.selectedpoints.push(Ie))}}else for(ae=0;ae<Re.length;ae++)Me=Re[ae].cd[0].trace,delete Me.selectedpoints,delete Me._input.selectedpoints,Me._fullInput!==Me&&delete Me._fullInput.selectedpoints;ue(de,Re)}function ue(de,Re){for(var ze=!1,ae=0;ae<Re.length;ae++){var xe=Re[ae],Te=xe.cd;c.traceIs(Te[0].trace,"regl")&&(ze=!0);var Me=xe._module,Je=Me.styleOnSelect||Me.style;Je&&(Je(de,Te,Te[0].node3),Te[0].nodeRangePlot3&&Je(de,Te,Te[0].nodeRangePlot3))}ze&&(H(de),Q(de))}function he(de,Re,ze){for(var ae=ze?i.difference:i.union,xe=ae({regions:de},{regions:[Re]}),Te=xe.regions.reverse(),Me=0;Me<Te.length;Me++){var Je=Te[Me];Je.subtract=rt(Je,Te.slice(0,Me))}return Te}function we(de,Re){if(Array.isArray(de))for(var ze=Re.cd,ae=Re.cd[0].trace,xe=0;xe<de.length;xe++)de[xe]=l(de[xe],ae,ze);return de}function ke(de,Re){for(var ze=[],ae=0;ae<de.length;ae++){ze[ae]=[];for(var xe=0;xe<de[ae].length;xe++){ze[ae][xe]=[],ze[ae][xe][0]=xe?"L":"M";for(var Te=0;Te<de[ae][xe].length;Te++)ze[ae][xe].push(de[ae][xe][Te])}Re||ze[ae].push(["Z",ze[ae][0][1],ze[ae][0][2]])}return ze}function Pe(de,Re){for(var ze=[],ae,xe,Te=0;Te<Re.length;Te++){var Me=Re[Te];xe=Me._module.selectPoints(Me,de),ae=we(xe,Me),ze=ze.concat(ae)}return ze}function fe(de,Re,ze,ae,xe){var Te=!!ae,Me,Je,Ve;xe&&(Me=xe.plotinfo,Je=xe.xaxes[0]._id,Ve=xe.yaxes[0]._id);var Ge=[],Ke=[],Qe=qe(de),Ie=de._fullLayout;if(Me){var ft=Ie._zoomlayer,vt=Ie.dragmode,pt=p(vt),Ot=g(vt);if(pt||Ot){var Gt=z(de,Je,"x"),Wt=z(de,Ve,"y");if(Gt&&Wt){var It=ft.selectAll(".select-outline-"+Me.id);if(It&&de._fullLayout._outlining&&It.length){for(var Qt=It[0][0],Nt=Qt.getAttribute("d"),Et=d(Nt,de,Me),Xt=[],Tt=0;Tt<Et.length;Tt++){for(var Yt=Et[Tt],Bt=[],At=0;At<Yt.length;At++)Bt.push([ut(Gt,Yt[At][1]),ut(Wt,Yt[At][2])]);Bt.xref=Je,Bt.yref=Ve,Bt.subtract=rt(Bt,Xt),Xt.push(Bt)}Qe=Qe.concat(Xt)}}}}var Vt=Je&&Ve?[Je+Ve]:Ie._subplots.cartesian;De(de);for(var tr={},oe=0;oe<Vt.length;oe++){var $=Vt[oe],Ee=$.indexOf("y"),Ne=$.slice(0,Ee),He=$.slice(Ee),Ze=Je&&Ve?ze:void 0;if(Ze=Xe(Qe,Ne,He,Ze),Ze){var Ue=ae;if(!Te){var Be=z(de,Ne,"x"),it=z(de,He,"y");Ue=W(de,[Be],[it],$);for(var mt=0;mt<Ue.length;mt++){var Mt=Ue[mt],at=Mt.cd[0],st=at.trace;if(Mt._module.name==="scattergl"&&!at.t.xpx){var kt=st.x,xt=st.y,lt=st._length;at.t.xpx=[],at.t.ypx=[];for(var wt=0;wt<lt;wt++)at.t.xpx[wt]=Be.c2p(kt[wt]),at.t.ypx[wt]=it.c2p(xt[wt])}Mt._module.name==="splom"&&(tr[st.uid]||(tr[st.uid]=!0))}}var Ct=Pe(Ze,Ue);Ge=Ge.concat(Ct),Ke=Ke.concat(Ue)}}var _t={points:Ge};Ce(de,Ke,_t);var Pt=Ie.clickmode,Ft=Pt.indexOf("event")>-1&&Re;if(!Me&&Re){var Ht=qe(de,!0);if(Ht.length){var St=Ht[0].xref,er=Ht[0].yref;if(St&&er){var jt=yt(Ht),Ut=bt([z(de,St,"x"),z(de,er,"y")]);Ut(_t,jt)}}de._fullLayout._noEmitSelectedAtStart?de._fullLayout._noEmitSelectedAtStart=!1:Ft&&Dt(de,_t),Ie._reselect=!1}if(!Me&&Ie._deselect){var qt=Ie._deselect;Je=qt.xref,Ve=qt.yref,Fe(Je,Ve,Ke)||et(de,Je,Ve,ae),Ft&&(_t.points.length?Dt(de,_t):Lt(de)),Ie._deselect=!1}return{eventData:_t,selectionTesters:ze}}function De(de){var Re=de.calcdata;if(!!Re)for(var ze=0;ze<Re.length;ze++){var ae=Re[ze][0],xe=ae.trace,Te=de._fullLayout._splomScenes;if(Te){var Me=Te[xe.uid];Me&&(Me.selectBatch=[])}}}function Fe(de,Re,ze){for(var ae=0;ae<ze.length;ae++){var xe=ze[ae];if(xe.xaxis&&xe.xaxis._id===de&&xe.yaxis&&xe.yaxis._id===Re)return!0}return!1}function et(de,Re,ze,ae){ae=W(de,[z(de,Re,"x")],[z(de,ze,"y")],Re+ze);for(var xe=0;xe<ae.length;xe++){var Te=ae[xe];Te._module.selectPoints(Te,!1)}Ce(de,ae)}function Xe(de,Re,ze,ae){for(var xe,Te=0;Te<de.length;Te++){var Me=de[Te];if(!(Re!==Me.xref||ze!==Me.yref))if(xe){var Je=!!Me.subtract;xe=he(xe,Me,Je),ae=L(xe)}else xe=[Me],ae=O(Me)}return ae}function qe(de,Re){for(var ze=[],ae=de._fullLayout,xe=ae.selections,Te=xe.length,Me=0;Me<Te;Me++)if(!(Re&&Me!==ae._activeSelectionIndex)){var Je=xe[Me];if(!!Je){var Ve=Je.xref,Ge=Je.yref,Ke=z(de,Ve,"x"),Qe=z(de,Ge,"y"),Ie,ft,vt,pt,Ot;if(Je.type==="rect"){Ot=[];var Gt=ut(Ke,Je.x0),Wt=ut(Ke,Je.x1),It=ut(Qe,Je.y0),Qt=ut(Qe,Je.y1);Ot=[[Gt,It],[Gt,Qt],[Wt,Qt],[Wt,It]],Ie=Math.min(Gt,Wt),ft=Math.max(Gt,Wt),vt=Math.min(It,Qt),pt=Math.max(It,Qt),Ot.xmin=Ie,Ot.xmax=ft,Ot.ymin=vt,Ot.ymax=pt,Ot.xref=Ve,Ot.yref=Ge,Ot.subtract=!1,Ot.isRect=!0,ze.push(Ot)}else if(Je.type==="path")for(var Nt=Je.path.split("Z"),Et=[],Xt=0;Xt<Nt.length;Xt++){var Tt=Nt[Xt];if(!!Tt){Tt+="Z";var Yt=m.extractPathCoords(Tt,w.paramIsX,"raw"),Bt=m.extractPathCoords(Tt,w.paramIsY,"raw");Ie=1/0,ft=-1/0,vt=1/0,pt=-1/0,Ot=[];for(var At=0;At<Yt.length;At++){var Vt=ut(Ke,Yt[At]),tr=ut(Qe,Bt[At]);Ot.push([Vt,tr]),Ie=Math.min(Vt,Ie),ft=Math.max(Vt,ft),vt=Math.min(tr,vt),pt=Math.max(tr,pt)}Ot.xmin=Ie,Ot.xmax=ft,Ot.ymin=vt,Ot.ymax=pt,Ot.xref=Ve,Ot.yref=Ge,Ot.subtract=rt(Ot,Et),Et.push(Ot),ze.push(Ot)}}}}return ze}function rt(de,Re){for(var ze=!1,ae=0;ae<Re.length;ae++)for(var xe=Re[ae],Te=0;Te<de.length;Te++)if(n(de[Te],xe)){ze=!ze;break}return ze}function ut(de,Re){return de.type==="date"&&(Re=Re.replace("_"," ")),de.type==="log"?de.c2p(Re):de.r2p(Re,null,de.calendar)}function yt(de){for(var Re=de.length,ze=[],ae=0;ae<Re;ae++){var xe=de[ae];ze=ze.concat(xe),ze=ze.concat([xe[0]])}return Rt(ze)}function Rt(de){return de.isRect=de.length===5&&de[0][0]===de[4][0]&&de[0][1]===de[4][1]&&de[0][0]===de[1][0]&&de[2][0]===de[3][0]&&de[0][1]===de[3][1]&&de[1][1]===de[2][1]||de[0][1]===de[1][1]&&de[2][1]===de[3][1]&&de[0][0]===de[3][0]&&de[1][0]===de[2][0],de.isRect&&(de.xmin=Math.min(de[0][0],de[2][0]),de.xmax=Math.max(de[0][0],de[2][0]),de.ymin=Math.min(de[0][1],de[2][1]),de.ymax=Math.max(de[0][1],de[2][1])),de}function bt(de){return function(Re,ze){for(var ae,xe,Te=0;Te<de.length;Te++){var Me=de[Te],Je=Me._id,Ve=Je.charAt(0);if(ze.isRect){ae||(ae={});var Ge=ze[Ve+"min"],Ke=ze[Ve+"max"];Ge!==void 0&&Ke!==void 0&&(ae[Je]=[K(Me,Ge),K(Me,Ke)].sort(S))}else xe||(xe={}),xe[Je]=ze.map(ee(Me))}ae&&(Re.range=ae),xe&&(Re.lassoPoints=xe)}}function je(de){var Re=de.plotinfo;return Re.fillRangeItems||bt(de.xaxes.concat(de.yaxes))}function ct(de,Re){de.emit("plotly_selecting",Re)}function Dt(de,Re){Re&&(Re.selections=(de.layout||{}).selections||[]),de.emit("plotly_selected",Re)}function Lt(de){de.emit("plotly_deselect",null)}te.exports={reselect:fe,prepSelect:pe,clearOutline:x,clearSelectionsCache:N,selectOnClick:be}},{"../../lib":244,"../../lib/clear_gl_canvases":232,"../../lib/polygon":256,"../../lib/throttle":268,"../../plot_api/subroutines":281,"../../plots/cartesian/axis_ids":295,"../../registry":327,"../color":103,"../dragelement/helpers":121,"../drawing":125,"../fx":143,"../fx/helpers":139,"../shapes/constants":195,"../shapes/display_outlines":197,"../shapes/draw_newshape/helpers":202,"../shapes/draw_newshape/newshapes":203,"../shapes/handle_outline":204,"../shapes/helpers":205,"./constants":184,"./draw":186,"./draw_newselection/newselections":189,"./helpers":190,"point-in-polygon/nested":57,polybooljs:58}],193:[function(u,te,Y){var i=u("../annotations/attributes"),n=u("../../traces/scatter/attributes").line,c=u("../drawing/attributes").dash,s=u("../../lib/extend").extendFlat,e=u("../../plot_api/plot_template").templatedArray;u("../../constants/axis_placeable_objects"),te.exports=e("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:s({},i.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:s({},i.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:s({},n.color,{editType:"arraydraw"}),width:s({},n.width,{editType:"calc+arraydraw"}),dash:s({},c,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":220,"../../lib/extend":238,"../../plot_api/plot_template":280,"../../traces/scatter/attributes":367,"../annotations/attributes":86,"../drawing/attributes":124}],194:[function(u,te,Y){var i=u("../../lib"),n=u("../../plots/cartesian/axes"),c=u("./constants"),s=u("./helpers");te.exports=function(v){var p=v._fullLayout,h=i.filterVisible(p.shapes);if(!(!h.length||!v._fullData.length))for(var g=0;g<h.length;g++){var m=h[g];m._extremes={};var w,y,x=n.getRefType(m.xref),f=n.getRefType(m.yref);if(m.xref!=="paper"&&x!=="domain"){var b=m.xsizemode==="pixel"?m.xanchor:m.x0,d=m.xsizemode==="pixel"?m.xanchor:m.x1;w=n.getFromId(v,m.xref),y=a(w,b,d,m.path,c.paramIsX),y&&(m._extremes[w._id]=n.findExtremes(w,y,e(m)))}if(m.yref!=="paper"&&f!=="domain"){var T=m.ysizemode==="pixel"?m.yanchor:m.y0,k=m.ysizemode==="pixel"?m.yanchor:m.y1;w=n.getFromId(v,m.yref),y=a(w,T,k,m.path,c.paramIsY),y&&(m._extremes[w._id]=n.findExtremes(w,y,o(m)))}}};function e(t){return l(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function o(t){return l(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function l(t,v,p,h,g,m){var w=t/2,y=m;if(v==="pixel"){var x=g?s.extractPathCoords(g,m?c.paramIsY:c.paramIsX):[p,h],f=i.aggNums(Math.max,null,x),b=i.aggNums(Math.min,null,x),d=b<0?Math.abs(b)+w:w,T=f>0?f+w:w;return{ppad:w,ppadplus:y?d:T,ppadminus:y?T:d}}else return{ppad:w}}function a(t,v,p,h,g){var m=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(v!==void 0)return[m(v),m(p)];if(!!h){var w=1/0,y=-1/0,x=h.match(c.segmentRE),f,b,d,T,k;for(t.type==="date"&&(m=s.decodeDate(m)),f=0;f<x.length;f++)b=x[f],d=g[b.charAt(0)].drawn,d!==void 0&&(T=x[f].substr(1).match(c.paramRE),!(!T||T.length<d)&&(k=m(T[d]),k<w&&(w=k),k>y&&(y=k)));if(y>=w)return[w,y]}}},{"../../lib":244,"../../plots/cartesian/axes":291,"./constants":195,"./helpers":205}],195:[function(u,te,Y){te.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],196:[function(u,te,Y){var i=u("../../lib"),n=u("../../plots/cartesian/axes"),c=u("../../plots/array_container_defaults"),s=u("./attributes"),e=u("./helpers");te.exports=function(a,t){c(a,t,{name:"shapes",handleItemDefaults:o})};function o(l,a,t){function v(ee,ne){return i.coerce(l,a,s,ee,ne)}var p=v("visible");if(!!p){var h=v("path"),g=h?"path":"rect",m=v("type",g),w=m!=="path";w&&delete a.path,v("editable"),v("layer"),v("opacity"),v("fillcolor"),v("fillrule");var y=v("line.width");y&&(v("line.color"),v("line.dash"));for(var x=v("xsizemode"),f=v("ysizemode"),b=["x","y"],d=0;d<2;d++){var T=b[d],k=T+"anchor",F=T==="x"?x:f,M={_fullLayout:t},S,E,A,z=n.coerceRef(l,a,M,T,void 0,"paper"),H=n.getRefType(z);if(H==="range"?(S=n.getFromId(M,z),S._shapeIndices.push(a._index),A=e.rangeToShapePosition(S),E=e.shapePositionToRange(S)):E=A=i.identity,w){var Q=.25,X=.75,ie=T+"0",R=T+"1",O=l[ie],U=l[R];l[ie]=E(l[ie],!0),l[R]=E(l[R],!0),F==="pixel"?(v(ie,0),v(R,10)):(n.coercePosition(a,M,v,z,ie,Q),n.coercePosition(a,M,v,z,R,X)),a[ie]=A(a[ie]),a[R]=A(a[R]),l[ie]=O,l[R]=U}if(F==="pixel"){var K=l[k];l[k]=E(l[k],!0),n.coercePosition(a,M,v,z,k,.25),a[k]=A(a[k]),l[k]=K}}w&&i.noneOrAll(l,a,["x0","x1","y0","y1"])}}},{"../../lib":244,"../../plots/array_container_defaults":286,"../../plots/cartesian/axes":291,"./attributes":193,"./helpers":205}],197:[function(u,te,Y){var i=u("../../lib"),n=i.strTranslate,c=u("../dragelement"),s=u("../dragelement/helpers"),e=s.drawMode,o=s.selectMode,l=u("../../registry"),a=u("../color"),t=u("./draw_newshape/constants"),v=t.i000,p=t.i090,h=t.i180,g=t.i270,m=u("./handle_outline"),w=m.clearOutlineControllers,y=u("./draw_newshape/helpers"),x=y.pointsOnRectangle,f=y.pointsOnEllipse,b=y.writePaths,d=u("./draw_newshape/newshapes"),T=u("../selections/draw_newselection/newselections");te.exports=function S(E,A,z,H){H||(H=0);var Q=z.gd;function X(){S(E,A,z,H++),f(E[0])&&ie({redrawing:!0})}function ie(ge){var Ae={};z.isActiveShape!==void 0&&(z.isActiveShape=!1,Ae=d(A,z)),z.isActiveSelection!==void 0&&(z.isActiveSelection=!1,Ae=T(A,z),Q._fullLayout._reselect=!0),Object.keys(Ae).length&&l.call((ge||{}).redrawing?"relayout":"_guiRelayout",Q,Ae)}var R=Q._fullLayout,O=R._zoomlayer,U=z.dragmode,K=e(U),ee=o(U);(K||ee)&&(Q._fullLayout._outlining=!0),w(Q),A.attr("d",b(E));var ne,me,pe,be,ve;if(!H&&(z.isActiveShape||z.isActiveSelection)){ve=k([],E);var C=O.append("g").attr("class","outline-controllers");N(C),_e()}function I(ge){pe=+ge.srcElement.getAttribute("data-i"),be=+ge.srcElement.getAttribute("data-j"),ne[pe][be].moveFn=L}function L(ge,Ae){if(!!E.length){var Ce=ve[pe][be][1],ue=ve[pe][be][2],he=E[pe],we=he.length;if(x(he)){var ke=ge,Pe=Ae;if(z.isActiveSelection){var fe=F(he,be);fe[1]===he[be][1]?Pe=0:ke=0}for(var De=0;De<we;De++)if(De!==be){var Fe=he[De];Fe[1]===he[be][1]&&(Fe[1]=Ce+ke),Fe[2]===he[be][2]&&(Fe[2]=ue+Pe)}if(he[be][1]=Ce+ke,he[be][2]=ue+Pe,!x(he))for(var et=0;et<we;et++)for(var Xe=0;Xe<he[et].length;Xe++)he[et][Xe]=ve[pe][et][Xe]}else he[be][1]=Ce+ge,he[be][2]=ue+Ae;X()}}function P(){ie()}function B(){if(!!E.length&&!!E[pe]&&!!E[pe].length){for(var ge=[],Ae=0;Ae<E[pe].length;Ae++)Ae!==be&&ge.push(E[pe][Ae]);ge.length>1&&!(ge.length===2&&ge[1][0]==="Z")&&(be===0&&(ge[0][0]="M"),E[pe]=ge,X(),ie())}}function V(ge,Ae){if(ge===2){pe=+Ae.srcElement.getAttribute("data-i"),be=+Ae.srcElement.getAttribute("data-j");var Ce=E[pe];!x(Ce)&&!f(Ce)&&B()}}function N(ge){ne=[];for(var Ae=0;Ae<E.length;Ae++){var Ce=E[Ae],ue=x(Ce),he=!ue&&f(Ce);ne[Ae]=[];for(var we=Ce.length,ke=0;ke<we;ke++)if(Ce[ke][0]!=="Z"&&!(he&&ke!==v&&ke!==p&&ke!==h&&ke!==g)){var Pe=ue&&z.isActiveSelection,fe;Pe&&(fe=F(Ce,ke));var De=Ce[ke][1],Fe=Ce[ke][2],et=ge.append(Pe?"rect":"circle").attr("data-i",Ae).attr("data-j",ke).style({fill:a.background,stroke:a.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Pe){var Xe=fe[1]-De,qe=fe[2]-Fe,rt=qe?5:Math.max(Math.min(25,Math.abs(Xe)-5),5),ut=Xe?5:Math.max(Math.min(25,Math.abs(qe)-5),5);et.classed(qe?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",rt).attr("height",ut).attr("x",De-rt/2).attr("y",Fe-ut/2).attr("transform",n(Xe/2,qe/2))}else et.classed("cursor-grab",!0).attr("r",5).attr("cx",De).attr("cy",Fe);ne[Ae][ke]={element:et.node(),gd:Q,prepFn:I,doneFn:P,clickFn:V},c.init(ne[Ae][ke])}}}function Z(ge,Ae){if(!!E.length)for(var Ce=0;Ce<E.length;Ce++)for(var ue=0;ue<E[Ce].length;ue++)for(var he=0;he+2<E[Ce][ue].length;he+=2)E[Ce][ue][he+1]=ve[Ce][ue][he+1]+ge,E[Ce][ue][he+2]=ve[Ce][ue][he+2]+Ae}function W(ge,Ae){Z(ge,Ae),X()}function q(ge){pe=+ge.srcElement.getAttribute("data-i"),pe||(pe=0),me[pe].moveFn=W}function re(){ie()}function se(ge){ge===2&&M(Q)}function _e(){if(me=[],!!E.length){var ge=0;me[ge]={element:A[0][0],gd:Q,prepFn:q,doneFn:re,clickFn:se},c.init(me[ge])}}};function k(S,E){for(var A=0;A<E.length;A++){var z=E[A];S[A]=[];for(var H=0;H<z.length;H++){S[A][H]=[];for(var Q=0;Q<z[H].length;Q++)S[A][H][Q]=z[H][Q]}}return S}function F(S,E){var A=S[E][1],z=S[E][2],H=S.length,Q,X,ie;return Q=(E+1)%H,X=S[Q][1],ie=S[Q][2],X===A&&ie===z&&(Q=(E+2)%H,X=S[Q][1],ie=S[Q][2]),[Q,X,ie]}function M(S){if(!!o(S._fullLayout.dragmode)){w(S);var E=S._fullLayout._activeSelectionIndex,A=(S.layout||{}).selections||[];if(E<A.length){for(var z=[],H=0;H<A.length;H++)H!==E&&z.push(A[H]);delete S._fullLayout._activeSelectionIndex;var Q=S._fullLayout.selections[E];S._fullLayout._deselect={xref:Q.xref,yref:Q.yref},l.call("_guiRelayout",S,{selections:z})}}}},{"../../lib":244,"../../registry":327,"../color":103,"../dragelement":122,"../dragelement/helpers":121,"../selections/draw_newselection/newselections":189,"./draw_newshape/constants":200,"./draw_newshape/helpers":202,"./draw_newshape/newshapes":203,"./handle_outline":204}],198:[function(u,te,Y){var i=u("../../registry"),n=u("../../lib"),c=u("../../plots/cartesian/axes"),s=u("./draw_newshape/helpers").readPaths,e=u("./display_outlines"),o=u("./handle_outline").clearOutlineControllers,l=u("../color"),a=u("../drawing"),t=u("../../plot_api/plot_template").arrayEditor,v=u("../dragelement"),p=u("../../lib/setcursor"),h=u("./constants"),g=u("./helpers"),m=g.getPathString;te.exports={draw:w,drawOne:f,eraseActiveShape:M};function w(S){var E=S._fullLayout;E._shapeUpperLayer.selectAll("path").remove(),E._shapeLowerLayer.selectAll("path").remove();for(var A in E._plots){var z=E._plots[A].shapelayer;z&&z.selectAll("path").remove()}for(var H=0;H<E.shapes.length;H++)E.shapes[H].visible&&f(S,H)}function y(S){return!!S._fullLayout._outlining}function x(S){return!S._context.edits.shapePosition}function f(S,E){S._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+E+'"]').remove();var A=g.makeShapesOptionsAndPlotinfo(S,E),z=A.options,H=A.plotinfo;if(!z._input||z.visible===!1)return;if(z.layer!=="below")X(S._fullLayout._shapeUpperLayer);else if(z.xref==="paper"||z.yref==="paper")X(S._fullLayout._shapeLowerLayer);else if(H._hadPlotinfo){var Q=H.mainplotinfo||H;X(Q.shapelayer)}else X(S._fullLayout._shapeLowerLayer);function X(ie){var R=m(S,z),O={"data-index":E,"fill-rule":z.fillrule,d:R},U=z.opacity,K=z.fillcolor,ee=z.line.width?z.line.color:"rgba(0,0,0,0)",ne=z.line.width,me=z.line.dash;!ne&&z.editable===!0&&(ne=5,me="solid");var pe=R[R.length-1]!=="Z",be=x(S)&&z.editable&&S._fullLayout._activeShapeIndex===E;be&&(K=pe?"rgba(0,0,0,0)":S._fullLayout.activeshape.fillcolor,U=S._fullLayout.activeshape.opacity);var ve=ie.append("path").attr(O).style("opacity",U).call(l.stroke,ee).call(l.fill,K).call(a.dashLine,me,ne);b(ve,S,z);var C;if((be||S._context.edits.shapePosition)&&(C=t(S.layout,"shapes",z)),be){ve.style({cursor:"move"});var I={element:ve.node(),plotinfo:H,gd:S,editHelpers:C,isActiveShape:!0},L=s(R,S);e(L,ve,I)}else S._context.edits.shapePosition?d(S,ve,z,E,ie,C):z.editable===!0&&ve.style("pointer-events",pe||l.opacity(K)*U<=.5?"stroke":"all");ve.node().addEventListener("click",function(){return k(S,ve)})}}function b(S,E,A){var z=(A.xref+A.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");a.setClipUrl(S,z?"clip"+E._fullLayout._uid+z:null,E)}function d(S,E,A,z,H,Q){var X=10,ie=10,R=A.xsizemode==="pixel",O=A.ysizemode==="pixel",U=A.type==="line",K=A.type==="path",ee=Q.modifyItem,ne,me,pe,be,ve,C,I,L,P,B,V,N,Z,W,q,re=c.getFromId(S,A.xref),se=c.getRefType(A.xref),_e=c.getFromId(S,A.yref),ge=c.getRefType(A.yref),Ae=g.getDataToPixel(S,re,!1,se),Ce=g.getDataToPixel(S,_e,!0,ge),ue=g.getPixelToData(S,re,!1,se),he=g.getPixelToData(S,_e,!0,ge),we=fe(),ke={element:we.node(),gd:S,prepFn:et,doneFn:Xe,clickFn:qe},Pe;v.init(ke),we.node().onmousemove=Fe;function fe(){return U?De():E}function De(){var je=10,ct=Math.max(A.line.width,je),Dt=H.append("g").attr("data-index",z);Dt.append("path").attr("d",E.attr("d")).style({cursor:"move","stroke-width":ct,"stroke-opacity":"0"});var Lt={"fill-opacity":"0"},de=Math.max(ct/2,je);return Dt.append("circle").attr({"data-line-point":"start-point",cx:R?Ae(A.xanchor)+A.x0:Ae(A.x0),cy:O?Ce(A.yanchor)-A.y0:Ce(A.y0),r:de}).style(Lt).classed("cursor-grab",!0),Dt.append("circle").attr({"data-line-point":"end-point",cx:R?Ae(A.xanchor)+A.x1:Ae(A.x1),cy:O?Ce(A.yanchor)-A.y1:Ce(A.y1),r:de}).style(Lt).classed("cursor-grab",!0),Dt}function Fe(je){if(y(S)){Pe=null;return}if(U)je.target.tagName==="path"?Pe="move":Pe=je.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var ct=ke.element.getBoundingClientRect(),Dt=ct.right-ct.left,Lt=ct.bottom-ct.top,de=je.clientX-ct.left,Re=je.clientY-ct.top,ze=!K&&Dt>X&&Lt>ie&&!je.shiftKey?v.getCursor(de/Dt,1-Re/Lt):"move";p(E,ze),Pe=ze.split("-")[0]}}function et(je){y(S)||(R&&(ve=Ae(A.xanchor)),O&&(C=Ce(A.yanchor)),A.type==="path"?q=A.path:(ne=R?A.x0:Ae(A.x0),me=O?A.y0:Ce(A.y0),pe=R?A.x1:Ae(A.x1),be=O?A.y1:Ce(A.y1)),ne<pe?(P=ne,Z="x0",B=pe,W="x1"):(P=pe,Z="x1",B=ne,W="x0"),!O&&me<be||O&&me>be?(I=me,V="y0",L=be,N="y1"):(I=be,V="y1",L=me,N="y0"),Fe(je),yt(H,A),bt(E,A,S),ke.moveFn=Pe==="move"?rt:ut,ke.altKey=je.altKey)}function Xe(){y(S)||(p(E),Rt(H),b(E,S,A),i.call("_guiRelayout",S,Q.getUpdateObj()))}function qe(){y(S)||Rt(H)}function rt(je,ct){if(A.type==="path"){var Dt=function(Re){return Re},Lt=Dt,de=Dt;R?ee("xanchor",A.xanchor=ue(ve+je)):(Lt=function(ze){return ue(Ae(ze)+je)},re&&re.type==="date"&&(Lt=g.encodeDate(Lt))),O?ee("yanchor",A.yanchor=he(C+ct)):(de=function(ze){return he(Ce(ze)+ct)},_e&&_e.type==="date"&&(de=g.encodeDate(de))),ee("path",A.path=T(q,Lt,de))}else R?ee("xanchor",A.xanchor=ue(ve+je)):(ee("x0",A.x0=ue(ne+je)),ee("x1",A.x1=ue(pe+je))),O?ee("yanchor",A.yanchor=he(C+ct)):(ee("y0",A.y0=he(me+ct)),ee("y1",A.y1=he(be+ct)));E.attr("d",m(S,A)),yt(H,A)}function ut(je,ct){if(K){var Dt=function(vt){return vt},Lt=Dt,de=Dt;R?ee("xanchor",A.xanchor=ue(ve+je)):(Lt=function(pt){return ue(Ae(pt)+je)},re&&re.type==="date"&&(Lt=g.encodeDate(Lt))),O?ee("yanchor",A.yanchor=he(C+ct)):(de=function(pt){return he(Ce(pt)+ct)},_e&&_e.type==="date"&&(de=g.encodeDate(de))),ee("path",A.path=T(q,Lt,de))}else if(U){if(Pe==="resize-over-start-point"){var Re=ne+je,ze=O?me-ct:me+ct;ee("x0",A.x0=R?Re:ue(Re)),ee("y0",A.y0=O?ze:he(ze))}else if(Pe==="resize-over-end-point"){var ae=pe+je,xe=O?be-ct:be+ct;ee("x1",A.x1=R?ae:ue(ae)),ee("y1",A.y1=O?xe:he(xe))}}else{var Te=function(vt){return Pe.indexOf(vt)!==-1},Me=Te("n"),Je=Te("s"),Ve=Te("w"),Ge=Te("e"),Ke=Me?I+ct:I,Qe=Je?L+ct:L,Ie=Ve?P+je:P,ft=Ge?B+je:B;O&&(Me&&(Ke=I-ct),Je&&(Qe=L-ct)),(!O&&Qe-Ke>ie||O&&Ke-Qe>ie)&&(ee(V,A[V]=O?Ke:he(Ke)),ee(N,A[N]=O?Qe:he(Qe))),ft-Ie>X&&(ee(Z,A[Z]=R?Ie:ue(Ie)),ee(W,A[W]=R?ft:ue(ft)))}E.attr("d",m(S,A)),yt(H,A)}function yt(je,ct){(R||O)&&Dt();function Dt(){var Lt=ct.type!=="path",de=je.selectAll(".visual-cue").data([0]),Re=1;de.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Re}).classed("visual-cue",!0);var ze=Ae(R?ct.xanchor:n.midRange(Lt?[ct.x0,ct.x1]:g.extractPathCoords(ct.path,h.paramIsX))),ae=Ce(O?ct.yanchor:n.midRange(Lt?[ct.y0,ct.y1]:g.extractPathCoords(ct.path,h.paramIsY)));if(ze=g.roundPositionForSharpStrokeRendering(ze,Re),ae=g.roundPositionForSharpStrokeRendering(ae,Re),R&&O){var xe="M"+(ze-1-Re)+","+(ae-1-Re)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";de.attr("d",xe)}else if(R){var Te="M"+(ze-1-Re)+","+(ae-9-Re)+"v18 h2 v-18 Z";de.attr("d",Te)}else{var Me="M"+(ze-9-Re)+","+(ae-1-Re)+"h18 v2 h-18 Z";de.attr("d",Me)}}}function Rt(je){je.selectAll(".visual-cue").remove()}function bt(je,ct,Dt){var Lt=ct.xref,de=ct.yref,Re=c.getFromId(Dt,Lt),ze=c.getFromId(Dt,de),ae="";Lt!=="paper"&&!Re.autorange&&(ae+=Lt),de!=="paper"&&!ze.autorange&&(ae+=de),a.setClipUrl(je,ae?"clip"+Dt._fullLayout._uid+ae:null,Dt)}}function T(S,E,A){return S.replace(h.segmentRE,function(z){var H=0,Q=z.charAt(0),X=h.paramIsX[Q],ie=h.paramIsY[Q],R=h.numParams[Q],O=z.substr(1).replace(h.paramRE,function(U){return H>=R||(X[H]?U=E(U):ie[H]&&(U=A(U)),H++),U});return Q+O})}function k(S,E){if(!!x(S)){var A=E.node(),z=+A.getAttribute("data-index");if(z>=0){if(z===S._fullLayout._activeShapeIndex){F(S);return}S._fullLayout._activeShapeIndex=z,S._fullLayout._deactivateShape=F,w(S)}}}function F(S){if(!!x(S)){var E=S._fullLayout._activeShapeIndex;E>=0&&(o(S),delete S._fullLayout._activeShapeIndex,w(S))}}function M(S){if(!!x(S)){o(S);var E=S._fullLayout._activeShapeIndex,A=(S.layout||{}).shapes||[];if(E<A.length){for(var z=[],H=0;H<A.length;H++)H!==E&&z.push(A[H]);delete S._fullLayout._activeShapeIndex,i.call("_guiRelayout",S,{shapes:z})}}}},{"../../lib":244,"../../lib/setcursor":264,"../../plot_api/plot_template":280,"../../plots/cartesian/axes":291,"../../registry":327,"../color":103,"../dragelement":122,"../drawing":125,"./constants":195,"./display_outlines":197,"./draw_newshape/helpers":202,"./handle_outline":204,"./helpers":205}],199:[function(u,te,Y){var i=u("../../drawing/attributes").dash,n=u("../../../lib/extend").extendFlat;te.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:n({},i,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":238,"../../drawing/attributes":124}],200:[function(u,te,Y){var i=32;te.exports={CIRCLE_SIDES:i,i000:0,i090:i/4,i180:i/2,i270:i/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],201:[function(u,te,Y){var i=u("../../color");te.exports=function(c,s,e){e("newshape.drawdirection"),e("newshape.layer"),e("newshape.fillcolor"),e("newshape.fillrule"),e("newshape.opacity");var o=e("newshape.line.width");if(o){var l=(c||{}).plot_bgcolor||"#FFF";e("newshape.line.color",i.contrast(l)),e("newshape.line.dash")}e("activeshape.fillcolor"),e("activeshape.opacity")}},{"../../color":103}],202:[function(u,te,Y){var i=u("parse-svg-path"),n=u("./constants"),c=n.CIRCLE_SIDES,s=n.SQRT2,e=u("../../selections/helpers"),o=e.p2r,l=e.r2p,a=[0,3,4,5,6,1,2],t=[0,3,4,1,2];Y.writePaths=function(h){var g=h.length;if(!g)return"M0,0Z";for(var m="",w=0;w<g;w++)for(var y=h[w].length,x=0;x<y;x++){var f=h[w][x][0];if(f==="Z")m+="Z";else for(var b=h[w][x].length,d=0;d<b;d++){var T=d;f==="Q"||f==="S"?T=t[d]:f==="C"&&(T=a[d]),m+=h[w][x][T],d>0&&d<b-1&&(m+=",")}}return m},Y.readPaths=function(h,g,m,w){var y=i(h),x=[],f=-1,b=function(){f++,x[f]=[]},d,T=0,k=0,F,M,S=function(){F=T,M=k};S();for(var E=0;E<y.length;E++){var A=[],z,H,Q,X,ie=y[E][0],R=ie;switch(ie){case"M":b(),T=+y[E][1],k=+y[E][2],A.push([R,T,k]),S();break;case"Q":case"S":z=+y[E][1],Q=+y[E][2],T=+y[E][3],k=+y[E][4],A.push([R,T,k,z,Q]);break;case"C":z=+y[E][1],Q=+y[E][2],H=+y[E][3],X=+y[E][4],T=+y[E][5],k=+y[E][6],A.push([R,T,k,z,Q,H,X]);break;case"T":case"L":T=+y[E][1],k=+y[E][2],A.push([R,T,k]);break;case"H":R="L",T=+y[E][1],A.push([R,T,k]);break;case"V":R="L",k=+y[E][1],A.push([R,T,k]);break;case"A":R="L";var O=+y[E][1],U=+y[E][2];+y[E][4]||(O=-O,U=-U);var K=T-O,ee=k;for(d=1;d<=c/2;d++){var ne=2*Math.PI*d/c;A.push([R,K+O*Math.cos(ne),ee+U*Math.sin(ne)])}break;case"Z":(T!==F||k!==M)&&(T=F,k=M,A.push([R,T,k]));break}for(var me=(m||{}).domain,pe=g._fullLayout._size,be=m&&m.xsizemode==="pixel",ve=m&&m.ysizemode==="pixel",C=w===!1,I=0;I<A.length;I++){for(d=0;d+2<7;d+=2){var L=A[I][d+1],P=A[I][d+2];L===void 0||P===void 0||(T=L,k=P,m&&(m.xaxis&&m.xaxis.p2r?(C&&(L-=m.xaxis._offset),be?L=l(m.xaxis,m.xanchor)+L:L=o(m.xaxis,L)):(C&&(L-=pe.l),me?L=me.x[0]+L/pe.w:L=L/pe.w),m.yaxis&&m.yaxis.p2r?(C&&(P-=m.yaxis._offset),ve?P=l(m.yaxis,m.yanchor)-P:P=o(m.yaxis,P)):(C&&(P-=pe.t),me?P=me.y[1]-P/pe.h:P=1-P/pe.h)),A[I][d+1]=L,A[I][d+2]=P)}x[f].push(A[I].slice())}}return x};function v(h,g){return Math.abs(h-g)<=1e-6}function p(h,g){var m=g[1]-h[1],w=g[2]-h[2];return Math.sqrt(m*m+w*w)}Y.pointsOnRectangle=function(h){var g=h.length;if(g!==5)return!1;for(var m=1;m<3;m++){var w=h[0][m]-h[1][m],y=h[3][m]-h[2][m];if(!v(w,y))return!1;var x=h[0][m]-h[3][m],f=h[1][m]-h[2][m];if(!v(x,f))return!1}return!v(h[0][1],h[1][1])&&!v(h[0][1],h[3][1])?!1:!!(p(h[0],h[1])*p(h[0],h[3]))},Y.pointsOnEllipse=function(h){var g=h.length;if(g!==c+1)return!1;g=c;for(var m=0;m<g;m++){var w=(g*2-m)%g,y=(g/2+w)%g,x=(g/2+m)%g;if(!v(p(h[m],h[x]),p(h[w],h[y])))return!1}return!0},Y.handleEllipse=function(h,g,m){if(!h)return[g,m];var w=Y.ellipseOver({x0:g[0],y0:g[1],x1:m[0],y1:m[1]}),y=(w.x1+w.x0)/2,x=(w.y1+w.y0)/2,f=(w.x1-w.x0)/2,b=(w.y1-w.y0)/2;f||(f=b=b/s),b||(b=f=f/s);for(var d=[],T=0;T<c;T++){var k=T*2*Math.PI/c;d.push([y+f*Math.cos(k),x+b*Math.sin(k)])}return d},Y.ellipseOver=function(h){var g=h.x0,m=h.y0,w=h.x1,y=h.y1,x=w-g,f=y-m;g-=x,m-=f;var b=(g+w)/2,d=(m+y)/2,T=s;return x*=T,f*=T,{x0:b-x,y0:d-f,x1:b+x,y1:d+f}},Y.fixDatesForPaths=function(h,g,m){var w=g.type==="date",y=m.type==="date";if(!w&&!y)return h;for(var x=0;x<h.length;x++)for(var f=0;f<h[x].length;f++)for(var b=0;b+2<h[x][f].length;b+=2)w&&(h[x][f][b+1]=h[x][f][b+1].replace(" ","_")),y&&(h[x][f][b+2]=h[x][f][b+2].replace(" ","_"));return h}},{"../../selections/helpers":190,"./constants":200,"parse-svg-path":56}],203:[function(u,te,Y){var i=u("../../dragelement/helpers"),n=i.drawMode,c=i.openMode,s=u("./constants"),e=s.i000,o=s.i090,l=s.i180,a=s.i270,t=s.cos45,v=s.sin45,p=u("../../selections/helpers"),h=p.p2r,g=p.r2p,m=u(".././handle_outline"),w=m.clearOutline,y=u("./helpers"),x=y.readPaths,f=y.writePaths,b=y.ellipseOver,d=y.fixDatesForPaths;te.exports=function(k,F){if(!!k.length){var M=k[0][0];if(!!M){var S=M.getAttribute("d"),E=F.gd,A=E._fullLayout.newshape,z=F.plotinfo,H=z.xaxis,Q=z.yaxis,X=!!z.domain||!z.xaxis,ie=!!z.domain||!z.yaxis,R=F.isActiveShape,O=F.dragmode,U=(E.layout||{}).shapes||[];if(!n(O)&&R!==void 0){var K=E._fullLayout._activeShapeIndex;if(K<U.length)switch(E._fullLayout.shapes[K].type){case"rect":O="drawrect";break;case"circle":O="drawcircle";break;case"line":O="drawline";break;case"path":var ee=U[K].path||"";ee[ee.length-1]==="Z"?O="drawclosedpath":O="drawopenpath";break}}var ne=c(O),me=x(S,E,z,R),pe={editable:!0,xref:X?"paper":H._id,yref:ie?"paper":Q._id,layer:A.layer,opacity:A.opacity,line:{color:A.line.color,width:A.line.width,dash:A.line.dash}};ne||(pe.fillcolor=A.fillcolor,pe.fillrule=A.fillrule);var be;if(me.length===1&&(be=me[0]),be&&be.length===5&&O==="drawrect")pe.type="rect",pe.x0=be[0][1],pe.y0=be[0][2],pe.x1=be[2][1],pe.y1=be[2][2];else if(be&&O==="drawline")pe.type="line",pe.x0=be[0][1],pe.y0=be[0][2],pe.x1=be[1][1],pe.y1=be[1][2];else if(be&&O==="drawcircle"){pe.type="circle";var ve=be[e][1],C=be[o][1],I=be[l][1],L=be[a][1],P=be[e][2],B=be[o][2],V=be[l][2],N=be[a][2],Z=z.xaxis&&(z.xaxis.type==="date"||z.xaxis.type==="log"),W=z.yaxis&&(z.yaxis.type==="date"||z.yaxis.type==="log");Z&&(ve=g(z.xaxis,ve),C=g(z.xaxis,C),I=g(z.xaxis,I),L=g(z.xaxis,L)),W&&(P=g(z.yaxis,P),B=g(z.yaxis,B),V=g(z.yaxis,V),N=g(z.yaxis,N));var q=(C+L)/2,re=(P+V)/2,se=(L-C+I-ve)/2,_e=(N-B+V-P)/2,ge=b({x0:q,y0:re,x1:q+se*t,y1:re+_e*v});Z&&(ge.x0=h(z.xaxis,ge.x0),ge.x1=h(z.xaxis,ge.x1)),W&&(ge.y0=h(z.yaxis,ge.y0),ge.y1=h(z.yaxis,ge.y1)),pe.x0=ge.x0,pe.y0=ge.y0,pe.x1=ge.x1,pe.y1=ge.y1}else pe.type="path",H&&Q&&d(me,H,Q),pe.path=f(me),be=null;w(E);for(var Ae=F.editHelpers,Ce=(Ae||{}).modifyItem,ue=[],he=0;he<U.length;he++){var we=E._fullLayout.shapes[he];if(ue[he]=we._input,R!==void 0&&he===E._fullLayout._activeShapeIndex){var ke=pe;switch(we.type){case"line":case"rect":case"circle":Ce("x0",ke.x0),Ce("x1",ke.x1),Ce("y0",ke.y0),Ce("y1",ke.y1);break;case"path":Ce("path",ke.path);break}}}return R===void 0?(ue.push(pe),ue):Ae?Ae.getUpdateObj():{}}}}},{"../../dragelement/helpers":121,"../../selections/helpers":190,".././handle_outline":204,"./constants":200,"./helpers":202}],204:[function(u,te,Y){function i(c){var s=c._fullLayout._zoomlayer;s&&s.selectAll(".outline-controllers").remove()}function n(c){var s=c._fullLayout._zoomlayer;s&&s.selectAll(".select-outline").remove(),c._fullLayout._outlining=!1}te.exports={clearOutlineControllers:i,clearOutline:n}},{}],205:[function(u,te,Y){var i=u("./constants"),n=u("../../lib"),c=u("../../plots/cartesian/axes");Y.rangeToShapePosition=function(e){return e.type==="log"?e.r2d:function(o){return o}},Y.shapePositionToRange=function(e){return e.type==="log"?e.d2r:function(o){return o}},Y.decodeDate=function(e){return function(o){return o.replace&&(o=o.replace("_"," ")),e(o)}},Y.encodeDate=function(e){return function(o){return e(o).replace(" ","_")}},Y.extractPathCoords=function(e,o,l){var a=[],t=e.match(i.segmentRE);return t.forEach(function(v){var p=o[v.charAt(0)].drawn;if(p!==void 0){var h=v.substr(1).match(i.paramRE);if(!(!h||h.length<p)){var g=h[p],m=l?g:n.cleanNumber(g);a.push(m)}}}),a},Y.getDataToPixel=function(e,o,l,a){var t=e._fullLayout._size,v;if(o)if(a==="domain")v=function(h){return o._length*(l?1-h:h)+o._offset};else{var p=Y.shapePositionToRange(o);v=function(h){return o._offset+o.r2p(p(h,!0))},o.type==="date"&&(v=Y.decodeDate(v))}else l?v=function(h){return t.t+t.h*(1-h)}:v=function(h){return t.l+t.w*h};return v},Y.getPixelToData=function(e,o,l,a){var t=e._fullLayout._size,v;if(o)if(a==="domain")v=function(h){var g=(h-o._offset)/o._length;return l?1-g:g};else{var p=Y.rangeToShapePosition(o);v=function(h){return p(o.p2r(h-o._offset))}}else l?v=function(h){return 1-(h-t.t)/t.h}:v=function(h){return(h-t.l)/t.w};return v},Y.roundPositionForSharpStrokeRendering=function(e,o){var l=Math.round(o%2)===1,a=Math.round(e);return l?a+.5:a},Y.makeShapesOptionsAndPlotinfo=function(e,o){var l=e._fullLayout.shapes[o]||{},a=e._fullLayout._plots[l.xref+l.yref],t=!!a;return t?a._hadPlotinfo=!0:(a={},l.xref&&l.xref!=="paper"&&(a.xaxis=e._fullLayout[l.xref+"axis"]),l.yref&&l.yref!=="paper"&&(a.yaxis=e._fullLayout[l.yref+"axis"])),a.xsizemode=l.xsizemode,a.ysizemode=l.ysizemode,a.xanchor=l.xanchor,a.yanchor=l.yanchor,{options:l,plotinfo:a}},Y.makeSelectionsOptionsAndPlotinfo=function(e,o){var l=e._fullLayout.selections[o]||{},a=e._fullLayout._plots[l.xref+l.yref],t=!!a;return t?a._hadPlotinfo=!0:(a={},l.xref&&(a.xaxis=e._fullLayout[l.xref+"axis"]),l.yref&&(a.yaxis=e._fullLayout[l.yref+"axis"])),{options:l,plotinfo:a}},Y.getPathString=function(e,o){var l=o.type,a=c.getRefType(o.xref),t=c.getRefType(o.yref),v=c.getFromId(e,o.xref),p=c.getFromId(e,o.yref),h=e._fullLayout._size,g,m,w,y,x,f,b,d;if(v?a==="domain"?m=function(Q){return v._offset+v._length*Q}:(g=Y.shapePositionToRange(v),m=function(Q){return v._offset+v.r2p(g(Q,!0))}):m=function(Q){return h.l+h.w*Q},p?t==="domain"?y=function(Q){return p._offset+p._length*(1-Q)}:(w=Y.shapePositionToRange(p),y=function(Q){return p._offset+p.r2p(w(Q,!0))}):y=function(Q){return h.t+h.h*(1-Q)},l==="path")return v&&v.type==="date"&&(m=Y.decodeDate(m)),p&&p.type==="date"&&(y=Y.decodeDate(y)),s(o,m,y);if(o.xsizemode==="pixel"){var T=m(o.xanchor);x=T+o.x0,f=T+o.x1}else x=m(o.x0),f=m(o.x1);if(o.ysizemode==="pixel"){var k=y(o.yanchor);b=k-o.y0,d=k-o.y1}else b=y(o.y0),d=y(o.y1);if(l==="line")return"M"+x+","+b+"L"+f+","+d;if(l==="rect")return"M"+x+","+b+"H"+f+"V"+d+"H"+x+"Z";var F=(x+f)/2,M=(b+d)/2,S=Math.abs(F-x),E=Math.abs(M-b),A="A"+S+","+E,z=F+S+","+M,H=F+","+(M-E);return"M"+z+A+" 0 1,1 "+H+A+" 0 0,1 "+z+"Z"};function s(e,o,l){var a=e.path,t=e.xsizemode,v=e.ysizemode,p=e.xanchor,h=e.yanchor;return a.replace(i.segmentRE,function(g){var m=0,w=g.charAt(0),y=i.paramIsX[w],x=i.paramIsY[w],f=i.numParams[w],b=g.substr(1).replace(i.paramRE,function(d){return y[m]?t==="pixel"?d=o(p)+Number(d):d=o(d):x[m]&&(v==="pixel"?d=l(h)-Number(d):d=l(d)),m++,m>f&&(d="X"),d});return m>f&&(b=b.replace(/[\s,]*X.*/,""),n.log("Ignoring extra params in segment "+g)),w+b})}},{"../../lib":244,"../../plots/cartesian/axes":291,"./constants":195}],206:[function(u,te,Y){var i=u("./draw");te.exports={moduleType:"component",name:"shapes",layoutAttributes:u("./attributes"),supplyLayoutDefaults:u("./defaults"),supplyDrawNewShapeDefaults:u("./draw_newshape/defaults"),includeBasePlot:u("../../plots/cartesian/include_components")("shapes"),calcAutorange:u("./calc_autorange"),draw:i.draw,drawOne:i.drawOne}},{"../../plots/cartesian/include_components":302,"./attributes":193,"./calc_autorange":194,"./defaults":196,"./draw":198,"./draw_newshape/defaults":201}],207:[function(u,te,Y){var i=u("../../plots/font_attributes"),n=u("../../plots/pad_attributes"),c=u("../../lib/extend").extendDeepAll,s=u("../../plot_api/edit_types").overrideAll,e=u("../../plots/animation_attributes"),o=u("../../plot_api/plot_template").templatedArray,l=u("./constants"),a=o("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});te.exports=s(o("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:a,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:c(n({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:e.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:i({})},font:i({}),activebgcolor:{valType:"color",dflt:l.gripBgActiveColor},bgcolor:{valType:"color",dflt:l.railBgColor},bordercolor:{valType:"color",dflt:l.railBorderColor},borderwidth:{valType:"number",min:0,dflt:l.railBorderWidth},ticklen:{valType:"number",min:0,dflt:l.tickLength},tickcolor:{valType:"color",dflt:l.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:l.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":238,"../../plot_api/edit_types":273,"../../plot_api/plot_template":280,"../../plots/animation_attributes":285,"../../plots/font_attributes":319,"../../plots/pad_attributes":324,"./constants":208}],208:[function(u,te,Y){te.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],209:[function(u,te,Y){var i=u("../../lib"),n=u("../../plots/array_container_defaults"),c=u("./attributes"),s=u("./constants"),e=s.name,o=c.steps;te.exports=function(v,p){n(v,p,{name:e,handleItemDefaults:l})};function l(t,v,p){function h(d,T){return i.coerce(t,v,c,d,T)}for(var g=n(t,v,{name:"steps",handleItemDefaults:a}),m=0,w=0;w<g.length;w++)g[w].visible&&m++;var y;if(m<2?y=v.visible=!1:y=h("visible"),!!y){v._stepCount=m;var x=v._visibleSteps=i.filterVisible(g),f=h("active");(g[f]||{}).visible||(v.active=x[0]._index),h("x"),h("y"),i.noneOrAll(t,v,["x","y"]),h("xanchor"),h("yanchor"),h("len"),h("lenmode"),h("pad.t"),h("pad.r"),h("pad.b"),h("pad.l"),i.coerceFont(h,"font",p.font);var b=h("currentvalue.visible");b&&(h("currentvalue.xanchor"),h("currentvalue.prefix"),h("currentvalue.suffix"),h("currentvalue.offset"),i.coerceFont(h,"currentvalue.font",v.font)),h("transition.duration"),h("transition.easing"),h("bgcolor"),h("activebgcolor"),h("bordercolor"),h("borderwidth"),h("ticklen"),h("tickwidth"),h("tickcolor"),h("minorticklen")}}function a(t,v){function p(m,w){return i.coerce(t,v,o,m,w)}var h;if(t.method!=="skip"&&!Array.isArray(t.args)?h=v.visible=!1:h=p("visible"),h){p("method"),p("args");var g=p("label","step-"+v._index);p("value",g),p("execute")}}},{"../../lib":244,"../../plots/array_container_defaults":286,"./attributes":207,"./constants":208}],210:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../plots/plots"),c=u("../color"),s=u("../drawing"),e=u("../../lib"),o=e.strTranslate,l=u("../../lib/svg_text_utils"),a=u("../../plot_api/plot_template").arrayEditor,t=u("./constants"),v=u("../../constants/alignment"),p=v.LINE_SPACING,h=v.FROM_TL,g=v.FROM_BR;te.exports=function(O){var U=O._fullLayout,K=w(U,O),ee=U._infolayer.selectAll("g."+t.containerClassName).data(K.length>0?[0]:[]);ee.enter().append("g").classed(t.containerClassName,!0).style("cursor","ew-resize");function ne(ve){ve._commandObserver&&(ve._commandObserver.remove(),delete ve._commandObserver),n.autoMargin(O,m(ve))}if(ee.exit().each(function(){i.select(this).selectAll("g."+t.groupClassName).each(ne)}).remove(),K.length!==0){var me=ee.selectAll("g."+t.groupClassName).data(K,y);me.enter().append("g").classed(t.groupClassName,!0),me.exit().each(ne).remove();for(var pe=0;pe<K.length;pe++){var be=K[pe];x(O,be)}me.each(function(ve){var C=i.select(this);A(ve),n.manageCommandObserver(O,ve,ve._visibleSteps,function(I){var L=C.data()[0];L.active!==I.index&&(L._dragging||M(O,C,L,I.index,!1,!0))}),f(O,i.select(this),ve)})}};function m(R){return t.autoMarginIdRoot+R._index}function w(R,O){for(var U=R[t.name],K=[],ee=0;ee<U.length;ee++){var ne=U[ee];!ne.visible||(ne._gd=O,K.push(ne))}return K}function y(R){return R._index}function x(R,O){var U=s.tester.selectAll("g."+t.labelGroupClass).data(O._visibleSteps);U.enter().append("g").classed(t.labelGroupClass,!0);var K=0,ee=0;U.each(function(B){var V=i.select(this),N=T(V,{step:B},O),Z=N.node();if(Z){var W=s.bBox(Z);ee=Math.max(ee,W.height),K=Math.max(K,W.width)}}),U.remove();var ne=O._dims={};ne.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var me=R._fullLayout._size;ne.lx=me.l+me.w*O.x,ne.ly=me.t+me.h*(1-O.y),O.lenmode==="fraction"?ne.outerLength=Math.round(me.w*O.len):ne.outerLength=O.len,ne.inputAreaStart=0,ne.inputAreaLength=Math.round(ne.outerLength-O.pad.l-O.pad.r);var pe=ne.inputAreaLength-2*t.stepInset,be=pe/(O._stepCount-1),ve=K+t.labelPadding;if(ne.labelStride=Math.max(1,Math.ceil(ve/be)),ne.labelHeight=ee,ne.currentValueMaxWidth=0,ne.currentValueHeight=0,ne.currentValueTotalHeight=0,ne.currentValueMaxLines=1,O.currentvalue.visible){var C=s.tester.append("g");U.each(function(B){var V=b(C,O,B.label),N=V.node()&&s.bBox(V.node())||{width:0,height:0},Z=l.lineCount(V);ne.currentValueMaxWidth=Math.max(ne.currentValueMaxWidth,Math.ceil(N.width)),ne.currentValueHeight=Math.max(ne.currentValueHeight,Math.ceil(N.height)),ne.currentValueMaxLines=Math.max(ne.currentValueMaxLines,Z)}),ne.currentValueTotalHeight=ne.currentValueHeight+O.currentvalue.offset,C.remove()}ne.height=ne.currentValueTotalHeight+t.tickOffset+O.ticklen+t.labelOffset+ne.labelHeight+O.pad.t+O.pad.b;var I="left";e.isRightAnchor(O)&&(ne.lx-=ne.outerLength,I="right"),e.isCenterAnchor(O)&&(ne.lx-=ne.outerLength/2,I="center");var L="top";e.isBottomAnchor(O)&&(ne.ly-=ne.height,L="bottom"),e.isMiddleAnchor(O)&&(ne.ly-=ne.height/2,L="middle"),ne.outerLength=Math.ceil(ne.outerLength),ne.height=Math.ceil(ne.height),ne.lx=Math.round(ne.lx),ne.ly=Math.round(ne.ly);var P={y:O.y,b:ne.height*g[L],t:ne.height*h[L]};O.lenmode==="fraction"?(P.l=0,P.xl=O.x-O.len*h[I],P.r=0,P.xr=O.x+O.len*g[I]):(P.x=O.x,P.l=ne.outerLength*h[I],P.r=ne.outerLength*g[I]),n.autoMargin(R,m(O),P)}function f(R,O,U){(U.steps[U.active]||{}).visible||(U.active=U._visibleSteps[0]._index),O.call(b,U).call(ie,U).call(k,U).call(E,U).call(X,R,U).call(d,R,U);var K=U._dims;s.setTranslate(O,K.lx+U.pad.l,K.ly+U.pad.t),O.call(z,U,!1),O.call(b,U)}function b(R,O,U){if(!!O.currentvalue.visible){var K=O._dims,ee,ne;switch(O.currentvalue.xanchor){case"right":ee=K.inputAreaLength-t.currentValueInset-K.currentValueMaxWidth,ne="left";break;case"center":ee=K.inputAreaLength*.5,ne="middle";break;default:ee=t.currentValueInset,ne="left"}var me=e.ensureSingle(R,"text",t.labelClass,function(L){L.attr({"text-anchor":ne,"data-notex":1})}),pe=O.currentvalue.prefix?O.currentvalue.prefix:"";if(typeof U=="string")pe+=U;else{var be=O.steps[O.active].label,ve=O._gd._fullLayout._meta;ve&&(be=e.templateString(be,ve)),pe+=be}O.currentvalue.suffix&&(pe+=O.currentvalue.suffix),me.call(s.font,O.currentvalue.font).text(pe).call(l.convertToTspans,O._gd);var C=l.lineCount(me),I=(K.currentValueMaxLines+1-C)*O.currentvalue.font.size*p;return l.positionText(me,ee,I),me}}function d(R,O,U){var K=e.ensureSingle(R,"rect",t.gripRectClass,function(ee){ee.call(S,O,R,U).style("pointer-events","all")});K.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(c.stroke,U.bordercolor).call(c.fill,U.bgcolor).style("stroke-width",U.borderwidth+"px")}function T(R,O,U){var K=e.ensureSingle(R,"text",t.labelClass,function(me){me.attr({"text-anchor":"middle","data-notex":1})}),ee=O.step.label,ne=U._gd._fullLayout._meta;return ne&&(ee=e.templateString(ee,ne)),K.call(s.font,U.font).text(ee).call(l.convertToTspans,U._gd),K}function k(R,O){var U=e.ensureSingle(R,"g",t.labelsClass),K=O._dims,ee=U.selectAll("g."+t.labelGroupClass).data(K.labelSteps);ee.enter().append("g").classed(t.labelGroupClass,!0),ee.exit().remove(),ee.each(function(ne){var me=i.select(this);me.call(T,ne,O),s.setTranslate(me,H(O,ne.fraction),t.tickOffset+O.ticklen+O.font.size*p+t.labelOffset+K.currentValueTotalHeight)})}function F(R,O,U,K,ee){var ne=Math.round(K*(U._stepCount-1)),me=U._visibleSteps[ne]._index;me!==U.active&&M(R,O,U,me,!0,ee)}function M(R,O,U,K,ee,ne){var me=U.active;U.active=K,a(R.layout,t.name,U).applyUpdate("active",K);var pe=U.steps[U.active];O.call(z,U,ne),O.call(b,U),R.emit("plotly_sliderchange",{slider:U,step:U.steps[U.active],interaction:ee,previousActive:me}),pe&&pe.method&&ee&&(O._nextMethod?(O._nextMethod.step=pe,O._nextMethod.doCallback=ee,O._nextMethod.doTransition=ne):(O._nextMethod={step:pe,doCallback:ee,doTransition:ne},O._nextMethodRaf=window.requestAnimationFrame(function(){var be=O._nextMethod.step;!be.method||(be.execute&&n.executeAPICommand(R,be.method,be.args),O._nextMethod=null,O._nextMethodRaf=null)})))}function S(R,O,U){var K=U.node(),ee=i.select(O);function ne(){return U.data()[0]}function me(){var pe=ne();O.emit("plotly_sliderstart",{slider:pe});var be=U.select("."+t.gripRectClass);i.event.stopPropagation(),i.event.preventDefault(),be.call(c.fill,pe.activebgcolor);var ve=Q(pe,i.mouse(K)[0]);F(O,U,pe,ve,!0),pe._dragging=!0;function C(){var L=ne(),P=Q(L,i.mouse(K)[0]);F(O,U,L,P,!1)}ee.on("mousemove",C),ee.on("touchmove",C);function I(){var L=ne();L._dragging=!1,be.call(c.fill,L.bgcolor),ee.on("mouseup",null),ee.on("mousemove",null),ee.on("touchend",null),ee.on("touchmove",null),O.emit("plotly_sliderend",{slider:L,step:L.steps[L.active]})}ee.on("mouseup",I),ee.on("touchend",I)}R.on("mousedown",me),R.on("touchstart",me)}function E(R,O){var U=R.selectAll("rect."+t.tickRectClass).data(O._visibleSteps),K=O._dims;U.enter().append("rect").classed(t.tickRectClass,!0),U.exit().remove(),U.attr({width:O.tickwidth+"px","shape-rendering":"crispEdges"}),U.each(function(ee,ne){var me=ne%K.labelStride===0,pe=i.select(this);pe.attr({height:me?O.ticklen:O.minorticklen}).call(c.fill,O.tickcolor),s.setTranslate(pe,H(O,ne/(O._stepCount-1))-.5*O.tickwidth,(me?t.tickOffset:t.minorTickOffset)+K.currentValueTotalHeight)})}function A(R){var O=R._dims;O.labelSteps=[];for(var U=R._stepCount,K=0;K<U;K+=O.labelStride)O.labelSteps.push({fraction:K/(U-1),step:R._visibleSteps[K]})}function z(R,O,U){for(var K=R.select("rect."+t.gripRectClass),ee=0,ne=0;ne<O._stepCount;ne++)if(O._visibleSteps[ne]._index===O.active){ee=ne;break}var me=H(O,ee/(O._stepCount-1));if(!O._invokingCommand){var pe=K;U&&O.transition.duration>0&&(pe=pe.transition().duration(O.transition.duration).ease(O.transition.easing)),pe.attr("transform",o(me-t.gripWidth*.5,O._dims.currentValueTotalHeight))}}function H(R,O){var U=R._dims;return U.inputAreaStart+t.stepInset+(U.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,O))}function Q(R,O){var U=R._dims;return Math.min(1,Math.max(0,(O-t.stepInset-U.inputAreaStart)/(U.inputAreaLength-2*t.stepInset-2*U.inputAreaStart)))}function X(R,O,U){var K=U._dims,ee=e.ensureSingle(R,"rect",t.railTouchRectClass,function(ne){ne.call(S,O,R,U).style("pointer-events","all")});ee.attr({width:K.inputAreaLength,height:Math.max(K.inputAreaWidth,t.tickOffset+U.ticklen+K.labelHeight)}).call(c.fill,U.bgcolor).attr("opacity",0),s.setTranslate(ee,0,K.currentValueTotalHeight)}function ie(R,O){var U=O._dims,K=U.inputAreaLength-t.railInset*2,ee=e.ensureSingle(R,"rect",t.railRectClass);ee.attr({width:K,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(c.stroke,O.bordercolor).call(c.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px"),s.setTranslate(ee,t.railInset,(U.inputAreaWidth-t.railWidth)*.5+U.currentValueTotalHeight)}},{"../../constants/alignment":219,"../../lib":244,"../../lib/svg_text_utils":267,"../../plot_api/plot_template":280,"../../plots/plots":325,"../color":103,"../drawing":125,"./constants":208,"@plotly/d3":11}],211:[function(u,te,Y){var i=u("./constants");te.exports={moduleType:"component",name:i.name,layoutAttributes:u("./attributes"),supplyLayoutDefaults:u("./defaults"),draw:u("./draw")}},{"./attributes":207,"./constants":208,"./defaults":209,"./draw":210}],212:[function(u,te,Y){var i=u("@plotly/d3"),n=u("fast-isnumeric"),c=u("../../plots/plots"),s=u("../../registry"),e=u("../../lib"),o=e.strTranslate,l=u("../drawing"),a=u("../color"),t=u("../../lib/svg_text_utils"),v=u("../../constants/interactions"),p=u("../../constants/alignment").OPPOSITE_SIDE,h=/ [XY][0-9]* /;function g(m,w,y){var x=y.propContainer,f=y.propName,b=y.placeholder,d=y.traceIndex,T=y.avoid||{},k=y.attributes,F=y.transform,M=y.containerGroup,S=m._fullLayout,E=1,A=!1,z=x.title,H=(z&&z.text?z.text:"").trim(),Q=z&&z.font?z.font:{},X=Q.family,ie=Q.size,R=Q.color,O;f==="title.text"?O="titleText":f.indexOf("axis")!==-1?O="axisTitleText":f.indexOf("colorbar"!==-1)&&(O="colorbarTitleText");var U=m._context.edits[O];H===""?E=0:H.replace(h," % ")===b.replace(h," % ")&&(E=.2,A=!0,U||(H="")),y._meta?H=e.templateString(H,y._meta):S._meta&&(H=e.templateString(H,S._meta));var K=H||U,ee;M||(M=e.ensureSingle(S._infolayer,"g","g-"+w),ee=S._hColorbarMoveTitle);var ne=M.selectAll("text").data(K?[0]:[]);if(ne.enter().append("text"),ne.text(H).attr("class",w),ne.exit().remove(),!K)return M;function me(C){e.syncOrAsync([pe,be],C)}function pe(C){var I;return!F&&ee&&(F={}),F?(I="",F.rotate&&(I+="rotate("+[F.rotate,k.x,k.y]+")"),(F.offset||ee)&&(I+=o(0,(F.offset||0)-(ee||0)))):I=null,C.attr("transform",I),C.style({"font-family":X,"font-size":i.round(ie,2)+"px",fill:a.rgb(R),opacity:E*a.opacity(R),"font-weight":c.fontWeight}).attr(k).call(t.convertToTspans,m),c.previousPromises(m)}function be(C){var I=i.select(C.node().parentNode);if(T&&T.selection&&T.side&&H){I.attr("transform",null);var L=p[T.side],P=T.side==="left"||T.side==="top"?-1:1,B=n(T.pad)?T.pad:2,V=l.bBox(I.node()),N={left:0,top:0,right:S.width,bottom:S.height},Z=T.maxShift||P*(N[T.side]-V[T.side]),W=0;if(Z<0)W=Z;else{var q=T.offsetLeft||0,re=T.offsetTop||0;V.left-=q,V.right-=q,V.top-=re,V.bottom-=re,T.selection.each(function(){var _e=l.bBox(this);e.bBoxIntersect(V,_e,B)&&(W=Math.max(W,P*(_e[T.side]-V[L])+B))}),W=Math.min(Z,W)}if(W>0||Z<0){var se={left:[-W,0],right:[W,0],top:[0,-W],bottom:[0,W]}[T.side];I.attr("transform",o(se[0],se[1]))}}}ne.call(me);function ve(){E=0,A=!0,ne.text(b).on("mouseover.opacity",function(){i.select(this).transition().duration(v.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){i.select(this).transition().duration(v.HIDE_PLACEHOLDER).style("opacity",0)})}return U&&(H?ne.on(".opacity",null):ve(),ne.call(t.makeEditable,{gd:m}).on("edit",function(C){d!==void 0?s.call("_guiRestyle",m,f,C,d):s.call("_guiRelayout",m,f,C)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(me)}).on("input",function(C){this.text(C||" ").call(t.positionText,k.x,k.y)})),ne.classed("js-placeholder",A),M}te.exports={draw:g}},{"../../constants/alignment":219,"../../constants/interactions":223,"../../lib":244,"../../lib/svg_text_utils":267,"../../plots/plots":325,"../../registry":327,"../color":103,"../drawing":125,"@plotly/d3":11,"fast-isnumeric":17}],213:[function(u,te,Y){var i=u("../../plots/font_attributes"),n=u("../color/attributes"),c=u("../../lib/extend").extendFlat,s=u("../../plot_api/edit_types").overrideAll,e=u("../../plots/pad_attributes"),o=u("../../plot_api/plot_template").templatedArray,l=o("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});te.exports=s(o("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:l,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:c(e({editType:"arraydraw"}),{}),font:i({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:n.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":238,"../../plot_api/edit_types":273,"../../plot_api/plot_template":280,"../../plots/font_attributes":319,"../../plots/pad_attributes":324,"../color/attributes":102}],214:[function(u,te,Y){te.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}},{}],215:[function(u,te,Y){var i=u("../../lib"),n=u("../../plots/array_container_defaults"),c=u("./attributes"),s=u("./constants"),e=s.name,o=c.buttons;te.exports=function(v,p){var h={name:e,handleItemDefaults:l};n(v,p,h)};function l(t,v,p){function h(w,y){return i.coerce(t,v,c,w,y)}var g=n(t,v,{name:"buttons",handleItemDefaults:a}),m=h("visible",g.length>0);!m||(h("active"),h("direction"),h("type"),h("showactive"),h("x"),h("y"),i.noneOrAll(t,v,["x","y"]),h("xanchor"),h("yanchor"),h("pad.t"),h("pad.r"),h("pad.b"),h("pad.l"),i.coerceFont(h,"font",p.font),h("bgcolor",p.paper_bgcolor),h("bordercolor"),h("borderwidth"))}function a(t,v){function p(g,m){return i.coerce(t,v,o,g,m)}var h=p("visible",t.method==="skip"||Array.isArray(t.args));h&&(p("method"),p("args"),p("args2"),p("label"),p("execute"))}},{"../../lib":244,"../../plots/array_container_defaults":286,"./attributes":213,"./constants":214}],216:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../plots/plots"),c=u("../color"),s=u("../drawing"),e=u("../../lib"),o=u("../../lib/svg_text_utils"),l=u("../../plot_api/plot_template").arrayEditor,a=u("../../constants/alignment").LINE_SPACING,t=u("./constants"),v=u("./scrollbox");te.exports=function(Q){var X=Q._fullLayout,ie=e.filterVisible(X[t.name]);function R(be){n.autoMargin(Q,E(be))}var O=X._menulayer.selectAll("g."+t.containerClassName).data(ie.length>0?[0]:[]);if(O.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),O.exit().each(function(){i.select(this).selectAll("g."+t.headerGroupClassName).each(R)}).remove(),ie.length!==0){var U=O.selectAll("g."+t.headerGroupClassName).data(ie,p);U.enter().append("g").classed(t.headerGroupClassName,!0);for(var K=e.ensureSingle(O,"g",t.dropdownButtonGroupClassName,function(be){be.style("pointer-events","all")}),ee=0;ee<ie.length;ee++){var ne=ie[ee];S(Q,ne)}var me="updatemenus"+X._uid,pe=new v(Q,K,me);U.enter().size()&&(K.node().parentNode.appendChild(K.node()),K.call(z)),U.exit().each(function(be){K.call(z),R(be)}).remove(),U.each(function(be){var ve=i.select(this),C=be.type==="dropdown"?K:null;n.manageCommandObserver(Q,be,be.buttons,function(I){m(Q,be,be.buttons[I.index],ve,C,pe,I.index,!0)}),be.type==="dropdown"?(w(Q,ve,K,pe,be),g(K,be)&&y(Q,ve,K,pe,be)):y(Q,ve,null,null,be)})}};function p(H){return H._index}function h(H){return+H.attr(t.menuIndexAttrName)==-1}function g(H,Q){return+H.attr(t.menuIndexAttrName)===Q._index}function m(H,Q,X,ie,R,O,U,K){Q.active=U,l(H.layout,t.name,Q).applyUpdate("active",U),Q.type==="buttons"?y(H,ie,null,null,Q):Q.type==="dropdown"&&(R.attr(t.menuIndexAttrName,"-1"),w(H,ie,R,O,Q),K||y(H,ie,R,O,Q))}function w(H,Q,X,ie,R){var O=e.ensureSingle(Q,"g",t.headerClassName,function(be){be.style("pointer-events","all")}),U=R._dims,K=R.active,ee=R.buttons[K]||t.blankHeaderOpts,ne={y:R.pad.t,yPad:0,x:R.pad.l,xPad:0,index:0},me={width:U.headerWidth,height:U.headerHeight};O.call(b,R,ee,H).call(A,R,ne,me);var pe=e.ensureSingle(Q,"text",t.headerArrowClassName,function(be){be.attr("text-anchor","end").call(s.font,R.font).text(t.arrowSymbol[R.direction])});pe.attr({x:U.headerWidth-t.arrowOffsetX+R.pad.l,y:U.headerHeight/2+t.textOffsetY+R.pad.t}),O.on("click",function(){X.call(z,String(g(X,R)?-1:R._index)),y(H,Q,X,ie,R)}),O.on("mouseover",function(){O.call(F)}),O.on("mouseout",function(){O.call(M,R)}),s.setTranslate(Q,U.lx,U.ly)}function y(H,Q,X,ie,R){X||(X=Q,X.attr("pointer-events","all"));var O=!h(X)||R.type==="buttons"?R.buttons:[],U=R.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,K=X.selectAll("g."+U).data(e.filterVisible(O)),ee=K.enter().append("g").classed(U,!0),ne=K.exit();R.type==="dropdown"?(ee.attr("opacity","0").transition().attr("opacity","1"),ne.transition().attr("opacity","0").remove()):ne.remove();var me=0,pe=0,be=R._dims,ve=["up","down"].indexOf(R.direction)!==-1;R.type==="dropdown"&&(ve?pe=be.headerHeight+t.gapButtonHeader:me=be.headerWidth+t.gapButtonHeader),R.type==="dropdown"&&R.direction==="up"&&(pe=-t.gapButtonHeader+t.gapButton-be.openHeight),R.type==="dropdown"&&R.direction==="left"&&(me=-t.gapButtonHeader+t.gapButton-be.openWidth);var C={x:be.lx+me+R.pad.l,y:be.ly+pe+R.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},I={l:C.x+R.borderwidth,t:C.y+R.borderwidth};K.each(function(L,P){var B=i.select(this);B.call(b,R,L,H).call(A,R,C),B.on("click",function(){i.event.defaultPrevented||(L.execute&&(L.args2&&R.active===P?(m(H,R,L,Q,X,ie,-1),n.executeAPICommand(H,L.method,L.args2)):(m(H,R,L,Q,X,ie,P),n.executeAPICommand(H,L.method,L.args))),H.emit("plotly_buttonclicked",{menu:R,button:L,active:R.active}))}),B.on("mouseover",function(){B.call(F)}),B.on("mouseout",function(){B.call(M,R),K.call(k,R)})}),K.call(k,R),ve?(I.w=Math.max(be.openWidth,be.headerWidth),I.h=C.y-I.t):(I.w=C.x-I.l,I.h=Math.max(be.openHeight,be.headerHeight)),I.direction=R.direction,ie&&(K.size()?x(H,Q,X,ie,R,I):f(ie))}function x(H,Q,X,ie,R,O){var U=R.direction,K=U==="up"||U==="down",ee=R._dims,ne=R.active,me,pe,be;if(K)for(pe=0,be=0;be<ne;be++)pe+=ee.heights[be]+t.gapButton;else for(me=0,be=0;be<ne;be++)me+=ee.widths[be]+t.gapButton;ie.enable(O,me,pe),ie.hbar&&ie.hbar.attr("opacity","0").transition().attr("opacity","1"),ie.vbar&&ie.vbar.attr("opacity","0").transition().attr("opacity","1")}function f(H){var Q=!!H.hbar,X=!!H.vbar;Q&&H.hbar.transition().attr("opacity","0").each("end",function(){Q=!1,X||H.disable()}),X&&H.vbar.transition().attr("opacity","0").each("end",function(){X=!1,Q||H.disable()})}function b(H,Q,X,ie){H.call(d,Q).call(T,Q,X,ie)}function d(H,Q){var X=e.ensureSingle(H,"rect",t.itemRectClassName,function(ie){ie.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});X.call(c.stroke,Q.bordercolor).call(c.fill,Q.bgcolor).style("stroke-width",Q.borderwidth+"px")}function T(H,Q,X,ie){var R=e.ensureSingle(H,"text",t.itemTextClassName,function(K){K.attr({"text-anchor":"start","data-notex":1})}),O=X.label,U=ie._fullLayout._meta;U&&(O=e.templateString(O,U)),R.call(s.font,Q.font).text(O).call(o.convertToTspans,ie)}function k(H,Q){var X=Q.active;H.each(function(ie,R){var O=i.select(this);R===X&&Q.showactive&&O.select("rect."+t.itemRectClassName).call(c.fill,t.activeColor)})}function F(H){H.select("rect."+t.itemRectClassName).call(c.fill,t.hoverColor)}function M(H,Q){H.select("rect."+t.itemRectClassName).call(c.fill,Q.bgcolor)}function S(H,Q){var X=Q._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},ie=s.tester.selectAll("g."+t.dropdownButtonClassName).data(e.filterVisible(Q.buttons));ie.enter().append("g").classed(t.dropdownButtonClassName,!0);var R=["up","down"].indexOf(Q.direction)!==-1;ie.each(function(me,pe){var be=i.select(this);be.call(b,Q,me,H);var ve=be.select("."+t.itemTextClassName),C=ve.node()&&s.bBox(ve.node()).width,I=Math.max(C+t.textPadX,t.minWidth),L=Q.font.size*a,P=o.lineCount(ve),B=Math.max(L*P,t.minHeight)+t.textOffsetY;B=Math.ceil(B),I=Math.ceil(I),X.widths[pe]=I,X.heights[pe]=B,X.height1=Math.max(X.height1,B),X.width1=Math.max(X.width1,I),R?(X.totalWidth=Math.max(X.totalWidth,I),X.openWidth=X.totalWidth,X.totalHeight+=B+t.gapButton,X.openHeight+=B+t.gapButton):(X.totalWidth+=I+t.gapButton,X.openWidth+=I+t.gapButton,X.totalHeight=Math.max(X.totalHeight,B),X.openHeight=X.totalHeight)}),R?X.totalHeight-=t.gapButton:X.totalWidth-=t.gapButton,X.headerWidth=X.width1+t.arrowPadX,X.headerHeight=X.height1,Q.type==="dropdown"&&(R?(X.width1+=t.arrowPadX,X.totalHeight=X.height1):X.totalWidth=X.width1,X.totalWidth+=t.arrowPadX),ie.remove();var O=X.totalWidth+Q.pad.l+Q.pad.r,U=X.totalHeight+Q.pad.t+Q.pad.b,K=H._fullLayout._size;X.lx=K.l+K.w*Q.x,X.ly=K.t+K.h*(1-Q.y);var ee="left";e.isRightAnchor(Q)&&(X.lx-=O,ee="right"),e.isCenterAnchor(Q)&&(X.lx-=O/2,ee="center");var ne="top";e.isBottomAnchor(Q)&&(X.ly-=U,ne="bottom"),e.isMiddleAnchor(Q)&&(X.ly-=U/2,ne="middle"),X.totalWidth=Math.ceil(X.totalWidth),X.totalHeight=Math.ceil(X.totalHeight),X.lx=Math.round(X.lx),X.ly=Math.round(X.ly),n.autoMargin(H,E(Q),{x:Q.x,y:Q.y,l:O*({right:1,center:.5}[ee]||0),r:O*({left:1,center:.5}[ee]||0),b:U*({top:1,middle:.5}[ne]||0),t:U*({bottom:1,middle:.5}[ne]||0)})}function E(H){return t.autoMarginIdRoot+H._index}function A(H,Q,X,ie){ie=ie||{};var R=H.select("."+t.itemRectClassName),O=H.select("."+t.itemTextClassName),U=Q.borderwidth,K=X.index,ee=Q._dims;s.setTranslate(H,U+X.x,U+X.y);var ne=["up","down"].indexOf(Q.direction)!==-1,me=ie.height||(ne?ee.heights[K]:ee.height1);R.attr({x:0,y:0,width:ie.width||(ne?ee.width1:ee.widths[K]),height:me});var pe=Q.font.size*a,be=o.lineCount(O),ve=(be-1)*pe/2;o.positionText(O,t.textOffsetX,me/2-ve+t.textOffsetY),ne?X.y+=ee.heights[K]+X.yPad:X.x+=ee.widths[K]+X.xPad,X.index++}function z(H,Q){H.attr(t.menuIndexAttrName,Q||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},{"../../constants/alignment":219,"../../lib":244,"../../lib/svg_text_utils":267,"../../plot_api/plot_template":280,"../../plots/plots":325,"../color":103,"../drawing":125,"./constants":214,"./scrollbox":218,"@plotly/d3":11}],217:[function(u,te,Y){arguments[4][211][0].apply(Y,arguments)},{"./attributes":213,"./constants":214,"./defaults":215,"./draw":216,dup:211}],218:[function(u,te,Y){te.exports=e;var i=u("@plotly/d3"),n=u("../color"),c=u("../drawing"),s=u("../../lib");function e(o,l,a){this.gd=o,this.container=l,this.id=a,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}e.barWidth=2,e.barLength=20,e.barRadius=2,e.barPad=1,e.barColor="#808BA4",e.prototype.enable=function(l,a,t){var v=this.gd._fullLayout,p=v.width,h=v.height;this.position=l;var g=this.position.l,m=this.position.w,w=this.position.t,y=this.position.h,x=this.position.direction,f=x==="down",b=x==="left",d=x==="right",T=x==="up",k=m,F=y,M,S,E,A;!f&&!b&&!d&&!T&&(this.position.direction="down",f=!0);var z=f||T;z?(M=g,S=M+k,f?(E=w,A=Math.min(E+F,h),F=A-E):(A=w+F,E=Math.max(A-F,0),F=A-E)):(E=w,A=E+F,b?(S=g+k,M=Math.max(S-k,0),k=S-M):(M=g,S=Math.min(M+k,p),k=S-M)),this._box={l:M,t:E,w:k,h:F};var H=m>k,Q=e.barLength+2*e.barPad,X=e.barWidth+2*e.barPad,ie=g,R=w+y;R+X>h&&(R=h-X);var O=this.container.selectAll("rect.scrollbar-horizontal").data(H?[0]:[]);O.exit().on(".drag",null).remove(),O.enter().append("rect").classed("scrollbar-horizontal",!0).call(n.fill,e.barColor),H?(this.hbar=O.attr({rx:e.barRadius,ry:e.barRadius,x:ie,y:R,width:Q,height:X}),this._hbarXMin=ie+Q/2,this._hbarTranslateMax=k-Q):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var U=y>F,K=e.barWidth+2*e.barPad,ee=e.barLength+2*e.barPad,ne=g+m,me=w;ne+K>p&&(ne=p-K);var pe=this.container.selectAll("rect.scrollbar-vertical").data(U?[0]:[]);pe.exit().on(".drag",null).remove(),pe.enter().append("rect").classed("scrollbar-vertical",!0).call(n.fill,e.barColor),U?(this.vbar=pe.attr({rx:e.barRadius,ry:e.barRadius,x:ne,y:me,width:K,height:ee}),this._vbarYMin=me+ee/2,this._vbarTranslateMax=F-ee):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var be=this.id,ve=M-.5,C=U?S+K+.5:S+.5,I=E-.5,L=H?A+X+.5:A+.5,P=v._topdefs.selectAll("#"+be).data(H||U?[0]:[]);if(P.exit().remove(),P.enter().append("clipPath").attr("id",be).append("rect"),H||U?(this._clipRect=P.select("rect").attr({x:Math.floor(ve),y:Math.floor(I),width:Math.ceil(C)-Math.floor(ve),height:Math.ceil(L)-Math.floor(I)}),this.container.call(c.setClipUrl,be,this.gd),this.bg.attr({x:g,y:w,width:m,height:y})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(c.setClipUrl,null),delete this._clipRect),H||U){var B=i.behavior.drag().on("dragstart",function(){i.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(B);var V=i.behavior.drag().on("dragstart",function(){i.event.sourceEvent.preventDefault(),i.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));H&&this.hbar.on(".drag",null).call(V),U&&this.vbar.on(".drag",null).call(V)}this.setTranslate(a,t)},e.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(c.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},e.prototype._onBoxDrag=function(){var l=this.translateX,a=this.translateY;this.hbar&&(l-=i.event.dx),this.vbar&&(a-=i.event.dy),this.setTranslate(l,a)},e.prototype._onBoxWheel=function(){var l=this.translateX,a=this.translateY;this.hbar&&(l+=i.event.deltaY),this.vbar&&(a+=i.event.deltaY),this.setTranslate(l,a)},e.prototype._onBarDrag=function(){var l=this.translateX,a=this.translateY;if(this.hbar){var t=l+this._hbarXMin,v=t+this._hbarTranslateMax,p=s.constrain(i.event.x,t,v),h=(p-t)/(v-t),g=this.position.w-this._box.w;l=h*g}if(this.vbar){var m=a+this._vbarYMin,w=m+this._vbarTranslateMax,y=s.constrain(i.event.y,m,w),x=(y-m)/(w-m),f=this.position.h-this._box.h;a=x*f}this.setTranslate(l,a)},e.prototype.setTranslate=function(l,a){var t=this.position.w-this._box.w,v=this.position.h-this._box.h;if(l=s.constrain(l||0,0,t),a=s.constrain(a||0,0,v),this.translateX=l,this.translateY=a,this.container.call(c.setTranslate,this._box.l-this.position.l-l,this._box.t-this.position.t-a),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+l-.5),y:Math.floor(this.position.t+a-.5)}),this.hbar){var p=l/t;this.hbar.call(c.setTranslate,l+p*this._hbarTranslateMax,a)}if(this.vbar){var h=a/v;this.vbar.call(c.setTranslate,l,a+h*this._vbarTranslateMax)}}},{"../../lib":244,"../color":103,"../drawing":125,"@plotly/d3":11}],219:[function(u,te,Y){te.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],220:[function(u,te,Y){te.exports={axisRefDescription:function(i,n,c){return["If set to a",i,"axis id (e.g. *"+i+"* or","*"+i+"2*), the `"+i+"` position refers to a",i,"coordinate. If set to *paper*, the `"+i+"`","position refers to the distance from the",n,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",n,"("+c+"). If set to a",i,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",n,"of the domain of that axis: e.g.,","*"+i+"2 domain* refers to the domain of the second",i," axis and a",i,"position of 0.5 refers to the","point between the",n,"and the",c,"of the domain of the","second",i,"axis."].join(" ")}}},{}],221:[function(u,te,Y){te.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},{}],222:[function(u,te,Y){te.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],223:[function(u,te,Y){te.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],224:[function(u,te,Y){te.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},{}],225:[function(u,te,Y){Y.xmlns="http://www.w3.org/2000/xmlns/",Y.svg="http://www.w3.org/2000/svg",Y.xlink="http://www.w3.org/1999/xlink",Y.svgAttrs={xmlns:Y.svg,"xmlns:xlink":Y.xlink}},{}],226:[function(u,te,Y){Y.version=u("./version").version,u("native-promise-only"),u("../build/plotcss");for(var i=u("./registry"),n=Y.register=i.register,c=u("./plot_api"),s=Object.keys(c),e=0;e<s.length;e++){var o=s[e];o.charAt(0)!=="_"&&(Y[o]=c[o]),n({moduleType:"apiMethod",name:o,fn:c[o]})}n(u("./traces/scatter")),n([u("./components/legend"),u("./components/fx"),u("./components/annotations"),u("./components/annotations3d"),u("./components/selections"),u("./components/shapes"),u("./components/images"),u("./components/updatemenus"),u("./components/sliders"),u("./components/rangeslider"),u("./components/rangeselector"),u("./components/grid"),u("./components/errorbars"),u("./components/colorscale"),u("./components/colorbar"),u("./components/modebar")]),n([u("./locale-en"),u("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(n(window.PlotlyLocales),delete window.PlotlyLocales),Y.Icons=u("./fonts/ploticon");var l=u("./components/fx"),a=u("./plots/plots");Y.Plots={resize:a.resize,graphJson:a.graphJson,sendDataToCloud:a.sendDataToCloud},Y.Fx={hover:l.hover,unhover:l.unhover,loneHover:l.loneHover,loneUnhover:l.loneUnhover},Y.Snapshot=u("./snapshot"),Y.PlotSchema=u("./plot_api/plot_schema")},{"../build/plotcss":1,"./components/annotations":94,"./components/annotations3d":99,"./components/colorbar":109,"./components/colorscale":115,"./components/errorbars":131,"./components/fx":143,"./components/grid":147,"./components/images":152,"./components/legend":160,"./components/modebar":166,"./components/rangeselector":174,"./components/rangeslider":181,"./components/selections":191,"./components/shapes":206,"./components/sliders":211,"./components/updatemenus":217,"./fonts/ploticon":227,"./locale-en":271,"./locale-en-us":270,"./plot_api":275,"./plot_api/plot_schema":279,"./plots/plots":325,"./registry":327,"./snapshot":332,"./traces/scatter":379,"./version":400,"native-promise-only":54}],227:[function(u,te,Y){te.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},{}],228:[function(u,te,Y){Y.isLeftAnchor=function(n){return n.xanchor==="left"||n.xanchor==="auto"&&n.x<=1/3},Y.isCenterAnchor=function(n){return n.xanchor==="center"||n.xanchor==="auto"&&n.x>1/3&&n.x<2/3},Y.isRightAnchor=function(n){return n.xanchor==="right"||n.xanchor==="auto"&&n.x>=2/3},Y.isTopAnchor=function(n){return n.yanchor==="top"||n.yanchor==="auto"&&n.y>=2/3},Y.isMiddleAnchor=function(n){return n.yanchor==="middle"||n.yanchor==="auto"&&n.y>1/3&&n.y<2/3},Y.isBottomAnchor=function(n){return n.yanchor==="bottom"||n.yanchor==="auto"&&n.y<=1/3}},{}],229:[function(u,te,Y){var i=u("./mod"),n=i.mod,c=i.modHalf,s=Math.PI,e=2*s;function o(x){return x/180*s}function l(x){return x/s*180}function a(x){return Math.abs(x[1]-x[0])>e-1e-14}function t(x,f){return c(f-x,e)}function v(x,f){return Math.abs(t(x,f))}function p(x,f){if(a(f))return!0;var b,d;f[0]<f[1]?(b=f[0],d=f[1]):(b=f[1],d=f[0]),b=n(b,e),d=n(d,e),b>d&&(d+=e);var T=n(x,e),k=T+e;return T>=b&&T<=d||k>=b&&k<=d}function h(x,f,b,d){if(!p(f,d))return!1;var T,k;return b[0]<b[1]?(T=b[0],k=b[1]):(T=b[1],k=b[0]),x>=T&&x<=k}function g(x,f,b,d,T,k,F){T=T||0,k=k||0;var M=a([b,d]),S,E,A,z,H;M?(S=0,E=s,A=e):b<d?(S=b,A=d):(S=d,A=b),x<f?(z=x,H=f):(z=f,H=x);function Q(O,U){return[O*Math.cos(U)+T,k-O*Math.sin(U)]}var X=Math.abs(A-S)<=s?0:1;function ie(O,U,K){return"A"+[O,O]+" "+[0,X,K]+" "+Q(O,U)}var R;return M?z===null?R="M"+Q(H,S)+ie(H,E,0)+ie(H,A,0)+"Z":R="M"+Q(z,S)+ie(z,E,0)+ie(z,A,0)+"ZM"+Q(H,S)+ie(H,E,1)+ie(H,A,1)+"Z":z===null?(R="M"+Q(H,S)+ie(H,A,0),F&&(R+="L0,0Z")):R="M"+Q(z,S)+"L"+Q(H,S)+ie(H,A,0)+"L"+Q(z,A)+ie(z,S,1)+"Z",R}function m(x,f,b,d,T){return g(null,x,f,b,d,T,0)}function w(x,f,b,d,T){return g(null,x,f,b,d,T,1)}function y(x,f,b,d,T,k){return g(x,f,b,d,T,k,1)}te.exports={deg2rad:o,rad2deg:l,angleDelta:t,angleDist:v,isFullCircle:a,isAngleInsideSector:p,isPtInsideSector:h,pathArc:m,pathSector:w,pathAnnulus:y}},{"./mod":251}],230:[function(u,te,Y){var i=Array.isArray,n=ArrayBuffer,c=DataView;function s(a){return n.isView(a)&&!(a instanceof c)}Y.isTypedArray=s;function e(a){return i(a)||s(a)}Y.isArrayOrTypedArray=e;function o(a){return!e(a[0])}Y.isArray1D=o,Y.ensureArray=function(a,t){return i(a)||(a=[]),a.length=t,a},Y.concat=function(){var a=[],t=!0,v=0,p,h,g,m,w,y,x,f;for(g=0;g<arguments.length;g++)m=arguments[g],y=m.length,y&&(h?a.push(m):(h=m,w=y),i(m)?p=!1:(t=!1,v?p!==m.constructor&&(p=!1):p=m.constructor),v+=y);if(!v)return[];if(!a.length)return h;if(t)return h.concat.apply(h,a);if(p){for(x=new p(v),x.set(h),g=0;g<a.length;g++)m=a[g],x.set(m,w),w+=m.length;return x}for(x=new Array(v),f=0;f<h.length;f++)x[f]=h[f];for(g=0;g<a.length;g++){for(m=a[g],f=0;f<m.length;f++)x[w+f]=m[f];w+=f}return x},Y.maxRowLength=function(a){return l(a,Math.max,0)},Y.minRowLength=function(a){return l(a,Math.min,1/0)};function l(a,t,v){if(e(a))if(e(a[0])){for(var p=v,h=0;h<a.length;h++)p=t(p,a[h].length);return p}else return a.length;return 0}},{}],231:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("../constants/numerical").BADNUM,c=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;te.exports=function(e){return typeof e=="string"&&(e=e.replace(c,"")),i(e)?Number(e):n}},{"../constants/numerical":224,"fast-isnumeric":17}],232:[function(u,te,Y){te.exports=function(n){var c=n._fullLayout;c._glcanvas&&c._glcanvas.size()&&c._glcanvas.each(function(s){s.regl&&s.regl.clear({color:!0,depth:!0})})}},{}],233:[function(u,te,Y){te.exports=function(n){n._responsiveChartHandler&&(window.removeEventListener("resize",n._responsiveChartHandler),delete n._responsiveChartHandler)}},{}],234:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("tinycolor2"),c=u("../plots/attributes"),s=u("../components/colorscale/scales"),e=u("../components/color"),o=u("../constants/interactions").DESELECTDIM,l=u("./nested_property"),a=u("./regex").counter,t=u("./mod").modHalf,v=u("./array").isArrayOrTypedArray;Y.valObjectMeta={data_array:{coerceFunction:function(h,g,m){v(h)?g.set(h):m!==void 0&&g.set(m)}},enumerated:{coerceFunction:function(h,g,m,w){w.coerceNumber&&(h=+h),w.values.indexOf(h)===-1?g.set(m):g.set(h)},validateFunction:function(h,g){g.coerceNumber&&(h=+h);for(var m=g.values,w=0;w<m.length;w++){var y=String(m[w]);if(y.charAt(0)==="/"&&y.charAt(y.length-1)==="/"){var x=new RegExp(y.substr(1,y.length-2));if(x.test(h))return!0}else if(h===m[w])return!0}return!1}},boolean:{coerceFunction:function(h,g,m){h===!0||h===!1?g.set(h):g.set(m)}},number:{coerceFunction:function(h,g,m,w){!i(h)||w.min!==void 0&&h<w.min||w.max!==void 0&&h>w.max?g.set(m):g.set(+h)}},integer:{coerceFunction:function(h,g,m,w){h%1||!i(h)||w.min!==void 0&&h<w.min||w.max!==void 0&&h>w.max?g.set(m):g.set(+h)}},string:{coerceFunction:function(h,g,m,w){if(typeof h!="string"){var y=typeof h=="number";w.strict===!0||!y?g.set(m):g.set(String(h))}else w.noBlank&&!h?g.set(m):g.set(h)}},color:{coerceFunction:function(h,g,m){n(h).isValid()?g.set(h):g.set(m)}},colorlist:{coerceFunction:function(h,g,m){function w(y){return n(y).isValid()}!Array.isArray(h)||!h.length?g.set(m):h.every(w)?g.set(h):g.set(m)}},colorscale:{coerceFunction:function(h,g,m){g.set(s.get(h,m))}},angle:{coerceFunction:function(h,g,m){h==="auto"?g.set("auto"):i(h)?g.set(t(+h,360)):g.set(m)}},subplotid:{coerceFunction:function(h,g,m,w){var y=w.regex||a(m);if(typeof h=="string"&&y.test(h)){g.set(h);return}g.set(m)},validateFunction:function(h,g){var m=g.dflt;return h===m?!0:typeof h!="string"?!1:!!a(m).test(h)}},flaglist:{coerceFunction:function(h,g,m,w){if((w.extras||[]).indexOf(h)!==-1){g.set(h);return}if(typeof h!="string"){g.set(m);return}for(var y=h.split("+"),x=0;x<y.length;){var f=y[x];w.flags.indexOf(f)===-1||y.indexOf(f)<x?y.splice(x,1):x++}y.length?g.set(y.join("+")):g.set(m)}},any:{coerceFunction:function(h,g,m){h===void 0?g.set(m):g.set(h)}},info_array:{coerceFunction:function(h,g,m,w){function y(Q,X,ie){var R,O={set:function(U){R=U}};return ie===void 0&&(ie=X.dflt),Y.valObjectMeta[X.valType].coerceFunction(Q,O,ie,X),R}var x=w.dimensions===2||w.dimensions==="1-2"&&Array.isArray(h)&&Array.isArray(h[0]);if(!Array.isArray(h)){g.set(m);return}var f=w.items,b=[],d=Array.isArray(f),T=d&&x&&Array.isArray(f[0]),k=x&&d&&!T,F=d&&!k?f.length:h.length,M,S,E,A,z,H;if(m=Array.isArray(m)?m:[],x)for(M=0;M<F;M++)for(b[M]=[],E=Array.isArray(h[M])?h[M]:[],k?z=f.length:d?z=f[M].length:z=E.length,S=0;S<z;S++)k?A=f[S]:d?A=f[M][S]:A=f,H=y(E[S],A,(m[M]||[])[S]),H!==void 0&&(b[M][S]=H);else for(M=0;M<F;M++)H=y(h[M],d?f[M]:f,m[M]),H!==void 0&&(b[M]=H);g.set(b)},validateFunction:function(h,g){if(!Array.isArray(h))return!1;var m=g.items,w=Array.isArray(m),y=g.dimensions===2;if(!g.freeLength&&h.length!==m.length)return!1;for(var x=0;x<h.length;x++)if(y){if(!Array.isArray(h[x])||!g.freeLength&&h[x].length!==m[x].length)return!1;for(var f=0;f<h[x].length;f++)if(!p(h[x][f],w?m[x][f]:m))return!1}else if(!p(h[x],w?m[x]:m))return!1;return!0}}},Y.coerce=function(h,g,m,w,y){var x=l(m,w).get(),f=l(h,w),b=l(g,w),d=f.get(),T=g._template;if(d===void 0&&T&&(d=l(T,w).get(),T=0),y===void 0&&(y=x.dflt),x.arrayOk&&v(d))return b.set(d),d;var k=Y.valObjectMeta[x.valType].coerceFunction;k(d,b,y,x);var F=b.get();return T&&F===y&&!p(d,x)&&(d=l(T,w).get(),k(d,b,y,x),F=b.get()),F},Y.coerce2=function(h,g,m,w,y){var x=l(h,w),f=Y.coerce(h,g,m,w,y),b=x.get();return b!=null?f:!1},Y.coerceFont=function(h,g,m){var w={};return m=m||{},w.family=h(g+".family",m.family),w.size=h(g+".size",m.size),w.color=h(g+".color",m.color),w},Y.coercePattern=function(h,g,m,w){var y=h(g+".shape");if(y){h(g+".solidity"),h(g+".size");var x=h(g+".fillmode"),f=x==="overlay";if(!w){var b=h(g+".bgcolor",f?m:void 0);h(g+".fgcolor",f?e.contrast(b):m)}h(g+".fgopacity",f?.5:1)}},Y.coerceHoverinfo=function(h,g,m){var w=g._module.attributes,y=w.hoverinfo?w:c,x=y.hoverinfo,f;if(m._dataLength===1){var b=x.dflt==="all"?x.flags.slice():x.dflt.split("+");b.splice(b.indexOf("name"),1),f=b.join("+")}return Y.coerce(h,g,y,"hoverinfo",f)},Y.coerceSelectionMarkerOpacity=function(h,g){if(!!h.marker){var m=h.marker.opacity;if(m!==void 0){var w,y;!v(m)&&!h.selected&&!h.unselected&&(w=m,y=o*m),g("selected.marker.opacity",w),g("unselected.marker.opacity",y)}}};function p(h,g){var m=Y.valObjectMeta[g.valType];if(g.arrayOk&&v(h))return!0;if(m.validateFunction)return m.validateFunction(h,g);var w={},y=w,x={set:function(f){y=f}};return m.coerceFunction(h,x,w,g),y!==w}Y.validate=p},{"../components/color":103,"../components/colorscale/scales":118,"../constants/interactions":223,"../plots/attributes":287,"./array":230,"./mod":251,"./nested_property":252,"./regex":260,"fast-isnumeric":17,tinycolor2:68}],235:[function(u,te,Y){var i=u("d3-time-format").timeFormat,n=u("fast-isnumeric"),c=u("./loggers"),s=u("./mod").mod,e=u("../constants/numerical"),o=e.BADNUM,l=e.ONEDAY,a=e.ONEHOUR,t=e.ONEMIN,v=e.ONESEC,p=e.EPOCHJD,h=u("../registry"),g=u("d3-time-format").utcFormat,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,w=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=new Date().getFullYear()-70;function x(R){return R&&h.componentsRegistry.calendars&&typeof R=="string"&&R!=="gregorian"}Y.dateTick0=function(R,O){var U=f(R,!!O);if(O<2)return U;var K=Y.dateTime2ms(U,R);return K+=l*(O-1),Y.ms2DateTime(K,0,R)};function f(R,O){return x(R)?O?h.getComponentMethod("calendars","CANONICAL_SUNDAY")[R]:h.getComponentMethod("calendars","CANONICAL_TICK")[R]:O?"2000-01-02":"2000-01-01"}Y.dfltRange=function(R){return x(R)?h.getComponentMethod("calendars","DFLTRANGE")[R]:["2000-01-01","2001-01-01"]},Y.isJSDate=function(R){return typeof R=="object"&&R!==null&&typeof R.getTime=="function"};var b,d;Y.dateTime2ms=function(R,O){if(Y.isJSDate(R)){var U=R.getTimezoneOffset()*t,K=(R.getUTCMinutes()-R.getMinutes())*t+(R.getUTCSeconds()-R.getSeconds())*v+(R.getUTCMilliseconds()-R.getMilliseconds());if(K){var ee=3*t;U=U-ee/2+s(K-U+ee/2,ee)}return R=Number(R)-U,R>=b&&R<=d?R:o}if(typeof R!="string"&&typeof R!="number")return o;R=String(R);var ne=x(O),me=R.charAt(0);ne&&(me==="G"||me==="g")&&(R=R.substr(1),O="");var pe=ne&&O.substr(0,7)==="chinese",be=R.match(pe?w:m);if(!be)return o;var ve=be[1],C=be[3]||"1",I=Number(be[5]||1),L=Number(be[7]||0),P=Number(be[9]||0),B=Number(be[11]||0);if(ne){if(ve.length===2)return o;ve=Number(ve);var V;try{var N=h.getComponentMethod("calendars","getCal")(O);if(pe){var Z=C.charAt(C.length-1)==="i";C=parseInt(C,10),V=N.newDate(ve,N.toMonthIndex(ve,C,Z),I)}else V=N.newDate(ve,Number(C),I)}catch{return o}return V?(V.toJD()-p)*l+L*a+P*t+B*v:o}ve.length===2?ve=(Number(ve)+2e3-y)%100+y:ve=Number(ve),C-=1;var W=new Date(Date.UTC(2e3,C,I,L,P));return W.setUTCFullYear(ve),W.getUTCMonth()!==C||W.getUTCDate()!==I?o:W.getTime()+B*v},b=Y.MIN_MS=Y.dateTime2ms("-9999"),d=Y.MAX_MS=Y.dateTime2ms("9999-12-31 23:59:59.9999"),Y.isDateTime=function(R,O){return Y.dateTime2ms(R,O)!==o};function T(R,O){return String(R+Math.pow(10,O)).substr(1)}var k=90*l,F=3*a,M=5*t;Y.ms2DateTime=function(R,O,U){if(typeof R!="number"||!(R>=b&&R<=d))return o;O||(O=0);var K=Math.floor(s(R+.05,1)*10),ee=Math.round(R-K/10),ne,me,pe,be,ve,C;if(x(U)){var I=Math.floor(ee/l)+p,L=Math.floor(s(R,l));try{ne=h.getComponentMethod("calendars","getCal")(U).fromJD(I).formatDate("yyyy-mm-dd")}catch{ne=g("G%Y-%m-%d")(new Date(ee))}if(ne.charAt(0)==="-")for(;ne.length<11;)ne="-0"+ne.substr(1);else for(;ne.length<10;)ne="0"+ne;me=O<k?Math.floor(L/a):0,pe=O<k?Math.floor(L%a/t):0,be=O<F?Math.floor(L%t/v):0,ve=O<M?L%v*10+K:0}else C=new Date(ee),ne=g("%Y-%m-%d")(C),me=O<k?C.getUTCHours():0,pe=O<k?C.getUTCMinutes():0,be=O<F?C.getUTCSeconds():0,ve=O<M?C.getUTCMilliseconds()*10+K:0;return S(ne,me,pe,be,ve)},Y.ms2DateTimeLocal=function(R){if(!(R>=b+l&&R<=d-l))return o;var O=Math.floor(s(R+.05,1)*10),U=new Date(Math.round(R-O/10)),K=i("%Y-%m-%d")(U),ee=U.getHours(),ne=U.getMinutes(),me=U.getSeconds(),pe=U.getUTCMilliseconds()*10+O;return S(K,ee,ne,me,pe)};function S(R,O,U,K,ee){if((O||U||K||ee)&&(R+=" "+T(O,2)+":"+T(U,2),(K||ee)&&(R+=":"+T(K,2),ee))){for(var ne=4;ee%10===0;)ne-=1,ee/=10;R+="."+T(ee,ne)}return R}Y.cleanDate=function(R,O,U){if(R===o)return O;if(Y.isJSDate(R)||typeof R=="number"&&isFinite(R)){if(x(U))return c.error("JS Dates and milliseconds are incompatible with world calendars",R),O;if(R=Y.ms2DateTimeLocal(+R),!R&&O!==void 0)return O}else if(!Y.isDateTime(R,U))return c.error("unrecognized date",R),O;return R};var E=/%\d?f/g,A=/%h/g,z={1:"1",2:"1",3:"2",4:"2"};function H(R,O,U,K){R=R.replace(E,function(ne){var me=Math.min(+ne.charAt(1)||6,6),pe=(O/1e3%1+2).toFixed(me).substr(2).replace(/0+$/,"")||"0";return pe});var ee=new Date(Math.floor(O+.05));if(R=R.replace(A,function(){return z[U("%q")(ee)]}),x(K))try{R=h.getComponentMethod("calendars","worldCalFmt")(R,O,K)}catch{return"Invalid"}return U(R)(ee)}var Q=[59,59.9,59.99,59.999,59.9999];function X(R,O){var U=s(R+.05,l),K=T(Math.floor(U/a),2)+":"+T(s(Math.floor(U/t),60),2);if(O!=="M"){n(O)||(O=0);var ee=Math.min(s(R/v,60),Q[O]),ne=(100+ee).toFixed(O).substr(1);O>0&&(ne=ne.replace(/0+$/,"").replace(/[\.]$/,"")),K+=":"+ne}return K}Y.formatDate=function(R,O,U,K,ee,ne){if(ee=x(ee)&&ee,!O)if(U==="y")O=ne.year;else if(U==="m")O=ne.month;else if(U==="d")O=ne.dayMonth+`
`+ne.year;else return X(R,U)+`
`+H(ne.dayMonthYear,R,K,ee);return H(O,R,K,ee)};var ie=3*l;Y.incrementMonth=function(R,O,U){U=x(U)&&U;var K=s(R,l);if(R=Math.round(R-K),U)try{var ee=Math.round(R/l)+p,ne=h.getComponentMethod("calendars","getCal")(U),me=ne.fromJD(ee);return O%12?ne.add(me,O,"m"):ne.add(me,O/12,"y"),(me.toJD()-p)*l+K}catch{c.error("invalid ms "+R+" in calendar "+U)}var pe=new Date(R+ie);return pe.setUTCMonth(pe.getUTCMonth()+O)+K-ie},Y.findExactDates=function(R,O){for(var U=0,K=0,ee=0,ne=0,me,pe,be=x(O)&&h.getComponentMethod("calendars","getCal")(O),ve=0;ve<R.length;ve++){if(pe=R[ve],!n(pe)){ne++;continue}if(!(pe%l))if(be)try{me=be.fromJD(pe/l+p),me.day()===1?me.month()===1?U++:K++:ee++}catch{}else me=new Date(pe),me.getUTCDate()===1?me.getUTCMonth()===0?U++:K++:ee++}K+=U,ee+=K;var C=R.length-ne;return{exactYears:U/C,exactMonths:K/C,exactDays:ee/C}}},{"../constants/numerical":224,"../registry":327,"./loggers":248,"./mod":251,"d3-time-format":14,"fast-isnumeric":17}],236:[function(u,te,Y){var i=u("@plotly/d3"),n=u("./loggers"),c=u("./matrix"),s=u("gl-mat4");function e(y){var x;if(typeof y=="string"){if(x=document.getElementById(y),x===null)throw new Error("No DOM element with id '"+y+"' exists on the page.");return x}else if(y==null)throw new Error("DOM element provided is null or undefined");return y}function o(y){var x=i.select(y);return x.node()instanceof HTMLElement&&x.size()&&x.classed("js-plotly-plot")}function l(y){var x=y&&y.parentNode;x&&x.removeChild(y)}function a(y,x){t("global",y,x)}function t(y,x,f){var b="plotly.js-style-"+y,d=document.getElementById(b);d||(d=document.createElement("style"),d.setAttribute("id",b),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var T=d.sheet;T.insertRule?T.insertRule(x+"{"+f+"}",0):T.addRule?T.addRule(x,f,0):n.warn("addStyleRule failed")}function v(y){var x="plotly.js-style-"+y,f=document.getElementById(x);f&&l(f)}function p(y){var x=g(y),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return x.forEach(function(b){var d=h(b);if(d){var T=c.convertCssMatrix(d);f=s.multiply(f,f,T)}}),f}function h(y){var x=window.getComputedStyle(y,null),f=x.getPropertyValue("-webkit-transform")||x.getPropertyValue("-moz-transform")||x.getPropertyValue("-ms-transform")||x.getPropertyValue("-o-transform")||x.getPropertyValue("transform");return f==="none"?null:f.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(b){return+b})}function g(y){for(var x=[];m(y);)x.push(y),y=y.parentNode;return x}function m(y){return y&&(y instanceof Element||y instanceof HTMLElement)}function w(y,x){return y&&x&&y.x===x.x&&y.y===x.y&&y.top===x.top&&y.left===x.left&&y.right===x.right&&y.bottom===x.bottom}te.exports={getGraphDiv:e,isPlotDiv:o,removeElement:l,addStyleRule:a,addRelatedStyleRule:t,deleteRelatedStyleRule:v,getFullTransformMatrix:p,getElementTransformMatrix:h,getElementAndAncestors:g,equalDomRects:w}},{"./loggers":248,"./matrix":250,"@plotly/d3":11,"gl-mat4":33}],237:[function(u,te,Y){var i=u("events").EventEmitter,n={init:function(c){if(c._ev instanceof i)return c;var s=new i,e=new i;return c._ev=s,c._internalEv=e,c.on=s.on.bind(s),c.once=s.once.bind(s),c.removeListener=s.removeListener.bind(s),c.removeAllListeners=s.removeAllListeners.bind(s),c._internalOn=e.on.bind(e),c._internalOnce=e.once.bind(e),c._removeInternalListener=e.removeListener.bind(e),c._removeAllInternalListeners=e.removeAllListeners.bind(e),c.emit=function(o,l){typeof jQuery<"u"&&jQuery(c).trigger(o,l),s.emit(o,l),e.emit(o,l)},c},triggerHandler:function(c,s,e){var o,l;typeof jQuery<"u"&&(o=jQuery(c).triggerHandler(s,e));var a=c._ev;if(!a)return o;var t=a._events[s];if(!t)return o;function v(h){if(h.listener){if(a.removeListener(s,h.listener),!h.fired)return h.fired=!0,h.listener.apply(a,[e])}else return h.apply(a,[e])}t=Array.isArray(t)?t:[t];var p;for(p=0;p<t.length-1;p++)v(t[p]);return l=v(t[p]),o!==void 0?o:l},purge:function(c){return delete c._ev,delete c.on,delete c.once,delete c.removeListener,delete c.removeAllListeners,delete c.emit,delete c._ev,delete c._internalEv,delete c._internalOn,delete c._internalOnce,delete c._removeInternalListener,delete c._removeAllInternalListeners,c}};te.exports=n},{events:12}],238:[function(u,te,Y){var i=u("./is_plain_object.js"),n=Array.isArray;function c(e,o){var l,a;for(l=0;l<e.length;l++){if(a=e[l],a!==null&&typeof a=="object")return!1;a!==void 0&&(o[l]=a)}return!0}Y.extendFlat=function(){return s(arguments,!1,!1,!1)},Y.extendDeep=function(){return s(arguments,!0,!1,!1)},Y.extendDeepAll=function(){return s(arguments,!0,!0,!1)},Y.extendDeepNoArrays=function(){return s(arguments,!0,!1,!0)};function s(e,o,l,a){var t=e[0],v=e.length,p,h,g,m,w,y,x;if(v===2&&n(t)&&n(e[1])&&t.length===0){if(x=c(e[1],t),x)return t;t.splice(0,t.length)}for(var f=1;f<v;f++){p=e[f];for(h in p)g=t[h],m=p[h],a&&n(m)?t[h]=m:o&&m&&(i(m)||(w=n(m)))?(w?(w=!1,y=g&&n(g)?g:[]):y=g&&i(g)?g:{},t[h]=s([y,m],o,l,a)):(typeof m<"u"||l)&&(t[h]=m)}return t}},{"./is_plain_object.js":245}],239:[function(u,te,Y){te.exports=function(n){for(var c={},s=[],e=0,o=0;o<n.length;o++){var l=n[o];c[l]!==1&&(c[l]=1,s[e++]=l)}return s}},{}],240:[function(u,te,Y){te.exports=function(e){for(var o=c(e)?n:i,l=[],a=0;a<e.length;a++){var t=e[a];o(t)&&l.push(t)}return l};function i(s){return s.visible===!0}function n(s){var e=s[0].trace;return e.visible===!0&&e._length!==0}function c(s){return Array.isArray(s)&&Array.isArray(s[0])&&s[0][0]&&s[0][0].trace}},{}],241:[function(u,te,Y){var i=u("./mod").mod;Y.segmentsIntersect=n;function n(l,a,t,v,p,h,g,m){var w=t-l,y=p-l,x=g-p,f=v-a,b=h-a,d=m-h,T=w*d-x*f;if(T===0)return null;var k=(y*d-x*b)/T,F=(y*f-w*b)/T;return F<0||F>1||k<0||k>1?null:{x:l+w*k,y:a+f*k}}Y.segmentDistance=function(a,t,v,p,h,g,m,w){if(n(a,t,v,p,h,g,m,w))return 0;var y=v-a,x=p-t,f=m-h,b=w-g,d=y*y+x*x,T=f*f+b*b,k=Math.min(c(y,x,d,h-a,g-t),c(y,x,d,m-a,w-t),c(f,b,T,a-h,t-g),c(f,b,T,v-h,p-g));return Math.sqrt(k)};function c(l,a,t,v,p){var h=v*l+p*a;if(h<0)return v*v+p*p;if(h>t){var g=v-l,m=p-a;return g*g+m*m}else{var w=v*a-p*l;return w*w/t}}var s,e,o;Y.getTextLocation=function(a,t,v,p){if((a!==e||p!==o)&&(s={},e=a,o=p),s[v])return s[v];var h=a.getPointAtLength(i(v-p/2,t)),g=a.getPointAtLength(i(v+p/2,t)),m=Math.atan((g.y-h.y)/(g.x-h.x)),w=a.getPointAtLength(i(v,t)),y=(w.x*4+h.x+g.x)/6,x=(w.y*4+h.y+g.y)/6,f={x:y,y:x,theta:m};return s[v]=f,f},Y.clearLocationCache=function(){e=null},Y.getVisibleSegment=function(a,t,v){var p=t.left,h=t.right,g=t.top,m=t.bottom,w=0,y=a.getTotalLength(),x=y,f,b;function d(k){var F=a.getPointAtLength(k);k===0?f=F:k===y&&(b=F);var M=F.x<p?p-F.x:F.x>h?F.x-h:0,S=F.y<g?g-F.y:F.y>m?F.y-m:0;return Math.sqrt(M*M+S*S)}for(var T=d(w);T;){if(w+=T+v,w>x)return;T=d(w)}for(T=d(x);T;){if(x-=T+v,w>x)return;T=d(x)}return{min:w,max:x,len:x-w,total:y,isClosed:w===0&&x===y&&Math.abs(f.x-b.x)<.1&&Math.abs(f.y-b.y)<.1}},Y.findPointOnPath=function(a,t,v,p){p=p||{};for(var h=p.pathLength||a.getTotalLength(),g=p.tolerance||.001,m=p.iterationLimit||30,w=a.getPointAtLength(0)[v]>a.getPointAtLength(h)[v]?-1:1,y=0,x=0,f=h,b,d,T;y<m;){if(b=(x+f)/2,d=a.getPointAtLength(b),T=d[v]-t,Math.abs(T)<g)return d;w*T>0?f=b:x=b,y++}return d}},{"./mod":251}],242:[function(u,te,Y){te.exports=function(n){return n}},{}],243:[function(u,te,Y){te.exports=function(n,c){if(!c)return n;var s=1/Math.abs(c),e=s>1?(s*n+s*c)/s:n+c,o=String(e).length;if(o>16){var l=String(c).length,a=String(n).length;if(o>=a+l){var t=parseFloat(e).toPrecision(12);t.indexOf("e+")===-1&&(e=+t)}}return e}},{}],244:[function(u,te,Y){var i=u("@plotly/d3"),n=u("d3-time-format").utcFormat,c=u("d3-format").format,s=u("fast-isnumeric"),e=u("../constants/numerical"),o=e.FP_SAFE,l=-o,a=e.BADNUM,t=te.exports={};t.adjustFormat=function(C){return!C||/^\d[.]\df/.test(C)||/[.]\d%/.test(C)?C:C==="0.f"?"~f":/^\d%/.test(C)?"~%":/^\ds/.test(C)?"~s":!/^[~,.0$]/.test(C)&&/[&fps]/.test(C)?"~"+C:C};var v={};t.warnBadFormat=function(ve){var C=String(ve);v[C]||(v[C]=1,t.warn('encountered bad format: "'+C+'"'))},t.noFormat=function(ve){return String(ve)},t.numberFormat=function(ve){var C;try{C=c(t.adjustFormat(ve))}catch{return t.warnBadFormat(ve),t.noFormat}return C},t.nestedProperty=u("./nested_property"),t.keyedContainer=u("./keyed_container"),t.relativeAttr=u("./relative_attr"),t.isPlainObject=u("./is_plain_object"),t.toLogRange=u("./to_log_range"),t.relinkPrivateKeys=u("./relink_private");var p=u("./array");t.isTypedArray=p.isTypedArray,t.isArrayOrTypedArray=p.isArrayOrTypedArray,t.isArray1D=p.isArray1D,t.ensureArray=p.ensureArray,t.concat=p.concat,t.maxRowLength=p.maxRowLength,t.minRowLength=p.minRowLength;var h=u("./mod");t.mod=h.mod,t.modHalf=h.modHalf;var g=u("./coerce");t.valObjectMeta=g.valObjectMeta,t.coerce=g.coerce,t.coerce2=g.coerce2,t.coerceFont=g.coerceFont,t.coercePattern=g.coercePattern,t.coerceHoverinfo=g.coerceHoverinfo,t.coerceSelectionMarkerOpacity=g.coerceSelectionMarkerOpacity,t.validate=g.validate;var m=u("./dates");t.dateTime2ms=m.dateTime2ms,t.isDateTime=m.isDateTime,t.ms2DateTime=m.ms2DateTime,t.ms2DateTimeLocal=m.ms2DateTimeLocal,t.cleanDate=m.cleanDate,t.isJSDate=m.isJSDate,t.formatDate=m.formatDate,t.incrementMonth=m.incrementMonth,t.dateTick0=m.dateTick0,t.dfltRange=m.dfltRange,t.findExactDates=m.findExactDates,t.MIN_MS=m.MIN_MS,t.MAX_MS=m.MAX_MS;var w=u("./search");t.findBin=w.findBin,t.sorterAsc=w.sorterAsc,t.sorterDes=w.sorterDes,t.distinctVals=w.distinctVals,t.roundUp=w.roundUp,t.sort=w.sort,t.findIndexOfMin=w.findIndexOfMin,t.sortObjectKeys=u("./sort_object_keys");var y=u("./stats");t.aggNums=y.aggNums,t.len=y.len,t.mean=y.mean,t.median=y.median,t.midRange=y.midRange,t.variance=y.variance,t.stdev=y.stdev,t.interp=y.interp;var x=u("./matrix");t.init2dArray=x.init2dArray,t.transposeRagged=x.transposeRagged,t.dot=x.dot,t.translationMatrix=x.translationMatrix,t.rotationMatrix=x.rotationMatrix,t.rotationXYMatrix=x.rotationXYMatrix,t.apply3DTransform=x.apply3DTransform,t.apply2DTransform=x.apply2DTransform,t.apply2DTransform2=x.apply2DTransform2,t.convertCssMatrix=x.convertCssMatrix,t.inverseTransformMatrix=x.inverseTransformMatrix;var f=u("./angles");t.deg2rad=f.deg2rad,t.rad2deg=f.rad2deg,t.angleDelta=f.angleDelta,t.angleDist=f.angleDist,t.isFullCircle=f.isFullCircle,t.isAngleInsideSector=f.isAngleInsideSector,t.isPtInsideSector=f.isPtInsideSector,t.pathArc=f.pathArc,t.pathSector=f.pathSector,t.pathAnnulus=f.pathAnnulus;var b=u("./anchor_utils");t.isLeftAnchor=b.isLeftAnchor,t.isCenterAnchor=b.isCenterAnchor,t.isRightAnchor=b.isRightAnchor,t.isTopAnchor=b.isTopAnchor,t.isMiddleAnchor=b.isMiddleAnchor,t.isBottomAnchor=b.isBottomAnchor;var d=u("./geometry2d");t.segmentsIntersect=d.segmentsIntersect,t.segmentDistance=d.segmentDistance,t.getTextLocation=d.getTextLocation,t.clearLocationCache=d.clearLocationCache,t.getVisibleSegment=d.getVisibleSegment,t.findPointOnPath=d.findPointOnPath;var T=u("./extend");t.extendFlat=T.extendFlat,t.extendDeep=T.extendDeep,t.extendDeepAll=T.extendDeepAll,t.extendDeepNoArrays=T.extendDeepNoArrays;var k=u("./loggers");t.log=k.log,t.warn=k.warn,t.error=k.error;var F=u("./regex");t.counterRegex=F.counter;var M=u("./throttle");t.throttle=M.throttle,t.throttleDone=M.done,t.clearThrottle=M.clear;var S=u("./dom");t.getGraphDiv=S.getGraphDiv,t.isPlotDiv=S.isPlotDiv,t.removeElement=S.removeElement,t.addStyleRule=S.addStyleRule,t.addRelatedStyleRule=S.addRelatedStyleRule,t.deleteRelatedStyleRule=S.deleteRelatedStyleRule,t.getFullTransformMatrix=S.getFullTransformMatrix,t.getElementTransformMatrix=S.getElementTransformMatrix,t.getElementAndAncestors=S.getElementAndAncestors,t.equalDomRects=S.equalDomRects,t.clearResponsive=u("./clear_responsive"),t.preserveDrawingBuffer=u("./preserve_drawing_buffer"),t.makeTraceGroups=u("./make_trace_groups"),t._=u("./localize"),t.notifier=u("./notifier"),t.filterUnique=u("./filter_unique"),t.filterVisible=u("./filter_visible"),t.pushUnique=u("./push_unique"),t.increment=u("./increment"),t.cleanNumber=u("./clean_number"),t.ensureNumber=function(C){return s(C)?(C=Number(C),C>o||C<l?a:C):a},t.isIndex=function(ve,C){return C!==void 0&&ve>=C?!1:s(ve)&&ve>=0&&ve%1===0},t.noop=u("./noop"),t.identity=u("./identity"),t.repeat=function(ve,C){for(var I=new Array(C),L=0;L<C;L++)I[L]=ve;return I},t.swapAttrs=function(ve,C,I,L){I||(I="x"),L||(L="y");for(var P=0;P<C.length;P++){var B=C[P],V=t.nestedProperty(ve,B.replace("?",I)),N=t.nestedProperty(ve,B.replace("?",L)),Z=V.get();V.set(N.get()),N.set(Z)}},t.raiseToTop=function(C){C.parentNode.appendChild(C)},t.cancelTransition=function(ve){return ve.transition().duration(0)},t.constrain=function(ve,C,I){return C>I?Math.max(I,Math.min(C,ve)):Math.max(C,Math.min(I,ve))},t.bBoxIntersect=function(ve,C,I){return I=I||0,ve.left<=C.right+I&&C.left<=ve.right+I&&ve.top<=C.bottom+I&&C.top<=ve.bottom+I},t.simpleMap=function(ve,C,I,L,P){for(var B=ve.length,V=new Array(B),N=0;N<B;N++)V[N]=C(ve[N],I,L,P);return V},t.randstr=function ve(C,I,L,P){if(L||(L=16),I===void 0&&(I=24),I<=0)return"0";var B=Math.log(Math.pow(2,I))/Math.log(L),V="",N,Z,W;for(N=2;B===1/0;N*=2)B=Math.log(Math.pow(2,I/N))/Math.log(L)*N;var q=B-Math.floor(B);for(N=0;N<Math.floor(B);N++)W=Math.floor(Math.random()*L).toString(L),V=W+V;q&&(Z=Math.pow(L,q),W=Math.floor(Math.random()*Z).toString(L),V=W+V);var re=parseInt(V,L);return C&&C[V]||re!==1/0&&re>=Math.pow(2,I)?P>10?(t.warn("randstr failed uniqueness"),V):ve(C,I,L,(P||0)+1):V},t.OptionControl=function(ve,C){ve||(ve={}),C||(C="opt");var I={};return I.optionList=[],I._newoption=function(L){L[C]=ve,I[L.name]=L,I.optionList.push(L)},I["_"+C]=ve,I},t.smooth=function(ve,C){if(C=Math.round(C)||0,C<2)return ve;var I=ve.length,L=2*I,P=2*C-1,B=new Array(P),V=new Array(I),N,Z,W,q;for(N=0;N<P;N++)B[N]=(1-Math.cos(Math.PI*(N+1)/C))/(2*C);for(N=0;N<I;N++){for(q=0,Z=0;Z<P;Z++)W=N+Z+1-C,W<-I?W-=L*Math.round(W/L):W>=L&&(W-=L*Math.floor(W/L)),W<0?W=-1-W:W>=I&&(W=L-1-W),q+=ve[W]*B[Z];V[N]=q}return V},t.syncOrAsync=function(ve,C,I){var L,P;function B(){return t.syncOrAsync(ve,C,I)}for(;ve.length;)if(P=ve.splice(0,1)[0],L=P(C),L&&L.then)return L.then(B);return I&&I(C)},t.stripTrailingSlash=function(ve){return ve.substr(-1)==="/"?ve.substr(0,ve.length-1):ve},t.noneOrAll=function(ve,C,I){if(!!ve){var L=!1,P=!0,B,V;for(B=0;B<I.length;B++)V=ve[I[B]],V!=null?L=!0:P=!1;if(L&&!P)for(B=0;B<I.length;B++)ve[I[B]]=C[I[B]]}},t.mergeArray=function(ve,C,I,L){var P=typeof L=="function";if(t.isArrayOrTypedArray(ve))for(var B=Math.min(ve.length,C.length),V=0;V<B;V++){var N=ve[V];C[V][I]=P?L(N):N}},t.mergeArrayCastPositive=function(ve,C,I){return t.mergeArray(ve,C,I,function(L){var P=+L;return isFinite(P)&&P>0?P:0})},t.fillArray=function(ve,C,I,L){if(L=L||t.identity,t.isArrayOrTypedArray(ve))for(var P=0;P<C.length;P++)C[P][I]=L(ve[P])},t.castOption=function(ve,C,I,L){L=L||t.identity;var P=t.nestedProperty(ve,I).get();return t.isArrayOrTypedArray(P)?Array.isArray(C)&&t.isArrayOrTypedArray(P[C[0]])?L(P[C[0]][C[1]]):L(P[C]):P},t.extractOption=function(ve,C,I,L){if(I in ve)return ve[I];var P=t.nestedProperty(C,L).get();if(!Array.isArray(P))return P};function E(ve){var C={};for(var I in ve)for(var L=ve[I],P=0;P<L.length;P++)C[L[P]]=+I;return C}t.tagSelected=function(ve,C,I){var L=C.selectedpoints,P=C._indexToPoints,B;P&&(B=E(P));function V(re){return re!==void 0&&re<ve.length}for(var N=0;N<L.length;N++){var Z=L[N];if(t.isIndex(Z)||t.isArrayOrTypedArray(Z)&&t.isIndex(Z[0])&&t.isIndex(Z[1])){var W=B?B[Z]:Z,q=I?I[W]:W;V(q)&&(ve[q].selected=1)}}},t.selIndices2selPoints=function(ve){var C=ve.selectedpoints,I=ve._indexToPoints;if(I){for(var L=E(I),P=[],B=0;B<C.length;B++){var V=C[B];if(t.isIndex(V)){var N=L[V];t.isIndex(N)&&P.push(N)}}return P}else return C},t.getTargetArray=function(ve,C){var I=C.target;if(typeof I=="string"&&I){var L=t.nestedProperty(ve,I).get();return Array.isArray(L)?L:!1}else if(Array.isArray(I))return I;return!1},t.minExtend=function(ve,C){var I={};typeof C!="object"&&(C={});var L=3,P=Object.keys(ve),B,V,N;for(B=0;B<P.length;B++)V=P[B],N=ve[V],!(V.charAt(0)==="_"||typeof N=="function")&&(V==="module"?I[V]=N:Array.isArray(N)?V==="colorscale"?I[V]=N.slice():I[V]=N.slice(0,L):t.isTypedArray(N)?I[V]=N.subarray(0,L):N&&typeof N=="object"?I[V]=t.minExtend(ve[V],C[V]):I[V]=N);for(P=Object.keys(C),B=0;B<P.length;B++)V=P[B],N=C[V],(typeof N!="object"||!(V in I)||typeof I[V]!="object")&&(I[V]=N);return I},t.titleCase=function(ve){return ve.charAt(0).toUpperCase()+ve.substr(1)},t.containsAny=function(ve,C){for(var I=0;I<C.length;I++)if(ve.indexOf(C[I])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var A=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return A.test(window.navigator.userAgent)};var z=/iPad|iPhone|iPod/;t.isIOS=function(){return z.test(window.navigator.userAgent)};var H=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var ve=H.exec(window.navigator.userAgent);if(ve&&ve.length===2){var C=parseInt(ve[1]);if(!isNaN(C))return C}return null},t.isD3Selection=function(ve){return ve instanceof i.selection},t.ensureSingle=function(ve,C,I,L){var P=ve.select(C+(I?"."+I:""));if(P.size())return P;var B=ve.append(C);return I&&B.classed(I,!0),L&&B.call(L),B},t.ensureSingleById=function(ve,C,I,L){var P=ve.select(C+"#"+I);if(P.size())return P;var B=ve.append(C).attr("id",I);return L&&B.call(L),B},t.objectFromPath=function(ve,C){for(var I=ve.split("."),L,P=L={},B=0;B<I.length;B++){var V=I[B],N=null,Z=I[B].match(/(.*)\[([0-9]+)\]/);Z?(V=Z[1],N=Z[2],L=L[V]=[],B===I.length-1?L[N]=C:L[N]={},L=L[N]):(B===I.length-1?L[V]=C:L[V]={},L=L[V])}return P};var Q=/^([^\[\.]+)\.(.+)?/,X=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;t.expandObjectPaths=function(ve){var C,I,L,P,B,V,N;if(typeof ve=="object"&&!Array.isArray(ve))for(I in ve)ve.hasOwnProperty(I)&&((C=I.match(Q))?(P=ve[I],L=C[1],delete ve[I],ve[L]=t.extendDeepNoArrays(ve[L]||{},t.objectFromPath(I,t.expandObjectPaths(P))[L])):(C=I.match(X))?(P=ve[I],L=C[1],B=parseInt(C[2]),delete ve[I],ve[L]=ve[L]||[],C[3]==="."?(N=C[4],V=ve[L][B]=ve[L][B]||{},t.extendDeepNoArrays(V,t.objectFromPath(N,t.expandObjectPaths(P)))):ve[L][B]=t.expandObjectPaths(P)):ve[I]=t.expandObjectPaths(ve[I]));return ve},t.numSeparate=function(ve,C,I){if(I||(I=!1),typeof C!="string"||C.length===0)throw new Error("Separator string required for formatting!");typeof ve=="number"&&(ve=String(ve));var L=/(\d+)(\d{3})/,P=C.charAt(0),B=C.charAt(1),V=ve.split("."),N=V[0],Z=V.length>1?P+V[1]:"";if(B&&(V.length>1||N.length>4||I))for(;L.test(N);)N=N.replace(L,"$1"+B+"$2");return N+Z},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var ie=/^\w*$/;t.templateString=function(ve,C){var I={};return ve.replace(t.TEMPLATE_STRING_REGEX,function(L,P){var B;return ie.test(P)?B=C[P]:(I[P]=I[P]||t.nestedProperty(C,P).get,B=I[P]()),t.isValidTextValue(B)?B:""})};var R={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return K.apply(R,arguments)};var O={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return K.apply(O,arguments)};var U=/^[:|\|]/;function K(ve,C,I){var L=this,P=arguments;C||(C={});var B={};return ve.replace(t.TEMPLATE_STRING_REGEX,function(V,N,Z){var W=N==="xother"||N==="yother",q=N==="_xother"||N==="_yother",re=N==="_xother_"||N==="_yother_",se=N==="xother_"||N==="yother_",_e=W||q||se||re,ge=N;(q||re)&&(ge=ge.substring(1)),(se||re)&&(ge=ge.substring(0,ge.length-1));var Ae;if(_e){if(Ae=C[ge],Ae===void 0)return""}else{var Ce,ue;for(ue=3;ue<P.length;ue++)if(Ce=P[ue],!!Ce){if(Ce.hasOwnProperty(ge)){Ae=Ce[ge];break}if(ie.test(ge)||(Ae=t.nestedProperty(Ce,ge).get(),Ae=B[ge]||t.nestedProperty(Ce,ge).get(),Ae&&(B[ge]=Ae)),Ae!==void 0)break}}if(Ae===void 0&&L)return L.count<L.max&&(t.warn("Variable '"+ge+"' in "+L.name+" could not be found!"),Ae=V),L.count===L.max&&t.warn("Too many "+L.name+" warnings - additional warnings will be suppressed"),L.count++,V;if(Z){var he;if(Z[0]===":"&&(he=I?I.numberFormat:t.numberFormat,Ae=he(Z.replace(U,""))(Ae)),Z[0]==="|"){he=I?I.timeFormat:n;var we=t.dateTime2ms(Ae);Ae=t.formatDate(we,Z.replace(U,""),!1,he)}}else{var ke=ge+"Label";C.hasOwnProperty(ke)&&(Ae=C[ke])}return _e&&(Ae="("+Ae+")",(q||re)&&(Ae=" "+Ae),(se||re)&&(Ae=Ae+" ")),Ae})}var ee=48,ne=57;t.subplotSort=function(ve,C){for(var I=Math.min(ve.length,C.length)+1,L=0,P=0,B=0;B<I;B++){var V=ve.charCodeAt(B)||0,N=C.charCodeAt(B)||0,Z=V>=ee&&V<=ne,W=N>=ee&&N<=ne;if(Z&&(L=10*L+V-ee),W&&(P=10*P+N-ee),!Z||!W){if(L!==P)return L-P;if(V!==N)return V-N}}return P-L};var me=2e9;t.seedPseudoRandom=function(){me=2e9},t.pseudoRandom=function(){var ve=me;return me=(69069*me+1)%4294967296,Math.abs(me-ve)<429496729?t.pseudoRandom():me/4294967296},t.fillText=function(ve,C,I){var L=Array.isArray(I)?function(V){I.push(V)}:function(V){I.text=V},P=t.extractOption(ve,C,"htx","hovertext");if(t.isValidTextValue(P))return L(P);var B=t.extractOption(ve,C,"tx","text");if(t.isValidTextValue(B))return L(B)},t.isValidTextValue=function(ve){return ve||ve===0},t.formatPercent=function(ve,C){C=C||0;for(var I=(Math.round(100*ve*Math.pow(10,C))*Math.pow(.1,C)).toFixed(C)+"%",L=0;L<C;L++)I.indexOf(".")!==-1&&(I=I.replace("0%","%"),I=I.replace(".%","%"));return I},t.isHidden=function(ve){var C=window.getComputedStyle(ve).display;return!C||C==="none"},t.strTranslate=function(ve,C){return ve||C?"translate("+ve+","+C+")":""},t.strRotate=function(ve){return ve?"rotate("+ve+")":""},t.strScale=function(ve){return ve!==1?"scale("+ve+")":""},t.getTextTransform=function(ve){var C=ve.noCenter,I=ve.textX,L=ve.textY,P=ve.targetX,B=ve.targetY,V=ve.anchorX||0,N=ve.anchorY||0,Z=ve.rotate,W=ve.scale;return W?W>1&&(W=1):W=0,t.strTranslate(P-W*(I+V),B-W*(L+N))+t.strScale(W)+(Z?"rotate("+Z+(C?"":" "+I+" "+L)+")":"")},t.setTransormAndDisplay=function(ve,C){ve.attr("transform",t.getTextTransform(C)),ve.style("display",C.scale?null:"none")},t.ensureUniformFontSize=function(ve,C){var I=t.extendFlat({},C);return I.size=Math.max(C.size,ve._fullLayout.uniformtext.minsize||0),I},t.join2=function(ve,C,I){var L=ve.length;return L>1?ve.slice(0,-1).join(C)+I+ve[L-1]:ve.join(C)},t.bigFont=function(ve){return Math.round(1.2*ve)};var pe=t.getFirefoxVersion(),be=pe!==null&&pe<86;t.getPositionFromD3Event=function(){return be?[i.event.layerX,i.event.layerY]:[i.event.offsetX,i.event.offsetY]}},{"../constants/numerical":224,"./anchor_utils":228,"./angles":229,"./array":230,"./clean_number":231,"./clear_responsive":233,"./coerce":234,"./dates":235,"./dom":236,"./extend":238,"./filter_unique":239,"./filter_visible":240,"./geometry2d":241,"./identity":242,"./increment":243,"./is_plain_object":245,"./keyed_container":246,"./localize":247,"./loggers":248,"./make_trace_groups":249,"./matrix":250,"./mod":251,"./nested_property":252,"./noop":253,"./notifier":254,"./preserve_drawing_buffer":257,"./push_unique":258,"./regex":260,"./relative_attr":261,"./relink_private":262,"./search":263,"./sort_object_keys":265,"./stats":266,"./throttle":268,"./to_log_range":269,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],245:[function(u,te,Y){te.exports=function(n){return window&&window.process&&window.process.versions?Object.prototype.toString.call(n)==="[object Object]":Object.prototype.toString.call(n)==="[object Object]"&&Object.getPrototypeOf(n).hasOwnProperty("hasOwnProperty")}},{}],246:[function(u,te,Y){var i=u("./nested_property"),n=/^\w*$/,c=0,s=1,e=2,o=3,l=4;te.exports=function(t,v,p,h){p=p||"name",h=h||"value";var g,m,w,y={};v&&v.length?(w=i(t,v),m=w.get()):m=t,v=v||"";var x={};if(m)for(g=0;g<m.length;g++)x[m[g][p]]=g;var f=n.test(h),b={set:function(d,T){var k=T===null?l:c;if(!m){if(!w||k===l)return;m=[],w.set(m)}var F=x[d];if(F===void 0){if(k===l)return;k=k|o,F=m.length,x[d]=F}else T!==(f?m[F][h]:i(m[F],h).get())&&(k=k|e);var M=m[F]=m[F]||{};return M[p]=d,f?M[h]=T:i(M,h).set(T),T!==null&&(k=k&~l),y[F]=y[F]|k,b},get:function(d){if(!!m){var T=x[d];if(T!==void 0)return f?m[T][h]:i(m[T],h).get()}},rename:function(d,T){var k=x[d];return k===void 0||(y[k]=y[k]|s,x[T]=k,delete x[d],m[k][p]=T),b},remove:function(d){var T=x[d];if(T===void 0)return b;var k=m[T];if(Object.keys(k).length>2)return y[T]=y[T]|e,b.set(d,null);if(f){for(g=T;g<m.length;g++)y[g]=y[g]|o;for(g=T;g<m.length;g++)x[m[g][p]]--;m.splice(T,1),delete x[d]}else i(k,h).set(null),y[T]=y[T]|e|l;return b},constructUpdate:function(){for(var d,T,k={},F=Object.keys(y),M=0;M<F.length;M++)T=F[M],d=v+"["+T+"]",m[T]?(y[T]&s&&(k[d+"."+p]=m[T][p]),y[T]&e&&(f?k[d+"."+h]=y[T]&l?null:m[T][h]:k[d+"."+h]=y[T]&l?null:i(m[T],h).get())):k[d]=null;return k}};return b}},{"./nested_property":252}],247:[function(u,te,Y){var i=u("../registry");te.exports=function(c,s){for(var e=c._context.locale,o=0;o<2;o++){for(var l=c._context.locales,a=0;a<2;a++){var t=(l[e]||{}).dictionary;if(t){var v=t[s];if(v)return v}l=i.localeRegistry}var p=e.split("-")[0];if(p===e)break;e=p}return s}},{"../registry":327}],248:[function(u,te,Y){var i=u("../plot_api/plot_config").dfltConfig,n=u("./notifier"),c=te.exports={};c.log=function(){var s;if(i.logging>1){var e=["LOG:"];for(s=0;s<arguments.length;s++)e.push(arguments[s]);console.trace.apply(console,e)}if(i.notifyOnLogging>1){var o=[];for(s=0;s<arguments.length;s++)o.push(arguments[s]);n(o.join("<br>"),"long")}},c.warn=function(){var s;if(i.logging>0){var e=["WARN:"];for(s=0;s<arguments.length;s++)e.push(arguments[s]);console.trace.apply(console,e)}if(i.notifyOnLogging>0){var o=[];for(s=0;s<arguments.length;s++)o.push(arguments[s]);n(o.join("<br>"),"stick")}},c.error=function(){var s;if(i.logging>0){var e=["ERROR:"];for(s=0;s<arguments.length;s++)e.push(arguments[s]);console.error.apply(console,e)}if(i.notifyOnLogging>0){var o=[];for(s=0;s<arguments.length;s++)o.push(arguments[s]);n(o.join("<br>"),"stick")}}},{"../plot_api/plot_config":278,"./notifier":254}],249:[function(u,te,Y){var i=u("@plotly/d3");te.exports=function(c,s,e){var o=c.selectAll("g."+e.replace(/\s/g,".")).data(s,function(a){return a[0].trace.uid});o.exit().remove(),o.enter().append("g").attr("class",e),o.order();var l=c.classed("rangeplot")?"nodeRangePlot3":"node3";return o.each(function(a){a[0][l]=i.select(this)}),o}},{"@plotly/d3":11}],250:[function(u,te,Y){var i=u("gl-mat4");Y.init2dArray=function(n,c){for(var s=new Array(n),e=0;e<n;e++)s[e]=new Array(c);return s},Y.transposeRagged=function(n){var c=0,s=n.length,e,o;for(e=0;e<s;e++)c=Math.max(c,n[e].length);var l=new Array(c);for(e=0;e<c;e++)for(l[e]=new Array(s),o=0;o<s;o++)l[e][o]=n[o][e];return l},Y.dot=function(n,c){if(!(n.length&&c.length)||n.length!==c.length)return null;var s=n.length,e,o;if(n[0].length)for(e=new Array(s),o=0;o<s;o++)e[o]=Y.dot(n[o],c);else if(c[0].length){var l=Y.transposeRagged(c);for(e=new Array(l.length),o=0;o<l.length;o++)e[o]=Y.dot(n,l[o])}else for(e=0,o=0;o<s;o++)e+=n[o]*c[o];return e},Y.translationMatrix=function(n,c){return[[1,0,n],[0,1,c],[0,0,1]]},Y.rotationMatrix=function(n){var c=n*Math.PI/180;return[[Math.cos(c),-Math.sin(c),0],[Math.sin(c),Math.cos(c),0],[0,0,1]]},Y.rotationXYMatrix=function(n,c,s){return Y.dot(Y.dot(Y.translationMatrix(c,s),Y.rotationMatrix(n)),Y.translationMatrix(-c,-s))},Y.apply3DTransform=function(n){return function(){var c=arguments,s=arguments.length===1?c[0]:[c[0],c[1],c[2]||0];return Y.dot(n,[s[0],s[1],s[2],1]).slice(0,3)}},Y.apply2DTransform=function(n){return function(){var c=arguments;c.length===3&&(c=c[0]);var s=arguments.length===1?c[0]:[c[0],c[1]];return Y.dot(n,[s[0],s[1],1]).slice(0,2)}},Y.apply2DTransform2=function(n){var c=Y.apply2DTransform(n);return function(s){return c(s.slice(0,2)).concat(c(s.slice(2,4)))}},Y.convertCssMatrix=function(n){if(n){var c=n.length;if(c===16)return n;if(c===6)return[n[0],n[1],0,0,n[2],n[3],0,0,0,0,1,0,n[4],n[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},Y.inverseTransformMatrix=function(n){var c=[];return i.invert(c,n),[[c[0],c[1],c[2],c[3]],[c[4],c[5],c[6],c[7]],[c[8],c[9],c[10],c[11]],[c[12],c[13],c[14],c[15]]]}},{"gl-mat4":33}],251:[function(u,te,Y){function i(c,s){var e=c%s;return e<0?e+s:e}function n(c,s){return Math.abs(c)>s/2?c-Math.round(c/s)*s:c}te.exports={mod:i,modHalf:n}},{}],252:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("./array").isArrayOrTypedArray;te.exports=function(h,g){if(i(g))g=String(g);else if(typeof g!="string"||g.substr(g.length-4)==="[-1]")throw"bad property string";for(var m=0,w=g.split("."),y,x,f;m<w.length;){if(y=String(w[m]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),y){if(y[1])w[m]=y[1];else if(m===0)w.splice(0,1);else throw"bad property string";for(x=y[2].substr(1,y[2].length-2).split("]["),f=0;f<x.length;f++)m++,w.splice(m,0,Number(x[f]))}m++}return typeof h!="object"?v(h,g,w):{set:o(h,w,g),get:c(h,w),astr:g,parts:w,obj:h}};function c(p,h){return function(){var g=p,m,w,y,x,f;for(x=0;x<h.length-1;x++){if(m=h[x],m===-1){for(w=!0,y=[],f=0;f<g.length;f++)y[f]=c(g[f],h.slice(x+1))(),y[f]!==y[0]&&(w=!1);return w?y[0]:y}if(typeof m=="number"&&!n(g)||(g=g[m],typeof g!="object"||g===null))return}if(!(typeof g!="object"||g===null)&&(y=g[h[x]],y!==null))return y}}var s=/(^|\.)args\[/;function e(p,h){return p===void 0||p===null&&!h.match(s)}function o(p,h,g){return function(m){var w=p,y="",x=e(m,g),f,b;for(b=0;b<h.length-1;b++){if(f=h[b],typeof f=="number"&&!n(w))throw"array index but container is not an array";if(f===-1){if(x=!a(w,h.slice(b+1),m,g),x)break;return}if(!t(w,f,h[b+1],x))break;if(w=w[f],typeof w!="object"||w===null)throw"container is not an object";y=l(y,f)}if(x){if(b===h.length-1&&(delete w[h[b]],Array.isArray(w)&&+h[b]===w.length-1))for(;w.length&&w[w.length-1]===void 0;)w.pop()}else w[h[b]]=m}}function l(p,h){var g=h;return i(h)?g="["+h+"]":p&&(g="."+h),p+g}function a(p,h,g,m){var w=n(g),y=!0,x=g,f=m.replace("-1",0),b=w?!1:e(g,f),d=h[0],T;for(T=0;T<p.length;T++)f=m.replace("-1",T),w&&(x=g[T%g.length],b=e(x,f)),b&&(y=!1),t(p,T,d,b)&&o(p[T],h,m.replace("-1",T))(x);return y}function t(p,h,g,m){if(p[h]===void 0){if(m)return!1;typeof g=="number"?p[h]=[]:p[h]={}}return!0}function v(p,h,g){return{set:function(){throw"bad container"},get:function(){},astr:h,parts:g,obj:p}}},{"./array":230,"fast-isnumeric":17}],253:[function(u,te,Y){te.exports=function(){}},{}],254:[function(u,te,Y){var i=u("@plotly/d3"),n=u("fast-isnumeric"),c=[];te.exports=function(s,e){if(c.indexOf(s)!==-1)return;c.push(s);var o=1e3;n(e)?o=e:e==="long"&&(o=3e3);var l=i.select("body").selectAll(".plotly-notifier").data([0]);l.enter().append("div").classed("plotly-notifier",!0);var a=l.selectAll(".notifier-note").data(c);function t(v){v.duration(700).style("opacity",0).each("end",function(p){var h=c.indexOf(p);h!==-1&&c.splice(h,1),i.select(this).remove()})}a.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(v){var p=i.select(this);p.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){p.transition().call(t)});for(var h=p.append("p"),g=v.split(/<br\s*\/?>/g),m=0;m<g.length;m++)m&&h.append("br"),h.append("span").text(g[m]);e==="stick"?p.transition().duration(350).style("opacity",1):p.transition().duration(700).style("opacity",1).transition().delay(o).call(t)})}},{"@plotly/d3":11,"fast-isnumeric":17}],255:[function(u,te,Y){var i=u("./setcursor"),n="data-savedcursor",c="!!";te.exports=function(e,o){var l=e.attr(n);if(o){if(!l){for(var a=(e.attr("class")||"").split(" "),t=0;t<a.length;t++){var v=a[t];v.indexOf("cursor-")===0&&e.attr(n,v.substr(7)).classed(v,!1)}e.attr(n)||e.attr(n,c)}i(e,o)}else l&&(e.attr(n,null),l===c?i(e):i(e,l))}},{"./setcursor":264}],256:[function(u,te,Y){var i=u("./matrix").dot,n=u("../constants/numerical").BADNUM,c=te.exports={};c.tester=function(e){var o=e.slice(),l=o[0][0],a=l,t=o[0][1],v=t,p;for((o[o.length-1][0]!==o[0][0]||o[o.length-1][1]!==o[0][1])&&o.push(o[0]),p=1;p<o.length;p++)l=Math.min(l,o[p][0]),a=Math.max(a,o[p][0]),t=Math.min(t,o[p][1]),v=Math.max(v,o[p][1]);var h=!1,g;o.length===5&&(o[0][0]===o[1][0]?o[2][0]===o[3][0]&&o[0][1]===o[3][1]&&o[1][1]===o[2][1]&&(h=!0,g=function(f){return f[0]===o[0][0]}):o[0][1]===o[1][1]&&o[2][1]===o[3][1]&&o[0][0]===o[3][0]&&o[1][0]===o[2][0]&&(h=!0,g=function(f){return f[1]===o[0][1]}));function m(f,b){var d=f[0],T=f[1];return!(d===n||d<l||d>a||T===n||T<t||T>v||b&&g(f))}function w(f,b){var d=f[0],T=f[1];if(d===n||d<l||d>a||T===n||T<t||T>v)return!1;var k=o.length,F=o[0][0],M=o[0][1],S=0,E,A,z,H,Q;for(E=1;E<k;E++)if(A=F,z=M,F=o[E][0],M=o[E][1],H=Math.min(A,F),!(d<H||d>Math.max(A,F)||T>Math.max(z,M)))if(T<Math.min(z,M))d!==H&&S++;else{if(F===A?Q=T:Q=z+(d-A)*(M-z)/(F-A),T===Q)return!(E===1&&b);T<=Q&&d!==H&&S++}return S%2===1}var y=!0,x=o[0];for(p=1;p<o.length;p++)if(x[0]!==o[p][0]||x[1]!==o[p][1]){y=!1;break}return{xmin:l,xmax:a,ymin:t,ymax:v,pts:o,contains:h?m:w,isRect:h,degenerate:y}},c.isSegmentBent=function(e,o,l,a){var t=e[o],v=[e[l][0]-t[0],e[l][1]-t[1]],p=i(v,v),h=Math.sqrt(p),g=[-v[1]/h,v[0]/h],m,w,y;for(m=o+1;m<l;m++)if(w=[e[m][0]-t[0],e[m][1]-t[1]],y=i(w,v),y<0||y>p||Math.abs(i(w,g))>a)return!0;return!1},c.filter=function(e,o){var l=[e[0]],a=0,t=0;function v(h){e.push(h);var g=l.length,m=a;l.splice(t+1);for(var w=m+1;w<e.length;w++)(w===e.length-1||c.isSegmentBent(e,m,w+1,o))&&(l.push(e[w]),l.length<g-2&&(a=w,t=l.length-1),m=w)}if(e.length>1){var p=e.pop();v(p)}return{addPt:v,raw:e,filtered:l}}},{"../constants/numerical":224,"./matrix":250}],257:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("is-mobile");te.exports=function(e){var o;if(e&&e.hasOwnProperty("userAgent")?o=e.userAgent:o=c(),typeof o!="string")return!0;var l=n({ua:{headers:{"user-agent":o}},tablet:!0,featureDetect:!1});if(!l)for(var a=o.split(" "),t=1;t<a.length;t++){var v=a[t];if(v.indexOf("Safari")!==-1)for(var p=t-1;p>-1;p--){var h=a[p];if(h.substr(0,8)==="Version/"){var g=h.substr(8).split(".")[0];if(i(g)&&(g=+g),g>=13)return!0}}}return l};function c(){var s;return typeof navigator<"u"&&(s=navigator.userAgent),s&&s.headers&&typeof s.headers["user-agent"]=="string"&&(s=s.headers["user-agent"]),s}},{"fast-isnumeric":17,"is-mobile":51}],258:[function(u,te,Y){te.exports=function(n,c){if(c instanceof RegExp){for(var s=c.toString(),e=0;e<n.length;e++)if(n[e]instanceof RegExp&&n[e].toString()===s)return n;n.push(c)}else(c||c===0)&&n.indexOf(c)===-1&&n.push(c);return n}},{}],259:[function(u,te,Y){var i=u("../lib"),n=u("../plot_api/plot_config").dfltConfig;function c(e,o){for(var l=[],a,t=0;t<o.length;t++)a=o[t],a===e?l[t]=a:typeof a=="object"?l[t]=Array.isArray(a)?i.extendDeep([],a):i.extendDeepAll({},a):l[t]=a;return l}var s={};s.add=function(e,o,l,a,t){var v,p;if(e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},p=e.undoQueue.index,e.autoplay){e.undoQueue.inSequence||(e.autoplay=!1);return}!e.undoQueue.sequence||e.undoQueue.beginSequence?(v={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(p,e.undoQueue.queue.length-p,v),e.undoQueue.index+=1):v=e.undoQueue.queue[p-1],e.undoQueue.beginSequence=!1,v&&(v.undo.calls.unshift(o),v.undo.args.unshift(l),v.redo.calls.push(a),v.redo.args.push(t)),e.undoQueue.queue.length>n.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--)},s.startSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},s.stopSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},s.undo=function(o){var l,a;if(!(o.undoQueue===void 0||isNaN(o.undoQueue.index)||o.undoQueue.index<=0)){for(o.undoQueue.index--,l=o.undoQueue.queue[o.undoQueue.index],o.undoQueue.inSequence=!0,a=0;a<l.undo.calls.length;a++)s.plotDo(o,l.undo.calls[a],l.undo.args[a]);o.undoQueue.inSequence=!1,o.autoplay=!1}},s.redo=function(o){var l,a;if(!(o.undoQueue===void 0||isNaN(o.undoQueue.index)||o.undoQueue.index>=o.undoQueue.queue.length)){for(l=o.undoQueue.queue[o.undoQueue.index],o.undoQueue.inSequence=!0,a=0;a<l.redo.calls.length;a++)s.plotDo(o,l.redo.calls[a],l.redo.args[a]);o.undoQueue.inSequence=!1,o.autoplay=!1,o.undoQueue.index++}},s.plotDo=function(e,o,l){e.autoplay=!0,l=c(e,l),o.apply(null,l)},te.exports=s},{"../lib":244,"../plot_api/plot_config":278}],260:[function(u,te,Y){Y.counter=function(i,n,c,s){var e=(n||"")+(c?"":"$"),o=s===!1?"":"^";return i==="xy"?new RegExp(o+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+e):new RegExp(o+i+"([2-9]|[1-9][0-9]+)?"+e)}},{}],261:[function(u,te,Y){var i=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,n=/^[^\.\[\]]+$/;te.exports=function(c,s){for(;s;){var e=c.match(i);if(e)c=e[1];else if(c.match(n))c="";else throw new Error("bad relativeAttr call:"+[c,s]);if(s.charAt(0)==="^")s=s.slice(1);else break}return c&&s.charAt(0)!=="["?c+"."+s:c+s}},{}],262:[function(u,te,Y){var i=u("./array").isArrayOrTypedArray,n=u("./is_plain_object");te.exports=function c(s,e){for(var o in e){var l=e[o],a=s[o];if(a!==l)if(o.charAt(0)==="_"||typeof l=="function"){if(o in s)continue;s[o]=l}else if(i(l)&&i(a)&&n(l[0])){if(o==="customdata"||o==="ids")continue;for(var t=Math.min(l.length,a.length),v=0;v<t;v++)a[v]!==l[v]&&n(l[v])&&n(a[v])&&c(a[v],l[v])}else n(l)&&n(a)&&(c(a,l),Object.keys(a).length||delete s[o])}}},{"./array":230,"./is_plain_object":245}],263:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("./loggers"),c=u("./identity"),s=u("../constants/numerical").BADNUM,e=1e-9;Y.findBin=function(v,p,h){if(i(p.start))return h?Math.ceil((v-p.start)/p.size-e)-1:Math.floor((v-p.start)/p.size+e);var g=0,m=p.length,w=0,y=m>1?(p[m-1]-p[0])/(m-1):1,x,f;for(y>=0?f=h?o:l:f=h?t:a,v+=y*e*(h?-1:1)*(y>=0?1:-1);g<m&&w++<100;)x=Math.floor((g+m)/2),f(p[x],v)?g=x+1:m=x;return w>90&&n.log("Long binary search..."),g-1};function o(v,p){return v<p}function l(v,p){return v<=p}function a(v,p){return v>p}function t(v,p){return v>=p}Y.sorterAsc=function(v,p){return v-p},Y.sorterDes=function(v,p){return p-v},Y.distinctVals=function(v){var p=v.slice();p.sort(Y.sorterAsc);var h;for(h=p.length-1;h>-1&&p[h]===s;h--);for(var g=p[h]-p[0]||1,m=g/(h||1)/1e4,w=[],y,x=0;x<=h;x++){var f=p[x],b=f-y;y===void 0?(w.push(f),y=f):b>m&&(g=Math.min(g,b),w.push(f),y=f)}return{vals:w,minDiff:g}},Y.roundUp=function(v,p,h){for(var g=0,m=p.length-1,w,y=0,x=h?0:1,f=h?1:0,b=h?Math.ceil:Math.floor;g<m&&y++<100;)w=b((g+m)/2),p[w]<=v?g=w+x:m=w-f;return p[g]},Y.sort=function(v,p){for(var h=0,g=0,m=1;m<v.length;m++){var w=p(v[m],v[m-1]);if(w<0?h=1:w>0&&(g=1),h&&g)return v.sort(p)}return g?v:v.reverse()},Y.findIndexOfMin=function(v,p){p=p||c;for(var h=1/0,g,m=0;m<v.length;m++){var w=p(v[m]);w<h&&(h=w,g=m)}return g}},{"../constants/numerical":224,"./identity":242,"./loggers":248,"fast-isnumeric":17}],264:[function(u,te,Y){te.exports=function(n,c){(n.attr("class")||"").split(" ").forEach(function(s){s.indexOf("cursor-")===0&&n.classed(s,!1)}),c&&n.classed("cursor-"+c,!0)}},{}],265:[function(u,te,Y){te.exports=function(n){return Object.keys(n).sort()}},{}],266:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("./array").isArrayOrTypedArray;Y.aggNums=function(c,s,e,o){var l,a;if((!o||o>e.length)&&(o=e.length),i(s)||(s=!1),n(e[0])){for(a=new Array(o),l=0;l<o;l++)a[l]=Y.aggNums(c,s,e[l]);e=a}for(l=0;l<o;l++)i(s)?i(e[l])&&(s=c(+s,+e[l])):s=e[l];return s},Y.len=function(c){return Y.aggNums(function(s){return s+1},0,c)},Y.mean=function(c,s){return s||(s=Y.len(c)),Y.aggNums(function(e,o){return e+o},0,c)/s},Y.midRange=function(c){if(!(c===void 0||c.length===0))return(Y.aggNums(Math.max,null,c)+Y.aggNums(Math.min,null,c))/2},Y.variance=function(c,s,e){return s||(s=Y.len(c)),i(e)||(e=Y.mean(c,s)),Y.aggNums(function(o,l){return o+Math.pow(l-e,2)},0,c)/s},Y.stdev=function(c,s,e){return Math.sqrt(Y.variance(c,s,e))},Y.median=function(c){var s=c.slice().sort();return Y.interp(s,.5)},Y.interp=function(c,s){if(!i(s))throw"n should be a finite number";if(s=s*c.length-.5,s<0)return c[0];if(s>c.length-1)return c[c.length-1];var e=s%1;return e*c[Math.ceil(s)]+(1-e)*c[Math.floor(s)]}},{"./array":230,"fast-isnumeric":17}],267:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../lib"),c=n.strTranslate,s=u("../constants/xmlns_namespaces"),e=u("../constants/alignment").LINE_SPACING,o=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;Y.convertToTspans=function(U,K,ee){var ne=U.text(),me=!U.attr("data-notex")&&K&&K._context.typesetMath&&typeof MathJax<"u"&&ne.match(o),pe=i.select(U.node().parentNode);if(pe.empty())return;var be=U.attr("class")?U.attr("class").split(" ")[0]:"text";be+="-math",pe.selectAll("svg."+be).remove(),pe.selectAll("g."+be+"-group").remove(),U.style("display",null).attr({"data-unformatted":ne,"data-math":"N"});function ve(){pe.empty()||(be=U.attr("class")+"-math",pe.select("svg."+be).remove()),U.text("").style("white-space","pre");var C=X(U.node(),ne);C&&U.style("pointer-events","all"),Y.positionText(U),ee&&ee.call(U)}return me?(K&&K._promises||[]).push(new Promise(function(C){U.style("display","none");var I=parseInt(U.node().style.fontSize,10),L={fontSize:I};p(me[2],L,function(P,B,V){pe.selectAll("svg."+be).remove(),pe.selectAll("g."+be+"-group").remove();var N=P&&P.select("svg");if(!N||!N.node()){ve(),C();return}var Z=pe.append("g").classed(be+"-group",!0).attr({"pointer-events":"none","data-unformatted":ne,"data-math":"Y"});Z.node().appendChild(N.node()),B&&B.node()&&N.node().insertBefore(B.node().cloneNode(!0),N.node().firstChild);var W=V.width,q=V.height;N.attr({class:be,height:q,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var re=U.node().style.fill||"black",se=N.select("g");se.attr({fill:re,stroke:re});var _e=se.node().getBoundingClientRect(),ge=_e.width,Ae=_e.height;(ge>W||Ae>q)&&(N.style("overflow","hidden"),_e=N.node().getBoundingClientRect(),ge=_e.width,Ae=_e.height);var Ce=+U.attr("x"),ue=+U.attr("y"),he=I||U.node().getBoundingClientRect().height,we=-he/4;if(be[0]==="y")Z.attr({transform:"rotate("+[-90,Ce,ue]+")"+c(-ge/2,we-Ae/2)});else if(be[0]==="l")ue=we-Ae/2;else if(be[0]==="a"&&be.indexOf("atitle")!==0)Ce=0,ue=we;else{var ke=U.attr("text-anchor");Ce=Ce-ge*(ke==="middle"?.5:ke==="end"?1:0),ue=ue+we-Ae/2}N.attr({x:Ce,y:ue}),ee&&ee.call(U,Z),C(Z)})})):ve(),U};var l=/(<|&lt;|&#60;)/g,a=/(>|&gt;|&#62;)/g;function t(U){return U.replace(l,"\\lt ").replace(a,"\\gt ")}var v=[["$","$"],["\\(","\\)"]];function p(U,K,ee){var ne=parseInt((MathJax.version||"").split(".")[0]);if(ne!==2&&ne!==3){n.warn("No MathJax version:",MathJax.version);return}var me,pe,be,ve,C=function(){return pe=n.extendDeepAll({},MathJax.Hub.config),be=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:v},displayAlign:"left"})},I=function(){pe=n.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=v},L=function(){if(me=MathJax.Hub.config.menuSettings.renderer,me!=="SVG")return MathJax.Hub.setRenderer("SVG")},P=function(){me=MathJax.config.startup.output,me!=="svg"&&(MathJax.config.startup.output="svg")},B=function(){var re="math-output-"+n.randstr({},64);ve=i.select("body").append("div").attr({id:re}).style({visibility:"hidden",position:"absolute","font-size":K.fontSize+"px"}).text(t(U));var se=ve.node();return ne===2?MathJax.Hub.Typeset(se):MathJax.typeset([se])},V=function(){var re=ve.select(ne===2?".MathJax_SVG":".MathJax"),se=!re.empty()&&ve.select("svg").node();if(!se)n.log("There was an error in the tex syntax.",U),ee();else{var _e=se.getBoundingClientRect(),ge;ne===2?ge=i.select("body").select("#MathJax_SVG_glyphs"):ge=re.select("defs"),ee(re,ge,_e)}ve.remove()},N=function(){if(me!=="SVG")return MathJax.Hub.setRenderer(me)},Z=function(){me!=="svg"&&(MathJax.config.startup.output=me)},W=function(){return be!==void 0&&(MathJax.Hub.processSectionDelay=be),MathJax.Hub.Config(pe)},q=function(){MathJax.config=pe};ne===2?MathJax.Hub.Queue(C,L,B,V,N,W):ne===3&&(I(),P(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){B(),V(),Z(),q()}))}var h={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},g={sub:"0.3em",sup:"-0.6em"},m={sub:"-0.21em",sup:"0.42em"},w="\u200B",y=["http:","https:","mailto:","",void 0,":"],x=Y.NEWLINES=/(\r\n?|\n)/g,f=/(<[^<>]*>)/,b=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;Y.BR_TAG_ALL=/<br(\s+.*)?>/gi;var T=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,k=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,F=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,M=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function S(U,K){if(!U)return null;var ee=U.match(K),ne=ee&&(ee[3]||ee[4]);return ne&&H(ne)}var E=/(^|;)\s*color:/;Y.plainText=function(U,K){K=K||{};for(var ee=K.len!==void 0&&K.len!==-1?K.len:1/0,ne=K.allowedTags!==void 0?K.allowedTags:["br"],me="...",pe=me.length,be=U.split(f),ve=[],C="",I=0,L=0;L<be.length;L++){var P=be[L],B=P.match(b),V=B&&B[2].toLowerCase();if(V)ne.indexOf(V)!==-1&&(ve.push(P),C=V);else{var N=P.length;if(I+N<ee)ve.push(P),I+=N;else if(I<ee){var Z=ee-I;C&&(C!=="br"||Z<=pe||N<=pe)&&ve.pop(),ee>pe?ve.push(P.substr(0,Z-pe)+me):ve.push(P.substr(0,Z));break}C=""}}return ve.join("")};var A={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},z=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function H(U){return U.replace(z,function(K,ee){var ne;return ee.charAt(0)==="#"?ne=Q(ee.charAt(1)==="x"?parseInt(ee.substr(2),16):parseInt(ee.substr(1),10)):ne=A[ee],ne||K})}Y.convertEntities=H;function Q(U){if(!(U>1114111)){var K=String.fromCodePoint;if(K)return K(U);var ee=String.fromCharCode;return U<=65535?ee(U):ee((U>>10)+55232,U%1024+56320)}}function X(U,K){K=K.replace(x," ");var ee=!1,ne=[],me,pe=-1;function be(){pe++;var Ae=document.createElementNS(s.svg,"tspan");i.select(Ae).attr({class:"line",dy:pe*e+"em"}),U.appendChild(Ae),me=Ae;var Ce=ne;if(ne=[{node:Ae}],Ce.length>1)for(var ue=1;ue<Ce.length;ue++)ve(Ce[ue])}function ve(Ae){var Ce=Ae.type,ue={},he;if(Ce==="a"){he="a";var we=Ae.target,ke=Ae.href,Pe=Ae.popup;ke&&(ue={"xlink:xlink:show":we==="_blank"||we.charAt(0)!=="_"?"new":"replace",target:we,"xlink:xlink:href":ke},Pe&&(ue.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Pe+'");return false;'))}else he="tspan";Ae.style&&(ue.style=Ae.style);var fe=document.createElementNS(s.svg,he);if(Ce==="sup"||Ce==="sub"){C(me,w),me.appendChild(fe);var De=document.createElementNS(s.svg,"tspan");C(De,w),i.select(De).attr("dy",m[Ce]),ue.dy=g[Ce],me.appendChild(fe),me.appendChild(De)}else me.appendChild(fe);i.select(fe).attr(ue),me=Ae.node=fe,ne.push(Ae)}function C(Ae,Ce){Ae.appendChild(document.createTextNode(Ce))}function I(Ae){if(ne.length===1){n.log("Ignoring unexpected end tag </"+Ae+">.",K);return}var Ce=ne.pop();Ae!==Ce.type&&n.log("Start tag <"+Ce.type+"> doesnt match end tag <"+Ae+">. Pretending it did match.",K),me=ne[ne.length-1].node}var L=d.test(K);L?be():(me=U,ne=[{node:U}]);for(var P=K.split(f),B=0;B<P.length;B++){var V=P[B],N=V.match(b),Z=N&&N[2].toLowerCase(),W=h[Z];if(Z==="br")be();else if(W===void 0)C(me,H(V));else if(N[1])I(Z);else{var q=N[4],re={type:Z},se=S(q,T);if(se?(se=se.replace(E,"$1 fill:"),W&&(se+=";"+W)):W&&(se=W),se&&(re.style=se),Z==="a"){ee=!0;var _e=S(q,k);if(_e){var ge=ie(_e);ge&&(re.href=ge,re.target=S(q,F)||"_blank",re.popup=S(q,M))}}ve(re)}}return ee}function ie(U){var K=encodeURI(decodeURI(U)),ee=document.createElement("a"),ne=document.createElement("a");ee.href=U,ne.href=K;var me=ee.protocol,pe=ne.protocol;return y.indexOf(me)!==-1&&y.indexOf(pe)!==-1?K:""}Y.sanitizeHTML=function(K){K=K.replace(x," ");for(var ee=document.createElement("p"),ne=ee,me=[],pe=K.split(f),be=0;be<pe.length;be++){var ve=pe[be],C=ve.match(b),I=C&&C[2].toLowerCase();if(I in h)if(C[1])me.length&&(ne=me.pop());else{var L=C[4],P=S(L,T),B=P?{style:P}:{};if(I==="a"){var V=S(L,k);if(V){var N=ie(V);if(N){B.href=N;var Z=S(L,F);Z&&(B.target=Z)}}}var W=document.createElement(I);ne.appendChild(W),i.select(W).attr(B),ne=W,me.push(W)}else ne.appendChild(document.createTextNode(H(ve)))}var q="innerHTML";return ee[q]},Y.lineCount=function(K){return K.selectAll("tspan.line").size()||1},Y.positionText=function(K,ee,ne){return K.each(function(){var me=i.select(this);function pe(C,I){return I===void 0?(I=me.attr(C),I===null&&(me.attr(C,0),I=0)):me.attr(C,I),I}var be=pe("x",ee),ve=pe("y",ne);this.nodeName==="text"&&me.selectAll("tspan.line").attr({x:be,y:ve})})};function R(U,K,ee){var ne=ee.horizontalAlign,me=ee.verticalAlign||"top",pe=U.node().getBoundingClientRect(),be=K.node().getBoundingClientRect(),ve,C,I;return me==="bottom"?C=function(){return pe.bottom-ve.height}:me==="middle"?C=function(){return pe.top+(pe.height-ve.height)/2}:C=function(){return pe.top},ne==="right"?I=function(){return pe.right-ve.width}:ne==="center"?I=function(){return pe.left+(pe.width-ve.width)/2}:I=function(){return pe.left},function(){ve=this.node().getBoundingClientRect();var L=I()-be.left,P=C()-be.top,B=ee.gd||{};if(ee.gd){B._fullLayout._calcInverseTransform(B);var V=n.apply3DTransform(B._fullLayout._invTransform)(L,P);L=V[0],P=V[1]}return this.style({top:P+"px",left:L+"px","z-index":1e3}),this}}var O="1px ";Y.makeTextShadow=function(U){var K=O,ee=O,ne=O;return K+ee+ne+U+", -"+K+"-"+ee+ne+U+", "+K+"-"+ee+ne+U+", -"+K+ee+ne+U},Y.makeEditable=function(U,K){var ee=K.gd,ne=K.delegate,me=i.dispatch("edit","input","cancel"),pe=ne||U;if(U.style({"pointer-events":ne?"none":"all"}),U.size()!==1)throw new Error("boo");function be(){C(),U.style({opacity:0});var I=pe.attr("class"),L;I?L="."+I.split(" ")[0]+"-math-group":L="[class*=-math-group]",L&&i.select(U.node().parentNode).select(L).style({opacity:0})}function ve(I){var L=I.node(),P=document.createRange();P.selectNodeContents(L);var B=window.getSelection();B.removeAllRanges(),B.addRange(P),L.focus()}function C(){var I=i.select(ee),L=I.select(".svg-container"),P=L.append("div"),B=U.node().style,V=parseFloat(B.fontSize||12),N=K.text;N===void 0&&(N=U.attr("data-unformatted")),P.classed("plugin-editable editable",!0).style({position:"absolute","font-family":B.fontFamily||"Arial","font-size":V,color:K.fill||B.fill||"black",opacity:1,"background-color":K.background||"transparent",outline:"#ffffff33 1px solid",margin:[-V/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(N).call(R(U,L,K)).on("blur",function(){ee._editing=!1,U.text(this.textContent).style({opacity:1});var Z=i.select(this).attr("class"),W;Z?W="."+Z.split(" ")[0]+"-math-group":W="[class*=-math-group]",W&&i.select(U.node().parentNode).select(W).style({opacity:0});var q=this.textContent;i.select(this).transition().duration(0).remove(),i.select(document).on("mouseup",null),me.edit.call(U,q)}).on("focus",function(){var Z=this;ee._editing=!0,i.select(document).on("mouseup",function(){if(i.event.target===Z)return!1;document.activeElement===P.node()&&P.node().blur()})}).on("keyup",function(){i.event.which===27?(ee._editing=!1,U.style({opacity:1}),i.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),me.cancel.call(U,this.textContent)):(me.input.call(U,this.textContent),i.select(this).call(R(U,L,K)))}).on("keydown",function(){i.event.which===13&&this.blur()}).call(ve)}return K.immediate?be():pe.on("click",be),i.rebind(U,me,"on")}},{"../constants/alignment":219,"../constants/xmlns_namespaces":225,"../lib":244,"@plotly/d3":11}],268:[function(u,te,Y){var i={};Y.throttle=function(s,e,o){var l=i[s],a=Date.now();if(!l){for(var t in i)i[t].ts<a-6e4&&delete i[t];l=i[s]={ts:0,timer:null}}n(l);function v(){o(),l.ts=Date.now(),l.onDone&&(l.onDone(),l.onDone=null)}if(a>l.ts+e){v();return}l.timer=setTimeout(function(){v(),l.timer=null},e)},Y.done=function(c){var s=i[c];return!s||!s.timer?Promise.resolve():new Promise(function(e){var o=s.onDone;s.onDone=function(){o&&o(),e(),s.onDone=null}})},Y.clear=function(c){if(c)n(i[c]),delete i[c];else for(var s in i)Y.clear(s)};function n(c){c&&c.timer!==null&&(clearTimeout(c.timer),c.timer=null)}},{}],269:[function(u,te,Y){var i=u("fast-isnumeric");te.exports=function(c,s){if(c>0)return Math.log(c)/Math.LN10;var e=Math.log(Math.min(s[0],s[1]))/Math.LN10;return i(e)||(e=Math.log(Math.max(s[0],s[1]))/Math.LN10-6),e}},{"fast-isnumeric":17}],270:[function(u,te,Y){te.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],271:[function(u,te,Y){te.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],272:[function(u,te,Y){var i=u("../registry");te.exports=function(c){for(var s=i.layoutArrayContainers,e=i.layoutArrayRegexes,o=c.split("[")[0],l,a,t=0;t<e.length;t++)if(a=c.match(e[t]),a&&a.index===0){l=a[0];break}if(l||(l=s[s.indexOf(o)]),!l)return!1;var v=c.substr(l.length);return v?(a=v.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),a?{array:l,index:Number(a[1]),property:a[3]||""}:!1):{array:l,index:"",property:""}}},{"../registry":327}],273:[function(u,te,Y){var i=u("../lib"),n=i.extendFlat,c=i.isPlainObject,s={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},e={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},o=s.flags.slice().concat(["fullReplot"]),l=e.flags.slice().concat("layoutReplot");te.exports={traces:s,layout:e,traceFlags:function(){return a(o)},layoutFlags:function(){return a(l)},update:function(p,h){var g=h.editType;if(g&&g!=="none")for(var m=g.split("+"),w=0;w<m.length;w++)p[m[w]]=!0},overrideAll:t};function a(p){for(var h={},g=0;g<p.length;g++)h[p[g]]=!1;return h}function t(p,h,g){var m=n({},p);for(var w in m){var y=m[w];c(y)&&(m[w]=v(y,h,g,w))}return g==="from-root"&&(m.editType=h),m}function v(p,h,g,m){if(p.valType){var w=n({},p);if(w.editType=h,Array.isArray(p.items)){w.items=new Array(p.items.length);for(var y=0;y<p.items.length;y++)w.items[y]=v(p.items[y],h)}return w}else return t(p,h,m.charAt(0)==="_"?"nested":"from-root")}},{"../lib":244}],274:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("gl-mat4/fromQuat"),c=u("../registry"),s=u("../lib"),e=u("../plots/plots"),o=u("../plots/cartesian/axis_ids"),l=u("../components/color"),a=o.cleanId,t=o.getFromTrace,v=c.traceIs;Y.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&s.log("Clearing previous rejected promises from queue."),d._promises=[]},Y.cleanLayout=function(d){var T,k;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var F=(e.subplotsRegistry.cartesian||{}).attrRegex,M=(e.subplotsRegistry.polar||{}).attrRegex,S=(e.subplotsRegistry.ternary||{}).attrRegex,E=(e.subplotsRegistry.gl3d||{}).attrRegex,A=Object.keys(d);for(T=0;T<A.length;T++){var z=A[T];if(F&&F.test(z)){var H=d[z];H.anchor&&H.anchor!=="free"&&(H.anchor=a(H.anchor)),H.overlaying&&(H.overlaying=a(H.overlaying)),H.type||(H.isdate?H.type="date":H.islog?H.type="log":H.isdate===!1&&H.islog===!1&&(H.type="linear")),(H.autorange==="withzero"||H.autorange==="tozero")&&(H.autorange=!0,H.rangemode="tozero"),delete H.islog,delete H.isdate,delete H.categories,y(H,"domain")&&delete H.domain,H.autotick!==void 0&&(H.tickmode===void 0&&(H.tickmode=H.autotick?"auto":"linear"),delete H.autotick),h(H)}else if(M&&M.test(z)){var Q=d[z];h(Q.radialaxis)}else if(S&&S.test(z)){var X=d[z];h(X.aaxis),h(X.baxis),h(X.caxis)}else if(E&&E.test(z)){var ie=d[z],R=ie.cameraposition;if(Array.isArray(R)&&R[0].length===4){var O=R[0],U=R[1],K=R[2],ee=n([],O),ne=[];for(k=0;k<3;++k)ne[k]=U[k]+K*ee[2+4*k];ie.camera={eye:{x:ne[0],y:ne[1],z:ne[2]},center:{x:U[0],y:U[1],z:U[2]},up:{x:0,y:0,z:1}},delete ie.cameraposition}h(ie.xaxis),h(ie.yaxis),h(ie.zaxis)}}var me=Array.isArray(d.annotations)?d.annotations.length:0;for(T=0;T<me;T++){var pe=d.annotations[T];!s.isPlainObject(pe)||(pe.ref&&(pe.ref==="paper"?(pe.xref="paper",pe.yref="paper"):pe.ref==="data"&&(pe.xref="x",pe.yref="y"),delete pe.ref),p(pe,"xref"),p(pe,"yref"))}var be=Array.isArray(d.shapes)?d.shapes.length:0;for(T=0;T<be;T++){var ve=d.shapes[T];!s.isPlainObject(ve)||(p(ve,"xref"),p(ve,"yref"))}var C=Array.isArray(d.images)?d.images.length:0;for(T=0;T<C;T++){var I=d.images[T];!s.isPlainObject(I)||(p(I,"xref"),p(I,"yref"))}var L=d.legend;return L&&(L.x>3?(L.x=1.02,L.xanchor="left"):L.x<-2&&(L.x=-.02,L.xanchor="right"),L.y>3?(L.y=1.02,L.yanchor="bottom"):L.y<-2&&(L.y=-.02,L.yanchor="top")),h(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),l.clean(d),d.template&&d.template.layout&&Y.cleanLayout(d.template.layout),d};function p(d,T){var k=d[T],F=T.charAt(0);k&&k!=="paper"&&(d[T]=a(k,F,!0))}function h(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),T("titlefont","font"),T("titleposition","position"),T("titleside","side"),T("titleoffset","offset"));function T(k,F){var M=d[k],S=d.title&&d.title[F];M&&!S&&(d.title||(d.title={}),d.title[F]=d[k],delete d[k])}}Y.cleanData=function(d){for(var T=0;T<d.length;T++){var k=d[T],F;if(k.type==="histogramy"&&"xbins"in k&&!("ybins"in k)&&(k.ybins=k.xbins,delete k.xbins),k.error_y&&"opacity"in k.error_y){var M=l.defaults,S=k.error_y.color||(v(k,"bar")?l.defaultLine:M[T%M.length]);k.error_y.color=l.addOpacity(l.rgb(S),l.opacity(S)*k.error_y.opacity),delete k.error_y.opacity}if("bardir"in k&&(k.bardir==="h"&&(v(k,"bar")||k.type.substr(0,9)==="histogram")&&(k.orientation="h",Y.swapXYData(k)),delete k.bardir),k.type==="histogramy"&&Y.swapXYData(k),(k.type==="histogramx"||k.type==="histogramy")&&(k.type="histogram"),"scl"in k&&!("colorscale"in k)&&(k.colorscale=k.scl,delete k.scl),"reversescl"in k&&!("reversescale"in k)&&(k.reversescale=k.reversescl,delete k.reversescl),k.xaxis&&(k.xaxis=a(k.xaxis,"x")),k.yaxis&&(k.yaxis=a(k.yaxis,"y")),v(k,"gl3d")&&k.scene&&(k.scene=e.subplotsRegistry.gl3d.cleanId(k.scene)),!v(k,"pie-like")&&!v(k,"bar-like"))if(Array.isArray(k.textposition))for(F=0;F<k.textposition.length;F++)k.textposition[F]=w(k.textposition[F]);else k.textposition&&(k.textposition=w(k.textposition));var E=c.getModule(k);if(E&&E.colorbar){var A=E.colorbar.container,z=A?k[A]:k;z&&z.colorscale&&(z.colorscale==="YIGnBu"&&(z.colorscale="YlGnBu"),z.colorscale==="YIOrRd"&&(z.colorscale="YlOrRd"))}if(k.type==="surface"&&s.isPlainObject(k.contours)){var H=["x","y","z"];for(F=0;F<H.length;F++){var Q=k.contours[H[F]];!s.isPlainObject(Q)||(Q.highlightColor&&(Q.highlightcolor=Q.highlightColor,delete Q.highlightColor),Q.highlightWidth&&(Q.highlightwidth=Q.highlightWidth,delete Q.highlightWidth))}}if(k.type==="candlestick"||k.type==="ohlc"){var X=(k.increasing||{}).showlegend!==!1,ie=(k.decreasing||{}).showlegend!==!1,R=g(k.increasing),O=g(k.decreasing);if(R!==!1&&O!==!1){var U=m(R,O,X,ie);U&&(k.name=U)}else(R||O)&&!k.name&&(k.name=R||O)}if(Array.isArray(k.transforms)){var K=k.transforms;for(F=0;F<K.length;F++){var ee=K[F];if(!!s.isPlainObject(ee))switch(ee.type){case"filter":ee.filtersrc&&(ee.target=ee.filtersrc,delete ee.filtersrc),ee.calendar&&(ee.valuecalendar||(ee.valuecalendar=ee.calendar),delete ee.calendar);break;case"groupby":if(ee.styles=ee.styles||ee.style,ee.styles&&!Array.isArray(ee.styles)){var ne=ee.styles,me=Object.keys(ne);ee.styles=[];for(var pe=0;pe<me.length;pe++)ee.styles.push({target:me[pe],value:ne[me[pe]]})}break}}}y(k,"line")&&delete k.line,"marker"in k&&(y(k.marker,"line")&&delete k.marker.line,y(k,"marker")&&delete k.marker),l.clean(k),k.autobinx&&(delete k.autobinx,delete k.xbins),k.autobiny&&(delete k.autobiny,delete k.ybins),h(k),k.colorbar&&h(k.colorbar),k.marker&&k.marker.colorbar&&h(k.marker.colorbar),k.line&&k.line.colorbar&&h(k.line.colorbar),k.aaxis&&h(k.aaxis),k.baxis&&h(k.baxis)}};function g(d){if(!s.isPlainObject(d))return!1;var T=d.name;return delete d.name,delete d.showlegend,(typeof T=="string"||typeof T=="number")&&String(T)}function m(d,T,k,F){if(k&&!F)return d;if(F&&!k||!d.trim())return T;if(!T.trim())return d;var M=Math.min(d.length,T.length),S;for(S=0;S<M&&d.charAt(S)===T.charAt(S);S++);var E=d.substr(0,S);return E.trim()}function w(d){var T="middle",k="center";return typeof d=="string"&&(d.indexOf("top")!==-1?T="top":d.indexOf("bottom")!==-1&&(T="bottom"),d.indexOf("left")!==-1?k="left":d.indexOf("right")!==-1&&(k="right")),T+" "+k}function y(d,T){return T in d&&typeof d[T]=="object"&&Object.keys(d[T]).length===0}Y.swapXYData=function(d){var T;if(s.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var k=d.error_y,F="copy_ystyle"in k?k.copy_ystyle:!(k.color||k.thickness||k.width);s.swapAttrs(d,["error_?.copy_ystyle"]),F&&s.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var M=d.hoverinfo.split("+");for(T=0;T<M.length;T++)M[T]==="x"?M[T]="y":M[T]==="y"&&(M[T]="x");d.hoverinfo=M.join("+")}},Y.coerceTraceIndices=function(d,T){if(i(T))return[T];if(!Array.isArray(T)||!T.length)return d.data.map(function(M,S){return S});if(Array.isArray(T)){for(var k=[],F=0;F<T.length;F++)s.isIndex(T[F],d.data.length)?k.push(T[F]):s.warn("trace index (",T[F],") is not a number or is out of bounds");return k}return T},Y.manageArrayContainers=function(d,T,k){var F=d.obj,M=d.parts,S=M.length,E=M[S-1],A=i(E);if(A&&T===null){var z=M.slice(0,S-1).join("."),H=s.nestedProperty(F,z).get();H.splice(E,1)}else A&&d.get()===void 0&&d.get()===void 0&&(k[d.astr]=null),d.set(T)};var x=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function f(d){var T=d.search(x);if(T>0)return d.substr(0,T)}Y.hasParent=function(d,T){for(var k=f(T);k;){if(k in d)return!0;k=f(k)}return!1};var b=["x","y","z"];Y.clearAxisTypes=function(d,T,k){for(var F=0;F<T.length;F++)for(var M=d._fullData[F],S=0;S<3;S++){var E=t(d,M,b[S]);if(E&&E.type!=="log"){var A=E._name,z=E._id.substr(1);if(z.substr(0,5)==="scene"){if(k[z]!==void 0)continue;A=z+"."+A}var H=A+".type";k[A]===void 0&&k[H]===void 0&&s.nestedProperty(d.layout,H).set(null)}}}},{"../components/color":103,"../lib":244,"../plots/cartesian/axis_ids":295,"../plots/plots":325,"../registry":327,"fast-isnumeric":17,"gl-mat4/fromQuat":23}],275:[function(u,te,Y){var i=u("./plot_api");Y._doPlot=i._doPlot,Y.newPlot=i.newPlot,Y.restyle=i.restyle,Y.relayout=i.relayout,Y.redraw=i.redraw,Y.update=i.update,Y._guiRestyle=i._guiRestyle,Y._guiRelayout=i._guiRelayout,Y._guiUpdate=i._guiUpdate,Y._storeDirectGUIEdit=i._storeDirectGUIEdit,Y.react=i.react,Y.extendTraces=i.extendTraces,Y.prependTraces=i.prependTraces,Y.addTraces=i.addTraces,Y.deleteTraces=i.deleteTraces,Y.moveTraces=i.moveTraces,Y.purge=i.purge,Y.addFrames=i.addFrames,Y.deleteFrames=i.deleteFrames,Y.animate=i.animate,Y.setPlotConfig=i.setPlotConfig,Y.toImage=u("./to_image"),Y.validate=u("./validate"),Y.downloadImage=u("../snapshot/download");var n=u("./template_api");Y.makeTemplate=n.makeTemplate,Y.validateTemplate=n.validateTemplate},{"../snapshot/download":329,"./plot_api":277,"./template_api":282,"./to_image":283,"./validate":284}],276:[function(u,te,Y){var i=u("../lib/is_plain_object"),n=u("../lib/noop"),c=u("../lib/loggers"),s=u("../lib/search").sorterAsc,e=u("../registry");Y.containerArrayMatch=u("./container_array_match");var o=Y.isAddVal=function(t){return t==="add"||i(t)},l=Y.isRemoveVal=function(t){return t===null||t==="remove"};Y.applyContainerArrayChanges=function(t,v,p,h,g){var m=v.astr,w=e.getComponentMethod(m,"supplyLayoutDefaults"),y=e.getComponentMethod(m,"draw"),x=e.getComponentMethod(m,"drawOne"),f=h.replot||h.recalc||w===n||y===n,b=t.layout,d=t._fullLayout;if(p[""]){Object.keys(p).length>1&&c.warn("Full array edits are incompatible with other edits",m);var T=p[""][""];if(l(T))v.set(null);else if(Array.isArray(T))v.set(T);else return c.warn("Unrecognized full array edit value",m,T),!0;return f?!1:(w(b,d),y(t),!0)}var k=Object.keys(p).map(Number).sort(s),F=v.get(),M=F||[],S=g(d,m).get(),E=[],A=-1,z=M.length,H,Q,X,ie,R,O,U,K;for(H=0;H<k.length;H++){if(X=k[H],ie=p[X],R=Object.keys(ie),O=ie[""],U=o(O),X<0||X>M.length-(U?0:1)){c.warn("index out of range",m,X);continue}if(O!==void 0)R.length>1&&c.warn("Insertion & removal are incompatible with edits to the same index.",m,X),l(O)?E.push(X):U?(O==="add"&&(O={}),M.splice(X,0,O),S&&S.splice(X,0,{})):c.warn("Unrecognized full object edit value",m,X,O),A===-1&&(A=X);else for(Q=0;Q<R.length;Q++)K=m+"["+X+"].",g(M[X],R[Q],K).set(ie[R[Q]])}for(H=E.length-1;H>=0;H--)M.splice(E[H],1),S&&S.splice(E[H],1);if(M.length?F||v.set(M):v.set(null),f)return!1;if(w(b,d),x!==n){var ee;if(A===-1)ee=k;else{for(z=Math.max(M.length,z),ee=[],H=0;H<k.length&&(X=k[H],!(X>=A));H++)ee.push(X);for(H=A;H<z;H++)ee.push(H)}for(H=0;H<ee.length;H++)x(t,ee[H])}else y(t);return!0}},{"../lib/is_plain_object":245,"../lib/loggers":248,"../lib/noop":253,"../lib/search":263,"../registry":327,"./container_array_match":272}],277:[function(u,te,Y){var i=u("@plotly/d3"),n=u("fast-isnumeric"),c=u("has-hover"),s=u("../lib"),e=s.nestedProperty,o=u("../lib/events"),l=u("../lib/queue"),a=u("../registry"),t=u("./plot_schema"),v=u("../plots/plots"),p=u("../plots/cartesian/axes"),h=u("../components/drawing"),g=u("../components/color"),m=u("../plots/cartesian/graph_interact").initInteractions,w=u("../constants/xmlns_namespaces"),y=u("../components/selections").clearOutline,x=u("./plot_config").dfltConfig,f=u("./manage_arrays"),b=u("./helpers"),d=u("./subroutines"),T=u("./edit_types"),k=u("../plots/cartesian/constants").AX_NAME_PATTERN,F=0,M=5;function S(ae,xe,Te,Me){var Je;if(ae=s.getGraphDiv(ae),o.init(ae),s.isPlainObject(xe)){var Ve=xe;xe=Ve.data,Te=Ve.layout,Me=Ve.config,Je=Ve.frames}var Ge=o.triggerHandler(ae,"plotly_beforeplot",[xe,Te,Me]);if(Ge===!1)return Promise.reject();!xe&&!Te&&!s.isPlotDiv(ae)&&s.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ae);function Ke(){if(Je)return Y.addFrames(ae,Je)}Q(ae,Me),Te||(Te={}),i.select(ae).classed("js-plotly-plot",!0),h.makeTester(),Array.isArray(ae._promises)||(ae._promises=[]);var Qe=(ae.data||[]).length===0&&Array.isArray(xe);Array.isArray(xe)&&(b.cleanData(xe),Qe?ae.data=xe:ae.data.push.apply(ae.data,xe),ae.empty=!1),(!ae.layout||Qe)&&(ae.layout=b.cleanLayout(Te)),v.supplyDefaults(ae);var Ie=ae._fullLayout,ft=Ie._has("cartesian");Ie._replotting=!0,(Qe||Ie._shouldCreateBgLayer)&&(ze(ae),Ie._shouldCreateBgLayer&&delete Ie._shouldCreateBgLayer),h.initGradients(ae),h.initPatterns(ae),Qe&&p.saveShowSpikeInitial(ae);var vt=!ae.calcdata||ae.calcdata.length!==(ae._fullData||[]).length;vt&&v.doCalcdata(ae);for(var pt=0;pt<ae.calcdata.length;pt++)ae.calcdata[pt][0].trace=ae._fullData[pt];ae._context.responsive?ae._responsiveChartHandler||(ae._responsiveChartHandler=function(){s.isHidden(ae)||v.resize(ae)},window.addEventListener("resize",ae._responsiveChartHandler)):s.clearResponsive(ae);var Ot=s.extendFlat({},Ie._size),Gt=0;function Wt(){for(var At=Ie._basePlotModules,Vt=0;Vt<At.length;Vt++)At[Vt].drawFramework&&At[Vt].drawFramework(ae);!Ie._glcanvas&&Ie._has("gl")&&(Ie._glcanvas=Ie._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Ee){return Ee.key}),Ie._glcanvas.enter().append("canvas").attr("class",function(Ee){return"gl-canvas gl-canvas-"+Ee.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var tr=ae._context.plotGlPixelRatio;if(Ie._glcanvas){Ie._glcanvas.attr("width",Ie.width*tr).attr("height",Ie.height*tr).style("width",Ie.width+"px").style("height",Ie.height+"px");var oe=Ie._glcanvas.data()[0].regl;if(oe&&(Math.floor(Ie.width*tr)!==oe._gl.drawingBufferWidth||Math.floor(Ie.height*tr)!==oe._gl.drawingBufferHeight)){var $="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Gt)s.error($);else return s.log($+" Clearing graph and plotting again."),v.cleanPlot([],{},ae._fullData,Ie),v.supplyDefaults(ae),Ie=ae._fullLayout,v.doCalcdata(ae),Gt++,Wt()}}return Ie.modebar.orientation==="h"?Ie._modebardiv.style("height",null).style("width","100%"):Ie._modebardiv.style("width",null).style("height",Ie.height+"px"),v.previousPromises(ae)}function It(){if(v.clearAutoMarginIds(ae),d.drawMarginPushers(ae),p.allowAutoMargin(ae),Ie._has("pie"))for(var At=ae._fullData,Vt=0;Vt<At.length;Vt++){var tr=At[Vt];tr.type==="pie"&&tr.automargin&&v.allowAutoMargin(ae,"pie."+tr.uid+".automargin")}return v.doAutoMargin(ae),v.previousPromises(ae)}function Qt(){if(!!v.didMarginChange(Ot,Ie._size))return s.syncOrAsync([It,d.layoutStyles],ae)}function Nt(){if(!vt){Et();return}return s.syncOrAsync([a.getComponentMethod("shapes","calcAutorange"),a.getComponentMethod("annotations","calcAutorange"),Et],ae)}function Et(){ae._transitioning||(d.doAutoRangeAndConstraints(ae),Qe&&p.saveRangeInitial(ae),a.getComponentMethod("rangeslider","calcAutorange")(ae))}function Xt(){return p.draw(ae,Qe?"":"redraw")}var Tt=[v.previousPromises,Ke,Wt,It,Qt];ft&&Tt.push(Nt),Tt.push(d.layoutStyles),ft&&Tt.push(Xt,function(Vt){Vt._fullLayout._insideTickLabelsAutorange&&re(Vt,Vt._fullLayout._insideTickLabelsAutorange).then(function(){Vt._fullLayout._insideTickLabelsAutorange=void 0})}),Tt.push(d.drawData,d.finalDraw,m,v.addLinks,v.rehover,v.redrag,v.reselect,v.doAutoMargin,Yt,v.previousPromises);function Yt(At){At._fullLayout._insideTickLabelsAutorange&&Qe&&p.saveRangeInitial(At,!0)}var Bt=s.syncOrAsync(Tt,ae);return(!Bt||!Bt.then)&&(Bt=Promise.resolve()),Bt.then(function(){return E(ae),ae})}function E(ae){var xe=ae._fullLayout;xe._redrawFromAutoMarginCount?xe._redrawFromAutoMarginCount--:ae.emit("plotly_afterplot")}function A(ae){return s.extendFlat(x,ae)}function z(ae,xe){try{ae._fullLayout._paper.style("background",xe)}catch(Te){s.error(Te)}}function H(ae,xe){var Te=g.combine(xe,"white");z(ae,Te)}function Q(ae,xe){if(!ae._context){ae._context=s.extendDeep({},x);var Te=i.select("base");ae._context._baseUrl=Te.size()&&Te.attr("href")?window.location.href.split("#")[0]:""}var Me=ae._context,Je,Ve,Ge;if(xe){for(Ve=Object.keys(xe),Je=0;Je<Ve.length;Je++)Ge=Ve[Je],!(Ge==="editable"||Ge==="edits")&&Ge in Me&&(Ge==="setBackground"&&xe[Ge]==="opaque"?Me[Ge]=H:Me[Ge]=xe[Ge]);xe.plot3dPixelRatio&&!Me.plotGlPixelRatio&&(Me.plotGlPixelRatio=Me.plot3dPixelRatio);var Ke=xe.editable;if(Ke!==void 0)for(Me.editable=Ke,Ve=Object.keys(Me.edits),Je=0;Je<Ve.length;Je++)Me.edits[Ve[Je]]=Ke;if(xe.edits)for(Ve=Object.keys(xe.edits),Je=0;Je<Ve.length;Je++)Ge=Ve[Je],Ge in Me.edits&&(Me.edits[Ge]=xe.edits[Ge]);Me._exportedPlot=xe._exportedPlot}Me.staticPlot&&(Me.editable=!1,Me.edits={},Me.autosizable=!1,Me.scrollZoom=!1,Me.doubleClick=!1,Me.showTips=!1,Me.showLink=!1,Me.displayModeBar=!1),Me.displayModeBar==="hover"&&!c&&(Me.displayModeBar=!0),(Me.setBackground==="transparent"||typeof Me.setBackground!="function")&&(Me.setBackground=z),Me._hasZeroHeight=Me._hasZeroHeight||ae.clientHeight===0,Me._hasZeroWidth=Me._hasZeroWidth||ae.clientWidth===0;var Qe=Me.scrollZoom,Ie=Me._scrollZoom={};if(Qe===!0)Ie.cartesian=1,Ie.gl3d=1,Ie.geo=1,Ie.mapbox=1;else if(typeof Qe=="string"){var ft=Qe.split("+");for(Je=0;Je<ft.length;Je++)Ie[ft[Je]]=1}else Qe!==!1&&(Ie.gl3d=1,Ie.geo=1,Ie.mapbox=1)}function X(ae){if(ae=s.getGraphDiv(ae),!s.isPlotDiv(ae))throw new Error("This element is not a Plotly plot: "+ae);return b.cleanData(ae.data),b.cleanLayout(ae.layout),ae.calcdata=void 0,Y._doPlot(ae).then(function(){return ae.emit("plotly_redraw"),ae})}function ie(ae,xe,Te,Me){return ae=s.getGraphDiv(ae),v.cleanPlot([],{},ae._fullData||[],ae._fullLayout||{}),v.purge(ae),Y._doPlot(ae,xe,Te,Me)}function R(ae,xe){var Te=xe+1,Me=[],Je,Ve;for(Je=0;Je<ae.length;Je++)Ve=ae[Je],Ve<0?Me.push(Te+Ve):Me.push(Ve);return Me}function O(ae,xe,Te){var Me,Je;for(Me=0;Me<xe.length;Me++){if(Je=xe[Me],Je!==parseInt(Je,10))throw new Error("all values in "+Te+" must be integers");if(Je>=ae.data.length||Je<-ae.data.length)throw new Error(Te+" must be valid indices for gd.data.");if(xe.indexOf(Je,Me+1)>-1||Je>=0&&xe.indexOf(-ae.data.length+Je)>-1||Je<0&&xe.indexOf(ae.data.length+Je)>-1)throw new Error("each index in "+Te+" must be unique.")}}function U(ae,xe,Te){if(!Array.isArray(ae.data))throw new Error("gd.data must be an array.");if(typeof xe>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(xe)||(xe=[xe]),O(ae,xe,"currentIndices"),typeof Te<"u"&&!Array.isArray(Te)&&(Te=[Te]),typeof Te<"u"&&O(ae,Te,"newIndices"),typeof Te<"u"&&xe.length!==Te.length)throw new Error("current and new indices must be of equal length.")}function K(ae,xe,Te){var Me,Je;if(!Array.isArray(ae.data))throw new Error("gd.data must be an array.");if(typeof xe>"u")throw new Error("traces must be defined.");for(Array.isArray(xe)||(xe=[xe]),Me=0;Me<xe.length;Me++)if(Je=xe[Me],typeof Je!="object"||Array.isArray(Je)||Je===null)throw new Error("all values in traces array must be non-array objects");if(typeof Te<"u"&&!Array.isArray(Te)&&(Te=[Te]),typeof Te<"u"&&Te.length!==xe.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function ee(ae,xe,Te,Me){var Je=s.isPlainObject(Me);if(!Array.isArray(ae.data))throw new Error("gd.data must be an array");if(!s.isPlainObject(xe))throw new Error("update must be a key:value object");if(typeof Te>"u")throw new Error("indices must be an integer or array of integers");O(ae,Te,"indices");for(var Ve in xe){if(!Array.isArray(xe[Ve])||xe[Ve].length!==Te.length)throw new Error("attribute "+Ve+" must be an array of length equal to indices array length");if(Je&&(!(Ve in Me)||!Array.isArray(Me[Ve])||Me[Ve].length!==xe[Ve].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function ne(ae,xe,Te,Me){var Je=s.isPlainObject(Me),Ve=[],Ge,Ke,Qe,Ie,ft;Array.isArray(Te)||(Te=[Te]),Te=R(Te,ae.data.length-1);for(var vt in xe)for(var pt=0;pt<Te.length;pt++){if(Ge=ae.data[Te[pt]],Qe=e(Ge,vt),Ke=Qe.get(),Ie=xe[vt][pt],!s.isArrayOrTypedArray(Ie))throw new Error("attribute: "+vt+" index: "+pt+" must be an array");if(!s.isArrayOrTypedArray(Ke))throw new Error("cannot extend missing or non-array attribute: "+vt);if(Ke.constructor!==Ie.constructor)throw new Error("cannot extend array with an array of a different type: "+vt);ft=Je?Me[vt][pt]:Me,n(ft)||(ft=-1),Ve.push({prop:Qe,target:Ke,insert:Ie,maxp:Math.floor(ft)})}return Ve}function me(ae,xe,Te,Me,Je){ee(ae,xe,Te,Me);for(var Ve=ne(ae,xe,Te,Me),Ge={},Ke={},Qe=0;Qe<Ve.length;Qe++){var Ie=Ve[Qe].prop,ft=Ve[Qe].maxp,vt=Je(Ve[Qe].target,Ve[Qe].insert,ft);Ie.set(vt[0]),Array.isArray(Ge[Ie.astr])||(Ge[Ie.astr]=[]),Ge[Ie.astr].push(vt[1]),Array.isArray(Ke[Ie.astr])||(Ke[Ie.astr]=[]),Ke[Ie.astr].push(Ve[Qe].target.length)}return{update:Ge,maxPoints:Ke}}function pe(ae,xe){var Te=new ae.constructor(ae.length+xe.length);return Te.set(ae),Te.set(xe,ae.length),Te}function be(ae,xe,Te,Me){ae=s.getGraphDiv(ae);function Je(Qe,Ie,ft){var vt,pt;if(s.isTypedArray(Qe))if(ft<0){var Ot=new Qe.constructor(0),Gt=pe(Qe,Ie);ft<0?(vt=Gt,pt=Ot):(vt=Ot,pt=Gt)}else if(vt=new Qe.constructor(ft),pt=new Qe.constructor(Qe.length+Ie.length-ft),ft===Ie.length)vt.set(Ie),pt.set(Qe);else if(ft<Ie.length){var Wt=Ie.length-ft;vt.set(Ie.subarray(Wt)),pt.set(Qe),pt.set(Ie.subarray(0,Wt),Qe.length)}else{var It=ft-Ie.length,Qt=Qe.length-It;vt.set(Qe.subarray(Qt)),vt.set(Ie,It),pt.set(Qe.subarray(0,Qt))}else vt=Qe.concat(Ie),pt=ft>=0&&ft<vt.length?vt.splice(0,vt.length-ft):[];return[vt,pt]}var Ve=me(ae,xe,Te,Me,Je),Ge=Y.redraw(ae),Ke=[ae,Ve.update,Te,Ve.maxPoints];return l.add(ae,Y.prependTraces,Ke,be,arguments),Ge}function ve(ae,xe,Te,Me){ae=s.getGraphDiv(ae);function Je(Qe,Ie,ft){var vt,pt;if(s.isTypedArray(Qe))if(ft<=0){var Ot=new Qe.constructor(0),Gt=pe(Ie,Qe);ft<0?(vt=Gt,pt=Ot):(vt=Ot,pt=Gt)}else if(vt=new Qe.constructor(ft),pt=new Qe.constructor(Qe.length+Ie.length-ft),ft===Ie.length)vt.set(Ie),pt.set(Qe);else if(ft<Ie.length){var Wt=Ie.length-ft;vt.set(Ie.subarray(0,Wt)),pt.set(Ie.subarray(Wt)),pt.set(Qe,Wt)}else{var It=ft-Ie.length;vt.set(Ie),vt.set(Qe.subarray(0,It),Ie.length),pt.set(Qe.subarray(It))}else vt=Ie.concat(Qe),pt=ft>=0&&ft<vt.length?vt.splice(ft,vt.length):[];return[vt,pt]}var Ve=me(ae,xe,Te,Me,Je),Ge=Y.redraw(ae),Ke=[ae,Ve.update,Te,Ve.maxPoints];return l.add(ae,Y.extendTraces,Ke,ve,arguments),Ge}function C(ae,xe,Te){ae=s.getGraphDiv(ae);var Me=[],Je=Y.deleteTraces,Ve=C,Ge=[ae,Me],Ke=[ae,xe],Qe,Ie;for(K(ae,xe,Te),Array.isArray(xe)||(xe=[xe]),xe=xe.map(function(ft){return s.extendFlat({},ft)}),b.cleanData(xe),Qe=0;Qe<xe.length;Qe++)ae.data.push(xe[Qe]);for(Qe=0;Qe<xe.length;Qe++)Me.push(-xe.length+Qe);if(typeof Te>"u")return Ie=Y.redraw(ae),l.add(ae,Je,Ge,Ve,Ke),Ie;Array.isArray(Te)||(Te=[Te]);try{U(ae,Me,Te)}catch(ft){throw ae.data.splice(ae.data.length-xe.length,xe.length),ft}return l.startSequence(ae),l.add(ae,Je,Ge,Ve,Ke),Ie=Y.moveTraces(ae,Me,Te),l.stopSequence(ae),Ie}function I(ae,xe){ae=s.getGraphDiv(ae);var Te=[],Me=Y.addTraces,Je=I,Ve=[ae,Te,xe],Ge=[ae,xe],Ke,Qe;if(typeof xe>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(xe)||(xe=[xe]),O(ae,xe,"indices"),xe=R(xe,ae.data.length-1),xe.sort(s.sorterDes),Ke=0;Ke<xe.length;Ke+=1)Qe=ae.data.splice(xe[Ke],1)[0],Te.push(Qe);var Ie=Y.redraw(ae);return l.add(ae,Me,Ve,Je,Ge),Ie}function L(ae,xe,Te){ae=s.getGraphDiv(ae);var Me=[],Je=[],Ve=L,Ge=L,Ke=[ae,Te,xe],Qe=[ae,xe,Te],Ie;if(U(ae,xe,Te),xe=Array.isArray(xe)?xe:[xe],typeof Te>"u")for(Te=[],Ie=0;Ie<xe.length;Ie++)Te.push(-xe.length+Ie);for(Te=Array.isArray(Te)?Te:[Te],xe=R(xe,ae.data.length-1),Te=R(Te,ae.data.length-1),Ie=0;Ie<ae.data.length;Ie++)xe.indexOf(Ie)===-1&&Me.push(ae.data[Ie]);for(Ie=0;Ie<xe.length;Ie++)Je.push({newIndex:Te[Ie],trace:ae.data[xe[Ie]]});for(Je.sort(function(vt,pt){return vt.newIndex-pt.newIndex}),Ie=0;Ie<Je.length;Ie+=1)Me.splice(Je[Ie].newIndex,0,Je[Ie].trace);ae.data=Me;var ft=Y.redraw(ae);return l.add(ae,Ve,Ke,Ge,Qe),ft}function P(ae,xe,Te,Me){ae=s.getGraphDiv(ae),b.clearPromiseQueue(ae);var Je={};if(typeof xe=="string")Je[xe]=Te;else if(s.isPlainObject(xe))Je=s.extendFlat({},xe),Me===void 0&&(Me=Te);else return s.warn("Restyle fail.",xe,Te,Me),Promise.reject();Object.keys(Je).length&&(ae.changed=!0);var Ve=b.coerceTraceIndices(ae,Me),Ge=W(ae,Je,Ve),Ke=Ge.flags;Ke.calc&&(ae.calcdata=void 0),Ke.clearAxisTypes&&b.clearAxisTypes(ae,Ve,{});var Qe=[];Ke.fullReplot?Qe.push(Y._doPlot):(Qe.push(v.previousPromises),v.supplyDefaults(ae),Ke.markerSize&&(v.doCalcdata(ae),_e(Qe)),Ke.style&&Qe.push(d.doTraceStyle),Ke.colorbars&&Qe.push(d.doColorBars),Qe.push(E)),Qe.push(v.rehover,v.redrag,v.reselect),l.add(ae,P,[ae,Ge.undoit,Ge.traces],P,[ae,Ge.redoit,Ge.traces]);var Ie=s.syncOrAsync(Qe,ae);return(!Ie||!Ie.then)&&(Ie=Promise.resolve()),Ie.then(function(){return ae.emit("plotly_restyle",Ge.eventData),ae})}function B(ae){return ae===void 0?null:ae}function V(ae,xe){return xe?function(Te,Me,Je){var Ve=e(Te,Me),Ge=Ve.set;return Ve.set=function(Ke){var Qe=(Je||"")+Me;N(Qe,Ve.get(),Ke,ae),Ge(Ke)},Ve}:e}function N(ae,xe,Te,Me){if(Array.isArray(xe)||Array.isArray(Te))for(var Je=Array.isArray(xe)?xe:[],Ve=Array.isArray(Te)?Te:[],Ge=Math.max(Je.length,Ve.length),Ke=0;Ke<Ge;Ke++)N(ae+"["+Ke+"]",Je[Ke],Ve[Ke],Me);else if(s.isPlainObject(xe)||s.isPlainObject(Te)){var Qe=s.isPlainObject(xe)?xe:{},Ie=s.isPlainObject(Te)?Te:{},ft=s.extendFlat({},Qe,Ie);for(var vt in ft)N(ae+"."+vt,Qe[vt],Ie[vt],Me)}else Me[ae]===void 0&&(Me[ae]=B(xe))}function Z(ae,xe,Te){for(var Me in Te){var Je=e(ae,Me);N(Me,Je.get(),Te[Me],xe)}}function W(ae,xe,Te){var Me=ae._fullLayout,Je=ae._fullData,Ve=ae.data,Ge=Me._guiEditing,Ke=V(Me._preGUI,Ge),Qe=s.extendDeepAll({},xe),Ie;q(xe);var ft=T.traceFlags(),vt={},pt={},Ot;function Gt(){return Te.map(function(){})}function Wt(Ht){var St=p.id2name(Ht);Ot.indexOf(St)===-1&&Ot.push(St)}function It(Ht){return"LAYOUT"+Ht+".autorange"}function Qt(Ht){return"LAYOUT"+Ht+".range"}function Nt(Ht){for(var St=Ht;St<Je.length;St++)if(Je[St]._input===Ve[Ht])return Je[St]}function Et(Ht,St,er){if(Array.isArray(Ht)){Ht.forEach(function(ir){Et(ir,St,er)});return}if(!(Ht in xe||b.hasParent(xe,Ht))){var jt;if(Ht.substr(0,6)==="LAYOUT")jt=Ke(ae.layout,Ht.replace("LAYOUT",""));else{var Ut=Te[er],qt=Me._tracePreGUI[Nt(Ut)._fullInput.uid];jt=V(qt,Ge)(Ve[Ut],Ht)}Ht in pt||(pt[Ht]=Gt()),pt[Ht][er]===void 0&&(pt[Ht][er]=B(jt.get())),St!==void 0&&jt.set(St)}}function Xt(Ht){return function(St){return Je[St][Ht]}}function Tt(Ht){return function(St,er){return St===!1?Je[Te[er]][Ht]:null}}for(var Yt in xe){if(b.hasParent(xe,Yt))throw new Error("cannot set "+Yt+" and a parent attribute simultaneously");var Bt=xe[Yt],At,Vt,tr,oe,$,Ee;if((Yt==="autobinx"||Yt==="autobiny")&&(Yt=Yt.charAt(Yt.length-1)+"bins",Array.isArray(Bt)?Bt=Bt.map(Tt(Yt)):Bt===!1?Bt=Te.map(Xt(Yt)):Bt=null),vt[Yt]=Bt,Yt.substr(0,6)==="LAYOUT"){tr=Ke(ae.layout,Yt.replace("LAYOUT","")),pt[Yt]=[B(tr.get())],tr.set(Array.isArray(Bt)?Bt[0]:Bt),ft.calc=!0;continue}for(pt[Yt]=Gt(),Ie=0;Ie<Te.length;Ie++){At=Ve[Te[Ie]],Vt=Nt(Te[Ie]);var Ne=Me._tracePreGUI[Vt._fullInput.uid];if(tr=V(Ne,Ge)(At,Yt),oe=tr.get(),$=Array.isArray(Bt)?Bt[Ie%Bt.length]:Bt,$!==void 0){var He=tr.parts[tr.parts.length-1],Ze=Yt.substr(0,Yt.length-He.length-1),Ue=Ze?Ze+".":"",Be=Ze?e(Vt,Ze).get():Vt;if(Ee=t.getTraceValObject(Vt,tr.parts),Ee&&Ee.impliedEdits&&$!==null)for(var it in Ee.impliedEdits)Et(s.relativeAttr(Yt,it),Ee.impliedEdits[it],Ie);else if((He==="thicknessmode"||He==="lenmode")&&oe!==$&&($==="fraction"||$==="pixels")&&Be){var mt=Me._size,Mt=Be.orient,at=Mt==="top"||Mt==="bottom";if(He==="thicknessmode"){var st=at?mt.h:mt.w;Et(Ue+"thickness",Be.thickness*($==="fraction"?1/st:st),Ie)}else{var kt=at?mt.w:mt.h;Et(Ue+"len",Be.len*($==="fraction"?1/kt:kt),Ie)}}else if(Yt==="type"&&($==="pie"!=(oe==="pie")||$==="funnelarea"!=(oe==="funnelarea"))){var xt="x",lt="y";($==="bar"||oe==="bar")&&At.orientation==="h"&&(xt="y",lt="x"),s.swapAttrs(At,["?","?src"],"labels",xt),s.swapAttrs(At,["d?","?0"],"label",xt),s.swapAttrs(At,["?","?src"],"values",lt),oe==="pie"||oe==="funnelarea"?(e(At,"marker.color").set(e(At,"marker.colors").get()),Me._pielayer.selectAll("g.trace").remove()):a.traceIs(At,"cartesian")&&e(At,"marker.colors").set(e(At,"marker.color").get())}pt[Yt][Ie]=B(oe);var wt=["swapxy","swapxyaxes","orientation","orientationaxes"];if(wt.indexOf(Yt)!==-1){if(Yt==="orientation"){tr.set($);var Ct=At.x&&!At.y?"h":"v";if((tr.get()||Ct)===Vt.orientation)continue}else Yt==="orientationaxes"&&(At.orientation={v:"h",h:"v"}[Vt.orientation]);b.swapXYData(At),ft.calc=ft.clearAxisTypes=!0}else v.dataArrayContainers.indexOf(tr.parts[0])!==-1?(b.manageArrayContainers(tr,$,pt),ft.calc=!0):(Ee?Ee.arrayOk&&!a.traceIs(Vt,"regl")&&(s.isArrayOrTypedArray($)||s.isArrayOrTypedArray(oe))?ft.calc=!0:T.update(ft,Ee):ft.calc=!0,tr.set($))}}if(["swapxyaxes","orientationaxes"].indexOf(Yt)!==-1&&p.swap(ae,Te),Yt==="orientationaxes"){var _t=e(ae.layout,"hovermode"),Pt=_t.get();Pt==="x"?_t.set("y"):Pt==="y"?_t.set("x"):Pt==="x unified"?_t.set("y unified"):Pt==="y unified"&&_t.set("x unified")}if(["orientation","type"].indexOf(Yt)!==-1){for(Ot=[],Ie=0;Ie<Te.length;Ie++){var Ft=Ve[Te[Ie]];a.traceIs(Ft,"cartesian")&&(Wt(Ft.xaxis||"x"),Wt(Ft.yaxis||"y"))}Et(Ot.map(It),!0,0),Et(Ot.map(Qt),[0,1],0)}}return(ft.calc||ft.plot)&&(ft.fullReplot=!0),{flags:ft,undoit:pt,redoit:vt,traces:Te,eventData:s.extendDeepNoArrays([],[Qe,Te])}}function q(ae){var xe=s.counterRegex("axis",".title",!1,!1),Te=/colorbar\.title$/,Me=Object.keys(ae),Je,Ve,Ge;for(Je=0;Je<Me.length;Je++)Ve=Me[Je],Ge=ae[Ve],(Ve==="title"||xe.test(Ve)||Te.test(Ve))&&(typeof Ge=="string"||typeof Ge=="number")?Ke(Ve,Ve.replace("title","title.text")):Ve.indexOf("titlefont")>-1&&Ve.indexOf("grouptitlefont")===-1?Ke(Ve,Ve.replace("titlefont","title.font")):Ve.indexOf("titleposition")>-1?Ke(Ve,Ve.replace("titleposition","title.position")):Ve.indexOf("titleside")>-1?Ke(Ve,Ve.replace("titleside","title.side")):Ve.indexOf("titleoffset")>-1&&Ke(Ve,Ve.replace("titleoffset","title.offset"));function Ke(Qe,Ie){ae[Ie]=ae[Qe],delete ae[Qe]}}function re(ae,xe,Te){ae=s.getGraphDiv(ae),b.clearPromiseQueue(ae);var Me={};if(typeof xe=="string")Me[xe]=Te;else if(s.isPlainObject(xe))Me=s.extendFlat({},xe);else return s.warn("Relayout fail.",xe,Te),Promise.reject();Object.keys(Me).length&&(ae.changed=!0);var Je=ue(ae,Me),Ve=Je.flags;Ve.calc&&(ae.calcdata=void 0);var Ge=[v.previousPromises];Ve.layoutReplot?Ge.push(d.layoutReplot):Object.keys(Me).length&&(se(ae,Ve,Je)||v.supplyDefaults(ae),Ve.legend&&Ge.push(d.doLegend),Ve.layoutstyle&&Ge.push(d.layoutStyles),Ve.axrange&&_e(Ge,Je.rangesAltered),Ve.ticks&&Ge.push(d.doTicksRelayout),Ve.modebar&&Ge.push(d.doModeBar),Ve.camera&&Ge.push(d.doCamera),Ve.colorbars&&Ge.push(d.doColorBars),Ge.push(E)),Ge.push(v.rehover,v.redrag,v.reselect),l.add(ae,re,[ae,Je.undoit],re,[ae,Je.redoit]);var Ke=s.syncOrAsync(Ge,ae);return(!Ke||!Ke.then)&&(Ke=Promise.resolve(ae)),Ke.then(function(){return ae.emit("plotly_relayout",Je.eventData),ae})}function se(ae,xe,Te){var Me=ae._fullLayout;if(!xe.axrange)return!1;for(var Je in xe)if(Je!=="axrange"&&xe[Je])return!1;for(var Ve in Te.rangesAltered){var Ge=p.id2name(Ve),Ke=ae.layout[Ge],Qe=Me[Ge];if(Qe.autorange=Ke.autorange,Ke.range&&(Qe.range=Ke.range.slice()),Qe.cleanRange(),Qe._matchGroup){for(var Ie in Qe._matchGroup)if(Ie!==Ve){var ft=Me[p.id2name(Ie)];ft.autorange=Qe.autorange,ft.range=Qe.range.slice(),ft._input.range=Qe.range.slice()}}}return!0}function _e(ae,xe){var Te=xe?function(Me){var Je=[],Ve=!0;for(var Ge in xe){var Ke=p.getFromId(Me,Ge);if(Je.push(Ge),(Ke.ticklabelposition||"").indexOf("inside")!==-1&&Ke._anchorAxis&&Je.push(Ke._anchorAxis._id),Ke._matchGroup)for(var Qe in Ke._matchGroup)xe[Qe]||Je.push(Qe)}return p.draw(Me,Je,{skipTitle:Ve})}:function(Me){return p.draw(Me,"redraw")};ae.push(y,d.doAutoRangeAndConstraints,Te,d.drawData,d.finalDraw)}var ge=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ae=/^[xyz]axis[0-9]*\.autorange$/,Ce=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ue(ae,xe){var Te=ae.layout,Me=ae._fullLayout,Je=Me._guiEditing,Ve=V(Me._preGUI,Je),Ge=Object.keys(xe),Ke=p.list(ae),Qe=s.extendDeepAll({},xe),Ie={},ft,vt,pt;for(q(xe),Ge=Object.keys(xe),vt=0;vt<Ge.length;vt++)if(Ge[vt].indexOf("allaxes")===0){for(pt=0;pt<Ke.length;pt++){var Ot=Ke[pt]._id.substr(1),Gt=Ot.indexOf("scene")!==-1?Ot+".":"",Wt=Ge[vt].replace("allaxes",Gt+Ke[pt]._name);xe[Wt]||(xe[Wt]=xe[Ge[vt]])}delete xe[Ge[vt]]}var It=T.layoutFlags(),Qt={},Nt={};function Et(Ut,qt){if(Array.isArray(Ut)){Ut.forEach(function(rr){Et(rr,qt)});return}if(!(Ut in xe||b.hasParent(xe,Ut))){var ir=Ve(Te,Ut);Ut in Nt||(Nt[Ut]=B(ir.get())),qt!==void 0&&ir.set(qt)}}var Xt={},Tt;function Yt(Ut){var qt=p.name2id(Ut.split(".")[0]);return Xt[qt]=1,qt}for(var Bt in xe){if(b.hasParent(xe,Bt))throw new Error("cannot set "+Bt+" and a parent attribute simultaneously");for(var At=Ve(Te,Bt),Vt=xe[Bt],tr=At.parts.length,oe=tr-1;oe>0&&typeof At.parts[oe]!="string";)oe--;var $=At.parts[oe],Ee=At.parts[oe-1]+"."+$,Ne=At.parts.slice(0,oe).join("."),He=e(ae.layout,Ne).get(),Ze=e(Me,Ne).get(),Ue=At.get();if(Vt!==void 0){Qt[Bt]=Vt,Nt[Bt]=$==="reverse"?Vt:B(Ue);var Be=t.getLayoutValObject(Me,At.parts);if(Be&&Be.impliedEdits&&Vt!==null)for(var it in Be.impliedEdits)Et(s.relativeAttr(Bt,it),Be.impliedEdits[it]);if(["width","height"].indexOf(Bt)!==-1)if(Vt){Et("autosize",null);var mt=Bt==="height"?"width":"height";Et(mt,Me[mt])}else Me[Bt]=ae._initialAutoSize[Bt];else if(Bt==="autosize")Et("width",Vt?null:Me.width),Et("height",Vt?null:Me.height);else if(Ee.match(ge))Yt(Ee),e(Me,Ne+"._inputRange").set(null);else if(Ee.match(Ae)){Yt(Ee),e(Me,Ne+"._inputRange").set(null);var Mt=e(Me,Ne).get();Mt._inputDomain&&(Mt._input.domain=Mt._inputDomain.slice())}else Ee.match(Ce)&&e(Me,Ne+"._inputDomain").set(null);if($==="type"){Tt=He;var at=Ze.type==="linear"&&Vt==="log",st=Ze.type==="log"&&Vt==="linear";if(at||st){if(!Tt||!Tt.range)Et(Ne+".autorange",!0);else if(Ze.autorange)at&&(Tt.range=Tt.range[1]>Tt.range[0]?[1,2]:[2,1]);else{var kt=Tt.range[0],xt=Tt.range[1];at?(kt<=0&&xt<=0&&Et(Ne+".autorange",!0),kt<=0?kt=xt/1e6:xt<=0&&(xt=kt/1e6),Et(Ne+".range[0]",Math.log(kt)/Math.LN10),Et(Ne+".range[1]",Math.log(xt)/Math.LN10)):(Et(Ne+".range[0]",Math.pow(10,kt)),Et(Ne+".range[1]",Math.pow(10,xt)))}Array.isArray(Me._subplots.polar)&&Me._subplots.polar.length&&Me[At.parts[0]]&&At.parts[1]==="radialaxis"&&delete Me[At.parts[0]]._subplot.viewInitial["radialaxis.range"],a.getComponentMethod("annotations","convertCoords")(ae,Ze,Vt,Et),a.getComponentMethod("images","convertCoords")(ae,Ze,Vt,Et)}else Et(Ne+".autorange",!0),Et(Ne+".range",null);e(Me,Ne+"._inputRange").set(null)}else if($.match(k)){var lt=e(Me,Bt).get(),wt=(Vt||{}).type;(!wt||wt==="-")&&(wt="linear"),a.getComponentMethod("annotations","convertCoords")(ae,lt,wt,Et),a.getComponentMethod("images","convertCoords")(ae,lt,wt,Et)}var Ct=f.containerArrayMatch(Bt);if(Ct){ft=Ct.array,vt=Ct.index;var _t=Ct.property,Pt=Be||{editType:"calc"};vt!==""&&_t===""&&(f.isAddVal(Vt)?Nt[Bt]=null:f.isRemoveVal(Vt)?Nt[Bt]=(e(Te,ft).get()||[])[vt]:s.warn("unrecognized full object value",xe)),T.update(It,Pt),Ie[ft]||(Ie[ft]={});var Ft=Ie[ft][vt];Ft||(Ft=Ie[ft][vt]={}),Ft[_t]=Vt,delete xe[Bt]}else $==="reverse"?(He.range?He.range.reverse():(Et(Ne+".autorange",!0),He.range=[1,0]),Ze.autorange?It.calc=!0:It.plot=!0):(Bt==="dragmode"&&(Vt===!1&&Ue!==!1||Vt!==!1&&Ue===!1)||Me._has("scatter-like")&&Me._has("regl")&&Bt==="dragmode"&&(Vt==="lasso"||Vt==="select")&&!(Ue==="lasso"||Ue==="select")||Me._has("gl2d")?It.plot=!0:Be?T.update(It,Be):It.calc=!0,At.set(Vt))}}for(ft in Ie){var Ht=f.applyContainerArrayChanges(ae,Ve(Te,ft),Ie[ft],It,Ve);Ht||(It.plot=!0)}for(var St in Xt){Tt=p.getFromId(ae,St);var er=Tt&&Tt._constraintGroup;if(er){It.calc=!0;for(var jt in er)Xt[jt]||(p.getFromId(ae,jt)._constraintShrinkable=!0)}}return(he(ae)||xe.height||xe.width)&&(It.plot=!0),(It.plot||It.calc)&&(It.layoutReplot=!0),{flags:It,rangesAltered:Xt,undoit:Nt,redoit:Qt,eventData:Qe}}function he(ae){var xe=ae._fullLayout,Te=xe.width,Me=xe.height;return ae.layout.autosize&&v.plotAutoSize(ae,ae.layout,xe),xe.width!==Te||xe.height!==Me}function we(ae,xe,Te,Me){ae=s.getGraphDiv(ae),b.clearPromiseQueue(ae),s.isPlainObject(xe)||(xe={}),s.isPlainObject(Te)||(Te={}),Object.keys(xe).length&&(ae.changed=!0),Object.keys(Te).length&&(ae.changed=!0);var Je=b.coerceTraceIndices(ae,Me),Ve=W(ae,s.extendFlat({},xe),Je),Ge=Ve.flags,Ke=ue(ae,s.extendFlat({},Te)),Qe=Ke.flags;(Ge.calc||Qe.calc)&&(ae.calcdata=void 0),Ge.clearAxisTypes&&b.clearAxisTypes(ae,Je,Te);var Ie=[];Qe.layoutReplot?Ie.push(d.layoutReplot):Ge.fullReplot?Ie.push(Y._doPlot):(Ie.push(v.previousPromises),se(ae,Qe,Ke)||v.supplyDefaults(ae),Ge.style&&Ie.push(d.doTraceStyle),(Ge.colorbars||Qe.colorbars)&&Ie.push(d.doColorBars),Qe.legend&&Ie.push(d.doLegend),Qe.layoutstyle&&Ie.push(d.layoutStyles),Qe.axrange&&_e(Ie,Ke.rangesAltered),Qe.ticks&&Ie.push(d.doTicksRelayout),Qe.modebar&&Ie.push(d.doModeBar),Qe.camera&&Ie.push(d.doCamera),Ie.push(E)),Ie.push(v.rehover,v.redrag,v.reselect),l.add(ae,we,[ae,Ve.undoit,Ke.undoit,Ve.traces],we,[ae,Ve.redoit,Ke.redoit,Ve.traces]);var ft=s.syncOrAsync(Ie,ae);return(!ft||!ft.then)&&(ft=Promise.resolve(ae)),ft.then(function(){return ae.emit("plotly_update",{data:Ve.eventData,layout:Ke.eventData}),ae})}function ke(ae){return function(Te){Te._fullLayout._guiEditing=!0;var Me=ae.apply(null,arguments);return Te._fullLayout._guiEditing=!1,Me}}var Pe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],fe=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function De(ae,xe){for(var Te=0;Te<xe.length;Te++){var Me=xe[Te],Je=ae.match(Me.pattern);if(Je){var Ve=Je[1]||"";return{head:Ve,tail:ae.substr(Ve.length+1),attr:Me.attr}}}}function Fe(ae,xe){var Te=e(xe,ae).get();if(Te!==void 0)return Te;var Me=ae.split(".");for(Me.pop();Me.length>1;)if(Me.pop(),Te=e(xe,Me.join(".")+".uirevision").get(),Te!==void 0)return Te;return xe.uirevision}function et(ae,xe){for(var Te=0;Te<xe.length;Te++)if(xe[Te]._fullInput.uid===ae)return Te;return-1}function Xe(ae,xe,Te){for(var Me=0;Me<xe.length;Me++)if(xe[Me].uid===ae)return Me;return!xe[Te]||xe[Te].uid?-1:Te}function qe(ae,xe){var Te=s.isPlainObject(ae),Me=Array.isArray(ae);return Te||Me?(Te&&s.isPlainObject(xe)||Me&&Array.isArray(xe))&&JSON.stringify(ae)===JSON.stringify(xe):ae===xe}function rt(ae,xe,Te,Me){var Je=Me._preGUI,Ve,Ge,Ke,Qe,Ie,ft,vt,pt,Ot,Gt,Wt=[],It={},Qt={};for(Ve in Je){if(Ie=De(Ve,Pe),Ie){if(Ot=Ie.head,Gt=Ie.tail,Ge=Ie.attr||Ot+".uirevision",Ke=e(Me,Ge).get(),Qe=Ke&&Fe(Ge,xe),Qe&&Qe===Ke){if(ft=Je[Ve],ft===null&&(ft=void 0),vt=e(xe,Ve),pt=vt.get(),qe(pt,ft)){pt===void 0&&Gt==="autorange"&&Wt.push(Ot),vt.set(B(e(Me,Ve).get()));continue}else if(Gt==="autorange"||Gt.substr(0,6)==="range["){var Nt=Je[Ot+".range[0]"],Et=Je[Ot+".range[1]"],Xt=Je[Ot+".autorange"];if(Xt||Xt===null&&Nt===null&&Et===null){if(!(Ot in It)){var Tt=e(xe,Ot).get();It[Ot]=Tt&&(Tt.autorange||Tt.autorange!==!1&&(!Tt.range||Tt.range.length!==2))}if(It[Ot]){vt.set(B(e(Me,Ve).get()));continue}}}}}else s.warn("unrecognized GUI edit: "+Ve);delete Je[Ve],Ie&&Ie.tail.substr(0,6)==="range["&&(Qt[Ie.head]=1)}for(var Yt=0;Yt<Wt.length;Yt++){var Bt=Wt[Yt];if(Qt[Bt]){var At=e(xe,Bt).get();At&&delete At.autorange}}var Vt=Me._tracePreGUI;for(var tr in Vt){var oe=Vt[tr],$=null,Ee;for(Ve in oe){if(!$){var Ne=et(tr,Te);if(Ne<0){delete Vt[tr];break}var He=Te[Ne];Ee=He._fullInput;var Ze=Xe(tr,ae,Ee.index);if(Ze<0){delete Vt[tr];break}$=ae[Ze]}if(Ie=De(Ve,fe),Ie){if(Ie.attr?(Ke=e(Me,Ie.attr).get(),Qe=Ke&&Fe(Ie.attr,xe)):(Ke=Ee.uirevision,Qe=$.uirevision,Qe===void 0&&(Qe=xe.uirevision)),Qe&&Qe===Ke&&(ft=oe[Ve],ft===null&&(ft=void 0),vt=e($,Ve),pt=vt.get(),qe(pt,ft))){vt.set(B(e(Ee,Ve).get()));continue}}else s.warn("unrecognized GUI edit: "+Ve+" in trace uid "+tr);delete oe[Ve]}}}function ut(ae,xe,Te,Me){var Je,Ve;function Ge(){return Y.addFrames(ae,Je)}ae=s.getGraphDiv(ae),b.clearPromiseQueue(ae);var Ke=ae._fullData,Qe=ae._fullLayout;if(!s.isPlotDiv(ae)||!Ke||!Qe)Ve=Y.newPlot(ae,xe,Te,Me);else{if(s.isPlainObject(xe)){var Ie=xe;xe=Ie.data,Te=Ie.layout,Me=Ie.config,Je=Ie.frames}var ft=!1;if(Me){var vt=s.extendDeep({},ae._context);ae._context=void 0,Q(ae,Me),ft=je(vt,ae._context)}ae.data=xe||[],b.cleanData(ae.data),ae.layout=Te||{},b.cleanLayout(ae.layout),rt(ae.data,ae.layout,Ke,Qe),v.supplyDefaults(ae,{skipUpdateCalc:!0});var pt=ae._fullData,Ot=ae._fullLayout,Gt=Ot.datarevision===void 0,Wt=Ot.transition,It=Rt(ae,Qe,Ot,Gt,Wt),Qt=It.newDataRevision,Nt=yt(ae,Ke,pt,Gt,Wt,Qt);if(he(ae)&&(It.layoutReplot=!0),Nt.calc||It.calc){ae.calcdata=void 0;for(var Et=Object.getOwnPropertyNames(Ot),Xt=0;Xt<Et.length;Xt++){var Tt=Et[Xt],Yt=Tt.substring(0,5);if(Yt==="xaxis"||Yt==="yaxis"){var Bt=Ot[Tt]._emptyCategories;Bt&&Bt()}}}else v.supplyDefaultsUpdateCalc(ae.calcdata,pt);var At=[];if(Je&&(ae._transitionData={},v.createTransitionData(ae),At.push(Ge)),Ot.transition&&!ft&&(Nt.anim||It.anim))It.ticks&&At.push(d.doTicksRelayout),v.doCalcdata(ae),d.doAutoRangeAndConstraints(ae),At.push(function(){return v.transitionFromReact(ae,Nt,It,Qe)});else if(Nt.fullReplot||It.layoutReplot||ft)ae._fullLayout._skipDefaults=!0,At.push(Y._doPlot);else{for(var Vt in It.arrays){var tr=It.arrays[Vt];if(tr.length){var oe=a.getComponentMethod(Vt,"drawOne");if(oe!==s.noop)for(var $=0;$<tr.length;$++)oe(ae,tr[$]);else{var Ee=a.getComponentMethod(Vt,"draw");if(Ee===s.noop)throw new Error("cannot draw components: "+Vt);Ee(ae)}}}At.push(v.previousPromises),Nt.style&&At.push(d.doTraceStyle),(Nt.colorbars||It.colorbars)&&At.push(d.doColorBars),It.legend&&At.push(d.doLegend),It.layoutstyle&&At.push(d.layoutStyles),It.axrange&&_e(At),It.ticks&&At.push(d.doTicksRelayout),It.modebar&&At.push(d.doModeBar),It.camera&&At.push(d.doCamera),At.push(E)}At.push(v.rehover,v.redrag,v.reselect),Ve=s.syncOrAsync(At,ae),(!Ve||!Ve.then)&&(Ve=Promise.resolve(ae))}return Ve.then(function(){return ae.emit("plotly_react",{data:xe,layout:Te}),ae})}function yt(ae,xe,Te,Me,Je,Ve){var Ge=xe.length===Te.length;if(!Je&&!Ge)return{fullReplot:!0,calc:!0};var Ke=T.traceFlags();Ke.arrays={},Ke.nChanges=0,Ke.nChangesAnim=0;var Qe,Ie;function ft(Ot){var Gt=t.getTraceValObject(Ie,Ot);return!Ie._module.animatable&&Gt.anim&&(Gt.anim=!1),Gt}var vt={getValObject:ft,flags:Ke,immutable:Me,transition:Je,newDataRevision:Ve,gd:ae},pt={};for(Qe=0;Qe<xe.length;Qe++)if(Te[Qe]){if(Ie=Te[Qe]._fullInput,v.hasMakesDataTransform(Ie)&&(Ie=Te[Qe]),pt[Ie.uid])continue;pt[Ie.uid]=1,bt(xe[Qe]._fullInput,Ie,[],vt)}return(Ke.calc||Ke.plot)&&(Ke.fullReplot=!0),Je&&Ke.nChanges&&Ke.nChangesAnim&&(Ke.anim=Ke.nChanges===Ke.nChangesAnim&&Ge?"all":"some"),Ke}function Rt(ae,xe,Te,Me,Je){var Ve=T.layoutFlags();Ve.arrays={},Ve.rangesAltered={},Ve.nChanges=0,Ve.nChangesAnim=0;function Ge(Qe){return t.getLayoutValObject(Te,Qe)}var Ke={getValObject:Ge,flags:Ve,immutable:Me,transition:Je,gd:ae};return bt(xe,Te,[],Ke),(Ve.plot||Ve.calc)&&(Ve.layoutReplot=!0),Je&&Ve.nChanges&&Ve.nChangesAnim&&(Ve.anim=Ve.nChanges===Ve.nChangesAnim?"all":"some"),Ve}function bt(ae,xe,Te,Me){var Je,Ve,Ge,Ke=Me.getValObject,Qe=Me.flags,Ie=Me.immutable,ft=Me.inArray,vt=Me.arrayIndex;function pt(){var Ne=Je.editType;if(ft&&Ne.indexOf("arraydraw")!==-1){s.pushUnique(Qe.arrays[ft],vt);return}T.update(Qe,Je),Ne!=="none"&&Qe.nChanges++,Me.transition&&Je.anim&&Qe.nChangesAnim++,(ge.test(Ge)||Ae.test(Ge))&&(Qe.rangesAltered[Te[0]]=1),Ce.test(Ge)&&e(xe,"_inputDomain").set(null),Ve==="datarevision"&&(Qe.newDataRevision=1)}function Ot(Ne){return Ne.valType==="data_array"||Ne.arrayOk}for(Ve in ae){if(Qe.calc&&!Me.transition)return;var Gt=ae[Ve],Wt=xe[Ve],It=Te.concat(Ve);if(Ge=It.join("."),!(Ve.charAt(0)==="_"||typeof Gt=="function"||Gt===Wt)){if((Ve==="tick0"||Ve==="dtick")&&Te[0]!=="geo"){var Qt=xe.tickmode;if(Qt==="auto"||Qt==="array"||!Qt)continue}if(!(Ve==="range"&&xe.autorange)&&!((Ve==="zmin"||Ve==="zmax")&&xe.type==="contourcarpet")&&(Je=Ke(It),!!Je&&!(Je._compareAsJSON&&JSON.stringify(Gt)===JSON.stringify(Wt)))){var Nt=Je.valType,Et,Xt=Ot(Je),Tt=Array.isArray(Gt),Yt=Array.isArray(Wt);if(Tt&&Yt){var Bt="_input_"+Ve,At=ae[Bt],Vt=xe[Bt];if(Array.isArray(At)&&At===Vt)continue}if(Wt===void 0)Xt&&Tt?Qe.calc=!0:pt();else if(Je._isLinkedToArray){var tr=[],oe=!1;ft||(Qe.arrays[Ve]=tr);var $=Math.min(Gt.length,Wt.length),Ee=Math.max(Gt.length,Wt.length);if($!==Ee)if(Je.editType==="arraydraw")oe=!0;else{pt();continue}for(Et=0;Et<$;Et++)bt(Gt[Et],Wt[Et],It.concat(Et),s.extendFlat({inArray:Ve,arrayIndex:Et},Me));if(oe)for(Et=$;Et<Ee;Et++)tr.push(Et)}else!Nt&&s.isPlainObject(Gt)?bt(Gt,Wt,It,Me):Xt?Tt&&Yt?(Ie&&(Qe.calc=!0),(Ie||Me.newDataRevision)&&pt()):Tt!==Yt?Qe.calc=!0:pt():Tt&&Yt?(Gt.length!==Wt.length||String(Gt)!==String(Wt))&&pt():pt()}}}for(Ve in xe)if(!(Ve in ae||Ve.charAt(0)==="_"||typeof xe[Ve]=="function"))if(Je=Ke(Te.concat(Ve)),Ot(Je)&&Array.isArray(xe[Ve])){Qe.calc=!0;return}else pt()}function je(ae,xe){var Te;for(Te in ae)if(Te.charAt(0)!=="_"){var Me=ae[Te],Je=xe[Te];if(Me!==Je)if(s.isPlainObject(Me)&&s.isPlainObject(Je)){if(je(Me,Je))return!0}else if(Array.isArray(Me)&&Array.isArray(Je)){if(Me.length!==Je.length)return!0;for(var Ve=0;Ve<Me.length;Ve++)if(Me[Ve]!==Je[Ve])if(s.isPlainObject(Me[Ve])&&s.isPlainObject(Je[Ve])){if(je(Me[Ve],Je[Ve]))return!0}else return!0}else return!0}}function ct(ae,xe,Te){if(ae=s.getGraphDiv(ae),!s.isPlotDiv(ae))throw new Error("This element is not a Plotly plot: "+ae+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Me=ae._transitionData;Me._frameQueue||(Me._frameQueue=[]),Te=v.supplyAnimationDefaults(Te);var Je=Te.transition,Ve=Te.frame;Me._frameWaitingCnt===void 0&&(Me._frameWaitingCnt=0);function Ge(Ie){return Array.isArray(Je)?Ie>=Je.length?Je[0]:Je[Ie]:Je}function Ke(Ie){return Array.isArray(Ve)?Ie>=Ve.length?Ve[0]:Ve[Ie]:Ve}function Qe(Ie,ft){var vt=0;return function(){if(Ie&&++vt===ft)return Ie()}}return new Promise(function(Ie,ft){function vt(){if(Me._frameQueue.length!==0){for(;Me._frameQueue.length;){var $=Me._frameQueue.pop();$.onInterrupt&&$.onInterrupt()}ae.emit("plotly_animationinterrupted",[])}}function pt($){if($.length!==0){for(var Ee=0;Ee<$.length;Ee++){var Ne;$[Ee].type==="byname"?Ne=v.computeFrame(ae,$[Ee].name):Ne=$[Ee].data;var He=Ke(Ee),Ze=Ge(Ee);Ze.duration=Math.min(Ze.duration,He.duration);var Ue={frame:Ne,name:$[Ee].name,frameOpts:He,transitionOpts:Ze};Ee===$.length-1&&(Ue.onComplete=Qe(Ie,2),Ue.onInterrupt=ft),Me._frameQueue.push(Ue)}Te.mode==="immediate"&&(Me._lastFrameAt=-1/0),Me._animationRaf||Wt()}}function Ot(){ae.emit("plotly_animated"),window.cancelAnimationFrame(Me._animationRaf),Me._animationRaf=null}function Gt(){Me._currentFrame&&Me._currentFrame.onComplete&&Me._currentFrame.onComplete();var $=Me._currentFrame=Me._frameQueue.shift();if($){var Ee=$.name?$.name.toString():null;ae._fullLayout._currentFrame=Ee,Me._lastFrameAt=Date.now(),Me._timeToNext=$.frameOpts.duration,v.transition(ae,$.frame.data,$.frame.layout,b.coerceTraceIndices(ae,$.frame.traces),$.frameOpts,$.transitionOpts).then(function(){$.onComplete&&$.onComplete()}),ae.emit("plotly_animatingframe",{name:Ee,frame:$.frame,animation:{frame:$.frameOpts,transition:$.transitionOpts}})}else Ot()}function Wt(){ae.emit("plotly_animating"),Me._lastFrameAt=-1/0,Me._timeToNext=0,Me._runningTransitions=0,Me._currentFrame=null;var $=function(){Me._animationRaf=window.requestAnimationFrame($),Date.now()-Me._lastFrameAt>Me._timeToNext&&Gt()};$()}var It=0;function Qt($){return Array.isArray(Je)?It>=Je.length?$.transitionOpts=Je[It]:$.transitionOpts=Je[0]:$.transitionOpts=Je,It++,$}var Nt,Et,Xt=[],Tt=xe==null,Yt=Array.isArray(xe),Bt=!Tt&&!Yt&&s.isPlainObject(xe);if(Bt)Xt.push({type:"object",data:Qt(s.extendFlat({},xe))});else if(Tt||["string","number"].indexOf(typeof xe)!==-1)for(Nt=0;Nt<Me._frames.length;Nt++)Et=Me._frames[Nt],!!Et&&(Tt||String(Et.group)===String(xe))&&Xt.push({type:"byname",name:String(Et.name),data:Qt({name:Et.name})});else if(Yt)for(Nt=0;Nt<xe.length;Nt++){var At=xe[Nt];["number","string"].indexOf(typeof At)!==-1?(At=String(At),Xt.push({type:"byname",name:At,data:Qt({name:At})})):s.isPlainObject(At)&&Xt.push({type:"object",data:Qt(s.extendFlat({},At))})}for(Nt=0;Nt<Xt.length;Nt++)if(Et=Xt[Nt],Et.type==="byname"&&!Me._frameHash[Et.data.name]){s.warn('animate failure: frame not found: "'+Et.data.name+'"'),ft();return}["next","immediate"].indexOf(Te.mode)!==-1&&vt(),Te.direction==="reverse"&&Xt.reverse();var Vt=ae._fullLayout._currentFrame;if(Vt&&Te.fromcurrent){var tr=-1;for(Nt=0;Nt<Xt.length;Nt++)if(Et=Xt[Nt],Et.type==="byname"&&Et.name===Vt){tr=Nt;break}if(tr>0&&tr<Xt.length-1){var oe=[];for(Nt=0;Nt<Xt.length;Nt++)Et=Xt[Nt],(Xt[Nt].type!=="byname"||Nt>tr)&&oe.push(Et);Xt=oe}}Xt.length>0?pt(Xt):(ae.emit("plotly_animated"),Ie())})}function Dt(ae,xe,Te){if(ae=s.getGraphDiv(ae),xe==null)return Promise.resolve();if(!s.isPlotDiv(ae))throw new Error("This element is not a Plotly plot: "+ae+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Me,Je,Ve,Ge,Ke=ae._transitionData._frames,Qe=ae._transitionData._frameHash;if(!Array.isArray(xe))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+xe);var Ie=Ke.length+xe.length*2,ft=[],vt={};for(Me=xe.length-1;Me>=0;Me--)if(!!s.isPlainObject(xe[Me])){var pt=xe[Me].name,Ot=(Qe[pt]||vt[pt]||{}).name,Gt=xe[Me].name,Wt=Qe[Ot]||vt[Ot];Ot&&Gt&&typeof Gt=="number"&&Wt&&F<M&&(F++,s.warn('addFrames: overwriting frame "'+(Qe[Ot]||vt[Ot]).name+'" with a frame whose name of type "number" also equates to "'+Ot+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),F===M&&s.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),vt[pt]={name:pt},ft.push({frame:v.supplyFrameDefaults(xe[Me]),index:Te&&Te[Me]!==void 0&&Te[Me]!==null?Te[Me]:Ie+Me})}ft.sort(function(Bt,At){return Bt.index>At.index?-1:Bt.index<At.index?1:0});var It=[],Qt=[],Nt=Ke.length;for(Me=ft.length-1;Me>=0;Me--){if(Je=ft[Me].frame,typeof Je.name=="number"&&s.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Je.name)for(;Qe[Je.name="frame "+ae._transitionData._counter++];);if(Qe[Je.name]){for(Ve=0;Ve<Ke.length&&(Ke[Ve]||{}).name!==Je.name;Ve++);It.push({type:"replace",index:Ve,value:Je}),Qt.unshift({type:"replace",index:Ve,value:Ke[Ve]})}else Ge=Math.max(0,Math.min(ft[Me].index,Nt)),It.push({type:"insert",index:Ge,value:Je}),Qt.unshift({type:"delete",index:Ge}),Nt++}var Et=v.modifyFrames,Xt=v.modifyFrames,Tt=[ae,Qt],Yt=[ae,It];return l&&l.add(ae,Et,Tt,Xt,Yt),v.modifyFrames(ae,It)}function Lt(ae,xe){if(ae=s.getGraphDiv(ae),!s.isPlotDiv(ae))throw new Error("This element is not a Plotly plot: "+ae);var Te,Me,Je=ae._transitionData._frames,Ve=[],Ge=[];if(!xe)for(xe=[],Te=0;Te<Je.length;Te++)xe.push(Te);for(xe=xe.slice(),xe.sort(),Te=xe.length-1;Te>=0;Te--)Me=xe[Te],Ve.push({type:"delete",index:Me}),Ge.unshift({type:"insert",index:Me,value:Je[Me]});var Ke=v.modifyFrames,Qe=v.modifyFrames,Ie=[ae,Ge],ft=[ae,Ve];return l&&l.add(ae,Ke,Ie,Qe,ft),v.modifyFrames(ae,Ve)}function de(ae){ae=s.getGraphDiv(ae);var xe=ae._fullLayout||{},Te=ae._fullData||[];return v.cleanPlot([],{},Te,xe),v.purge(ae),o.purge(ae),xe._container&&xe._container.remove(),delete ae._context,ae}function Re(ae){var xe=ae._fullLayout,Te=ae.getBoundingClientRect();if(!s.equalDomRects(Te,xe._lastBBox)){var Me=xe._invTransform=s.inverseTransformMatrix(s.getFullTransformMatrix(ae));xe._invScaleX=Math.sqrt(Me[0][0]*Me[0][0]+Me[0][1]*Me[0][1]+Me[0][2]*Me[0][2]),xe._invScaleY=Math.sqrt(Me[1][0]*Me[1][0]+Me[1][1]*Me[1][1]+Me[1][2]*Me[1][2]),xe._lastBBox=Te}}function ze(ae){var xe=i.select(ae),Te=ae._fullLayout;if(Te._calcInverseTransform=Re,Te._calcInverseTransform(ae),Te._container=xe.selectAll(".plot-container").data([0]),Te._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Te._paperdiv=Te._container.selectAll(".svg-container").data([0]),Te._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Te._glcontainer=Te._paperdiv.selectAll(".gl-container").data([{}]),Te._glcontainer.enter().append("div").classed("gl-container",!0),Te._paperdiv.selectAll(".main-svg").remove(),Te._paperdiv.select(".modebar-container").remove(),Te._paper=Te._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Te._toppaper=Te._paperdiv.append("svg").classed("main-svg",!0),Te._modebardiv=Te._paperdiv.append("div"),delete Te._modeBar,Te._hoverpaper=Te._paperdiv.append("svg").classed("main-svg",!0),!Te._uid){var Me={};i.selectAll("defs").each(function(){this.id&&(Me[this.id.split("-")[1]]=1)}),Te._uid=s.randstr(Me)}Te._paperdiv.selectAll(".main-svg").attr(w.svgAttrs),Te._defs=Te._paper.append("defs").attr("id","defs-"+Te._uid),Te._clips=Te._defs.append("g").classed("clips",!0),Te._topdefs=Te._toppaper.append("defs").attr("id","topdefs-"+Te._uid),Te._topclips=Te._topdefs.append("g").classed("clips",!0),Te._bgLayer=Te._paper.append("g").classed("bglayer",!0),Te._draggers=Te._paper.append("g").classed("draglayer",!0);var Je=Te._paper.append("g").classed("layer-below",!0);Te._imageLowerLayer=Je.append("g").classed("imagelayer",!0),Te._shapeLowerLayer=Je.append("g").classed("shapelayer",!0),Te._cartesianlayer=Te._paper.append("g").classed("cartesianlayer",!0),Te._polarlayer=Te._paper.append("g").classed("polarlayer",!0),Te._smithlayer=Te._paper.append("g").classed("smithlayer",!0),Te._ternarylayer=Te._paper.append("g").classed("ternarylayer",!0),Te._geolayer=Te._paper.append("g").classed("geolayer",!0),Te._funnelarealayer=Te._paper.append("g").classed("funnelarealayer",!0),Te._pielayer=Te._paper.append("g").classed("pielayer",!0),Te._iciclelayer=Te._paper.append("g").classed("iciclelayer",!0),Te._treemaplayer=Te._paper.append("g").classed("treemaplayer",!0),Te._sunburstlayer=Te._paper.append("g").classed("sunburstlayer",!0),Te._indicatorlayer=Te._toppaper.append("g").classed("indicatorlayer",!0),Te._glimages=Te._paper.append("g").classed("glimages",!0);var Ve=Te._toppaper.append("g").classed("layer-above",!0);Te._imageUpperLayer=Ve.append("g").classed("imagelayer",!0),Te._shapeUpperLayer=Ve.append("g").classed("shapelayer",!0),Te._selectionLayer=Te._toppaper.append("g").classed("selectionlayer",!0),Te._infolayer=Te._toppaper.append("g").classed("infolayer",!0),Te._menulayer=Te._toppaper.append("g").classed("menulayer",!0),Te._zoomlayer=Te._toppaper.append("g").classed("zoomlayer",!0),Te._hoverlayer=Te._hoverpaper.append("g").classed("hoverlayer",!0),Te._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),ae.emit("plotly_framework")}Y.animate=ct,Y.addFrames=Dt,Y.deleteFrames=Lt,Y.addTraces=C,Y.deleteTraces=I,Y.extendTraces=be,Y.moveTraces=L,Y.prependTraces=ve,Y.newPlot=ie,Y._doPlot=S,Y.purge=de,Y.react=ut,Y.redraw=X,Y.relayout=re,Y.restyle=P,Y.setPlotConfig=A,Y.update=we,Y._guiRelayout=ke(re),Y._guiRestyle=ke(P),Y._guiUpdate=ke(we),Y._storeDirectGUIEdit=Z},{"../components/color":103,"../components/drawing":125,"../components/selections":191,"../constants/xmlns_namespaces":225,"../lib":244,"../lib/events":237,"../lib/queue":259,"../plots/cartesian/axes":291,"../plots/cartesian/constants":298,"../plots/cartesian/graph_interact":301,"../plots/plots":325,"../registry":327,"./edit_types":273,"./helpers":274,"./manage_arrays":276,"./plot_config":278,"./plot_schema":279,"./subroutines":281,"@plotly/d3":11,"fast-isnumeric":17,"has-hover":48}],278:[function(u,te,Y){var i={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},n={};function c(s,e){for(var o in s){var l=s[o];l.valType?e[o]=l.dflt:(e[o]||(e[o]={}),c(l,e[o]))}}c(i,n),te.exports={configAttributes:i,dfltConfig:n}},{}],279:[function(u,te,Y){var i=u("../registry"),n=u("../lib"),c=u("../plots/attributes"),s=u("../plots/layout_attributes"),e=u("../plots/frame_attributes"),o=u("../plots/animation_attributes"),l=u("./plot_config").configAttributes,a=u("./edit_types"),t=n.extendDeepAll,v=n.isPlainObject,p=n.isArrayOrTypedArray,h=n.nestedProperty,g=n.valObjectMeta,m="_isSubplotObj",w="_isLinkedToArray",y="_arrayAttrRegexps",x="_deprecated",f=[m,w,y,x];Y.IS_SUBPLOT_OBJ=m,Y.IS_LINKED_TO_ARRAY=w,Y.DEPRECATED=x,Y.UNDERSCORE_ATTRS=f,Y.get=function(){var ie={};i.allTypes.forEach(function(O){ie[O]=k(O)});var R={};return Object.keys(i.transformsRegistry).forEach(function(O){R[O]=M(O)}),{defs:{valObjects:g,metaKeys:f.concat(["description","role","editType","impliedEdits"]),editType:{traces:a.traces,layout:a.layout},impliedEdits:{}},traces:ie,layout:F(),transforms:R,frames:S(),animation:E(o),config:E(l)}},Y.crawl=function(ie,R,O,U){var K=O||0;U=U||"",Object.keys(ie).forEach(function(ee){var ne=ie[ee];if(f.indexOf(ee)===-1){var me=(U?U+".":"")+ee;R(ne,ee,ie,K,me),!Y.isValObject(ne)&&v(ne)&&ee!=="impliedEdits"&&Y.crawl(ne,R,K+1,me)}})},Y.isValObject=function(ie){return ie&&ie.valType!==void 0},Y.findArrayAttributes=function(ie){var R=[],O=[],U=[],K,ee;function ne(I,L,P,B){O=O.slice(0,B).concat([L]),U=U.slice(0,B).concat([I&&I._isLinkedToArray]);var V=I&&(I.valType==="data_array"||I.arrayOk===!0)&&!(O[B-1]==="colorbar"&&(L==="ticktext"||L==="tickvals"));!V||me(K,0,"")}function me(I,L,P){var B=I[O[L]],V=P+O[L];if(L===O.length-1)p(B)&&R.push(ee+V);else if(U[L]){if(Array.isArray(B))for(var N=0;N<B.length;N++)v(B[N])&&me(B[N],L+1,V+"["+N+"].")}else v(B)&&me(B,L+1,V+".")}K=ie,ee="",Y.crawl(c,ne),ie._module&&ie._module.attributes&&Y.crawl(ie._module.attributes,ne);var pe=ie.transforms;if(pe)for(var be=0;be<pe.length;be++){var ve=pe[be],C=ve._module;C&&(ee="transforms["+be+"].",K=ve,Y.crawl(C.attributes,ne))}return R},Y.getTraceValObject=function(ie,R){var O=R[0],U=1,K,ee;if(O==="transforms"){if(R.length===1)return c.transforms;var ne=ie.transforms;if(!Array.isArray(ne)||!ne.length)return!1;var me=R[1];if(!T(me)||me>=ne.length)return!1;K=(i.transformsRegistry[ne[me].type]||{}).attributes,ee=K&&K[R[2]],U=3}else{var pe=ie._module;if(pe||(pe=(i.modules[ie.type||c.type.dflt]||{})._module),!pe)return!1;if(K=pe.attributes,ee=K&&K[O],!ee){var be=pe.basePlotModule;be&&be.attributes&&(ee=be.attributes[O])}ee||(ee=c[O])}return d(ee,R,U)},Y.getLayoutValObject=function(ie,R){var O=b(ie,R[0]);return d(O,R,1)};function b(ie,R){var O,U,K,ee,ne=ie._basePlotModules;if(ne){var me;for(O=0;O<ne.length;O++){if(K=ne[O],K.attrRegex&&K.attrRegex.test(R)){if(K.layoutAttrOverrides)return K.layoutAttrOverrides;!me&&K.layoutAttributes&&(me=K.layoutAttributes)}var pe=K.baseLayoutAttrOverrides;if(pe&&R in pe)return pe[R]}if(me)return me}var be=ie._modules;if(be){for(O=0;O<be.length;O++)if(ee=be[O].layoutAttributes,ee&&R in ee)return ee[R]}for(U in i.componentsRegistry){if(K=i.componentsRegistry[U],K.name==="colorscale"&&R.indexOf("coloraxis")===0)return K.layoutAttributes[R];if(!K.schema&&R===K.name)return K.layoutAttributes}return R in s?s[R]:!1}function d(ie,R,O){if(!ie)return!1;if(ie._isLinkedToArray){if(T(R[O]))O++;else if(O<R.length)return!1}for(;O<R.length;O++){var U=ie[R[O]];if(v(U))ie=U;else break;if(O===R.length-1)break;if(ie._isLinkedToArray){if(O++,!T(R[O]))return!1}else if(ie.valType==="info_array"){O++;var K=R[O];if(!T(K))return!1;var ee=ie.items;if(Array.isArray(ee)){if(K>=ee.length)return!1;if(ie.dimensions===2){if(O++,R.length===O)return ie;var ne=R[O];if(!T(ne))return!1;ie=ee[K][ne]}else ie=ee[K]}else ie=ee}}return ie}function T(ie){return ie===Math.round(ie)&&ie>=0}function k(ie){var R,O;R=i.modules[ie]._module,O=R.basePlotModule;var U={};U.type=null;var K=t({},c),ee=t({},R.attributes);Y.crawl(ee,function(pe,be,ve,C,I){h(K,I).set(void 0),pe===void 0&&h(ee,I).set(void 0)}),t(U,K),i.traceIs(ie,"noOpacity")&&delete U.opacity,i.traceIs(ie,"showLegend")||(delete U.showlegend,delete U.legendgroup),i.traceIs(ie,"noHover")&&(delete U.hoverinfo,delete U.hoverlabel),R.selectPoints||delete U.selectedpoints,t(U,ee),O.attributes&&t(U,O.attributes),U.type=ie;var ne={meta:R.meta||{},categories:R.categories||{},animatable:Boolean(R.animatable),type:ie,attributes:E(U)};if(R.layoutAttributes){var me={};t(me,R.layoutAttributes),ne.layoutAttributes=E(me)}return R.animatable||Y.crawl(ne,function(pe){Y.isValObject(pe)&&"anim"in pe&&delete pe.anim}),ne}function F(){var ie={},R,O;t(ie,s);for(R in i.subplotsRegistry)if(O=i.subplotsRegistry[R],!!O.layoutAttributes)if(Array.isArray(O.attr))for(var U=0;U<O.attr.length;U++)Q(ie,O,O.attr[U]);else{var K=O.attr==="subplot"?O.name:O.attr;Q(ie,O,K)}for(R in i.componentsRegistry){O=i.componentsRegistry[R];var ee=O.schema;if(ee&&(ee.subplots||ee.layout)){var ne=ee.subplots;if(ne&&ne.xaxis&&!ne.yaxis)for(var me in ne.xaxis)delete ie.yaxis[me]}else O.name==="colorscale"?t(ie,O.layoutAttributes):O.layoutAttributes&&X(ie,O.layoutAttributes,O.name)}return{layoutAttributes:E(ie)}}function M(ie){var R=i.transformsRegistry[ie],O=t({},R.attributes);return Object.keys(i.componentsRegistry).forEach(function(U){var K=i.componentsRegistry[U];K.schema&&K.schema.transforms&&K.schema.transforms[ie]&&Object.keys(K.schema.transforms[ie]).forEach(function(ee){X(O,K.schema.transforms[ie][ee],ee)})}),{attributes:E(O)}}function S(){var ie={frames:t({},e)};return E(ie),ie.frames}function E(ie){return A(ie),z(ie),H(ie),ie}function A(ie){function R(U){return{valType:"string",editType:"none"}}function O(U,K,ee){Y.isValObject(U)?(U.arrayOk===!0||U.valType==="data_array")&&(ee[K+"src"]=R()):v(U)&&(U.role="object")}Y.crawl(ie,O)}function z(ie){function R(O,U,K){if(!!O){var ee=O[w];!ee||(delete O[w],K[U]={items:{}},K[U].items[ee]=O,K[U].role="object")}}Y.crawl(ie,R)}function H(ie){function R(O){for(var U in O)if(v(O[U]))R(O[U]);else if(Array.isArray(O[U]))for(var K=0;K<O[U].length;K++)R(O[U][K]);else O[U]instanceof RegExp&&(O[U]=O[U].toString())}R(ie)}function Q(ie,R,O){var U=h(ie,O),K=t({},R.layoutAttributes);K[m]=!0,U.set(K)}function X(ie,R,O){var U=h(ie,O);U.set(t(U.get()||{},R))}},{"../lib":244,"../plots/animation_attributes":285,"../plots/attributes":287,"../plots/frame_attributes":320,"../plots/layout_attributes":323,"../registry":327,"./edit_types":273,"./plot_config":278}],280:[function(u,te,Y){var i=u("../lib"),n=u("../plots/attributes"),c="templateitemname",s={name:{valType:"string",editType:"none"}};s[c]={valType:"string",editType:"calc"},Y.templatedArray=function(l,a){return a._isLinkedToArray=l,a.name=s.name,a[c]=s[c],a},Y.traceTemplater=function(l){var a={},t,v;for(t in l)v=l[t],Array.isArray(v)&&v.length&&(a[t]=0);function p(h){t=i.coerce(h,{},n,"type");var g={type:t,_template:null};if(t in a){v=l[t];var m=a[t]%v.length;a[t]++,g._template=v[m]}return g}return{newTrace:p}},Y.newContainer=function(l,a,t){var v=l._template,p=v&&(v[a]||t&&v[t]);i.isPlainObject(p)||(p=null);var h=l[a]={_template:p};return h},Y.arrayTemplater=function(l,a,t){var v=l._template,p=v&&v[o(a)],h=v&&v[a];(!Array.isArray(h)||!h.length)&&(h=[]);var g={};function m(y){var x={name:y.name,_input:y},f=x[c]=y[c];if(!e(f))return x._template=p,x;for(var b=0;b<h.length;b++){var d=h[b];if(d.name===f)return g[f]=1,x._template=d,x}return x[t]=y[t]||!1,x._template=!1,x}function w(){for(var y=[],x=0;x<h.length;x++){var f=h[x],b=f.name;if(e(b)&&!g[b]){var d={_template:f,name:b,_input:{_templateitemname:b}};d[c]=f[c],y.push(d),g[b]=1}}return y}return{newItem:m,defaultItems:w}};function e(l){return l&&typeof l=="string"}function o(l){var a=l.length-1;return l.charAt(a)!=="s"&&i.warn("bad argument to arrayDefaultKey: "+l),l.substr(0,l.length-1)+"defaults"}Y.arrayDefaultKey=o,Y.arrayEditor=function(l,a,t){var v=(i.nestedProperty(l,a).get()||[]).length,p=t._index,h=p>=v&&(t._input||{})._templateitemname;h&&(p=v);var g=a+"["+p+"]",m;function w(){m={},h&&(m[g]={},m[g][c]=h)}w();function y(d,T){m[d]=T}function x(d,T){h?i.nestedProperty(m[g],d).set(T):m[g+"."+d]=T}function f(){var d=m;return w(),d}function b(d,T){d&&x(d,T);var k=f();for(var F in k)i.nestedProperty(l,F).set(k[F])}return{modifyBase:y,modifyItem:x,getUpdateObj:f,applyUpdate:b}}},{"../lib":244,"../plots/attributes":287}],281:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../registry"),c=u("../plots/plots"),s=u("../lib"),e=u("../lib/clear_gl_canvases"),o=u("../components/color"),l=u("../components/drawing"),a=u("../components/titles"),t=u("../components/modebar"),v=u("../plots/cartesian/axes"),p=u("../constants/alignment"),h=u("../plots/cartesian/constraints"),g=h.enforce,m=h.clean,w=u("../plots/cartesian/autorange").doAutoRange,y="start",x="middle",f="end";Y.layoutStyles=function(z){return s.syncOrAsync([c.doAutoMargin,d],z)};function b(z,H,Q){for(var X=0;X<Q.length;X++){var ie=Q[X][0],R=Q[X][1];if(!(ie[0]>=z[1]||ie[1]<=z[0])&&R[0]<H[1]&&R[1]>H[0])return!0}return!1}function d(z){var H=z._fullLayout,Q=H._size,X=Q.p,ie=v.list(z,"",!0),R,O,U,K,ee,ne;if(H._paperdiv.style({width:z._context.responsive&&H.autosize&&!z._context._hasZeroWidth&&!z.layout.width?"100%":H.width+"px",height:z._context.responsive&&H.autosize&&!z._context._hasZeroHeight&&!z.layout.height?"100%":H.height+"px"}).selectAll(".main-svg").call(l.setSize,H.width,H.height),z._context.setBackground(z,H.paper_bgcolor),Y.drawMainTitle(z),t.manage(z),!H._has("cartesian"))return c.previousPromises(z);function me(je,ct,Dt){var Lt=je._lw/2;if(je._id.charAt(0)==="x"){if(ct){if(Dt==="top")return ct._offset-X-Lt}else return Q.t+Q.h*(1-(je.position||0))+Lt%1;return ct._offset+ct._length+X+Lt}if(ct){if(Dt==="right")return ct._offset+ct._length+X+Lt}else return Q.l+Q.w*(je.position||0)+Lt%1;return ct._offset-X-Lt}for(R=0;R<ie.length;R++){K=ie[R];var pe=K._anchorAxis;K._linepositions={},K._lw=l.crispRound(z,K.linewidth,1),K._mainLinePosition=me(K,pe,K.side),K._mainMirrorPosition=K.mirror&&pe?me(K,pe,p.OPPOSITE_SIDE[K.side]):null}var be=[],ve=[],C=[],I=o.opacity(H.paper_bgcolor)===1&&o.opacity(H.plot_bgcolor)===1&&H.paper_bgcolor===H.plot_bgcolor;for(O in H._plots)if(U=H._plots[O],U.mainplot)U.bg&&U.bg.remove(),U.bg=void 0;else{var L=U.xaxis.domain,P=U.yaxis.domain,B=U.plotgroup;if(b(L,P,C)){var V=B.node(),N=U.bg=s.ensureSingle(B,"rect","bg");V.insertBefore(N.node(),V.childNodes[0]),ve.push(O)}else B.select("rect.bg").remove(),C.push([L,P]),I||(be.push(O),ve.push(O))}var Z=H._bgLayer.selectAll(".bg").data(be);for(Z.enter().append("rect").classed("bg",!0),Z.exit().remove(),Z.each(function(je){H._plots[je].bg=i.select(this)}),R=0;R<ve.length;R++)U=H._plots[ve[R]],ee=U.xaxis,ne=U.yaxis,U.bg&&ee._offset!==void 0&&ne._offset!==void 0&&U.bg.call(l.setRect,ee._offset-X,ne._offset-X,ee._length+2*X,ne._length+2*X).call(o.fill,H.plot_bgcolor).style("stroke-width",0);if(!H._hasOnlyLargeSploms)for(O in H._plots){U=H._plots[O],ee=U.xaxis,ne=U.yaxis;var W=U.clipId="clip"+H._uid+O+"plot",q=s.ensureSingleById(H._clips,"clipPath",W,function(je){je.classed("plotclip",!0).append("rect")});U.clipRect=q.select("rect").attr({width:ee._length,height:ne._length}),l.setTranslate(U.plot,ee._offset,ne._offset);var re,se;U._hasClipOnAxisFalse?(re=null,se=W):(re=W,se=null),l.setClipUrl(U.plot,re,z),U.layerClipId=se}var _e,ge,Ae,Ce,ue,he,we,ke,Pe,fe,De,Fe,et;function Xe(je){return"M"+_e+","+je+"H"+ge}function qe(je){return"M"+ee._offset+","+je+"h"+ee._length}function rt(je){return"M"+je+","+ke+"V"+we}function ut(je){return"M"+je+","+ne._offset+"v"+ne._length}function yt(je,ct,Dt){if(!je.showline||O!==je._mainSubplot)return"";if(!je._anchorAxis)return Dt(je._mainLinePosition);var Lt=ct(je._mainLinePosition);return je.mirror&&(Lt+=ct(je._mainMirrorPosition)),Lt}for(O in H._plots){U=H._plots[O],ee=U.xaxis,ne=U.yaxis;var Rt="M0,0";T(ee,O)&&(ue=F(ee,"left",ne,ie),_e=ee._offset-(ue?X+ue:0),he=F(ee,"right",ne,ie),ge=ee._offset+ee._length+(he?X+he:0),Ae=me(ee,ne,"bottom"),Ce=me(ee,ne,"top"),et=!ee._anchorAxis||O!==ee._mainSubplot,et&&(ee.mirror==="allticks"||ee.mirror==="all")&&(ee._linepositions[O]=[Ae,Ce]),Rt=yt(ee,Xe,qe),et&&ee.showline&&(ee.mirror==="all"||ee.mirror==="allticks")&&(Rt+=Xe(Ae)+Xe(Ce)),U.xlines.style("stroke-width",ee._lw+"px").call(o.stroke,ee.showline?ee.linecolor:"rgba(0,0,0,0)")),U.xlines.attr("d",Rt);var bt="M0,0";T(ne,O)&&(De=F(ne,"bottom",ee,ie),we=ne._offset+ne._length+(De?X:0),Fe=F(ne,"top",ee,ie),ke=ne._offset-(Fe?X:0),Pe=me(ne,ee,"left"),fe=me(ne,ee,"right"),et=!ne._anchorAxis||O!==ne._mainSubplot,et&&(ne.mirror==="allticks"||ne.mirror==="all")&&(ne._linepositions[O]=[Pe,fe]),bt=yt(ne,rt,ut),et&&ne.showline&&(ne.mirror==="all"||ne.mirror==="allticks")&&(bt+=rt(Pe)+rt(fe)),U.ylines.style("stroke-width",ne._lw+"px").call(o.stroke,ne.showline?ne.linecolor:"rgba(0,0,0,0)")),U.ylines.attr("d",bt)}return v.makeClipPaths(z),c.previousPromises(z)}function T(z,H){return(z.ticks||z.showline)&&(H===z._mainSubplot||z.mirror==="all"||z.mirror==="allticks")}function k(z,H,Q){if(!Q.showline||!Q._lw)return!1;if(Q.mirror==="all"||Q.mirror==="allticks")return!0;var X=Q._anchorAxis;if(!X)return!1;var ie=p.FROM_BL[H];return Q.side===H?X.domain[ie]===z.domain[ie]:Q.mirror&&X.domain[1-ie]===z.domain[1-ie]}function F(z,H,Q,X){if(k(z,H,Q))return Q._lw;for(var ie=0;ie<X.length;ie++){var R=X[ie];if(R._mainAxis===Q._mainAxis&&k(z,H,R))return R._lw}return 0}Y.drawMainTitle=function(z){var H=z._fullLayout,Q=E(H),X=A(H);a.draw(z,"gtitle",{propContainer:H,propName:"title.text",placeholder:H._dfltTitle.plot,attributes:{x:M(H,Q),y:S(H,X),"text-anchor":Q,dy:X}})};function M(z,H){var Q=z.title,X=z._size,ie=0;switch(H===y?ie=Q.pad.l:H===f&&(ie=-Q.pad.r),Q.xref){case"paper":return X.l+X.w*Q.x+ie;case"container":default:return z.width*Q.x+ie}}function S(z,H){var Q=z.title,X=z._size,ie=0;if(H==="0em"||!H?ie=-Q.pad.b:H===p.CAP_SHIFT+"em"&&(ie=Q.pad.t),Q.y==="auto")return X.t/2;switch(Q.yref){case"paper":return X.t+X.h-X.h*Q.y+ie;case"container":default:return z.height-z.height*Q.y+ie}}function E(z){var H=z.title,Q=x;return s.isRightAnchor(H)?Q=f:s.isLeftAnchor(H)&&(Q=y),Q}function A(z){var H=z.title,Q="0em";return s.isTopAnchor(H)?Q=p.CAP_SHIFT+"em":s.isMiddleAnchor(H)&&(Q=p.MID_SHIFT+"em"),Q}Y.doTraceStyle=function(z){var H=z.calcdata,Q=[],X;for(X=0;X<H.length;X++){var ie=H[X],R=ie[0]||{},O=R.trace||{},U=O._module||{},K=U.arraysToCalcdata;K&&K(ie,O);var ee=U.editStyle;ee&&Q.push({fn:ee,cd0:R})}if(Q.length){for(X=0;X<Q.length;X++){var ne=Q[X];ne.fn(z,ne.cd0)}e(z),Y.redrawReglTraces(z)}return c.style(z),n.getComponentMethod("legend","draw")(z),c.previousPromises(z)},Y.doColorBars=function(z){return n.getComponentMethod("colorbar","draw")(z),c.previousPromises(z)},Y.layoutReplot=function(z){var H=z.layout;return z.layout=void 0,n.call("_doPlot",z,"",H)},Y.doLegend=function(z){return n.getComponentMethod("legend","draw")(z),c.previousPromises(z)},Y.doTicksRelayout=function(z){return v.draw(z,"redraw"),z._fullLayout._hasOnlyLargeSploms&&(n.subplotsRegistry.splom.updateGrid(z),e(z),Y.redrawReglTraces(z)),Y.drawMainTitle(z),c.previousPromises(z)},Y.doModeBar=function(z){var H=z._fullLayout;t.manage(z);for(var Q=0;Q<H._basePlotModules.length;Q++){var X=H._basePlotModules[Q].updateFx;X&&X(z)}return c.previousPromises(z)},Y.doCamera=function(z){for(var H=z._fullLayout,Q=H._subplots.gl3d,X=0;X<Q.length;X++){var ie=H[Q[X]],R=ie._scene;R.setViewport(ie)}},Y.drawData=function(z){var H=z._fullLayout;e(z);for(var Q=H._basePlotModules,X=0;X<Q.length;X++)Q[X].plot(z);return Y.redrawReglTraces(z),c.style(z),n.getComponentMethod("selections","draw")(z),n.getComponentMethod("shapes","draw")(z),n.getComponentMethod("annotations","draw")(z),n.getComponentMethod("images","draw")(z),H._replotting=!1,c.previousPromises(z)},Y.redrawReglTraces=function(z){var H=z._fullLayout;if(H._has("regl")){var Q=z._fullData,X=[],ie=[],R,O;for(H._hasOnlyLargeSploms&&H._splomGrid.draw(),R=0;R<Q.length;R++){var U=Q[R];U.visible===!0&&U._length!==0&&(U.type==="splom"?H._splomScenes[U.uid].draw():U.type==="scattergl"?s.pushUnique(X,U.xaxis+U.yaxis):U.type==="scatterpolargl"&&s.pushUnique(ie,U.subplot))}for(R=0;R<X.length;R++)O=H._plots[X[R]],O._scene&&O._scene.draw();for(R=0;R<ie.length;R++)O=H[ie[R]]._subplot,O._scene&&O._scene.draw()}},Y.doAutoRangeAndConstraints=function(z){for(var H=v.list(z,"",!0),Q,X={},ie=0;ie<H.length;ie++)if(Q=H[ie],!X[Q._id]){X[Q._id]=1,m(z,Q),w(z,Q);var R=Q._matchGroup;if(R)for(var O in R){var U=v.getFromId(z,O);w(z,U,Q.range),X[O]=1}}g(z)},Y.finalDraw=function(z){n.getComponentMethod("rangeslider","draw")(z),n.getComponentMethod("rangeselector","draw")(z)},Y.drawMarginPushers=function(z){n.getComponentMethod("legend","draw")(z),n.getComponentMethod("rangeselector","draw")(z),n.getComponentMethod("sliders","draw")(z),n.getComponentMethod("updatemenus","draw")(z),n.getComponentMethod("colorbar","draw")(z)}},{"../components/color":103,"../components/drawing":125,"../components/modebar":166,"../components/titles":212,"../constants/alignment":219,"../lib":244,"../lib/clear_gl_canvases":232,"../plots/cartesian/autorange":290,"../plots/cartesian/axes":291,"../plots/cartesian/constraints":299,"../plots/plots":325,"../registry":327,"@plotly/d3":11}],282:[function(u,te,Y){var i=u("../lib"),n=i.isPlainObject,c=u("./plot_schema"),s=u("../plots/plots"),e=u("../plots/attributes"),o=u("./plot_template"),l=u("./plot_config").dfltConfig;Y.makeTemplate=function(y){y=i.isPlainObject(y)?y:i.getGraphDiv(y),y=i.extendDeep({_context:l},{data:y.data,layout:y.layout}),s.supplyDefaults(y);var x=y.data||[],f=y.layout||{};f._basePlotModules=y._fullLayout._basePlotModules,f._modules=y._fullLayout._modules;var b={data:{},layout:{}};x.forEach(function(H){var Q={};v(H,Q,h.bind(null,H));var X=i.coerce(H,{},e,"type"),ie=b.data[X];ie||(ie=b.data[X]=[]),ie.push(Q)}),v(f,b.layout,p.bind(null,f)),delete b.layout.template;var d=f.template;if(n(d)){var T=d.layout,k,F,M,S,E,A;n(T)&&a(T,b.layout);var z=d.data;if(n(z)){for(F in b.data)if(M=z[F],Array.isArray(M)){for(E=b.data[F],A=E.length,S=M.length,k=0;k<A;k++)a(M[k%S],E[k]);for(k=A;k<S;k++)E.push(i.extendDeep({},M[k]))}for(F in z)F in b.data||(b.data[F]=i.extendDeep([],z[F]))}}return b};function a(y,x){y=i.extendDeep({},y);var f=Object.keys(y).sort(),b,d;function T(E,A,z){if(n(A)&&n(E))a(E,A);else if(Array.isArray(A)&&Array.isArray(E)){var H=o.arrayTemplater({_template:y},z);for(d=0;d<A.length;d++){var Q=A[d],X=H.newItem(Q)._template;X&&a(X,Q)}var ie=H.defaultItems();for(d=0;d<ie.length;d++)A.push(ie[d]._template);for(d=0;d<A.length;d++)delete A[d].templateitemname}}for(b=0;b<f.length;b++){var k=f[b],F=y[k];if(k in x?T(F,x[k],k):x[k]=F,t(k)===k)for(var M in x){var S=t(M);M!==S&&S===k&&!(M in y)&&T(F,x[M],k)}}}function t(y){return y.replace(/[0-9]+$/,"")}function v(y,x,f,b,d){var T=d&&f(d);for(var k in y){var F=y[k],M=g(y,k,b),S=g(y,k,d),E=f(S);if(!E){var A=t(k);A!==k&&(S=g(y,A,d),E=f(S))}if(!(T&&T===E)&&!(!E||E._noTemplating||E.valType==="data_array"||E.arrayOk&&Array.isArray(F)))if(!E.valType&&n(F))v(F,x,f,M,S);else if(E._isLinkedToArray&&Array.isArray(F))for(var z=!1,H=0,Q={},X=0;X<F.length;X++){var ie=F[X];if(n(ie)){var R=ie.name;if(R)Q[R]||(v(ie,x,f,g(F,H,M),g(F,H,S)),H++,Q[R]=1);else if(!z){var O=o.arrayDefaultKey(k),U=g(y,O,b),K=g(F,H,M);v(ie,x,f,K,g(F,H,S));var ee=i.nestedProperty(x,K),ne=i.nestedProperty(x,U);ne.set(ee.get()),ee.set(null),z=!0}}}else{var me=i.nestedProperty(x,M);me.set(F)}}}function p(y,x){return c.getLayoutValObject(y,i.nestedProperty({},x).parts)}function h(y,x){return c.getTraceValObject(y,i.nestedProperty({},x).parts)}function g(y,x,f){var b;return f?Array.isArray(y)?b=f+"["+x+"]":b=f+"."+x:b=x,b}Y.validateTemplate=function(y,x){var f=i.extendDeep({},{_context:l,data:y.data,layout:y.layout}),b=f.layout||{};n(x)||(x=b.template||{});var d=x.layout,T=x.data,k=[];f.layout=b,f.layout.template=x,s.supplyDefaults(f);var F=f._fullLayout,M=f._fullData,S={};function E(U,K){for(var ee in U)if(ee.charAt(0)!=="_"&&n(U[ee])){var ne=t(ee),me=[],pe;for(pe=0;pe<K.length;pe++)me.push(g(U,ee,K[pe])),ne!==ee&&me.push(g(U,ne,K[pe]));for(pe=0;pe<me.length;pe++)S[me[pe]]=1;E(U[ee],me)}}function A(U,K){for(var ee in U)if(ee.indexOf("defaults")===-1&&n(U[ee])){var ne=g(U,ee,K);S[ne]?A(U[ee],ne):k.push({code:"unused",path:ne})}}if(n(d)?(E(F,["layout"]),A(d,"layout")):k.push({code:"layout"}),!n(T))k.push({code:"data"});else{for(var z={},H,Q=0;Q<M.length;Q++){var X=M[Q];H=X.type,z[H]=(z[H]||0)+1,X._fullInput._template||k.push({code:"missing",index:X._fullInput.index,traceType:H})}for(H in T){var ie=T[H].length,R=z[H]||0;ie>R?k.push({code:"unused",traceType:H,templateCount:ie,dataCount:R}):R>ie&&k.push({code:"reused",traceType:H,templateCount:ie,dataCount:R})}}function O(U,K){for(var ee in U)if(ee.charAt(0)!=="_"){var ne=U[ee],me=g(U,ee,K);n(ne)?(Array.isArray(U)&&ne._template===!1&&ne.templateitemname&&k.push({code:"missing",path:me,templateitemname:ne.templateitemname}),O(ne,me)):Array.isArray(ne)&&m(ne)&&O(ne,me)}}if(O({data:M,layout:F},""),k.length)return k.map(w)};function m(y){for(var x=0;x<y.length;x++)if(n(y[x]))return!0}function w(y){var x;switch(y.code){case"data":x="The template has no key data.";break;case"layout":x="The template has no key layout.";break;case"missing":y.path?x="There are no templates for item "+y.path+" with name "+y.templateitemname:x="There are no templates for trace "+y.index+", of type "+y.traceType+".";break;case"unused":y.path?x="The template item at "+y.path+" was not used in constructing the plot.":y.dataCount?x="Some of the templates of type "+y.traceType+" were not used. The template has "+y.templateCount+" traces, the data only has "+y.dataCount+" of this type.":x="The template has "+y.templateCount+" traces of type "+y.traceType+" but there are none in the data.";break;case"reused":x="Some of the templates of type "+y.traceType+" were used more than once. The template has "+y.templateCount+" traces, the data has "+y.dataCount+" of this type.";break}return y.msg=x,y}},{"../lib":244,"../plots/attributes":287,"../plots/plots":325,"./plot_config":278,"./plot_schema":279,"./plot_template":280}],283:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("./plot_api"),c=u("../plots/plots"),s=u("../lib"),e=u("../snapshot/helpers"),o=u("../snapshot/tosvg"),l=u("../snapshot/svgtoimg"),a=u("../version").version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function v(p,h){h=h||{};var g,m,w,y;s.isPlainObject(p)?(g=p.data||[],m=p.layout||{},w=p.config||{},y={}):(p=s.getGraphDiv(p),g=s.extendDeep([],p.data),m=s.extendDeep({},p.layout),w=p._context,y=p._fullLayout||{});function x(R){return!(R in h)||s.validate(h[R],t[R])}if(!x("width")&&h.width!==null||!x("height")&&h.height!==null)throw new Error("Height and width should be pixel values.");if(!x("format"))throw new Error("Export format is not "+s.join2(t.format.values,", "," or ")+".");var f={};function b(R,O){return s.coerce(h,f,t,R,O)}var d=b("format"),T=b("width"),k=b("height"),F=b("scale"),M=b("setBackground"),S=b("imageDataOnly"),E=document.createElement("div");E.style.position="absolute",E.style.left="-5000px",document.body.appendChild(E);var A=s.extendFlat({},m);T?A.width=T:h.width===null&&i(y.width)&&(A.width=y.width),k?A.height=k:h.height===null&&i(y.height)&&(A.height=y.height);var z=s.extendFlat({},w,{_exportedPlot:!0,staticPlot:!0,setBackground:M}),H=e.getRedrawFunc(E);function Q(){return new Promise(function(R){setTimeout(R,e.getDelay(E._fullLayout))})}function X(){return new Promise(function(R,O){var U=o(E,d,F),K=E._fullLayout.width,ee=E._fullLayout.height;function ne(){n.purge(E),document.body.removeChild(E)}if(d==="full-json"){var me=c.graphJson(E,!1,"keepdata","object",!0,!0);return me.version=a,me=JSON.stringify(me),ne(),R(S?me:e.encodeJSON(me))}if(ne(),d==="svg")return R(S?U:e.encodeSVG(U));var pe=document.createElement("canvas");pe.id=s.randstr(),l({format:d,width:K,height:ee,scale:F,canvas:pe,svg:U,promise:!0}).then(R).catch(O)})}function ie(R){return S?R.replace(e.IMAGE_URL_PREFIX,""):R}return new Promise(function(R,O){n.newPlot(E,g,A,z).then(H).then(Q).then(X).then(function(U){R(ie(U))}).catch(function(U){O(U)})})}te.exports=v},{"../lib":244,"../plots/plots":325,"../snapshot/helpers":331,"../snapshot/svgtoimg":333,"../snapshot/tosvg":335,"../version":400,"./plot_api":277,"fast-isnumeric":17}],284:[function(u,te,Y){var i=u("../lib"),n=u("../plots/plots"),c=u("./plot_schema"),s=u("./plot_config").dfltConfig,e=i.isPlainObject,o=Array.isArray,l=i.isArrayOrTypedArray;te.exports=function(b,d){b===void 0&&(b=[]),d===void 0&&(d={});var T=c.get(),k=[],F={_context:i.extendFlat({},s)},M,S;o(b)?(F.data=i.extendDeep([],b),M=b):(F.data=[],M=[],k.push(h("array","data"))),e(d)?(F.layout=i.extendDeep({},d),S=d):(F.layout={},S={},arguments.length>1&&k.push(h("object","layout"))),n.supplyDefaults(F);for(var E=F._fullData,A=M.length,z=0;z<A;z++){var H=M[z],Q=["data",z];if(!e(H)){k.push(h("object",Q));continue}var X=E[z],ie=X.type,R=T.traces[ie].attributes;R.type={valType:"enumerated",values:[ie]},X.visible===!1&&H.visible!==!1&&k.push(h("invisible",Q)),a(H,X,R,k,Q);var O=H.transforms,U=X.transforms;if(O){o(O)||k.push(h("array",Q,["transforms"])),Q.push("transforms");for(var K=0;K<O.length;K++){var ee=["transforms",K],ne=O[K].type;if(!e(O[K])){k.push(h("object",Q,ee));continue}var me=T.transforms[ne]?T.transforms[ne].attributes:{};me.type={valType:"enumerated",values:Object.keys(T.transforms)},a(O[K],U[K],me,k,Q,ee)}}}var pe=F._fullLayout,be=t(T,E);return a(S,pe,be,k,"layout"),k.length===0?void 0:k};function a(f,b,d,T,k,F){F=F||[];for(var M=Object.keys(f),S=0;S<M.length;S++){var E=M[S];if(E!=="transforms"){var A=F.slice();A.push(E);var z=f[E],H=b[E],Q=m(d,E),X=(Q||{}).valType,ie=X==="info_array",R=X==="colorscale",O=(Q||{}).items;if(!g(d,E))T.push(h("schema",k,A));else if(e(z)&&e(H)&&X!=="any")a(z,H,Q,T,k,A);else if(ie&&o(z)){z.length>H.length&&T.push(h("unused",k,A.concat(H.length)));var U=H.length,K=Array.isArray(O);K&&(U=Math.min(U,O.length));var ee,ne,me,pe,be;if(Q.dimensions===2)for(ne=0;ne<U;ne++)if(o(z[ne])){z[ne].length>H[ne].length&&T.push(h("unused",k,A.concat(ne,H[ne].length)));var ve=H[ne].length;for(ee=0;ee<(K?Math.min(ve,O[ne].length):ve);ee++)me=K?O[ne][ee]:O,pe=z[ne][ee],be=H[ne][ee],i.validate(pe,me)?be!==pe&&be!==+pe&&T.push(h("dynamic",k,A.concat(ne,ee),pe,be)):T.push(h("value",k,A.concat(ne,ee),pe))}else T.push(h("array",k,A.concat(ne),z[ne]));else for(ne=0;ne<U;ne++)me=K?O[ne]:O,pe=z[ne],be=H[ne],i.validate(pe,me)?be!==pe&&be!==+pe&&T.push(h("dynamic",k,A.concat(ne),pe,be)):T.push(h("value",k,A.concat(ne),pe))}else if(Q.items&&!ie&&o(z)){var C=O[Object.keys(O)[0]],I=[],L,P;for(L=0;L<H.length;L++){var B=H[L]._index||L;if(P=A.slice(),P.push(B),e(z[B])&&e(H[L])){I.push(B);var V=z[B],N=H[L];e(V)&&V.visible!==!1&&N.visible===!1?T.push(h("invisible",k,P)):a(V,N,C,T,k,P)}}for(L=0;L<z.length;L++)P=A.slice(),P.push(L),e(z[L])?I.indexOf(L)===-1&&T.push(h("unused",k,P)):T.push(h("object",k,P,z[L]))}else!e(z)&&e(H)?T.push(h("object",k,A,z)):!l(z)&&l(H)&&!ie&&!R?T.push(h("array",k,A,z)):E in b?i.validate(z,Q)?Q.valType==="enumerated"&&(Q.coerceNumber&&z!==+H||z!==H)&&T.push(h("dynamic",k,A,z,H)):T.push(h("value",k,A,z)):T.push(h("unused",k,A,z))}}return T}function t(f,b){for(var d=f.layout.layoutAttributes,T=0;T<b.length;T++){var k=b[T],F=f.traces[k.type],M=F.layoutAttributes;M&&(k.subplot?i.extendFlat(d[F.attributes.subplot.dflt],M):i.extendFlat(d,M))}return d}var v={object:function(f,b){var d;return f==="layout"&&b===""?d="The layout argument":f[0]==="data"&&b===""?d="Trace "+f[1]+" in the data argument":d=p(f)+"key "+b,d+" must be linked to an object container"},array:function(f,b){var d;return f==="data"?d="The data argument":d=p(f)+"key "+b,d+" must be linked to an array container"},schema:function(f,b){return p(f)+"key "+b+" is not part of the schema"},unused:function(f,b,d){var T=e(d)?"container":"key";return p(f)+T+" "+b+" did not get coerced"},dynamic:function(f,b,d,T){return[p(f)+"key",b,"(set to '"+d+"')","got reset to","'"+T+"'","during defaults."].join(" ")},invisible:function(f,b){return(b?p(f)+"item "+b:"Trace "+f[1])+" got defaulted to be not visible"},value:function(f,b,d){return[p(f)+"key "+b,"is set to an invalid value ("+d+")"].join(" ")}};function p(f){return o(f)?"In data trace "+f[1]+", ":"In "+f+", "}function h(f,b,d,T,k){d=d||"";var F,M;o(b)?(F=b[0],M=b[1]):(F=b,M=null);var S=x(d),E=v[f](b,S,T,k);return i.log(E),{code:f,container:F,trace:M,path:d,astr:S,msg:E}}function g(f,b){var d=y(b),T=d.keyMinusId,k=d.id;return T in f&&f[T]._isSubplotObj&&k?!0:b in f}function m(f,b){if(b in f)return f[b];var d=y(b);return f[d.keyMinusId]}var w=i.counterRegex("([a-z]+)");function y(f){var b=f.match(w);return{keyMinusId:b&&b[1],id:b&&b[2]}}function x(f){if(!o(f))return String(f);for(var b="",d=0;d<f.length;d++){var T=f[d];typeof T=="number"?b=b.substr(0,b.length-1)+"["+T+"]":b+=T,d<f.length-1&&(b+=".")}return b}},{"../lib":244,"../plots/plots":325,"./plot_config":278,"./plot_schema":279}],285:[function(u,te,Y){te.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],286:[function(u,te,Y){var i=u("../lib"),n=u("../plot_api/plot_template");te.exports=function(s,e,o){var l=o.name,a=o.inclusionAttr||"visible",t=e[l],v=i.isArrayOrTypedArray(s[l])?s[l]:[],p=e[l]=[],h=n.arrayTemplater(e,l,a),g,m;for(g=0;g<v.length;g++){var w=v[g];i.isPlainObject(w)?m=h.newItem(w):(m=h.newItem({}),m[a]=!1),m._index=g,m[a]!==!1&&o.handleItemDefaults(w,m,e,o),p.push(m)}var y=h.defaultItems();for(g=0;g<y.length;g++)m=y[g],m._index=p.length,o.handleItemDefaults({},m,e,o,{}),p.push(m);if(i.isArrayOrTypedArray(t)){var x=Math.min(t.length,p.length);for(g=0;g<x;g++)i.relinkPrivateKeys(p[g],t[g])}return p}},{"../lib":244,"../plot_api/plot_template":280}],287:[function(u,te,Y){var i=u("./font_attributes"),n=u("../components/fx/attributes");te.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:i({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:n.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":134,"./font_attributes":319}],288:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("../../lib"),c=n.dateTime2ms,s=n.incrementMonth,e=u("../../constants/numerical"),o=e.ONEAVGMONTH;te.exports=function(a,t,v,p){if(t.type!=="date")return{vals:p};var h=a[v+"periodalignment"];if(!h)return{vals:p};var g=a[v+"period"],m;if(i(g)){if(g=+g,g<=0)return{vals:p}}else if(typeof g=="string"&&g.charAt(0)==="M"){var w=+g.substring(1);if(w>0&&Math.round(w)===w)m=w;else return{vals:p}}for(var y=t.calendar,x=h==="start",f=h==="end",b=a[v+"period0"],d=c(b,y)||0,T=[],k=[],F=[],M=p.length,S=0;S<M;S++){var E=p[S],A,z,H;if(m){for(A=Math.round((E-d)/(m*o)),H=s(d,m*A,y);H>E;)H=s(H,-m,y);for(;H<=E;)H=s(H,m,y);z=s(H,-m,y)}else{for(A=Math.round((E-d)/g),H=d+A*g;H>E;)H-=g;for(;H<=E;)H+=g;z=H-g}T[S]=x?z:f?H:(z+H)/2,k[S]=z,F[S]=H}return{vals:T,starts:k,ends:F}}},{"../../constants/numerical":224,"../../lib":244,"fast-isnumeric":17}],289:[function(u,te,Y){te.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],290:[function(u,te,Y){var i=u("@plotly/d3"),n=u("fast-isnumeric"),c=u("../../lib"),s=u("../../constants/numerical").FP_SAFE,e=u("../../registry"),o=u("../../components/drawing"),l=u("./axis_ids"),a=l.getFromId,t=l.isLinked;te.exports={getAutoRange:v,makePadFn:h,doAutoRange:y,findExtremes:x,concatExtremes:w};function v(M,S){var E,A,z=[],H=M._fullLayout,Q=h(H,S,0),X=h(H,S,1),ie=w(M,S),R=ie.min,O=ie.max;if(R.length===0||O.length===0)return c.simpleMap(S.range,S.r2l);var U=R[0].val,K=O[0].val;for(E=1;E<R.length&&U===K;E++)U=Math.min(U,R[E].val);for(E=1;E<O.length&&U===K;E++)K=Math.max(K,O[E].val);var ee=!1;if(S.range){var ne=c.simpleMap(S.range,S.r2l);ee=ne[1]<ne[0]}S.autorange==="reversed"&&(ee=!0,S.autorange=!0);var me=S.rangemode,pe=me==="tozero",be=me==="nonnegative",ve=S._length,C=ve/10,I=0,L,P,B,V,N,Z;for(E=0;E<R.length;E++)for(L=R[E],A=0;A<O.length;A++)P=O[A],Z=P.val-L.val-p(S,L.val,P.val),Z>0&&(N=ve-Q(L)-X(P),N>C?Z/N>I&&(B=L,V=P,I=Z/N):Z/ve>I&&(B={val:L.val,nopad:1},V={val:P.val,nopad:1},I=Z/ve));function W(ge,Ae){return Math.max(ge,X(Ae))}if(U===K){var q=U-1,re=U+1;if(pe)if(U===0)z=[0,1];else{var se=(U>0?O:R).reduce(W,0),_e=U/(1-Math.min(.5,se/ve));z=U>0?[0,_e]:[_e,0]}else be?z=[Math.max(0,q),Math.max(1,re)]:z=[q,re]}else pe?(B.val>=0&&(B={val:0,nopad:1}),V.val<=0&&(V={val:0,nopad:1})):be&&(B.val-I*Q(B)<0&&(B={val:0,nopad:1}),V.val<=0&&(V={val:1,nopad:1})),I=(V.val-B.val-p(S,L.val,P.val))/(ve-Q(B)-X(V)),z=[B.val-I*Q(B),V.val+I*X(V)];return ee&&z.reverse(),c.simpleMap(z,S.l2r||Number)}function p(M,S,E){var A=0;if(M.rangebreaks)for(var z=M.locateBreaks(S,E),H=0;H<z.length;H++){var Q=z[H];A+=Q.max-Q.min}return A}function h(M,S,E){var A=.05*S._length,z=S._anchorAxis||{};if((S.ticklabelposition||"").indexOf("inside")!==-1||(z.ticklabelposition||"").indexOf("inside")!==-1){var H=S.autorange==="reversed";if(!H){var Q=c.simpleMap(S.range,S.r2l);H=Q[1]<Q[0]}H&&(E=!E)}var X=0;return t(M,S._id)||(X=m(M,S,E)),A=Math.max(X,A),S.constrain==="domain"&&S._inputDomain&&(A*=(S._inputDomain[1]-S._inputDomain[0])/(S.domain[1]-S.domain[0])),function(R){return R.nopad?0:R.pad+(R.extrapad?A:X)}}var g=3;function m(M,S,E){var A=0,z=S._id.charAt(0)==="x";for(var H in M._plots){var Q=M._plots[H];if(!(S._id!==Q.xaxis._id&&S._id!==Q.yaxis._id)){var X=(z?Q.yaxis:Q.xaxis)||{};if((X.ticklabelposition||"").indexOf("inside")!==-1&&(!E&&(X.side==="left"||X.side==="bottom")||E&&(X.side==="top"||X.side==="right"))){if(X._vals){var ie=c.deg2rad(X._tickAngles[X._id+"tick"]||0),R=Math.abs(Math.cos(ie)),O=Math.abs(Math.sin(ie));if(!X._vals[0].bb){var U=X._id+"tick",K=X._selections[U];K.each(function(ve){var C=i.select(this),I=C.select(".text-math-group");I.empty()&&(ve.bb=o.bBox(C.node()))})}for(var ee=0;ee<X._vals.length;ee++){var ne=X._vals[ee],me=ne.bb;if(me){var pe=2*g+me.width,be=2*g+me.height;A=Math.max(A,z?Math.max(pe*R,be*O):Math.max(be*R,pe*O))}}}X.ticks==="inside"&&X.ticklabelposition==="inside"&&(A+=X.ticklen||0)}}}return A}function w(M,S,E){var A=S._id,z=M._fullData,H=M._fullLayout,Q=[],X=[],ie,R,O;function U(pe,be){for(ie=0;ie<be.length;ie++){var ve=pe[be[ie]],C=(ve._extremes||{})[A];if(ve.visible===!0&&C){for(R=0;R<C.min.length;R++)O=C.min[R],f(Q,O.val,O.pad,{extrapad:O.extrapad});for(R=0;R<C.max.length;R++)O=C.max[R],b(X,O.val,O.pad,{extrapad:O.extrapad})}}}if(U(z,S._traceIndices),U(H.annotations||[],S._annIndices||[]),U(H.shapes||[],S._shapeIndices||[]),S._matchGroup&&!E){for(var K in S._matchGroup)if(K!==S._id){var ee=a(M,K),ne=w(M,ee,!0),me=S._length/ee._length;for(R=0;R<ne.min.length;R++)O=ne.min[R],f(Q,O.val,O.pad*me,{extrapad:O.extrapad});for(R=0;R<ne.max.length;R++)O=ne.max[R],b(X,O.val,O.pad*me,{extrapad:O.extrapad})}}return{min:Q,max:X}}function y(M,S,E){if(S.setScale(),S.autorange){S.range=E?E.slice():v(M,S),S._r=S.range.slice(),S._rl=c.simpleMap(S._r,S.r2l);var A=S._input,z={};z[S._attr+".range"]=S.range,z[S._attr+".autorange"]=S.autorange,e.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,z),A.range=S.range.slice(),A.autorange=S.autorange}var H=S._anchorAxis;if(H&&H.rangeslider){var Q=H.rangeslider[S._name];Q&&Q.rangemode==="auto"&&(Q.range=v(M,S)),H._input.rangeslider[S._name]=c.extendFlat({},Q)}}function x(M,S,E){E||(E={}),M._m||M.setScale();var A=[],z=[],H=S.length,Q=E.padded||!1,X=E.tozero&&(M.type==="linear"||M.type==="-"),ie=M.type==="log",R=!1,O=E.vpadLinearized||!1,U,K,ee,ne,me,pe,be,ve,C;function I(q){if(Array.isArray(q))return R=!0,function(se){return Math.max(Number(q[se]||0),0)};var re=Math.max(Number(q||0),0);return function(){return re}}var L=I((M._m>0?E.ppadplus:E.ppadminus)||E.ppad||0),P=I((M._m>0?E.ppadminus:E.ppadplus)||E.ppad||0),B=I(E.vpadplus||E.vpad),V=I(E.vpadminus||E.vpad);if(!R){if(ve=1/0,C=-1/0,ie)for(U=0;U<H;U++)K=S[U],K<ve&&K>0&&(ve=K),K>C&&K<s&&(C=K);else for(U=0;U<H;U++)K=S[U],K<ve&&K>-s&&(ve=K),K>C&&K<s&&(C=K);S=[ve,C],H=2}var N={tozero:X,extrapad:Q};function Z(q){ee=S[q],n(ee)&&(pe=L(q),be=P(q),O?(ne=M.c2l(ee)-V(q),me=M.c2l(ee)+B(q)):(ve=ee-V(q),C=ee+B(q),ie&&ve<C/10&&(ve=C/10),ne=M.c2l(ve),me=M.c2l(C)),X&&(ne=Math.min(0,ne),me=Math.max(0,me)),T(ne)&&f(A,ne,be,N),T(me)&&b(z,me,pe,N))}var W=Math.min(6,H);for(U=0;U<W;U++)Z(U);for(U=H-1;U>=W;U--)Z(U);return{min:A,max:z,opts:E}}function f(M,S,E,A){d(M,S,E,A,k)}function b(M,S,E,A){d(M,S,E,A,F)}function d(M,S,E,A,z){for(var H=A.tozero,Q=A.extrapad,X=!0,ie=0;ie<M.length&&X;ie++){var R=M[ie];if(z(R.val,S)&&R.pad>=E&&(R.extrapad||!Q)){X=!1;break}else z(S,R.val)&&R.pad<=E&&(Q||!R.extrapad)&&(M.splice(ie,1),ie--)}if(X){var O=H&&S===0;M.push({val:S,pad:O?0:E,extrapad:O?!1:Q})}}function T(M){return n(M)&&Math.abs(M)<s}function k(M,S){return M<=S}function F(M,S){return M>=S}},{"../../components/drawing":125,"../../constants/numerical":224,"../../lib":244,"../../registry":327,"./axis_ids":295,"@plotly/d3":11,"fast-isnumeric":17}],291:[function(u,te,Y){var i=u("@plotly/d3"),n=u("fast-isnumeric"),c=u("../../plots/plots"),s=u("../../registry"),e=u("../../lib"),o=e.strTranslate,l=u("../../lib/svg_text_utils"),a=u("../../components/titles"),t=u("../../components/color"),v=u("../../components/drawing"),p=u("./layout_attributes"),h=u("./clean_ticks"),g=u("../../constants/numerical"),m=g.ONEMAXYEAR,w=g.ONEAVGYEAR,y=g.ONEMINYEAR,x=g.ONEMAXQUARTER,f=g.ONEAVGQUARTER,b=g.ONEMINQUARTER,d=g.ONEMAXMONTH,T=g.ONEAVGMONTH,k=g.ONEMINMONTH,F=g.ONEWEEK,M=g.ONEDAY,S=M/2,E=g.ONEHOUR,A=g.ONEMIN,z=g.ONESEC,H=g.MINUS_SIGN,Q=g.BADNUM,X={K:"zeroline"},ie={K:"gridline",L:"path"},R={K:"minor-gridline",L:"path"},O={K:"tick",L:"path"},U={K:"tick",L:"text"},K={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},ee=u("../../constants/alignment"),ne=ee.MID_SHIFT,me=ee.CAP_SHIFT,pe=ee.LINE_SPACING,be=ee.OPPOSITE_SIDE,ve=3,C=te.exports={};C.setConvert=u("./set_convert");var I=u("./axis_autotype"),L=u("./axis_ids"),P=L.idSort,B=L.isLinked;C.id2name=L.id2name,C.name2id=L.name2id,C.cleanId=L.cleanId,C.list=L.list,C.listIds=L.listIds,C.getFromId=L.getFromId,C.getFromTrace=L.getFromTrace;var V=u("./autorange");C.getAutoRange=V.getAutoRange,C.findExtremes=V.findExtremes;var N=1e-4;function Z(oe){var $=(oe[1]-oe[0])*N;return[oe[0]-$,oe[1]+$]}C.coerceRef=function(oe,$,Ee,Ne,He,Ze){var Ue=Ne.charAt(Ne.length-1),Be=Ee._fullLayout._subplots[Ue+"axis"],it=Ne+"ref",mt={};return He||(He=Be[0]||(typeof Ze=="string"?Ze:Ze[0])),Ze||(Ze=He),Be=Be.concat(Be.map(function(Mt){return Mt+" domain"})),mt[it]={valType:"enumerated",values:Be.concat(Ze?typeof Ze=="string"?[Ze]:Ze:[]),dflt:He},e.coerce(oe,$,mt,it)},C.getRefType=function(oe){return oe===void 0?oe:oe==="paper"?"paper":oe==="pixel"?"pixel":/( domain)$/.test(oe)?"domain":"range"},C.coercePosition=function(oe,$,Ee,Ne,He,Ze){var Ue,Be,it=C.getRefType(Ne);if(it!=="range")Ue=e.ensureNumber,Be=Ee(He,Ze);else{var mt=C.getFromId($,Ne);Ze=mt.fraction2r(Ze),Be=Ee(He,Ze),Ue=mt.cleanPos}oe[He]=Ue(Be)},C.cleanPosition=function(oe,$,Ee){var Ne=Ee==="paper"||Ee==="pixel"?e.ensureNumber:C.getFromId($,Ee).cleanPos;return Ne(oe)},C.redrawComponents=function(oe,$){$=$||C.listIds(oe);var Ee=oe._fullLayout;function Ne(He,Ze,Ue,Be){for(var it=s.getComponentMethod(He,Ze),mt={},Mt=0;Mt<$.length;Mt++)for(var at=Ee[C.id2name($[Mt])],st=at[Ue],kt=0;kt<st.length;kt++){var xt=st[kt];if(!mt[xt]&&(it(oe,xt),mt[xt]=1,Be))return}}Ne("annotations","drawOne","_annIndices"),Ne("shapes","drawOne","_shapeIndices"),Ne("images","draw","_imgIndices",!0),Ne("selections","drawOne","_selectionIndices")};var W=C.getDataConversions=function(oe,$,Ee,Ne){var He,Ze=Ee==="x"||Ee==="y"||Ee==="z"?Ee:Ne;if(Array.isArray(Ze)){if(He={type:I(Ne,void 0,{autotypenumbers:oe._fullLayout.autotypenumbers}),_categories:[]},C.setConvert(He),He.type==="category")for(var Ue=0;Ue<Ne.length;Ue++)He.d2c(Ne[Ue])}else He=C.getFromTrace(oe,$,Ze);return He?{d2c:He.d2c,c2d:He.c2d}:Ze==="ids"?{d2c:re,c2d:re}:{d2c:q,c2d:q}};function q(oe){return+oe}function re(oe){return String(oe)}C.getDataToCoordFunc=function(oe,$,Ee,Ne){return W(oe,$,Ee,Ne).d2c},C.counterLetter=function(oe){var $=oe.charAt(0);if($==="x")return"y";if($==="y")return"x"},C.minDtick=function(oe,$,Ee,Ne){["log","category","multicategory"].indexOf(oe.type)!==-1||!Ne?oe._minDtick=0:oe._minDtick===void 0?(oe._minDtick=$,oe._forceTick0=Ee):oe._minDtick&&((oe._minDtick/$+1e-6)%1<2e-6&&((Ee-oe._forceTick0)/$%1+1.000001)%1<2e-6?(oe._minDtick=$,oe._forceTick0=Ee):(($/oe._minDtick+1e-6)%1>2e-6||((Ee-oe._forceTick0)/oe._minDtick%1+1.000001)%1>2e-6)&&(oe._minDtick=0))},C.saveRangeInitial=function(oe,$){for(var Ee=C.list(oe,"",!0),Ne=!1,He=0;He<Ee.length;He++){var Ze=Ee[He],Ue=Ze._rangeInitial===void 0,Be=Ue||!(Ze.range[0]===Ze._rangeInitial[0]&&Ze.range[1]===Ze._rangeInitial[1]);(Ue&&Ze.autorange===!1||$&&Be)&&(Ze._rangeInitial=Ze.range.slice(),Ne=!0)}return Ne},C.saveShowSpikeInitial=function(oe,$){for(var Ee=C.list(oe,"",!0),Ne=!1,He="on",Ze=0;Ze<Ee.length;Ze++){var Ue=Ee[Ze],Be=Ue._showSpikeInitial===void 0,it=Be||Ue.showspikes!==Ue._showspikes;(Be||$&&it)&&(Ue._showSpikeInitial=Ue.showspikes,Ne=!0),He==="on"&&!Ue.showspikes&&(He="off")}return oe._fullLayout._cartesianSpikesEnabled=He,Ne},C.autoBin=function(oe,$,Ee,Ne,He,Ze){var Ue=e.aggNums(Math.min,null,oe),Be=e.aggNums(Math.max,null,oe);if($.type==="category"||$.type==="multicategory")return{start:Ue-.5,end:Be+.5,size:Math.max(1,Math.round(Ze)||1),_dataSpan:Be-Ue};He||(He=$.calendar);var it;if($.type==="log"?it={type:"linear",range:[Ue,Be]}:it={type:$.type,range:e.simpleMap([Ue,Be],$.c2r,0,He),calendar:He},C.setConvert(it),Ze=Ze&&h.dtick(Ze,it.type),Ze)it.dtick=Ze,it.tick0=h.tick0(void 0,it.type,He);else{var mt;if(Ee)mt=(Be-Ue)/Ee;else{var Mt=e.distinctVals(oe),at=Math.pow(10,Math.floor(Math.log(Mt.minDiff)/Math.LN10)),st=at*e.roundUp(Mt.minDiff/at,[.9,1.9,4.9,9.9],!0);mt=Math.max(st,2*e.stdev(oe)/Math.pow(oe.length,Ne?.25:.4)),n(mt)||(mt=1)}C.autoTicks(it,mt)}var kt=it.dtick,xt=C.tickIncrement(C.tickFirst(it),kt,"reverse",He),lt,wt;if(typeof kt=="number")xt=se(xt,oe,it,Ue,Be),wt=1+Math.floor((Be-xt)/kt),lt=xt+wt*kt;else for(it.dtick.charAt(0)==="M"&&(xt=_e(xt,oe,kt,Ue,He)),lt=xt,wt=0;lt<=Be;)lt=C.tickIncrement(lt,kt,!1,He),wt++;return{start:$.c2r(xt,0,He),end:$.c2r(lt,0,He),size:kt,_dataSpan:Be-Ue}};function se(oe,$,Ee,Ne,He){var Ze=0,Ue=0,Be=0,it=0;function mt(kt){return(1+(kt-oe)*100/Ee.dtick)%100<2}for(var Mt=0;Mt<$.length;Mt++)$[Mt]%1===0?Be++:n($[Mt])||it++,mt($[Mt])&&Ze++,mt($[Mt]+Ee.dtick/2)&&Ue++;var at=$.length-it;if(Be===at&&Ee.type!=="date")Ee.dtick<1?oe=Ne-.5*Ee.dtick:(oe-=.5,oe+Ee.dtick<Ne&&(oe+=Ee.dtick));else if(Ue<at*.1&&(Ze>at*.3||mt(Ne)||mt(He))){var st=Ee.dtick/2;oe+=oe+st<Ne?st:-st}return oe}function _e(oe,$,Ee,Ne,He){var Ze=e.findExactDates($,He),Ue=.8;if(Ze.exactDays>Ue){var Be=Number(Ee.substr(1));Ze.exactYears>Ue&&Be%12===0?oe=C.tickIncrement(oe,"M6","reverse")+M*1.5:Ze.exactMonths>Ue?oe=C.tickIncrement(oe,"M1","reverse")+M*15.5:oe-=S;var it=C.tickIncrement(oe,Ee);if(it<=Ne)return it}return oe}C.prepMinorTicks=function(oe,$,Ee){if(!$.minor.dtick){delete oe.dtick;var Ne=$.dtick&&n($._tmin),He;if(Ne){var Ze=C.tickIncrement($._tmin,$.dtick,!0);He=[$._tmin,Ze*.99+$._tmin*.01]}else{var Ue=e.simpleMap($.range,$.r2l);He=[Ue[0],.8*Ue[0]+.2*Ue[1]]}if(oe.range=e.simpleMap(He,$.l2r),oe._isMinor=!0,C.prepTicks(oe,Ee),Ne){var Be=n($.dtick),it=n(oe.dtick),mt=Be?$.dtick:+$.dtick.substring(1),Mt=it?oe.dtick:+oe.dtick.substring(1);Be&&it?ge(mt,Mt)?mt===2*F&&Mt===2*M&&(oe.dtick=F):mt===2*F&&Mt===3*M?oe.dtick=F:mt===F&&!($._input.minor||{}).nticks?oe.dtick=M:Ae(mt/Mt,2.5)?oe.dtick=mt/2:oe.dtick=mt:String($.dtick).charAt(0)==="M"?it?oe.dtick="M1":ge(mt,Mt)?mt>=12&&Mt===2&&(oe.dtick="M3"):oe.dtick=$.dtick:String(oe.dtick).charAt(0)==="L"?String($.dtick).charAt(0)==="L"?ge(mt,Mt)||(oe.dtick=Ae(mt/Mt,2.5)?$.dtick/2:$.dtick):oe.dtick="D1":oe.dtick==="D2"&&+$.dtick>1&&(oe.dtick=1)}oe.range=$.range}$.minor._tick0Init===void 0&&(oe.tick0=$.tick0)};function ge(oe,$){return Math.abs((oe/$+.5)%1-.5)<.001}function Ae(oe,$){return Math.abs(oe/$-1)<.001}C.prepTicks=function(oe,$){var Ee=e.simpleMap(oe.range,oe.r2l,void 0,void 0,$);if(oe.tickmode==="auto"||!oe.dtick){var Ne=oe.nticks,He;Ne||(oe.type==="category"||oe.type==="multicategory"?(He=oe.tickfont?e.bigFont(oe.tickfont.size||12):15,Ne=oe._length/He):(He=oe._id.charAt(0)==="y"?40:80,Ne=e.constrain(oe._length/He,4,9)+1),oe._name==="radialaxis"&&(Ne*=2)),oe.minor&&oe.minor.tickmode!=="array"||oe.tickmode==="array"&&(Ne*=100),oe._roughDTick=Math.abs(Ee[1]-Ee[0])/Ne,C.autoTicks(oe,oe._roughDTick),oe._minDtick>0&&oe.dtick<oe._minDtick*2&&(oe.dtick=oe._minDtick,oe.tick0=oe.l2r(oe._forceTick0))}oe.ticklabelmode==="period"&&ue(oe),oe.tick0||(oe.tick0=oe.type==="date"?"2000-01-01":0),oe.type==="date"&&oe.dtick<.1&&(oe.dtick=.1),rt(oe)};function Ce(oe){return+oe.substring(1)}function ue(oe){var $;function Ee(){return!(n(oe.dtick)||oe.dtick.charAt(0)!=="M")}var Ne=Ee(),He=C.getTickFormat(oe);if(He){var Ze=oe._dtickInit!==oe.dtick;/%[fLQsSMX]/.test(He)||(/%[HI]/.test(He)?($=E,Ze&&!Ne&&oe.dtick<E&&(oe.dtick=E)):/%p/.test(He)?($=S,Ze&&!Ne&&oe.dtick<S&&(oe.dtick=S)):/%[Aadejuwx]/.test(He)?($=M,Ze&&!Ne&&oe.dtick<M&&(oe.dtick=M)):/%[UVW]/.test(He)?($=F,Ze&&!Ne&&oe.dtick<F&&(oe.dtick=F)):/%[Bbm]/.test(He)?($=T,Ze&&(Ne?Ce(oe.dtick)<1:oe.dtick<k)&&(oe.dtick="M1")):/%[q]/.test(He)?($=f,Ze&&(Ne?Ce(oe.dtick)<3:oe.dtick<b)&&(oe.dtick="M3")):/%[Yy]/.test(He)&&($=w,Ze&&(Ne?Ce(oe.dtick)<12:oe.dtick<y)&&(oe.dtick="M12")))}Ne=Ee(),Ne&&oe.tick0===oe._dowTick0&&(oe.tick0=oe._rawTick0),oe._definedDelta=$}function he(oe,$,Ee){for(var Ne=0;Ne<oe.length;Ne++){var He=oe[Ne].value,Ze=Ne,Ue=Ne+1;Ne<oe.length-1?(Ze=Ne,Ue=Ne+1):Ne>0?(Ze=Ne-1,Ue=Ne):(Ze=Ne,Ue=Ne);var Be=oe[Ze].value,it=oe[Ue].value,mt=Math.abs(it-Be),Mt=Ee||mt,at=0;Mt>=y?mt>=y&&mt<=m?at=mt:at=w:Ee===f&&Mt>=b?mt>=b&&mt<=x?at=mt:at=f:Mt>=k?mt>=k&&mt<=d?at=mt:at=T:Ee===F&&Mt>=F?at=F:Mt>=M?at=M:Ee===S&&Mt>=S?at=S:Ee===E&&Mt>=E&&(at=E);var st;at>=mt&&(at=mt,st=!0);var kt=He+at;if($.rangebreaks&&at>0){for(var xt=84,lt=0,wt=0;wt<xt;wt++){var Ct=(wt+.5)/xt;$.maskBreaks(He*(1-Ct)+Ct*kt)!==Q&&lt++}at*=lt/xt,at||(oe[Ne].drop=!0),st&&mt>F&&(at=mt)}(at>0||Ne===0)&&(oe[Ne].periodX=He+at/2)}}C.calcTicks=function($,Ee){for(var Ne=$.type,He=$.calendar,Ze=$.ticklabelstep,Ue=$.ticklabelmode==="period",Be=e.simpleMap($.range,$.r2l,void 0,void 0,Ee),it=Be[1]<Be[0],mt=Math.min(Be[0],Be[1]),Mt=Math.max(Be[0],Be[1]),at=Math.max(1e3,$._length||0),st=[],kt=[],xt=[],lt=[],wt=$.minor&&($.minor.ticks||$.minor.showgrid),Ct=1;Ct>=(wt?0:1);Ct--){var _t=!Ct;Ct?($._dtickInit=$.dtick,$._tick0Init=$.tick0):($.minor._dtickInit=$.minor.dtick,$.minor._tick0Init=$.minor.tick0);var Pt=Ct?$:e.extendFlat({},$,$.minor);if(_t?C.prepMinorTicks(Pt,$,Ee):C.prepTicks(Pt,Ee),Pt.tickmode==="array"){Ct?(xt=[],st=we($)):(lt=[],kt=we($));continue}var Ft=Z(Be),Ht=Ft[0],St=Ft[1],er=n(Pt.dtick),jt=Ne==="log"&&!(er||Pt.dtick.charAt(0)==="L"),Ut=C.tickFirst(Pt,Ee);if(Ct){if($._tmin=Ut,Ut<Ht!==it)break;(Ne==="category"||Ne==="multicategory")&&(St=it?Math.max(-.5,St):Math.min($._categories.length-.5,St))}var qt=null,ir=Ut,rr;if(Ct){var lr;er?lr=$.dtick:Ne==="date"?typeof $.dtick=="string"&&$.dtick.charAt(0)==="M"&&(lr=T*$.dtick.substring(1)):lr=$._roughDTick,rr=Math.round(($.r2l(ir)-$.r2l($.tick0))/lr)-1}var vr=Pt.dtick;for(Pt.rangebreaks&&Pt._tick0Init!==Pt.tick0&&(ir=At(ir,$),it||(ir=C.tickIncrement(ir,vr,!it,He))),Ct&&Ue&&(ir=C.tickIncrement(ir,vr,!it,He),rr--);it?ir>=St:ir<=St;ir=C.tickIncrement(ir,vr,it,He)){if(Ct&&rr++,Pt.rangebreaks&&!it){if(ir<Ht)continue;if(Pt.maskBreaks(ir)===Q&&At(ir,Pt)>=Mt)break}if(xt.length>at||ir===qt)break;qt=ir;var hr={value:ir};Ct?(jt&&ir!==(ir|0)&&(hr.simpleLabel=!0),Ze>1&&rr%Ze&&(hr.skipLabel=!0),xt.push(hr)):(hr.minor=!0,lt.push(hr))}}if(wt){var gr=$.minor.ticks==="inside"&&$.ticks==="outside"||$.minor.ticks==="outside"&&$.ticks==="inside";if(!gr){for(var mr=xt.map(function(Mr){return Mr.value}),br=[],Sr=0;Sr<lt.length;Sr++){var jr=lt[Sr],_r=jr.value;if(mr.indexOf(_r)===-1){for(var Cr=!1,zr=0;!Cr&&zr<xt.length;zr++)1e7+xt[zr].value===1e7+_r&&(Cr=!0);Cr||br.push(jr)}}lt=br}}Ue&&he(xt,$,$._definedDelta);var xr;if($.rangebreaks){var $r=$._id.charAt(0)==="y",Yr=1;$.tickmode==="auto"&&(Yr=$.tickfont?$.tickfont.size:12);var Ur=NaN;for(xr=xt.length-1;xr>-1;xr--){if(xt[xr].drop){xt.splice(xr,1);continue}xt[xr].value=At(xt[xr].value,$);var sa=$.c2p(xt[xr].value);($r?Ur>sa-Yr:Ur<sa+Yr)?xt.splice(it?xr+1:xr,1):Ur=sa}}Bt($)&&Math.abs(Be[1]-Be[0])===360&&xt.pop(),$._tmax=(xt[xt.length-1]||{}).value,$._prevDateHead="",$._inCalcTicks=!0;var ua,Wr=function(Mr){Mr.text="",$._prevDateHead=ua};xt=xt.concat(lt);var Zr,Fr;for(xr=0;xr<xt.length;xr++){var ba=xt[xr].minor,ra=xt[xr].value;ba?kt.push({x:ra,minor:!0}):(ua=$._prevDateHead,Zr=C.tickText($,ra,!1,xt[xr].simpleLabel),Fr=xt[xr].periodX,Fr!==void 0&&(Zr.periodX=Fr,(Fr>Mt||Fr<mt)&&(Fr>Mt&&(Zr.periodX=Mt),Fr<mt&&(Zr.periodX=mt),Wr(Zr))),xt[xr].skipLabel&&Wr(Zr),st.push(Zr))}return st=st.concat(kt),$._inCalcTicks=!1,Ue&&st.length&&(st[0].noTick=!0),st};function we(oe){var $=e.simpleMap(oe.range,oe.r2l),Ee=Z($),Ne=Math.min(Ee[0],Ee[1]),He=Math.max(Ee[0],Ee[1]),Ze=oe.type==="category"?oe.d2l_noadd:oe.d2l;oe.type==="log"&&String(oe.dtick).charAt(0)!=="L"&&(oe.dtick="L"+Math.pow(10,Math.floor(Math.min(oe.range[0],oe.range[1]))-1));for(var Ue=[],Be=0;Be<=1;Be++)if(!(Be&&!oe.minor)){var it=Be?oe.minor.tickvals:oe.tickvals,mt=Be?[]:oe.ticktext;if(!!it){Array.isArray(mt)||(mt=[]);for(var Mt=0;Mt<it.length;Mt++){var at=Ze(it[Mt]);if(at>Ne&&at<He){var st=mt[Mt]===void 0?C.tickText(oe,at):ut(oe,at,String(mt[Mt]));Be&&(st.minor=!0,st.text=""),Ue.push(st)}}}}return oe.rangebreaks&&(Ue=Ue.filter(function(kt){return oe.maskBreaks(kt.x)!==Q})),Ue}var ke=[2,5,10],Pe=[1,2,3,6,12],fe=[1,2,5,10,15,30],De=[1,2,3,7,14],Fe=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],et=[-.301,0,.301,.699,1],Xe=[15,30,45,90,180];function qe(oe,$,Ee){return $*e.roundUp(oe/$,Ee)}C.autoTicks=function(oe,$,Ee){var Ne;function He(at){return Math.pow(at,Math.floor(Math.log($)/Math.LN10))}if(oe.type==="date"){oe.tick0=e.dateTick0(oe.calendar,0);var Ze=2*$;if(Ze>w)$/=w,Ne=He(10),oe.dtick="M"+12*qe($,Ne,ke);else if(Ze>T)$/=T,oe.dtick="M"+qe($,1,Pe);else if(Ze>M){if(oe.dtick=qe($,M,oe._hasDayOfWeekBreaks?[1,2,7,14]:De),!Ee){var Ue=C.getTickFormat(oe),Be=oe.ticklabelmode==="period";Be&&(oe._rawTick0=oe.tick0),/%[uVW]/.test(Ue)?oe.tick0=e.dateTick0(oe.calendar,2):oe.tick0=e.dateTick0(oe.calendar,1),Be&&(oe._dowTick0=oe.tick0)}}else Ze>E?oe.dtick=qe($,E,Pe):Ze>A?oe.dtick=qe($,A,fe):Ze>z?oe.dtick=qe($,z,fe):(Ne=He(10),oe.dtick=qe($,Ne,ke))}else if(oe.type==="log"){oe.tick0=0;var it=e.simpleMap(oe.range,oe.r2l);if(oe._isMinor&&($*=1.5),$>.7)oe.dtick=Math.ceil($);else if(Math.abs(it[1]-it[0])<1){var mt=1.5*Math.abs((it[1]-it[0])/$);$=Math.abs(Math.pow(10,it[1])-Math.pow(10,it[0]))/mt,Ne=He(10),oe.dtick="L"+qe($,Ne,ke)}else oe.dtick=$>.3?"D2":"D1"}else oe.type==="category"||oe.type==="multicategory"?(oe.tick0=0,oe.dtick=Math.ceil(Math.max($,1))):Bt(oe)?(oe.tick0=0,Ne=1,oe.dtick=qe($,Ne,Xe)):(oe.tick0=0,Ne=He(10),oe.dtick=qe($,Ne,ke));if(oe.dtick===0&&(oe.dtick=1),!n(oe.dtick)&&typeof oe.dtick!="string"){var Mt=oe.dtick;throw oe.dtick=1,"ax.dtick error: "+String(Mt)}};function rt(oe){var $=oe.dtick;if(oe._tickexponent=0,!n($)&&typeof $!="string"&&($=1),(oe.type==="category"||oe.type==="multicategory")&&(oe._tickround=null),oe.type==="date"){var Ee=oe.r2l(oe.tick0),Ne=oe.l2r(Ee).replace(/(^-|i)/g,""),He=Ne.length;if(String($).charAt(0)==="M")He>10||Ne.substr(5)!=="01-01"?oe._tickround="d":oe._tickround=+$.substr(1)%12===0?"y":"m";else if($>=M&&He<=10||$>=M*15)oe._tickround="d";else if($>=A&&He<=16||$>=E)oe._tickround="M";else if($>=z&&He<=19||$>=A)oe._tickround="S";else{var Ze=oe.l2r(Ee+$).replace(/^-/,"").length;oe._tickround=Math.max(He,Ze)-20,oe._tickround<0&&(oe._tickround=4)}}else if(n($)||$.charAt(0)==="L"){var Ue=oe.range.map(oe.r2d||Number);n($)||($=Number($.substr(1))),oe._tickround=2-Math.floor(Math.log($)/Math.LN10+.01);var Be=Math.max(Math.abs(Ue[0]),Math.abs(Ue[1])),it=Math.floor(Math.log(Be)/Math.LN10+.01),mt=oe.minexponent===void 0?3:oe.minexponent;Math.abs(it)>mt&&(Re(oe.exponentformat)&&!ze(it)?oe._tickexponent=3*Math.round((it-1)/3):oe._tickexponent=it)}else oe._tickround=null}C.tickIncrement=function(oe,$,Ee,Ne){var He=Ee?-1:1;if(n($))return e.increment(oe,He*$);var Ze=$.charAt(0),Ue=He*Number($.substr(1));if(Ze==="M")return e.incrementMonth(oe,Ue,Ne);if(Ze==="L")return Math.log(Math.pow(10,oe)+Ue)/Math.LN10;if(Ze==="D"){var Be=$==="D2"?et:Fe,it=oe+He*.01,mt=e.roundUp(e.mod(it,1),Be,Ee);return Math.floor(it)+Math.log(i.round(Math.pow(10,mt),1))/Math.LN10}throw"unrecognized dtick "+String($)},C.tickFirst=function(oe,$){var Ee=oe.r2l||Number,Ne=e.simpleMap(oe.range,Ee,void 0,void 0,$),He=Ne[1]<Ne[0],Ze=He?Math.floor:Math.ceil,Ue=Z(Ne)[0],Be=oe.dtick,it=Ee(oe.tick0);if(n(Be)){var mt=Ze((Ue-it)/Be)*Be+it;return(oe.type==="category"||oe.type==="multicategory")&&(mt=e.constrain(mt,0,oe._categories.length-1)),mt}var Mt=Be.charAt(0),at=Number(Be.substr(1));if(Mt==="M"){for(var st=0,kt=it,xt,lt,wt;st<10;){if(xt=C.tickIncrement(kt,Be,He,oe.calendar),(xt-Ue)*(kt-Ue)<=0)return He?Math.min(kt,xt):Math.max(kt,xt);lt=(Ue-(kt+xt)/2)/(xt-kt),wt=Mt+(Math.abs(Math.round(lt))||1)*at,kt=C.tickIncrement(kt,wt,lt<0?!He:He,oe.calendar),st++}return e.error("tickFirst did not converge",oe),kt}else{if(Mt==="L")return Math.log(Ze((Math.pow(10,Ue)-it)/at)*at+it)/Math.LN10;if(Mt==="D"){var Ct=Be==="D2"?et:Fe,_t=e.roundUp(e.mod(Ue,1),Ct,He);return Math.floor(Ue)+Math.log(i.round(Math.pow(10,_t),1))/Math.LN10}else throw"unrecognized dtick "+String(Be)}},C.tickText=function(oe,$,Ee,Ne){var He=ut(oe,$),Ze=oe.tickmode==="array",Ue=Ee||Ze,Be=oe.type,it=Be==="category"?oe.d2l_noadd:oe.d2l,mt;if(Ze&&Array.isArray(oe.ticktext)){var Mt=e.simpleMap(oe.range,oe.r2l),at=(Math.abs(Mt[1]-Mt[0])-(oe._lBreaks||0))/1e4;for(mt=0;mt<oe.ticktext.length&&!(Math.abs($-it(oe.tickvals[mt]))<at);mt++);if(mt<oe.ticktext.length)return He.text=String(oe.ticktext[mt]),He}function st(lt){if(lt===void 0)return!0;if(Ee)return lt==="none";var wt={first:oe._tmin,last:oe._tmax}[lt];return lt!=="all"&&$!==wt}var kt=Ee?"never":oe.exponentformat!=="none"&&st(oe.showexponent)?"hide":"";if(Be==="date"?yt(oe,He,Ee,Ue):Be==="log"?Rt(oe,He,Ee,Ue,kt):Be==="category"?bt(oe,He):Be==="multicategory"?je(oe,He,Ee):Bt(oe)?Dt(oe,He,Ee,Ue,kt):ct(oe,He,Ee,Ue,kt),Ne||(oe.tickprefix&&!st(oe.showtickprefix)&&(He.text=oe.tickprefix+He.text),oe.ticksuffix&&!st(oe.showticksuffix)&&(He.text+=oe.ticksuffix)),oe.tickson==="boundaries"||oe.showdividers){var xt=function(lt){var wt=oe.l2p(lt);return wt>=0&&wt<=oe._length?lt:null};He.xbnd=[xt(He.x-.5),xt(He.x+oe.dtick-.5)]}return He},C.hoverLabelText=function(oe,$,Ee){Ee&&(oe=e.extendFlat({},oe,{hoverformat:Ee}));var Ne=Array.isArray($)?$[0]:$,He=Array.isArray($)?$[1]:void 0;if(He!==void 0&&He!==Ne)return C.hoverLabelText(oe,Ne,Ee)+" - "+C.hoverLabelText(oe,He,Ee);var Ze=oe.type==="log"&&Ne<=0,Ue=C.tickText(oe,oe.c2l(Ze?-Ne:Ne),"hover").text;return Ze?Ne===0?"0":H+Ue:Ue};function ut(oe,$,Ee){var Ne=oe.tickfont||{};return{x:$,dx:0,dy:0,text:Ee||"",fontSize:Ne.size,font:Ne.family,fontColor:Ne.color}}function yt(oe,$,Ee,Ne){var He=oe._tickround,Ze=Ee&&oe.hoverformat||C.getTickFormat(oe);Ne&&(n(He)?He=4:He={y:"m",m:"d",d:"M",M:"S",S:4}[He]);var Ue=e.formatDate($.x,Ze,He,oe._dateFormat,oe.calendar,oe._extraFormat),Be,it=Ue.indexOf(`
`);if(it!==-1&&(Be=Ue.substr(it+1),Ue=Ue.substr(0,it)),Ne&&(Ue==="00:00:00"||Ue==="00:00"?(Ue=Be,Be=""):Ue.length===8&&(Ue=Ue.replace(/:00$/,""))),Be)if(Ee)He==="d"?Ue+=", "+Be:Ue=Be+(Ue?", "+Ue:"");else if(!oe._inCalcTicks||oe._prevDateHead!==Be)oe._prevDateHead=Be,Ue+="<br>"+Be;else{var mt=Vt(oe),Mt=oe._trueSide||oe.side;(!mt&&Mt==="top"||mt&&Mt==="bottom")&&(Ue+="<br> ")}$.text=Ue}function Rt(oe,$,Ee,Ne,He){var Ze=oe.dtick,Ue=$.x,Be=oe.tickformat,it=typeof Ze=="string"&&Ze.charAt(0);if(He==="never"&&(He=""),Ne&&it!=="L"&&(Ze="L3",it="L"),Be||it==="L")$.text=ae(Math.pow(10,Ue),oe,He,Ne);else if(n(Ze)||it==="D"&&e.mod(Ue+.01,1)<.1){var mt=Math.round(Ue),Mt=Math.abs(mt),at=oe.exponentformat;at==="power"||Re(at)&&ze(mt)?(mt===0?$.text=1:mt===1?$.text="10":$.text="10<sup>"+(mt>1?"":H)+Mt+"</sup>",$.fontSize*=1.25):(at==="e"||at==="E")&&Mt>2?$.text="1"+at+(mt>0?"+":H)+Mt:($.text=ae(Math.pow(10,Ue),oe,"","fakehover"),Ze==="D1"&&oe._id.charAt(0)==="y"&&($.dy-=$.fontSize/6))}else if(it==="D")$.text=String(Math.round(Math.pow(10,e.mod(Ue,1)))),$.fontSize*=.75;else throw"unrecognized dtick "+String(Ze);if(oe.dtick==="D1"){var st=String($.text).charAt(0);(st==="0"||st==="1")&&(oe._id.charAt(0)==="y"?$.dx-=$.fontSize/4:($.dy+=$.fontSize/2,$.dx+=(oe.range[1]>oe.range[0]?1:-1)*$.fontSize*(Ue<0?.5:.25)))}}function bt(oe,$){var Ee=oe._categories[Math.round($.x)];Ee===void 0&&(Ee=""),$.text=String(Ee)}function je(oe,$,Ee){var Ne=Math.round($.x),He=oe._categories[Ne]||[],Ze=He[1]===void 0?"":String(He[1]),Ue=He[0]===void 0?"":String(He[0]);Ee?$.text=Ue+" - "+Ze:($.text=Ze,$.text2=Ue)}function ct(oe,$,Ee,Ne,He){He==="never"?He="":oe.showexponent==="all"&&Math.abs($.x/oe.dtick)<1e-6&&(He="hide"),$.text=ae($.x,oe,He,Ne)}function Dt(oe,$,Ee,Ne,He){if(oe.thetaunit==="radians"&&!Ee){var Ze=$.x/180;if(Ze===0)$.text="0";else{var Ue=Lt(Ze);if(Ue[1]>=100)$.text=ae(e.deg2rad($.x),oe,He,Ne);else{var Be=$.x<0;Ue[1]===1?Ue[0]===1?$.text="\u03C0":$.text=Ue[0]+"\u03C0":$.text=["<sup>",Ue[0],"</sup>","\u2044","<sub>",Ue[1],"</sub>","\u03C0"].join(""),Be&&($.text=H+$.text)}}}else $.text=ae($.x,oe,He,Ne)}function Lt(oe){function $(Be,it){return Math.abs(Be-it)<=1e-6}function Ee(Be,it){return $(it,0)?Be:Ee(it,Be%it)}function Ne(Be){for(var it=1;!$(Math.round(Be*it)/it,Be);)it*=10;return it}var He=Ne(oe),Ze=oe*He,Ue=Math.abs(Ee(Ze,He));return[Math.round(Ze/Ue),Math.round(He/Ue)]}var de=["f","p","n","\u03BC","m","","k","M","G","T"];function Re(oe){return oe==="SI"||oe==="B"}function ze(oe){return oe>14||oe<-15}function ae(oe,$,Ee,Ne){var He=oe<0,Ze=$._tickround,Ue=Ee||$.exponentformat||"B",Be=$._tickexponent,it=C.getTickFormat($),mt=$.separatethousands;if(Ne){var Mt={exponentformat:Ue,minexponent:$.minexponent,dtick:$.showexponent==="none"?$.dtick:n(oe)&&Math.abs(oe)||1,range:$.showexponent==="none"?$.range.map($.r2d):[0,oe||1]};rt(Mt),Ze=(Number(Mt._tickround)||0)+4,Be=Mt._tickexponent,$.hoverformat&&(it=$.hoverformat)}if(it)return $._numFormat(it)(oe).replace(/-/g,H);var at=Math.pow(10,-Ze)/2;if(Ue==="none"&&(Be=0),oe=Math.abs(oe),oe<at)oe="0",He=!1;else{if(oe+=at,Be&&(oe*=Math.pow(10,-Be),Ze+=Be),Ze===0)oe=String(Math.floor(oe));else if(Ze<0){oe=String(Math.round(oe)),oe=oe.substr(0,oe.length+Ze);for(var st=Ze;st<0;st++)oe+="0"}else{oe=String(oe);var kt=oe.indexOf(".")+1;kt&&(oe=oe.substr(0,kt+Ze).replace(/\.?0+$/,""))}oe=e.numSeparate(oe,$._separators,mt)}if(Be&&Ue!=="hide"){Re(Ue)&&ze(Be)&&(Ue="power");var xt;Be<0?xt=H+-Be:Ue!=="power"?xt="+"+Be:xt=String(Be),Ue==="e"||Ue==="E"?oe+=Ue+xt:Ue==="power"?oe+="\xD710<sup>"+xt+"</sup>":Ue==="B"&&Be===9?oe+="B":Re(Ue)&&(oe+=de[Be/3+5])}return He?H+oe:oe}C.getTickFormat=function(oe){var $;function Ee(it){return typeof it!="string"?it:Number(it.replace("M",""))*T}function Ne(it,mt){var Mt=["L","D"];if(typeof it==typeof mt){if(typeof it=="number")return it-mt;var at=Mt.indexOf(it.charAt(0)),st=Mt.indexOf(mt.charAt(0));return at===st?Number(it.replace(/(L|D)/g,""))-Number(mt.replace(/(L|D)/g,"")):at-st}else return typeof it=="number"?1:-1}function He(it,mt,Mt){var at=Mt||function(xt){return xt},st=mt[0],kt=mt[1];return(!st&&typeof st!="number"||at(st)<=at(it))&&(!kt&&typeof kt!="number"||at(kt)>=at(it))}function Ze(it,mt){var Mt=mt[0]===null,at=mt[1]===null,st=Ne(it,mt[0])>=0,kt=Ne(it,mt[1])<=0;return(Mt||st)&&(at||kt)}var Ue,Be;if(oe.tickformatstops&&oe.tickformatstops.length>0)switch(oe.type){case"date":case"linear":{for($=0;$<oe.tickformatstops.length;$++)if(Be=oe.tickformatstops[$],Be.enabled&&He(oe.dtick,Be.dtickrange,Ee)){Ue=Be;break}break}case"log":{for($=0;$<oe.tickformatstops.length;$++)if(Be=oe.tickformatstops[$],Be.enabled&&Ze(oe.dtick,Be.dtickrange)){Ue=Be;break}break}}return Ue?Ue.value:oe.tickformat},C.getSubplots=function(oe,$){var Ee=oe._fullLayout._subplots,Ne=Ee.cartesian.concat(Ee.gl2d||[]),He=$?C.findSubplotsWithAxis(Ne,$):Ne;return He.sort(function(Ze,Ue){var Be=Ze.substr(1).split("y"),it=Ue.substr(1).split("y");return Be[0]===it[0]?+Be[1]-+it[1]:+Be[0]-+it[0]}),He},C.findSubplotsWithAxis=function(oe,$){for(var Ee=new RegExp($._id.charAt(0)==="x"?"^"+$._id+"y":$._id+"$"),Ne=[],He=0;He<oe.length;He++){var Ze=oe[He];Ee.test(Ze)&&Ne.push(Ze)}return Ne},C.makeClipPaths=function(oe){var $=oe._fullLayout;if(!$._hasOnlyLargeSploms){var Ee={_offset:0,_length:$.width,_id:""},Ne={_offset:0,_length:$.height,_id:""},He=C.list(oe,"x",!0),Ze=C.list(oe,"y",!0),Ue=[],Be,it;for(Be=0;Be<He.length;Be++)for(Ue.push({x:He[Be],y:Ne}),it=0;it<Ze.length;it++)Be===0&&Ue.push({x:Ee,y:Ze[it]}),Ue.push({x:He[Be],y:Ze[it]});var mt=$._clips.selectAll(".axesclip").data(Ue,function(Mt){return Mt.x._id+Mt.y._id});mt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Mt){return"clip"+$._uid+Mt.x._id+Mt.y._id}).append("rect"),mt.exit().remove(),mt.each(function(Mt){i.select(this).select("rect").attr({x:Mt.x._offset||0,y:Mt.y._offset||0,width:Mt.x._length||1,height:Mt.y._length||1})})}},C.draw=function(oe,$,Ee){var Ne=oe._fullLayout;$==="redraw"&&Ne._paper.selectAll("g.subplot").each(function(Ze){var Ue=Ze[0],Be=Ne._plots[Ue];if(Be){var it=Be.xaxis,mt=Be.yaxis;Be.xaxislayer.selectAll("."+it._id+"tick").remove(),Be.yaxislayer.selectAll("."+mt._id+"tick").remove(),Be.xaxislayer.selectAll("."+it._id+"tick2").remove(),Be.yaxislayer.selectAll("."+mt._id+"tick2").remove(),Be.xaxislayer.selectAll("."+it._id+"divider").remove(),Be.yaxislayer.selectAll("."+mt._id+"divider").remove(),Be.minorGridlayer&&Be.minorGridlayer.selectAll("path").remove(),Be.gridlayer&&Be.gridlayer.selectAll("path").remove(),Be.zerolinelayer&&Be.zerolinelayer.selectAll("path").remove(),Ne._infolayer.select(".g-"+it._id+"title").remove(),Ne._infolayer.select(".g-"+mt._id+"title").remove()}});var He=!$||$==="redraw"?C.listIds(oe):$;return e.syncOrAsync(He.map(function(Ze){return function(){if(!!Ze){var Ue=C.getFromId(oe,Ze),Be=C.drawOne(oe,Ue,Ee);return Ue._r=Ue.range.slice(),Ue._rl=e.simpleMap(Ue._r,Ue.r2l),Be}}}))},C.drawOne=function(oe,$,Ee){Ee=Ee||{};var Ne,He,Ze;$.setScale();var Ue=oe._fullLayout,Be=$._id,it=Be.charAt(0),mt=C.counterLetter(Be),Mt=Ue._plots[$._mainSubplot];if(!Mt)return;var at=Mt[it+"axislayer"],st=$._mainLinePosition,kt=$._mainMirrorPosition,xt=$._vals=C.calcTicks($),lt=[$.mirror,st,kt].join("_");for(Ne=0;Ne<xt.length;Ne++)xt[Ne].axInfo=lt;$._selections={},$._tickAngles&&($._prevTickAngles=$._tickAngles),$._tickAngles={},$._depth=null;var wt={};function Ct(Mr){var qr=Be+(Mr||"tick");return wt[qr]||(wt[qr]=Ve($,qr)),wt[qr]}if(!!$.visible){var _t=C.makeTransTickFn($),Pt=C.makeTransTickLabelFn($),Ft,Ht,St=$.ticks==="inside",er=$.ticks==="outside";if($.tickson==="boundaries"){var jt=Te($,xt);Ht=C.clipEnds($,jt),Ft=St?Ht:jt}else Ht=C.clipEnds($,xt),Ft=St&&$.ticklabelmode!=="period"?Ht:xt;var Ut=$._gridVals=Ht,qt=Je($,xt);if(!Ue._hasOnlyLargeSploms){var ir=$._subplotsWith,rr={};for(Ne=0;Ne<ir.length;Ne++){He=ir[Ne],Ze=Ue._plots[He];var lr=Ze[mt+"axis"],vr=lr._mainAxis._id;if(!rr[vr]){rr[vr]=1;var hr=it==="x"?"M0,"+lr._offset+"v"+lr._length:"M"+lr._offset+",0h"+lr._length;C.drawGrid(oe,$,{vals:Ut,counterAxis:lr,layer:Ze.gridlayer.select("."+Be),minorLayer:Ze.minorGridlayer.select("."+Be),path:hr,transFn:_t}),C.drawZeroLine(oe,$,{counterAxis:lr,layer:Ze.zerolinelayer,path:hr,transFn:_t})}}}var gr,mr=C.getTickSigns($),br=C.getTickSigns($,"minor");if($.ticks||$.minor&&$.minor.ticks){var Sr=C.makeTickPath($,st,mr[2]),jr=C.makeTickPath($,st,br[2],{minor:!0}),_r,Cr,zr,xr;if($._anchorAxis&&$.mirror&&$.mirror!==!0?(_r=C.makeTickPath($,kt,mr[3]),Cr=C.makeTickPath($,kt,br[3],{minor:!0}),zr=Sr+_r,xr=jr+Cr):(_r="",Cr="",zr=Sr,xr=jr),$.showdividers&&er&&$.tickson==="boundaries"){var $r={};for(Ne=0;Ne<qt.length;Ne++)$r[qt[Ne].x]=1;gr=function(Mr){return $r[Mr.x]?_r:zr}}else gr=function(Mr){return Mr.minor?xr:zr}}if(C.drawTicks(oe,$,{vals:Ft,layer:at,path:gr,transFn:_t}),$.mirror==="allticks"){var Yr=Object.keys($._linepositions||{});for(Ne=0;Ne<Yr.length;Ne++){He=Yr[Ne],Ze=Ue._plots[He];var Ur=$._linepositions[He]||[],sa=Ur[0],ua=Ur[1],Wr=Ur[2],Zr=C.makeTickPath($,sa,Wr?mr[0]:br[0],{minor:Wr})+C.makeTickPath($,ua,Wr?mr[1]:br[1],{minor:Wr});C.drawTicks(oe,$,{vals:Ft,layer:Ze[it+"axislayer"],path:Zr,transFn:_t})}}var Fr=[];if(Fr.push(function(){return C.drawLabels(oe,$,{vals:xt,layer:at,plotinfo:Ze,transFn:Pt,labelFns:C.makeLabelFns($,st)})}),$.type==="multicategory"){var ba={x:2,y:10}[it];Fr.push(function(){var Mr={x:"height",y:"width"}[it],qr=Ct()[Mr]+ba+($._tickAngles[Be+"tick"]?$.tickfont.size*pe:0);return C.drawLabels(oe,$,{vals:Me($,xt),layer:at,cls:Be+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:_t,labelFns:C.makeLabelFns($,st+qr*mr[4])})}),Fr.push(function(){return $._depth=mr[4]*(Ct("tick2")[$.side]-st),Ie(oe,$,{vals:qt,layer:at,path:C.makeTickPath($,st,mr[4],{len:$._depth}),transFn:_t})})}else $.title.hasOwnProperty("standoff")&&Fr.push(function(){$._depth=mr[4]*(Ct()[$.side]-st)});var ra=s.getComponentMethod("rangeslider","isVisible")($);return Fr.push(function(){var Mr=$.side.charAt(0),qr=be[$.side].charAt(0),va=C.getPxPosition(oe,$),ha=er?$.ticklen:0,Dr,Rr,aa,Ea;if(($.automargin||ra)&&($.type==="multicategory"?Dr=Ct("tick2"):(Dr=Ct(),it==="x"&&Mr==="b"&&($._depth=Math.max(Dr.width>0?Dr.bottom-va:0,ha)))),$.automargin){Rr={x:0,y:0,r:0,l:0,t:0,b:0};var Xr=[0,1];if(it==="x"){if(Mr==="b"?Rr[Mr]=$._depth:(Rr[Mr]=$._depth=Math.max(Dr.width>0?va-Dr.top:0,ha),Xr.reverse()),Dr.width>0){var oa=Dr.right-($._offset+$._length);oa>0&&(Rr.xr=1,Rr.r=oa);var Na=$._offset-Dr.left;Na>0&&(Rr.xl=0,Rr.l=Na)}}else if(Mr==="l"?Rr[Mr]=$._depth=Math.max(Dr.height>0?va-Dr.left:0,ha):(Rr[Mr]=$._depth=Math.max(Dr.height>0?Dr.right-va:0,ha),Xr.reverse()),Dr.height>0){var za=Dr.bottom-($._offset+$._length);za>0&&(Rr.yb=0,Rr.b=za);var Fa=$._offset-Dr.top;Fa>0&&(Rr.yt=1,Rr.t=Fa)}Rr[mt]=$.anchor==="free"?$.position:$._anchorAxis.domain[Xr[0]],$.title.text!==Ue._dfltTitle[it]&&(Rr[Mr]+=ft($)+($.title.standoff||0)),$.mirror&&$.anchor!=="free"&&(aa={x:0,y:0,r:0,l:0,t:0,b:0},aa[qr]=$.linewidth,$.mirror&&$.mirror!==!0&&(aa[qr]+=ha),$.mirror===!0||$.mirror==="ticks"?aa[mt]=$._anchorAxis.domain[Xr[1]]:($.mirror==="all"||$.mirror==="allticks")&&(aa[mt]=[$._counterDomainMin,$._counterDomainMax][Xr[1]]))}ra&&(Ea=s.getComponentMethod("rangeslider","autoMarginOpts")(oe,$)),typeof $.automargin=="string"&&(xe(Rr,$.automargin),xe(aa,$.automargin)),c.autoMargin(oe,It($),Rr),c.autoMargin(oe,Qt($),aa),c.autoMargin(oe,Nt($),Ea)}),!Ee.skipTitle&&!(ra&&$.side==="bottom")&&Fr.push(function(){return vt(oe,$)}),e.syncOrAsync(Fr)}};function xe(oe,$){if(!!oe){var Ee=Object.keys(K).reduce(function(Ne,He){return $.indexOf(He)!==-1&&K[He].forEach(function(Ze){Ne[Ze]=1}),Ne},{});Object.keys(oe).forEach(function(Ne){Ee[Ne]||(Ne.length===1?oe[Ne]=0:delete oe[Ne])})}}function Te(oe,$){var Ee=[],Ne,He=function(Ze,Ue){var Be=Ze.xbnd[Ue];Be!==null&&Ee.push(e.extendFlat({},Ze,{x:Be}))};if($.length){for(Ne=0;Ne<$.length;Ne++)He($[Ne],0);He($[Ne-1],1)}return Ee}function Me(oe,$){for(var Ee=[],Ne={},He=0;He<$.length;He++){var Ze=$[He];Ne[Ze.text2]?Ne[Ze.text2].push(Ze.x):Ne[Ze.text2]=[Ze.x]}for(var Ue in Ne)Ee.push(ut(oe,e.interp(Ne[Ue],.5),Ue));return Ee}function Je(oe,$){var Ee=[],Ne,He,Ze=$.length&&$[$.length-1].x<$[0].x,Ue=function(it,mt){var Mt=it.xbnd[mt];Mt!==null&&Ee.push(e.extendFlat({},it,{x:Mt}))};if(oe.showdividers&&$.length){for(Ne=0;Ne<$.length;Ne++){var Be=$[Ne];Be.text2!==He&&Ue(Be,Ze?1:0),He=Be.text2}Ue($[Ne-1],Ze?0:1)}return Ee}function Ve(oe,$){var Ee,Ne,He,Ze;return oe._selections[$].size()?(Ee=1/0,Ne=-1/0,He=1/0,Ze=-1/0,oe._selections[$].each(function(){var Ue=Wt(this),Be=v.bBox(Ue.node().parentNode);Ee=Math.min(Ee,Be.top),Ne=Math.max(Ne,Be.bottom),He=Math.min(He,Be.left),Ze=Math.max(Ze,Be.right)})):(Ee=0,Ne=0,He=0,Ze=0),{top:Ee,bottom:Ne,left:He,right:Ze,height:Ne-Ee,width:Ze-He}}C.getTickSigns=function(oe,$){var Ee=oe._id.charAt(0),Ne={x:"top",y:"right"}[Ee],He=oe.side===Ne?1:-1,Ze=[-1,1,He,-He],Ue=$?(oe.minor||{}).ticks:oe.ticks;return Ue!=="inside"==(Ee==="x")&&(Ze=Ze.map(function(Be){return-Be})),oe.side&&Ze.push({l:-1,t:-1,r:1,b:1}[oe.side.charAt(0)]),Ze},C.makeTransTickFn=function(oe){return oe._id.charAt(0)==="x"?function($){return o(oe._offset+oe.l2p($.x),0)}:function($){return o(0,oe._offset+oe.l2p($.x))}},C.makeTransTickLabelFn=function(oe){var $=Ke(oe),Ee=$[0],Ne=$[1];return oe._id.charAt(0)==="x"?function(He){return o(Ee+oe._offset+oe.l2p(Ge(He)),Ne)}:function(He){return o(Ne,Ee+oe._offset+oe.l2p(Ge(He)))}};function Ge(oe){return oe.periodX!==void 0?oe.periodX:oe.x}function Ke(oe){var $=oe.ticklabelposition||"",Ee=function(kt){return $.indexOf(kt)!==-1},Ne=Ee("top"),He=Ee("left"),Ze=Ee("right"),Ue=Ee("bottom"),Be=Ee("inside"),it=Ue||He||Ne||Ze;if(!it&&!Be)return[0,0];var mt=oe.side,Mt=it?(oe.tickwidth||0)/2:0,at=ve,st=oe.tickfont?oe.tickfont.size:12;return(Ue||Ne)&&(Mt+=st*me,at+=(oe.linewidth||0)/2),(He||Ze)&&(Mt+=(oe.linewidth||0)/2,at+=ve),Be&&mt==="top"&&(at-=st*(1-me)),(He||Ne)&&(Mt=-Mt),(mt==="bottom"||mt==="right")&&(at=-at),[it?Mt:0,Be?at:0]}C.makeTickPath=function(oe,$,Ee,Ne){Ne||(Ne={});var He=Ne.minor;if(He&&!oe.minor)return"";var Ze=Ne.len!==void 0?Ne.len:He?oe.minor.ticklen:oe.ticklen,Ue=oe._id.charAt(0),Be=(oe.linewidth||1)/2;return Ue==="x"?"M0,"+($+Be*Ee)+"v"+Ze*Ee:"M"+($+Be*Ee)+",0h"+Ze*Ee},C.makeLabelFns=function(oe,$,Ee){var Ne=oe.ticklabelposition||"",He=function(rr){return Ne.indexOf(rr)!==-1},Ze=He("top"),Ue=He("left"),Be=He("right"),it=He("bottom"),mt=it||Ue||Ze||Be,Mt=He("inside"),at=Ne==="inside"&&oe.ticks==="inside"||!Mt&&oe.ticks==="outside"&&oe.tickson!=="boundaries",st=0,kt=0,xt=at?oe.ticklen:0;if(Mt?xt*=-1:mt&&(xt=0),at&&(st+=xt,Ee)){var lt=e.deg2rad(Ee);st=xt*Math.cos(lt)+1,kt=xt*Math.sin(lt)}oe.showticklabels&&(at||oe.showline)&&(st+=.2*oe.tickfont.size),st+=(oe.linewidth||1)/2*(Mt?-1:1);var wt={labelStandoff:st,labelShift:kt},Ct,_t,Pt,Ft,Ht=0,St=oe.side,er=oe._id.charAt(0),jt=oe.tickangle,Ut;if(er==="x")Ut=!Mt&&St==="bottom"||Mt&&St==="top",Ft=Ut?1:-1,Mt&&(Ft*=-1),Ct=kt*Ft,_t=$+st*Ft,Pt=Ut?1:-.2,Math.abs(jt)===90&&(Mt?Pt+=ne:jt===-90&&St==="bottom"?Pt=me:jt===90&&St==="top"?Pt=ne:Pt=.5,Ht=ne/2*(jt/90)),wt.xFn=function(rr){return rr.dx+Ct+Ht*rr.fontSize},wt.yFn=function(rr){return rr.dy+_t+rr.fontSize*Pt},wt.anchorFn=function(rr,lr){if(mt){if(Ue)return"end";if(Be)return"start"}return!n(lr)||lr===0||lr===180?"middle":lr*Ft<0!==Mt?"end":"start"},wt.heightFn=function(rr,lr,vr){return lr<-60||lr>60?-.5*vr:oe.side==="top"!==Mt?-vr:0};else if(er==="y"){if(Ut=!Mt&&St==="left"||Mt&&St==="right",Ft=Ut?1:-1,Mt&&(Ft*=-1),Ct=st,_t=kt*Ft,Pt=0,!Mt&&Math.abs(jt)===90&&(jt===-90&&St==="left"||jt===90&&St==="right"?Pt=me:Pt=.5),Mt){var qt=n(jt)?+jt:0;if(qt!==0){var ir=e.deg2rad(qt);Ht=Math.abs(Math.sin(ir))*me*Ft,Pt=0}}wt.xFn=function(rr){return rr.dx+$-(Ct+rr.fontSize*Pt)*Ft+Ht*rr.fontSize},wt.yFn=function(rr){return rr.dy+_t+rr.fontSize*ne},wt.anchorFn=function(rr,lr){return n(lr)&&Math.abs(lr)===90?"middle":Ut?"end":"start"},wt.heightFn=function(rr,lr,vr){return oe.side==="right"&&(lr*=-1),lr<-30?-vr:lr<30?-.5*vr:0}}return wt};function Qe(oe){return[oe.text,oe.x,oe.axInfo,oe.font,oe.fontSize,oe.fontColor].join("_")}C.drawTicks=function(oe,$,Ee){Ee=Ee||{};var Ne=$._id+"tick",He=[].concat($.minor&&$.minor.ticks?Ee.vals.filter(function(Ue){return Ue.minor&&!Ue.noTick}):[]).concat($.ticks?Ee.vals.filter(function(Ue){return!Ue.minor&&!Ue.noTick}):[]),Ze=Ee.layer.selectAll("path."+Ne).data(He,Qe);Ze.exit().remove(),Ze.enter().append("path").classed(Ne,1).classed("ticks",1).classed("crisp",Ee.crisp!==!1).each(function(Ue){return t.stroke(i.select(this),Ue.minor?$.minor.tickcolor:$.tickcolor)}).style("stroke-width",function(Ue){return v.crispRound(oe,Ue.minor?$.minor.tickwidth:$.tickwidth,1)+"px"}).attr("d",Ee.path).style("display",null),tr($,[O]),Ze.attr("transform",Ee.transFn)},C.drawGrid=function(oe,$,Ee){Ee=Ee||{};var Ne=$._id+"grid",He=$.minor&&$.minor.showgrid,Ze=He?Ee.vals.filter(function(Ct){return Ct.minor}):[],Ue=$.showgrid?Ee.vals.filter(function(Ct){return!Ct.minor}):[],Be=Ee.counterAxis;if(Be&&C.shouldShowZeroLine(oe,$,Be))for(var it=$.tickmode==="array",mt=0;mt<Ue.length;mt++){var Mt=Ue[mt].x;if(it?!Mt:Math.abs(Mt)<$.dtick/100)if(Ue=Ue.slice(0,mt).concat(Ue.slice(mt+1)),it)mt--;else break}$._gw=v.crispRound(oe,$.gridwidth,1);for(var at=He?v.crispRound(oe,$.minor.gridwidth,1):0,st=Ee.layer,kt=Ee.minorLayer,xt=1;xt>=0;xt--){var lt=xt?st:kt;if(!!lt){var wt=lt.selectAll("path."+Ne).data(xt?Ue:Ze,Qe);wt.exit().remove(),wt.enter().append("path").classed(Ne,1).classed("crisp",Ee.crisp!==!1),wt.attr("transform",Ee.transFn).attr("d",Ee.path).each(function(Ct){return t.stroke(i.select(this),Ct.minor?$.minor.gridcolor:$.gridcolor||"#ddd")}).style("stroke-dasharray",function(Ct){return v.dashStyle(Ct.minor?$.minor.griddash:$.griddash,Ct.minor?$.minor.gridwidth:$.gridwidth)}).style("stroke-width",function(Ct){return(Ct.minor?at:$._gw)+"px"}).style("display",null),typeof Ee.path=="function"&&wt.attr("d",Ee.path)}}tr($,[ie,R])},C.drawZeroLine=function(oe,$,Ee){Ee=Ee||Ee;var Ne=$._id+"zl",He=C.shouldShowZeroLine(oe,$,Ee.counterAxis),Ze=Ee.layer.selectAll("path."+Ne).data(He?[{x:0,id:$._id}]:[]);Ze.exit().remove(),Ze.enter().append("path").classed(Ne,1).classed("zl",1).classed("crisp",Ee.crisp!==!1).each(function(){Ee.layer.selectAll("path").sort(function(Ue,Be){return P(Ue.id,Be.id)})}),Ze.attr("transform",Ee.transFn).attr("d",Ee.path).call(t.stroke,$.zerolinecolor||t.defaultLine).style("stroke-width",v.crispRound(oe,$.zerolinewidth,$._gw||1)+"px").style("display",null),tr($,[X])},C.drawLabels=function(oe,$,Ee){Ee=Ee||{};var Ne=oe._fullLayout,He=$._id,Ze=He.charAt(0),Ue=Ee.cls||He+"tick",Be=Ee.vals.filter(function(Ft){return Ft.text}),it=Ee.labelFns,mt=Ee.secondary?0:$.tickangle,Mt=($._prevTickAngles||{})[Ue],at=Ee.layer.selectAll("g."+Ue).data($.showticklabels?Be:[],Qe),st=[];at.enter().append("g").classed(Ue,1).append("text").attr("text-anchor","middle").each(function(Ft){var Ht=i.select(this),St=oe._promises.length;Ht.call(l.positionText,it.xFn(Ft),it.yFn(Ft)).call(v.font,Ft.font,Ft.fontSize,Ft.fontColor).text(Ft.text).call(l.convertToTspans,oe),oe._promises[St]?st.push(oe._promises.pop().then(function(){kt(Ht,mt)})):kt(Ht,mt)}),tr($,[U]),at.exit().remove(),Ee.repositionOnUpdate&&at.each(function(Ft){i.select(this).select("text").call(l.positionText,it.xFn(Ft),it.yFn(Ft))});function kt(Ft,Ht){Ft.each(function(St){var er=i.select(this),jt=er.select(".text-math-group"),Ut=it.anchorFn(St,Ht),qt=Ee.transFn.call(er.node(),St)+(n(Ht)&&+Ht!=0?" rotate("+Ht+","+it.xFn(St)+","+(it.yFn(St)-St.fontSize/2)+")":""),ir=l.lineCount(er),rr=pe*St.fontSize,lr=it.heightFn(St,n(Ht)?+Ht:0,(ir-1)*rr);if(lr&&(qt+=o(0,lr)),jt.empty()){var vr=er.select("text");vr.attr({transform:qt,"text-anchor":Ut}),vr.style("opacity",1),$._adjustTickLabelsOverflow&&$._adjustTickLabelsOverflow()}else{var hr=v.bBox(jt.node()).width,gr=hr*{end:-.5,start:.5}[Ut];jt.attr("transform",qt+o(gr,0))}})}$._adjustTickLabelsOverflow=function(){var Ft=$.ticklabeloverflow;if(!(!Ft||Ft==="allow")){var Ht=Ft.indexOf("hide")!==-1,St=$._id.charAt(0)==="x",er=0,jt=St?oe._fullLayout.width:oe._fullLayout.height;if(Ft.indexOf("domain")!==-1){var Ut=e.simpleMap($.range,$.r2l);er=$.l2p(Ut[0])+$._offset,jt=$.l2p(Ut[1])+$._offset}var qt=Math.min(er,jt),ir=Math.max(er,jt),rr=$.side,lr=1/0,vr=-1/0;at.each(function(br){var Sr=i.select(this),jr=Sr.select(".text-math-group");if(jr.empty()){var _r=v.bBox(Sr.node()),Cr=0;St?(_r.right>ir||_r.left<qt)&&(Cr=1):(_r.bottom>ir||_r.top+($.tickangle?0:br.fontSize/4)<qt)&&(Cr=1);var zr=Sr.select("text");Cr?Ht&&zr.style("opacity",0):(zr.style("opacity",1),rr==="bottom"||rr==="right"?lr=Math.min(lr,St?_r.top:_r.left):lr=-1/0,rr==="top"||rr==="left"?vr=Math.max(vr,St?_r.bottom:_r.right):vr=1/0)}});for(var hr in Ne._plots){var gr=Ne._plots[hr];if(!($._id!==gr.xaxis._id&&$._id!==gr.yaxis._id)){var mr=St?gr.yaxis:gr.xaxis;mr&&(mr["_visibleLabelMin_"+$._id]=lr,mr["_visibleLabelMax_"+$._id]=vr)}}}},$._hideCounterAxisInsideTickLabels=function(Ft){var Ht=$._id.charAt(0)==="x",St=[];for(var er in Ne._plots){var jt=Ne._plots[er];$._id!==jt.xaxis._id&&$._id!==jt.yaxis._id||St.push(Ht?jt.yaxis:jt.xaxis)}St.forEach(function(Ut,qt){Ut&&Vt(Ut)&&(Ft||[X,R,ie,O,U]).forEach(function(ir){var rr=ir.K==="tick"&&ir.L==="text"&&$.ticklabelmode==="period",lr=Ne._plots[$._mainSubplot],vr;ir.K===X.K?vr=lr.zerolinelayer.selectAll("."+$._id+"zl"):ir.K===R.K?vr=lr.minorGridlayer.selectAll("."+$._id):ir.K===ie.K?vr=lr.gridlayer.selectAll("."+$._id):vr=lr[$._id.charAt(0)+"axislayer"],vr.each(function(){var hr=i.select(this);ir.L&&(hr=hr.selectAll(ir.L)),hr.each(function(gr){var mr=$.l2p(rr?Ge(gr):gr.x)+$._offset,br=i.select(this);mr<$["_visibleLabelMax_"+Ut._id]&&mr>$["_visibleLabelMin_"+Ut._id]?br.style("display","none"):ir.K==="tick"&&!qt&&br.style("display",null)})})})})},kt(at,Mt+1?Mt:mt);function xt(){return st.length&&Promise.all(st)}var lt=null;function wt(){if(kt(at,mt),Be.length&&Ze==="x"&&!n(mt)&&($.type!=="log"||String($.dtick).charAt(0)!=="D")){lt=0;var Ft=0,Ht=[],St;if(at.each(function(_r){Ft=Math.max(Ft,_r.fontSize);var Cr=$.l2p(_r.x),zr=Wt(this),xr=v.bBox(zr.node());Ht.push({top:0,bottom:10,height:10,left:Cr-xr.width/2,right:Cr+xr.width/2+2,width:xr.width+2})}),($.tickson==="boundaries"||$.showdividers)&&!Ee.secondary){var er=2;for($.ticks&&(er+=$.tickwidth/2),St=0;St<Ht.length;St++){var jt=Be[St].xbnd,Ut=Ht[St];if(jt[0]!==null&&Ut.left-$.l2p(jt[0])<er||jt[1]!==null&&$.l2p(jt[1])-Ut.right<er){lt=90;break}}}else{var qt=Be.length,ir=Math.abs((Be[qt-1].x-Be[0].x)*$._m)/(qt-1),rr=$.ticklabelposition||"",lr=function(_r){return rr.indexOf(_r)!==-1},vr=lr("top"),hr=lr("left"),gr=lr("right"),mr=lr("bottom"),br=mr||hr||vr||gr,Sr=br?($.tickwidth||0)+2*ve:0,jr=ir<Ft*2.5||$.type==="multicategory"||$._name==="realaxis";for(St=0;St<Ht.length-1;St++)if(e.bBoxIntersect(Ht[St],Ht[St+1],Sr)){lt=jr?90:30;break}}lt&&kt(at,lt)}}$._selections&&($._selections[Ue]=at);var Ct=[xt];$.automargin&&Ne._redrawFromAutoMarginCount&&Mt===90?(lt=90,Ct.push(function(){kt(at,Mt)})):Ct.push(wt),$._tickAngles&&Ct.push(function(){$._tickAngles[Ue]=lt===null?n(mt)?mt:0:lt});var _t=$._anchorAxis;_t&&_t.autorange&&Vt($)&&!B(Ne,$._id)&&(Ne._insideTickLabelsAutorange||(Ne._insideTickLabelsAutorange={}),Ne._insideTickLabelsAutorange[_t._name+".autorange"]=_t.autorange,Ct.push(function(){at.each(function(Ht,St){var er=Wt(this),jt=er.select(".text-math-group");jt.empty()&&($._vals[St].bb=v.bBox(er.node()))})}));var Pt=e.syncOrAsync(Ct);return Pt&&Pt.then&&oe._promises.push(Pt),Pt};function Ie(oe,$,Ee){var Ne=$._id+"divider",He=Ee.vals,Ze=Ee.layer.selectAll("path."+Ne).data(He,Qe);Ze.exit().remove(),Ze.enter().insert("path",":first-child").classed(Ne,1).classed("crisp",1).call(t.stroke,$.dividercolor).style("stroke-width",v.crispRound(oe,$.dividerwidth,1)+"px"),Ze.attr("transform",Ee.transFn).attr("d",Ee.path)}C.getPxPosition=function(oe,$){var Ee=oe._fullLayout._size,Ne=$._id.charAt(0),He=$.side,Ze;if($.anchor!=="free"?Ze=$._anchorAxis:Ne==="x"?Ze={_offset:Ee.t+(1-($.position||0))*Ee.h,_length:0}:Ne==="y"&&(Ze={_offset:Ee.l+($.position||0)*Ee.w,_length:0}),He==="top"||He==="left")return Ze._offset;if(He==="bottom"||He==="right")return Ze._offset+Ze._length};function ft(oe){var $=oe.title.font.size,Ee=(oe.title.text.match(l.BR_TAG_ALL)||[]).length;return oe.title.hasOwnProperty("standoff")?Ee?$*(me+Ee*pe):$*me:Ee?$*(Ee+1)*pe:$}function vt(oe,$){var Ee=oe._fullLayout,Ne=$._id,He=Ne.charAt(0),Ze=$.title.font.size,Ue;if($.title.hasOwnProperty("standoff"))Ue=$._depth+$.title.standoff+ft($);else{var Be=Vt($);if($.type==="multicategory")Ue=$._depth;else{var it=1.5*Ze;Be&&(it=.5*Ze,$.ticks==="outside"&&(it+=$.ticklen)),Ue=10+it+($.linewidth?$.linewidth-1:0)}Be||(He==="x"?Ue+=$.side==="top"?Ze*($.showticklabels?1:0):Ze*($.showticklabels?1.5:.5):Ue+=$.side==="right"?Ze*($.showticklabels?1:.5):Ze*($.showticklabels?.5:0))}var mt=C.getPxPosition(oe,$),Mt,at,st;He==="x"?(at=$._offset+$._length/2,st=$.side==="top"?mt-Ue:mt+Ue):(st=$._offset+$._length/2,at=$.side==="right"?mt+Ue:mt-Ue,Mt={rotate:"-90",offset:0});var kt;if($.type!=="multicategory"){var xt=$._selections[$._id+"tick"];if(kt={selection:xt,side:$.side},xt&&xt.node()&&xt.node().parentNode){var lt=v.getTranslate(xt.node().parentNode);kt.offsetLeft=lt.x,kt.offsetTop=lt.y}$.title.hasOwnProperty("standoff")&&(kt.pad=0)}return a.draw(oe,Ne+"title",{propContainer:$,propName:$._name+".title.text",placeholder:Ee._dfltTitle[He],avoid:kt,transform:Mt,attributes:{x:at,y:st,"text-anchor":"middle"}})}C.shouldShowZeroLine=function(oe,$,Ee){var Ne=e.simpleMap($.range,$.r2l);return Ne[0]*Ne[1]<=0&&$.zeroline&&($.type==="linear"||$.type==="-")&&!($.rangebreaks&&$.maskBreaks(0)===Q)&&(pt($,0)||!Ot(oe,$,Ee,Ne)||Gt(oe,$))},C.clipEnds=function(oe,$){return $.filter(function(Ee){return pt(oe,Ee.x)})};function pt(oe,$){var Ee=oe.l2p($);return Ee>1&&Ee<oe._length-1}function Ot(oe,$,Ee,Ne){var He=Ee._mainAxis;if(!He)return;var Ze=oe._fullLayout,Ue=$._id.charAt(0),Be=C.counterLetter($._id),it=$._offset+(Math.abs(Ne[0])<Math.abs(Ne[1])==(Ue==="x")?0:$._length);function mt(xt){if(!xt.showline||!xt.linewidth)return!1;var lt=Math.max((xt.linewidth+$.zerolinewidth)/2,1);function wt(Pt){return typeof Pt=="number"&&Math.abs(Pt-it)<lt}if(wt(xt._mainLinePosition)||wt(xt._mainMirrorPosition))return!0;var Ct=xt._linepositions||{};for(var _t in Ct)if(wt(Ct[_t][0])||wt(Ct[_t][1]))return!0}var Mt=Ze._plots[Ee._mainSubplot];if(!(Mt.mainplotinfo||Mt).overlays.length)return mt(Ee);for(var at=C.list(oe,Be),st=0;st<at.length;st++){var kt=at[st];if(kt._mainAxis===He&&mt(kt))return!0}}function Gt(oe,$){for(var Ee=oe._fullData,Ne=$._mainSubplot,He=$._id.charAt(0),Ze=0;Ze<Ee.length;Ze++){var Ue=Ee[Ze];if(Ue.visible===!0&&Ue.xaxis+Ue.yaxis===Ne&&(s.traceIs(Ue,"bar-like")&&Ue.orientation==={x:"h",y:"v"}[He]||Ue.fill&&Ue.fill.charAt(Ue.fill.length-1)===He))return!0}return!1}function Wt(oe){var $=i.select(oe),Ee=$.select(".text-math-group");return Ee.empty()?$.select("text"):Ee}C.allowAutoMargin=function(oe){for(var $=C.list(oe,"",!0),Ee=0;Ee<$.length;Ee++){var Ne=$[Ee];Ne.automargin&&(c.allowAutoMargin(oe,It(Ne)),Ne.mirror&&c.allowAutoMargin(oe,Qt(Ne))),s.getComponentMethod("rangeslider","isVisible")(Ne)&&c.allowAutoMargin(oe,Nt(Ne))}};function It(oe){return oe._id+".automargin"}function Qt(oe){return It(oe)+".mirror"}function Nt(oe){return oe._id+".rangeslider"}C.swap=function(oe,$){for(var Ee=Et(oe,$),Ne=0;Ne<Ee.length;Ne++)Tt(oe,Ee[Ne].x,Ee[Ne].y)};function Et(oe,$){var Ee=[],Ne,He;for(Ne=0;Ne<$.length;Ne++){var Ze=[],Ue=oe._fullData[$[Ne]].xaxis,Be=oe._fullData[$[Ne]].yaxis;if(!(!Ue||!Be)){for(He=0;He<Ee.length;He++)(Ee[He].x.indexOf(Ue)!==-1||Ee[He].y.indexOf(Be)!==-1)&&Ze.push(He);if(!Ze.length){Ee.push({x:[Ue],y:[Be]});continue}var it=Ee[Ze[0]],mt;if(Ze.length>1)for(He=1;He<Ze.length;He++)mt=Ee[Ze[He]],Xt(it.x,mt.x),Xt(it.y,mt.y);Xt(it.x,[Ue]),Xt(it.y,[Be])}}return Ee}function Xt(oe,$){for(var Ee=0;Ee<$.length;Ee++)oe.indexOf($[Ee])===-1&&oe.push($[Ee])}function Tt(oe,$,Ee){var Ne=[],He=[],Ze=oe.layout,Ue,Be;for(Ue=0;Ue<$.length;Ue++)Ne.push(C.getFromId(oe,$[Ue]));for(Ue=0;Ue<Ee.length;Ue++)He.push(C.getFromId(oe,Ee[Ue]));var it=Object.keys(p),mt=["anchor","domain","overlaying","position","side","tickangle","editType"],Mt=["linear","log"];for(Ue=0;Ue<it.length;Ue++){var at=it[Ue],st=Ne[0][at],kt=He[0][at],xt=!0,lt=!1,wt=!1;if(!(at.charAt(0)==="_"||typeof st=="function"||mt.indexOf(at)!==-1)){for(Be=1;Be<Ne.length&&xt;Be++){var Ct=Ne[Be][at];at==="type"&&Mt.indexOf(st)!==-1&&Mt.indexOf(Ct)!==-1&&st!==Ct?lt=!0:Ct!==st&&(xt=!1)}for(Be=1;Be<He.length&&xt;Be++){var _t=He[Be][at];at==="type"&&Mt.indexOf(kt)!==-1&&Mt.indexOf(_t)!==-1&&kt!==_t?wt=!0:He[Be][at]!==kt&&(xt=!1)}xt&&(lt&&(Ze[Ne[0]._name].type="linear"),wt&&(Ze[He[0]._name].type="linear"),Yt(Ze,at,Ne,He,oe._fullLayout._dfltTitle))}}for(Ue=0;Ue<oe._fullLayout.annotations.length;Ue++){var Pt=oe._fullLayout.annotations[Ue];$.indexOf(Pt.xref)!==-1&&Ee.indexOf(Pt.yref)!==-1&&e.swapAttrs(Ze.annotations[Ue],["?"])}}function Yt(oe,$,Ee,Ne,He){var Ze=e.nestedProperty,Ue=Ze(oe[Ee[0]._name],$).get(),Be=Ze(oe[Ne[0]._name],$).get(),it;for($==="title"&&(Ue&&Ue.text===He.x&&(Ue.text=He.y),Be&&Be.text===He.y&&(Be.text=He.x)),it=0;it<Ee.length;it++)Ze(oe,Ee[it]._name+"."+$).set(Be);for(it=0;it<Ne.length;it++)Ze(oe,Ne[it]._name+"."+$).set(Ue)}function Bt(oe){return oe._id==="angularaxis"}function At(oe,$){for(var Ee=$._rangebreaks.length,Ne=0;Ne<Ee;Ne++){var He=$._rangebreaks[Ne];if(oe>=He.min&&oe<He.max)return He.max}return oe}function Vt(oe){return(oe.ticklabelposition||"").indexOf("inside")!==-1}function tr(oe,$){Vt(oe._anchorAxis||{})&&oe._hideCounterAxisInsideTickLabels&&oe._hideCounterAxisInsideTickLabels($)}},{"../../components/color":103,"../../components/drawing":125,"../../components/titles":212,"../../constants/alignment":219,"../../constants/numerical":224,"../../lib":244,"../../lib/svg_text_utils":267,"../../plots/plots":325,"../../registry":327,"./autorange":290,"./axis_autotype":292,"./axis_ids":295,"./clean_ticks":297,"./layout_attributes":304,"./set_convert":310,"@plotly/d3":11,"fast-isnumeric":17}],292:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("../../lib"),c=u("../../constants/numerical").BADNUM,s=n.isArrayOrTypedArray,e=n.isDateTime,o=n.cleanNumber,l=Math.round;te.exports=function(w,y,x){var f=w,b=x.noMultiCategory;if(s(f)&&!f.length)return"-";if(!b&&g(f))return"multicategory";if(b&&Array.isArray(f[0])){for(var d=[],T=0;T<f.length;T++)if(s(f[T]))for(var k=0;k<f[T].length;k++)d.push(f[T][k]);f=d}if(v(f,y))return"date";var F=x.autotypenumbers!=="strict";return h(f,F)?"category":t(f,F)?"linear":"-"};function a(m,w){return w?i(m):typeof m=="number"}function t(m,w){for(var y=m.length,x=0;x<y;x++)if(a(m[x],w))return!0;return!1}function v(m,w){for(var y=m.length,x=p(y),f=0,b=0,d={},T=0;T<y;T+=x){var k=l(T),F=m[k],M=String(F);d[M]||(d[M]=1,e(F,w)&&f++,i(F)&&b++)}return f>b*2}function p(m){return Math.max(1,(m-1)/1e3)}function h(m,w){for(var y=m.length,x=p(y),f=0,b=0,d={},T=0;T<y;T+=x){var k=l(T),F=m[k],M=String(F);if(!d[M]){d[M]=1;var S=typeof F;S==="boolean"?b++:(w?o(F)!==c:S==="number")?f++:S==="string"&&b++}}return b>f*2}function g(m){return s(m[0])&&s(m[1])}},{"../../constants/numerical":224,"../../lib":244,"fast-isnumeric":17}],293:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("../../registry"),c=u("../../lib"),s=u("../../plot_api/plot_template"),e=u("../array_container_defaults"),o=u("./layout_attributes"),l=u("./tick_value_defaults"),a=u("./tick_mark_defaults"),t=u("./tick_label_defaults"),v=u("./prefix_suffix_defaults"),p=u("./category_order_defaults"),h=u("./line_grid_defaults"),g=u("./set_convert"),m=u("./constants").WEEKDAY_PATTERN,w=u("./constants").HOUR_PATTERN;te.exports=function(d,T,k,F,M){var S=F.letter,E=F.font||{},A=F.splomStash||{},z=k("visible",!F.visibleDflt),H=T._template||{},Q=T.type||H.type||"-",X;if(Q==="date"){var ie=n.getComponentMethod("calendars","handleDefaults");ie(d,T,"calendar",F.calendar),F.noTicklabelmode||(X=k("ticklabelmode"))}var R="";(!F.noTicklabelposition||Q==="multicategory")&&(R=c.coerce(d,T,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:X==="period"?["outside","inside"]:S==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),F.noTicklabeloverflow||k("ticklabeloverflow",R.indexOf("inside")!==-1?"hide past domain":Q==="category"||Q==="multicategory"?"allow":"hide past div"),g(T,M);var O=!T.isValidRange(d.range);O&&F.reverseDflt&&(O="reversed");var U=k("autorange",O);U&&(Q==="linear"||Q==="-")&&k("rangemode"),k("range"),T.cleanRange(),p(d,T,k,F),Q!=="category"&&!F.noHover&&k("hoverformat");var K=k("color"),ee=K!==o.color.dflt?K:E.color,ne=A.label||M._dfltTitle[S];if(v(d,T,k,Q,F),!z)return T;k("title.text",ne),c.coerceFont(k,"title.font",{family:E.family,size:c.bigFont(E.size),color:ee}),l(d,T,k,Q);var me=F.hasMinor;if(me&&(s.newContainer(T,"minor"),l(d,T,k,Q,{isMinor:!0})),t(d,T,k,Q,F),a(d,T,k,F),me){var pe=F.isMinor;F.isMinor=!0,a(d,T,k,F),F.isMinor=pe}h(d,T,k,{dfltColor:K,bgColor:F.bgColor,showGrid:F.showGrid,hasMinor:me,attributes:o}),me&&!T.minor.ticks&&!T.minor.showgrid&&delete T.minor,(T.showline||T.ticks)&&k("mirror"),F.automargin&&k("automargin");var be=Q==="multicategory";if(!F.noTickson&&(Q==="category"||be)&&(T.ticks||T.showgrid)){var ve;be&&(ve="boundaries");var C=k("tickson",ve);C==="boundaries"&&delete T.ticklabelposition}if(be){var I=k("showdividers");I&&(k("dividercolor"),k("dividerwidth"))}if(Q==="date")if(e(d,T,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:y}),!T.rangebreaks.length)delete T.rangebreaks;else{for(var L=0;L<T.rangebreaks.length;L++)if(T.rangebreaks[L].pattern===m){T._hasDayOfWeekBreaks=!0;break}if(g(T,M),M._has("scattergl")||M._has("splom"))for(var P=0;P<F.data.length;P++){var B=F.data[P];(B.type==="scattergl"||B.type==="splom")&&(B.visible=!1,c.warn(B.type+" traces do not work on axes with rangebreaks. Setting trace "+B.index+" to `visible: false`."))}}return T};function y(b,d,T){function k(X,ie){return c.coerce(b,d,o.rangebreaks,X,ie)}var F=k("enabled");if(F){var M=k("bounds");if(M&&M.length>=2){var S="",E,A;if(M.length===2){for(E=0;E<2;E++)if(A=f(M[E]),A){S=m;break}}var z=k("pattern",S);if(z===m)for(E=0;E<2;E++)A=f(M[E]),A&&(d.bounds[E]=M[E]=A-1);if(z)for(E=0;E<2;E++)switch(A=M[E],z){case m:if(!i(A)){d.enabled=!1;return}if(A=+A,A!==Math.floor(A)||A<0||A>=7){d.enabled=!1;return}d.bounds[E]=M[E]=A;break;case w:if(!i(A)){d.enabled=!1;return}if(A=+A,A<0||A>24){d.enabled=!1;return}d.bounds[E]=M[E]=A;break}if(T.autorange===!1){var H=T.range;if(H[0]<H[1]){if(M[0]<H[0]&&M[1]>H[1]){d.enabled=!1;return}}else if(M[0]>H[0]&&M[1]<H[1]){d.enabled=!1;return}}}else{var Q=k("values");if(Q&&Q.length)k("dvalue");else{d.enabled=!1;return}}}}var x={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function f(b){if(typeof b=="string")return x[b.substr(0,3).toLowerCase()]}},{"../../lib":244,"../../plot_api/plot_template":280,"../../registry":327,"../array_container_defaults":286,"./category_order_defaults":296,"./constants":298,"./layout_attributes":304,"./line_grid_defaults":306,"./prefix_suffix_defaults":308,"./set_convert":310,"./tick_label_defaults":312,"./tick_mark_defaults":313,"./tick_value_defaults":314,"fast-isnumeric":17}],294:[function(u,te,Y){var i=u("../../constants/docs"),n=i.FORMAT_LINK,c=i.DATE_FORMAT_LINK;function s(l,a){return{valType:"string",dflt:"",editType:"none",description:(a?e:o)("hover text",l)+["By default the values are formatted using "+(a?"generic number format":"`"+l+"axis.hoverformat`")+"."].join(" ")}}function e(l,a){return["Sets the "+l+" formatting rule"+(a?"for `"+a+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+n+"."].join(" ")}function o(l,a){return e(l,a)+[" And for dates see: "+c+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}te.exports={axisHoverFormat:s,descriptionOnlyNumbers:e,descriptionWithDates:o}},{"../../constants/docs":221}],295:[function(u,te,Y){var i=u("../../registry"),n=u("./constants");Y.id2name=function(e){if(!(typeof e!="string"||!e.match(n.AX_ID_PATTERN))){var o=e.split(" ")[0].substr(1);return o==="1"&&(o=""),e.charAt(0)+"axis"+o}},Y.name2id=function(e){if(!!e.match(n.AX_NAME_PATTERN)){var o=e.substr(5);return o==="1"&&(o=""),e.charAt(0)+o}},Y.cleanId=function(e,o,l){var a=/( domain)$/.test(e);if(!(typeof e!="string"||!e.match(n.AX_ID_PATTERN))&&!(o&&e.charAt(0)!==o)&&!(a&&!l)){var t=e.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),e.charAt(0)+t+(a&&l?" domain":"")}},Y.list=function(s,e,o){var l=s._fullLayout;if(!l)return[];var a=Y.listIds(s,e),t=new Array(a.length),v;for(v=0;v<a.length;v++){var p=a[v];t[v]=l[p.charAt(0)+"axis"+p.substr(1)]}if(!o){var h=l._subplots.gl3d||[];for(v=0;v<h.length;v++){var g=l[h[v]];e?t.push(g[e+"axis"]):t.push(g.xaxis,g.yaxis,g.zaxis)}}return t},Y.listIds=function(s,e){var o=s._fullLayout;if(!o)return[];var l=o._subplots;return e?l[e+"axis"]:l.xaxis.concat(l.yaxis)},Y.getFromId=function(s,e,o){var l=s._fullLayout;return e=e===void 0||typeof e!="string"?e:e.replace(" domain",""),o==="x"?e=e.replace(/y[0-9]*/,""):o==="y"&&(e=e.replace(/x[0-9]*/,"")),l[Y.id2name(e)]},Y.getFromTrace=function(s,e,o){var l=s._fullLayout,a=null;if(i.traceIs(e,"gl3d")){var t=e.scene;t.substr(0,5)==="scene"&&(a=l[t][o+"axis"])}else a=Y.getFromId(s,e[o+"axis"]||o);return a},Y.idSort=function(s,e){var o=s.charAt(0),l=e.charAt(0);return o!==l?o>l?1:-1:+(s.substr(1)||1)-+(e.substr(1)||1)},Y.ref2id=function(s){return/^[xyz]/.test(s)?s.split(" ")[0]:!1};function c(s,e){if(e&&e.length){for(var o=0;o<e.length;o++)if(e[o][s])return!0}return!1}Y.isLinked=function(s,e){return c(e,s._axisMatchGroups)||c(e,s._axisConstraintGroups)}},{"../../registry":327,"./constants":298}],296:[function(u,te,Y){function i(n,c){var s=c.dataAttr||n._id.charAt(0),e={},o,l,a;if(c.axData)o=c.axData;else for(o=[],l=0;l<c.data.length;l++){var t=c.data[l];t[s+"axis"]===n._id&&o.push(t)}for(l=0;l<o.length;l++){var v=o[l][s];for(a=0;a<v.length;a++){var p=v[a];p!=null&&(e[p]=1)}}return Object.keys(e)}te.exports=function(c,s,e,o){if(s.type==="category"){var l=c.categoryarray,a=Array.isArray(l)&&l.length>0,t;a&&(t="array");var v=e("categoryorder",t),p;v==="array"&&(p=e("categoryarray")),!a&&v==="array"&&(v=s.categoryorder="trace"),v==="trace"?s._initialCategories=[]:v==="array"?s._initialCategories=p.slice():(p=i(s,o).sort(),v==="category ascending"?s._initialCategories=p:v==="category descending"&&(s._initialCategories=p.reverse()))}}},{}],297:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("../../lib"),c=u("../../constants/numerical"),s=c.ONEDAY,e=c.ONEWEEK;Y.dtick=function(o,l){var a=l==="log",t=l==="date",v=l==="category",p=t?s:1;if(!o)return p;if(i(o))return o=Number(o),o<=0?p:v?Math.max(1,Math.round(o)):t?Math.max(.1,o):o;if(typeof o!="string"||!(t||a))return p;var h=o.charAt(0),g=o.substr(1);return g=i(g)?Number(g):0,g<=0||!(t&&h==="M"&&g===Math.round(g)||a&&h==="L"||a&&h==="D"&&(g===1||g===2))?p:o},Y.tick0=function(o,l,a,t){if(l==="date")return n.cleanDate(o,n.dateTick0(a,t%e===0?1:0));if(!(t==="D1"||t==="D2"))return i(o)?Number(o):0}},{"../../constants/numerical":224,"../../lib":244,"fast-isnumeric":17}],298:[function(u,te,Y){var i=u("../../lib/regex").counter;te.exports={idRegex:{x:i("x","( domain)?"),y:i("y","( domain)?")},attrRegex:i("[xy]axis"),xAxisMatch:i("xaxis"),yAxisMatch:i("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":260}],299:[function(u,te,Y){var i=u("../../lib"),n=u("./autorange"),c=u("./axis_ids").id2name,s=u("./layout_attributes"),e=u("./scale_zoom"),o=u("./set_convert"),l=u("../../constants/numerical").ALMOST_EQUAL,a=u("../../constants/alignment").FROM_BL;Y.handleDefaults=function(y,x,f){var b=f.axIds,d=f.axHasImage,T=x._axisConstraintGroups=[],k=x._axisMatchGroups=[],F,M,S,E,A,z,H,Q;for(F=0;F<b.length;F++)E=c(b[F]),A=y[E],z=x[E],t(A,z,{axIds:b,layoutOut:x,hasImage:d[E]});function X(pe,be){for(F=0;F<pe.length;F++){M=pe[F];for(S in M)x[c(S)][be]=M}}for(X(k,"_matchGroup"),F=0;F<T.length;F++){M=T[F];for(S in M)if(z=x[c(S)],z.fixedrange){for(var ie in M){var R=c(ie);(y[R]||{}).fixedrange===!1&&i.warn("fixedrange was specified as false for axis "+R+" but was overridden because another axis in its constraint group has fixedrange true"),x[R].fixedrange=!0}break}}for(F=0;F<T.length;){M=T[F];for(S in M){z=x[c(S)],z._matchGroup&&Object.keys(z._matchGroup).length===Object.keys(M).length&&(T.splice(F,1),F--);break}F++}X(T,"_constraintGroup");var O=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],U=!1,K=!1;function ee(){Q=z[H],H==="rangebreaks"&&(K=z._hasDayOfWeekBreaks)}for(F=0;F<k.length;F++){M=k[F];for(var ne=0;ne<O.length;ne++){H=O[ne],Q=null;var me;for(S in M)if(E=c(S),A=y[E],z=x[E],H in z){if(!z.matches&&(me=z,H in A)){ee();break}Q===null&&H in A&&ee()}if(H==="range"&&Q&&(U=!0),H==="autorange"&&Q===null&&U&&(Q=!1),Q===null&&H in me&&(Q=me[H]),Q!==null)for(S in M)z=x[c(S)],z[H]=H==="range"?Q.slice():Q,H==="rangebreaks"&&(z._hasDayOfWeekBreaks=K,o(z,x))}}};function t(y,x,f){var b=f.axIds,d=f.layoutOut,T=f.hasImage,k=d._axisConstraintGroups,F=d._axisMatchGroups,M=x._id,S=M.charAt(0),E=((d._splomAxes||{})[S]||{})[M]||{},A=x._id,z=A.charAt(0)==="x";x._matchGroup=null,x._constraintGroup=null;function H(I,L){return i.coerce(y,x,s,I,L)}H("constrain",T?"domain":"range"),i.coerce(y,x,{constraintoward:{valType:"enumerated",values:z?["left","center","right"]:["bottom","middle","top"],dflt:z?"center":"middle"}},"constraintoward");var Q=x.type,X,ie,R=[];for(X=0;X<b.length;X++)if(ie=b[X],ie!==A){var O=d[c(ie)];O.type===Q&&R.push(ie)}var U=p(k,A);if(U){var K=[];for(X=0;X<R.length;X++)ie=R[X],U[ie]||K.push(ie);R=K}var ee=R.length,ne,me;ee&&(y.matches||E.matches)&&(ne=i.coerce(y,x,{matches:{valType:"enumerated",values:R,dflt:R.indexOf(E.matches)!==-1?E.matches:void 0}},"matches"));var pe=T&&!z?x.anchor:void 0;if(ee&&!ne&&(y.scaleanchor||pe)&&(me=i.coerce(y,x,{scaleanchor:{valType:"enumerated",values:R}},"scaleanchor",pe)),ne){x._matchGroup=h(F,A,ne,1);var be=d[c(ne)],ve=v(d,x)/v(d,be);z!==(ne.charAt(0)==="x")&&(ve=(z?"x":"y")+ve),h(k,A,ne,ve)}else y.matches&&b.indexOf(y.matches)!==-1&&i.warn("ignored "+x._name+'.matches: "'+y.matches+'" to avoid an infinite loop');if(me){var C=H("scaleratio");C||(C=x.scaleratio=1),h(k,A,me,C)}else y.scaleanchor&&b.indexOf(y.scaleanchor)!==-1&&i.warn("ignored "+x._name+'.scaleanchor: "'+y.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function v(y,x){var f=x.domain;return f||(f=y[c(x.overlaying)].domain),f[1]-f[0]}function p(y,x){for(var f=0;f<y.length;f++)if(y[f][x])return y[f];return null}function h(y,x,f,b){var d,T,k,F,M,S=p(y,x);S===null?(S={},S[x]=1,M=y.length,y.push(S)):M=y.indexOf(S);var E=Object.keys(S);for(d=0;d<y.length;d++)if(k=y[d],d!==M&&k[f]){var A=k[f];for(T=0;T<E.length;T++)F=E[T],k[F]=g(A,g(b,S[F]));y.splice(M,1);return}if(b!==1)for(T=0;T<E.length;T++){var z=E[T];S[z]=g(b,S[z])}S[f]=1}function g(y,x){var f="",b="",d,T;typeof y=="string"&&(f=y.match(/^[xy]*/)[0],d=f.length,y=+y.substr(d)),typeof x=="string"&&(b=x.match(/^[xy]*/)[0],T=b.length,x=+x.substr(T));var k=y*x;return!d&&!T?k:!d||!T||f.charAt(0)===b.charAt(0)?f+b+y*x:d===T?k:(d>T?f.substr(T):b.substr(d))+k}function m(y,x){for(var f=x._size,b=f.h/f.w,d={},T=Object.keys(y),k=0;k<T.length;k++){var F=T[k],M=y[F];if(typeof M=="string"){var S=M.match(/^[xy]*/)[0],E=S.length;M=+M.substr(E);for(var A=S.charAt(0)==="y"?b:1/b,z=0;z<E;z++)M*=A}d[F]=M}return d}Y.enforce=function(x){var f=x._fullLayout,b=f._axisConstraintGroups||[],d,T,k,F,M,S,E,A;for(d=0;d<b.length;d++){k=m(b[d],f);var z=Object.keys(k),H=1/0,Q=0,X=1/0,ie={},R={},O=!1;for(T=0;T<z.length;T++)F=z[T],R[F]=M=f[c(F)],M._inputDomain?M.domain=M._inputDomain.slice():M._inputDomain=M.domain.slice(),M._inputRange||(M._inputRange=M.range.slice()),M.setScale(),ie[F]=S=Math.abs(M._m)/k[F],H=Math.min(H,S),(M.constrain==="domain"||!M._constraintShrinkable)&&(X=Math.min(X,S)),delete M._constraintShrinkable,Q=Math.max(Q,S),M.constrain==="domain"&&(O=!0);if(!(H>l*Q&&!O)){for(T=0;T<z.length;T++)if(F=z[T],S=ie[F],M=R[F],E=M.constrain,S!==X||E==="domain")if(A=S/X,E==="range")e(M,A);else{var U=M._inputDomain,K=(M.domain[1]-M.domain[0])/(U[1]-U[0]),ee=(M.r2l(M.range[1])-M.r2l(M.range[0]))/(M.r2l(M._inputRange[1])-M.r2l(M._inputRange[0]));if(A/=K,A*ee<1){M.domain=M._input.domain=U.slice(),e(M,A);continue}if(ee<1&&(M.range=M._input.range=M._inputRange.slice(),A*=ee),M.autorange){var ne=M.r2l(M.range[0]),me=M.r2l(M.range[1]),pe=(ne+me)/2,be=pe,ve=pe,C=Math.abs(me-pe),I=pe-C*A*1.0001,L=pe+C*A*1.0001,P=n.makePadFn(f,M,0),B=n.makePadFn(f,M,1);w(M,A);var V=Math.abs(M._m),N=n.concatExtremes(x,M),Z=N.min,W=N.max,q,re;for(re=0;re<Z.length;re++)q=Z[re].val-P(Z[re])/V,q>I&&q<be&&(be=q);for(re=0;re<W.length;re++)q=W[re].val+B(W[re])/V,q<L&&q>ve&&(ve=q);var se=(ve-be)/(2*C);A/=se,be=M.l2r(be),ve=M.l2r(ve),M.range=M._input.range=ne<me?[be,ve]:[ve,be]}w(M,A)}}}},Y.getAxisGroup=function(x,f){for(var b=x._axisMatchGroups,d=0;d<b.length;d++){var T=b[d];if(T[f])return"g"+d}return f},Y.clean=function(x,f){if(f._inputDomain){for(var b=!1,d=f._id,T=x._fullLayout._axisConstraintGroups,k=0;k<T.length;k++)if(T[k][d]){b=!0;break}(!b||f.constrain!=="domain")&&(f._input.domain=f.domain=f._inputDomain,delete f._inputDomain)}};function w(y,x){var f=y._inputDomain,b=a[y.constraintoward],d=f[0]+(f[1]-f[0])*b;y.domain=y._input.domain=[d+(f[0]-d)/x,d+(f[1]-d)/x],y.setScale()}},{"../../constants/alignment":219,"../../constants/numerical":224,"../../lib":244,"./autorange":290,"./axis_ids":295,"./layout_attributes":304,"./scale_zoom":309,"./set_convert":310}],300:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../lib"),c=n.numberFormat,s=u("tinycolor2"),e=u("has-passive-events"),o=u("../../registry"),l=n.strTranslate,a=u("../../lib/svg_text_utils"),t=u("../../components/color"),v=u("../../components/drawing"),p=u("../../components/fx"),h=u("./axes"),g=u("../../lib/setcursor"),m=u("../../components/dragelement"),w=u("../../components/dragelement/helpers"),y=w.selectingOrDrawing,x=w.freeMode,f=u("../../constants/alignment").FROM_TL,b=u("../../lib/clear_gl_canvases"),d=u("../../plot_api/subroutines").redrawReglTraces,T=u("../plots"),k=u("./axis_ids").getFromId,F=u("../../components/selections").prepSelect,M=u("../../components/selections").clearOutline,S=u("../../components/selections").selectOnClick,E=u("./scale_zoom"),A=u("./constants"),z=A.MINDRAG,H=A.MINZOOM,Q=!0;function X(q,re,se,_e,ge,Ae,Ce,ue){var he=q._fullLayout._zoomlayer,we=Ce+ue==="nsew",ke=(Ce+ue).length===1,Pe,fe,De,Fe,et,Xe,qe,rt,ut,yt,Rt,bt,je,ct,Dt,Lt,de,Re,ze,ae,xe,Te,Me;function Je(){if(Pe=re.xaxis,fe=re.yaxis,ut=Pe._length,yt=fe._length,qe=Pe._offset,rt=fe._offset,De={},De[Pe._id]=Pe,Fe={},Fe[fe._id]=fe,Ce&&ue)for(var at=re.overlays,st=0;st<at.length;st++){var kt=at[st].xaxis;De[kt._id]=kt;var xt=at[st].yaxis;Fe[xt._id]=xt}et=W(De),Xe=W(Fe),je=O(et,ue),ct=O(Xe,Ce),Dt=!ct&&!je,bt=N(q,q._fullLayout._axisMatchGroups,De,Fe),Rt=N(q,q._fullLayout._axisConstraintGroups,De,Fe,bt);var lt=Rt.isSubplotConstrained||bt.isSubplotConstrained;Lt=ue||lt,de=Ce||lt;var wt=q._fullLayout;Re=wt._has("scattergl"),ze=wt._has("splom"),ae=wt._has("svg")}Je();var Ve=me(ct+je,q._fullLayout.dragmode,we),Ge=R(re,Ce+ue+"drag",Ve,se,_e,ge,Ae);if(Dt&&!we)return Ge.onmousedown=null,Ge.style.pointerEvents="none",Ge;var Ke={element:Ge,gd:q,plotinfo:re};Ke.prepFn=function(at,st,kt){var xt=Ke.dragmode,lt=q._fullLayout.dragmode;lt!==xt&&(Ke.dragmode=lt),Je(),Te=q._fullLayout._invScaleX,Me=q._fullLayout._invScaleY,Dt||(we?at.shiftKey?lt==="pan"?lt="zoom":y(lt)||(lt="pan"):at.ctrlKey&&(lt="pan"):lt="pan"),x(lt)?Ke.minDrag=1:Ke.minDrag=void 0,y(lt)?(Ke.xaxes=et,Ke.yaxes=Xe,F(at,st,kt,Ke,lt)):(Ke.clickFn=Ie,y(xt)&&Qe(),Dt||(lt==="zoom"?(Ke.moveFn=Tt,Ke.doneFn=Bt,Ke.minDrag=1,Xt(at,st,kt)):lt==="pan"&&(Ke.moveFn=Ee,Ke.doneFn=Ue))),q._fullLayout._redrag=function(){var wt=q._dragdata;if(wt&&wt.element===Ge){var Ct=q._fullLayout.dragmode;y(Ct)||(Je(),Be([0,0,ut,yt]),Ke.moveFn(wt.dx,wt.dy))}}};function Qe(){Ke.plotinfo.selection=!1,M(q)}function Ie(at,st){var kt=Ke.gd;if(kt._fullLayout._activeShapeIndex>=0){kt._fullLayout._deactivateShape(kt);return}var xt=kt._fullLayout.clickmode;if(I(kt),at===2&&!ke&&Ze(),we)xt.indexOf("select")>-1&&S(st,kt,et,Xe,re.id,Ke),xt.indexOf("event")>-1&&p.click(kt,st,re.id);else if(at===1&&ke){var lt=Ce?fe:Pe,wt=Ce==="s"||ue==="w"?0:1,Ct=lt._name+".range["+wt+"]",_t=U(lt,wt),Pt="left",Ft="middle";if(lt.fixedrange)return;Ce?(Ft=Ce==="n"?"top":"bottom",lt.side==="right"&&(Pt="right")):ue==="e"&&(Pt="right"),kt._context.showAxisRangeEntryBoxes&&i.select(Ge).call(a.makeEditable,{gd:kt,immediate:!0,background:kt._fullLayout.paper_bgcolor,text:String(_t),fill:lt.tickfont?lt.tickfont.color:"#444",horizontalAlign:Pt,verticalAlign:Ft}).on("edit",function(Ht){var St=lt.d2r(Ht);St!==void 0&&o.call("_guiRelayout",kt,Ct,St)})}}m.init(Ke);var ft,vt,pt,Ot,Gt,Wt,It,Qt,Nt,Et;function Xt(at,st,kt){var xt=Ge.getBoundingClientRect();ft=st-xt.left,vt=kt-xt.top,q._fullLayout._calcInverseTransform(q);var lt=n.apply3DTransform(q._fullLayout._invTransform)(ft,vt);ft=lt[0],vt=lt[1],pt={l:ft,r:ft,w:0,t:vt,b:vt,h:0},Ot=q._hmpixcount?q._hmlumcount/q._hmpixcount:s(q._fullLayout.plot_bgcolor).getLuminance(),Gt="M0,0H"+ut+"V"+yt+"H0V0",Wt=!1,It="xy",Et=!1,Qt=pe(he,Ot,qe,rt,Gt),Nt=be(he,qe,rt)}function Tt(at,st){if(q._transitioningWithDuration)return!1;var kt=Math.max(0,Math.min(ut,Te*at+ft)),xt=Math.max(0,Math.min(yt,Me*st+vt)),lt=Math.abs(kt-ft),wt=Math.abs(xt-vt);pt.l=Math.min(ft,kt),pt.r=Math.max(ft,kt),pt.t=Math.min(vt,xt),pt.b=Math.max(vt,xt);function Ct(){It="",pt.r=pt.l,pt.t=pt.b,Nt.attr("d","M0,0Z")}if(Rt.isSubplotConstrained)lt>H||wt>H?(It="xy",lt/ut>wt/yt?(wt=lt*yt/ut,vt>xt?pt.t=vt-wt:pt.b=vt+wt):(lt=wt*ut/yt,ft>kt?pt.l=ft-lt:pt.r=ft+lt),Nt.attr("d",V(pt))):Ct();else if(bt.isSubplotConstrained)if(lt>H||wt>H){It="xy";var _t=Math.min(pt.l/ut,(yt-pt.b)/yt),Pt=Math.max(pt.r/ut,(yt-pt.t)/yt);pt.l=_t*ut,pt.r=Pt*ut,pt.b=(1-_t)*yt,pt.t=(1-Pt)*yt,Nt.attr("d",V(pt))}else Ct();else!ct||wt<Math.min(Math.max(lt*.6,z),H)?lt<z||!je?Ct():(pt.t=0,pt.b=yt,It="x",Nt.attr("d",P(pt,vt))):!je||lt<Math.min(wt*.6,H)?(pt.l=0,pt.r=ut,It="y",Nt.attr("d",B(pt,ft))):(It="xy",Nt.attr("d",V(pt)));pt.w=pt.r-pt.l,pt.h=pt.b-pt.t,It&&(Et=!0),q._dragged=Et,ve(Qt,Nt,pt,Gt,Wt,Ot),Yt(),q.emit("plotly_relayouting",xe),Wt=!0}function Yt(){xe={},(It==="xy"||It==="x")&&(K(et,pt.l/ut,pt.r/ut,xe,Rt.xaxes),Ne("x",xe)),(It==="xy"||It==="y")&&(K(Xe,(yt-pt.b)/yt,(yt-pt.t)/yt,xe,Rt.yaxes),Ne("y",xe))}function Bt(){Yt(),I(q),Ue(),L(q)}var At=[0,0,ut,yt],Vt=null,tr=A.REDRAWDELAY,oe=re.mainplot?q._fullLayout._plots[re.mainplot]:re;function $(at){if(!q._context._scrollZoom.cartesian&&!q._fullLayout._enablescrollzoom)return;if(Qe(),q._transitioningWithDuration){at.preventDefault(),at.stopPropagation();return}Je(),clearTimeout(Vt);var st=-at.deltaY;if(isFinite(st)||(st=at.wheelDelta/10),!isFinite(st)){n.log("Did not find wheel motion attributes: ",at);return}var kt=Math.exp(-Math.min(Math.max(st,-20),20)/200),xt=oe.draglayer.select(".nsewdrag").node().getBoundingClientRect(),lt=(at.clientX-xt.left)/xt.width,wt=(xt.bottom-at.clientY)/xt.height,Ct;function _t(Pt,Ft,Ht){if(Pt.fixedrange)return;var St=n.simpleMap(Pt.range,Pt.r2l),er=St[0]+(St[1]-St[0])*Ft;function jt(Ut){return Pt.l2r(er+(Ut-er)*Ht)}Pt.range=St.map(jt)}if(Lt){for(ue||(lt=.5),Ct=0;Ct<et.length;Ct++)_t(et[Ct],lt,kt);Ne("x"),At[2]*=kt,At[0]+=At[2]*lt*(1/kt-1)}if(de){for(Ce||(wt=.5),Ct=0;Ct<Xe.length;Ct++)_t(Xe[Ct],wt,kt);Ne("y"),At[3]*=kt,At[1]+=At[3]*(1-wt)*(1/kt-1)}Be(At),He(),q.emit("plotly_relayouting",xe),Vt=setTimeout(function(){!q._fullLayout||(At=[0,0,ut,yt],Ue())},tr),at.preventDefault()}Ce.length*ue.length!==1&&Z(Ge,$);function Ee(at,st){if(at=at*Te,st=st*Me,q._transitioningWithDuration)return;if(q._fullLayout._replotting=!0,je==="ew"||ct==="ns"){var kt=je?-at:0,xt=ct?-st:0;if(bt.isSubplotConstrained){if(je&&ct){var lt=(at/ut-st/yt)/2;at=lt*ut,st=-lt*yt,kt=-at,xt=-st}ct?kt=-xt*ut/yt:xt=-kt*yt/ut}je&&(ee(et,at),Ne("x")),ct&&(ee(Xe,st),Ne("y")),Be([kt,xt,ut,yt]),He(),q.emit("plotly_relayouting",xe);return}function wt(jt,Ut,qt){for(var ir=1-Ut,rr,lr,vr=0;vr<jt.length;vr++){var hr=jt[vr];if(!hr.fixedrange){rr=hr,lr=hr._rl[ir]+(hr._rl[Ut]-hr._rl[ir])/ne(qt/hr._length);var gr=hr.l2r(lr);gr!==!1&&gr!==void 0&&(hr.range[Ut]=gr)}}return rr._length*(rr._rl[Ut]-lr)/(rr._rl[Ut]-rr._rl[ir])}var Ct=je==="w"==(ct==="n")?1:-1;if(je&&ct&&(Rt.isSubplotConstrained||bt.isSubplotConstrained)){var _t=(at/ut+Ct*st/yt)/2;at=_t*ut,st=Ct*_t*yt}var Pt,Ft;if(je==="w"?at=wt(et,0,at):je==="e"?at=wt(et,1,-at):je||(at=0),ct==="n"?st=wt(Xe,1,st):ct==="s"?st=wt(Xe,0,-st):ct||(st=0),Pt=je==="w"?at:0,Ft=ct==="n"?st:0,Rt.isSubplotConstrained&&!bt.isSubplotConstrained||bt.isSubplotConstrained&&je&&ct&&Ct>0){var Ht;if(bt.isSubplotConstrained||!je&&ct.length===1){for(Ht=0;Ht<et.length;Ht++)et[Ht].range=et[Ht]._r.slice(),E(et[Ht],1-st/yt);at=st*ut/yt,Pt=at/2}if(bt.isSubplotConstrained||!ct&&je.length===1){for(Ht=0;Ht<Xe.length;Ht++)Xe[Ht].range=Xe[Ht]._r.slice(),E(Xe[Ht],1-at/ut);st=at*yt/ut,Ft=st/2}}(!bt.isSubplotConstrained||!ct)&&Ne("x"),(!bt.isSubplotConstrained||!je)&&Ne("y");var St=ut-at,er=yt-st;bt.isSubplotConstrained&&!(je&&ct)&&(je?(Ft=Pt?0:at*yt/ut,er=St*yt/ut):(Pt=Ft?0:st*ut/yt,St=er*ut/yt)),Be([Pt,Ft,St,er]),He(),q.emit("plotly_relayouting",xe)}function Ne(at,st){for(var kt=bt.isSubplotConstrained?{x:Xe,y:et}[at]:bt[at+"axes"],xt=bt.isSubplotConstrained?{x:et,y:Xe}[at]:[],lt=0;lt<kt.length;lt++){var wt=kt[lt],Ct=wt._id,_t=bt.xLinks[Ct]||bt.yLinks[Ct],Pt=xt[0]||De[_t]||Fe[_t];Pt&&(st?(st[wt._name+".range[0]"]=st[Pt._name+".range[0]"],st[wt._name+".range[1]"]=st[Pt._name+".range[1]"]):wt.range=Pt.range.slice())}}function He(){var at=[],st;function kt(wt){for(st=0;st<wt.length;st++)wt[st].fixedrange||at.push(wt[st]._id)}for(Lt&&(kt(et),kt(Rt.xaxes),kt(bt.xaxes)),de&&(kt(Xe),kt(Rt.yaxes),kt(bt.yaxes)),xe={},st=0;st<at.length;st++){var xt=at[st],lt=k(q,xt);h.drawOne(q,lt,{skipTitle:!0}),xe[lt._name+".range[0]"]=lt.range[0],xe[lt._name+".range[1]"]=lt.range[1]}h.redrawComponents(q,at)}function Ze(){if(!q._transitioningWithDuration){var at=q._context.doubleClick,st=[];je&&(st=st.concat(et)),ct&&(st=st.concat(Xe)),bt.xaxes&&(st=st.concat(bt.xaxes)),bt.yaxes&&(st=st.concat(bt.yaxes));var kt={},xt,lt,wt;if(at==="reset+autosize"){for(at="autosize",lt=0;lt<st.length;lt++)if(xt=st[lt],xt._rangeInitial&&(xt.range[0]!==xt._rangeInitial[0]||xt.range[1]!==xt._rangeInitial[1])||!xt._rangeInitial&&!xt.autorange){at="reset";break}}if(at==="autosize")for(lt=0;lt<st.length;lt++)xt=st[lt],xt.fixedrange||(kt[xt._name+".autorange"]=!0);else if(at==="reset")for((je||Rt.isSubplotConstrained)&&(st=st.concat(Rt.xaxes)),ct&&!Rt.isSubplotConstrained&&(st=st.concat(Rt.yaxes)),Rt.isSubplotConstrained&&(je?ct||(st=st.concat(Xe)):st=st.concat(et)),lt=0;lt<st.length;lt++)xt=st[lt],xt.fixedrange||(xt._rangeInitial?(wt=xt._rangeInitial,kt[xt._name+".range[0]"]=wt[0],kt[xt._name+".range[1]"]=wt[1]):kt[xt._name+".autorange"]=!0);q.emit("plotly_doubleclick",null),o.call("_guiRelayout",q,kt)}}function Ue(){Be([0,0,ut,yt]),n.syncOrAsync([T.previousPromises,function(){q._fullLayout._replotting=!1,o.call("_guiRelayout",q,xe)}],q)}function Be(at){var st=q._fullLayout,kt=st._plots,xt=st._subplots.cartesian,lt,wt,Ct,_t;if(ze&&o.subplotsRegistry.splom.drag(q),Re){for(lt=0;lt<xt.length;lt++)if(wt=kt[xt[lt]],Ct=wt.xaxis,_t=wt.yaxis,wt._scene){var Pt=n.simpleMap(Ct.range,Ct.r2l),Ft=n.simpleMap(_t.range,_t.r2l);wt._scene.update({range:[Pt[0],Ft[0],Pt[1],Ft[1]]})}}if((ze||Re)&&(b(q),d(q)),ae){var Ht=at[2]/Pe._length,St=at[3]/fe._length;for(lt=0;lt<xt.length;lt++){wt=kt[xt[lt]],Ct=wt.xaxis,_t=wt.yaxis;var er=(Lt||bt.isSubplotConstrained)&&!Ct.fixedrange&&De[Ct._id],jt=(de||bt.isSubplotConstrained)&&!_t.fixedrange&&Fe[_t._id],Ut,qt,ir,rr;if(er?(Ut=Ht,ir=ue||bt.isSubplotConstrained?at[0]:Mt(Ct,Ut)):bt.xaHash[Ct._id]?(Ut=Ht,ir=at[0]*Ct._length/Pe._length):bt.yaHash[Ct._id]?(Ut=St,ir=ct==="ns"?-at[1]*Ct._length/fe._length:Mt(Ct,Ut,{n:"top",s:"bottom"}[ct])):(Ut=it(Ct,Ht,St),ir=mt(Ct,Ut)),jt?(qt=St,rr=Ce||bt.isSubplotConstrained?at[1]:Mt(_t,qt)):bt.yaHash[_t._id]?(qt=St,rr=at[1]*_t._length/fe._length):bt.xaHash[_t._id]?(qt=Ht,rr=je==="ew"?-at[0]*_t._length/Pe._length:Mt(_t,qt,{e:"right",w:"left"}[je])):(qt=it(_t,Ht,St),rr=mt(_t,qt)),!(!Ut&&!qt)){Ut||(Ut=1),qt||(qt=1);var lr=Ct._offset-ir/Ut,vr=_t._offset-rr/qt;wt.clipRect.call(v.setTranslate,ir,rr).call(v.setScale,Ut,qt),wt.plot.call(v.setTranslate,lr,vr).call(v.setScale,1/Ut,1/qt),(Ut!==wt.xScaleFactor||qt!==wt.yScaleFactor)&&(v.setPointGroupScale(wt.zoomScalePts,Ut,qt),v.setTextPointsScale(wt.zoomScaleTxt,Ut,qt)),v.hideOutsideRangePoints(wt.clipOnAxisFalseTraces,wt),wt.xScaleFactor=Ut,wt.yScaleFactor=qt}}}}function it(at,st,kt){return at.fixedrange?0:Lt&&Rt.xaHash[at._id]?st:de&&(Rt.isSubplotConstrained?Rt.xaHash:Rt.yaHash)[at._id]?kt:0}function mt(at,st){return st?(at.range=at._r.slice(),E(at,st),Mt(at,st)):0}function Mt(at,st,kt){return at._length*(1-st)*f[kt||at.constraintoward||"middle"]}return Ge}function ie(q,re,se,_e){var ge=n.ensureSingle(q.draglayer,re,se,function(Ae){Ae.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",q.id)});return ge.call(g,_e),ge.node()}function R(q,re,se,_e,ge,Ae,Ce){var ue=ie(q,"rect",re,se);return i.select(ue).call(v.setRect,_e,ge,Ae,Ce),ue}function O(q,re){for(var se=0;se<q.length;se++)if(!q[se].fixedrange)return re;return""}function U(q,re){var se=q.range[re],_e=Math.abs(se-q.range[1-re]),ge;return q.type==="date"?se:q.type==="log"?(ge=Math.ceil(Math.max(0,-Math.log(_e)/Math.LN10))+3,c("."+ge+"g")(Math.pow(10,se))):(ge=Math.floor(Math.log(Math.abs(se))/Math.LN10)-Math.floor(Math.log(_e)/Math.LN10)+4,c("."+String(ge)+"g")(se))}function K(q,re,se,_e,ge){for(var Ae=0;Ae<q.length;Ae++){var Ce=q[Ae];if(!Ce.fixedrange)if(Ce.rangebreaks){var ue=Ce._id.charAt(0)==="y",he=ue?1-re:re,we=ue?1-se:se;_e[Ce._name+".range[0]"]=Ce.l2r(Ce.p2l(he*Ce._length)),_e[Ce._name+".range[1]"]=Ce.l2r(Ce.p2l(we*Ce._length))}else{var ke=Ce._rl[0],Pe=Ce._rl[1]-ke;_e[Ce._name+".range[0]"]=Ce.l2r(ke+Pe*re),_e[Ce._name+".range[1]"]=Ce.l2r(ke+Pe*se)}}if(ge&&ge.length){var fe=(re+(1-se))/2;K(ge,fe,1-fe,_e,[])}}function ee(q,re){for(var se=0;se<q.length;se++){var _e=q[se];if(!_e.fixedrange)if(_e.rangebreaks){var ge=0,Ae=_e._length,Ce=_e.p2l(ge+re)-_e.p2l(ge),ue=_e.p2l(Ae+re)-_e.p2l(Ae),he=(Ce+ue)/2;_e.range=[_e.l2r(_e._rl[0]-he),_e.l2r(_e._rl[1]-he)]}else _e.range=[_e.l2r(_e._rl[0]-re/_e._m),_e.l2r(_e._rl[1]-re/_e._m)]}}function ne(q){return 1-(q>=0?Math.min(q,.9):1/(1/Math.max(q,-.3)+3.222))}function me(q,re,se){return q?q==="nsew"?se?"":re==="pan"?"move":"crosshair":q.toLowerCase()+"-resize":"pointer"}function pe(q,re,se,_e,ge){return q.append("path").attr("class","zoombox").style({fill:re>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",l(se,_e)).attr("d",ge+"Z")}function be(q,re,se){return q.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",l(re,se)).attr("d","M0,0Z")}function ve(q,re,se,_e,ge,Ae){q.attr("d",_e+"M"+se.l+","+se.t+"v"+se.h+"h"+se.w+"v-"+se.h+"h-"+se.w+"Z"),C(q,re,ge,Ae)}function C(q,re,se,_e){se||(q.transition().style("fill",_e>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),re.transition().style("opacity",1).duration(200))}function I(q){i.select(q).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function L(q){Q&&q.data&&q._context.showTips&&(n.notifier(n._(q,"Double-click to zoom back out"),"long"),Q=!1)}function P(q,re){return"M"+(q.l-.5)+","+(re-H-.5)+"h-3v"+(2*H+1)+"h3ZM"+(q.r+.5)+","+(re-H-.5)+"h3v"+(2*H+1)+"h-3Z"}function B(q,re){return"M"+(re-H-.5)+","+(q.t-.5)+"v-3h"+(2*H+1)+"v3ZM"+(re-H-.5)+","+(q.b+.5)+"v3h"+(2*H+1)+"v-3Z"}function V(q){var re=Math.floor(Math.min(q.b-q.t,q.r-q.l,H)/2);return"M"+(q.l-3.5)+","+(q.t-.5+re)+"h3v"+-re+"h"+re+"v-3h-"+(re+3)+"ZM"+(q.r+3.5)+","+(q.t-.5+re)+"h-3v"+-re+"h"+-re+"v-3h"+(re+3)+"ZM"+(q.r+3.5)+","+(q.b+.5-re)+"h-3v"+re+"h"+-re+"v3h"+(re+3)+"ZM"+(q.l-3.5)+","+(q.b+.5-re)+"h3v"+re+"h"+re+"v3h-"+(re+3)+"Z"}function N(q,re,se,_e,ge){for(var Ae=!1,Ce={},ue={},he,we,ke,Pe,fe=(ge||{}).xaHash,De=(ge||{}).yaHash,Fe=0;Fe<re.length;Fe++){var et=re[Fe];for(he in se)if(et[he]){for(ke in et)!(ge&&(fe[ke]||De[ke]))&&!(ke.charAt(0)==="x"?se:_e)[ke]&&(Ce[ke]=he);for(we in _e)!(ge&&(fe[we]||De[we]))&&et[we]&&(Ae=!0)}for(we in _e)if(et[we])for(Pe in et)!(ge&&(fe[Pe]||De[Pe]))&&!(Pe.charAt(0)==="x"?se:_e)[Pe]&&(ue[Pe]=we)}Ae&&(n.extendFlat(Ce,ue),ue={});var Xe={},qe=[];for(ke in Ce){var rt=k(q,ke);qe.push(rt),Xe[rt._id]=rt}var ut={},yt=[];for(Pe in ue){var Rt=k(q,Pe);yt.push(Rt),ut[Rt._id]=Rt}return{xaHash:Xe,yaHash:ut,xaxes:qe,yaxes:yt,xLinks:Ce,yLinks:ue,isSubplotConstrained:Ae}}function Z(q,re){if(!e)q.onwheel!==void 0?q.onwheel=re:q.onmousewheel!==void 0?q.onmousewheel=re:q.isAddedWheelEvent||(q.isAddedWheelEvent=!0,q.addEventListener("wheel",re,{passive:!1}));else{var se=q.onwheel!==void 0?"wheel":"mousewheel";q._onwheel&&q.removeEventListener(se,q._onwheel),q._onwheel=re,q.addEventListener(se,re,{passive:!1})}}function W(q){var re=[];for(var se in q)re.push(q[se]);return re}te.exports={makeDragBox:X,makeDragger:ie,makeRectDragger:R,makeZoombox:pe,makeCorners:be,updateZoombox:ve,xyCorners:V,transitionZoombox:C,removeZoombox:I,showDoubleClickNotifier:L,attachWheelEventHandler:Z}},{"../../components/color":103,"../../components/dragelement":122,"../../components/dragelement/helpers":121,"../../components/drawing":125,"../../components/fx":143,"../../components/selections":191,"../../constants/alignment":219,"../../lib":244,"../../lib/clear_gl_canvases":232,"../../lib/setcursor":264,"../../lib/svg_text_utils":267,"../../plot_api/subroutines":281,"../../registry":327,"../plots":325,"./axes":291,"./axis_ids":295,"./constants":298,"./scale_zoom":309,"@plotly/d3":11,"has-passive-events":49,tinycolor2:68}],301:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../components/fx"),c=u("../../components/dragelement"),s=u("../../lib/setcursor"),e=u("./dragbox").makeDragBox,o=u("./constants").DRAGGERSIZE;Y.initInteractions=function(a){var t=a._fullLayout;if(a._context.staticPlot){i.select(a).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var v=Object.keys(t._plots||{}).sort(function(h,g){if((t._plots[h].mainplot&&!0)===(t._plots[g].mainplot&&!0)){var m=h.split("y"),w=g.split("y");return m[0]===w[0]?Number(m[1]||1)-Number(w[1]||1):Number(m[0]||1)-Number(w[0]||1)}return t._plots[h].mainplot?1:-1});v.forEach(function(h){var g=t._plots[h],m=g.xaxis,w=g.yaxis;if(!g.mainplot){var y=e(a,g,m._offset,w._offset,m._length,w._length,"ns","ew");y.onmousemove=function(b){a._fullLayout._rehover=function(){a._fullLayout._hoversubplot===h&&a._fullLayout._plots[h]&&n.hover(a,b,h)},n.hover(a,b,h),a._fullLayout._lasthover=y,a._fullLayout._hoversubplot=h},y.onmouseout=function(b){a._dragging||(a._fullLayout._hoversubplot=null,c.unhover(a,b))},a._context.showAxisDragHandles&&(e(a,g,m._offset-o,w._offset-o,o,o,"n","w"),e(a,g,m._offset+m._length,w._offset-o,o,o,"n","e"),e(a,g,m._offset-o,w._offset+w._length,o,o,"s","w"),e(a,g,m._offset+m._length,w._offset+w._length,o,o,"s","e"))}if(a._context.showAxisDragHandles){if(h===m._mainSubplot){var x=m._mainLinePosition;m.side==="top"&&(x-=o),e(a,g,m._offset+m._length*.1,x,m._length*.8,o,"","ew"),e(a,g,m._offset,x,m._length*.1,o,"","w"),e(a,g,m._offset+m._length*.9,x,m._length*.1,o,"","e")}if(h===w._mainSubplot){var f=w._mainLinePosition;w.side!=="right"&&(f-=o),e(a,g,f,w._offset+w._length*.1,o,w._length*.8,"ns",""),e(a,g,f,w._offset+w._length*.9,o,w._length*.1,"s",""),e(a,g,f,w._offset,o,w._length*.1,"n","")}}});var p=t._hoverlayer.node();p.onmousemove=function(h){h.target=a._fullLayout._lasthover,n.hover(a,h,t._hoversubplot)},p.onclick=function(h){h.target=a._fullLayout._lasthover,n.click(a,h)},p.onmousedown=function(h){a._fullLayout._lasthover.onmousedown(h)},Y.updateFx(a)}},Y.updateFx=function(l){var a=l._fullLayout,t=a.dragmode==="pan"?"move":"crosshair";s(a._draggers,t)}},{"../../components/dragelement":122,"../../components/fx":143,"../../lib/setcursor":264,"./constants":298,"./dragbox":300,"@plotly/d3":11}],302:[function(u,te,Y){var i=u("../../registry"),n=u("../../lib"),c=u("./axis_ids");te.exports=function(e){return function(l,a){var t=l[e];if(!!Array.isArray(t))for(var v=i.subplotsRegistry.cartesian,p=v.idRegex,h=a._subplots,g=h.xaxis,m=h.yaxis,w=h.cartesian,y=a._has("cartesian")||a._has("gl2d"),x=0;x<t.length;x++){var f=t[x];if(!!n.isPlainObject(f)){var b=c.cleanId(f.xref,"x",!1),d=c.cleanId(f.yref,"y",!1),T=p.x.test(b),k=p.y.test(d);if(T||k){y||n.pushUnique(a._basePlotModules,v);var F=!1;T&&g.indexOf(b)===-1&&(g.push(b),F=!0),k&&m.indexOf(d)===-1&&(m.push(d),F=!0),F&&T&&k&&w.push(b+d)}}}}}},{"../../lib":244,"../../registry":327,"./axis_ids":295}],303:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../registry"),c=u("../../lib"),s=u("../plots"),e=u("../../components/drawing"),o=u("../get_data").getModuleCalcData,l=u("./axis_ids"),a=u("./constants"),t=u("../../constants/xmlns_namespaces"),v=c.ensureSingle;function p(x,f,b){return c.ensureSingle(x,f,b,function(d){d.datum(b)})}Y.name="cartesian",Y.attr=["xaxis","yaxis"],Y.idRoot=["x","y"],Y.idRegex=a.idRegex,Y.attrRegex=a.attrRegex,Y.attributes=u("./attributes"),Y.layoutAttributes=u("./layout_attributes"),Y.supplyLayoutDefaults=u("./layout_defaults"),Y.transitionAxes=u("./transition_axes"),Y.finalizeSubplots=function(x,f){var b=f._subplots,d=b.xaxis,T=b.yaxis,k=b.cartesian,F=k.concat(b.gl2d||[]),M={},S={},E,A,z;for(E=0;E<F.length;E++){var H=F[E].split("y");M[H[0]]=1,S["y"+H[1]]=1}for(E=0;E<d.length;E++)A=d[E],M[A]||(z=(x[l.id2name(A)]||{}).anchor,a.idRegex.y.test(z)||(z="y"),k.push(A+z),F.push(A+z),S[z]||(S[z]=1,c.pushUnique(T,z)));for(E=0;E<T.length;E++)z=T[E],S[z]||(A=(x[l.id2name(z)]||{}).anchor,a.idRegex.x.test(A)||(A="x"),k.push(A+z),F.push(A+z),M[A]||(M[A]=1,c.pushUnique(d,A)));if(!F.length){A="",z="";for(var Q in x)if(a.attrRegex.test(Q)){var X=Q.charAt(0);X==="x"?(!A||+Q.substr(5)<+A.substr(5))&&(A=Q):(!z||+Q.substr(5)<+z.substr(5))&&(z=Q)}A=A?l.name2id(A):"x",z=z?l.name2id(z):"y",d.push(A),T.push(z),k.push(A+z)}},Y.plot=function(x,f,b,d){var T=x._fullLayout,k=T._subplots.cartesian,F=x.calcdata,M;if(!Array.isArray(f))for(f=[],M=0;M<F.length;M++)f.push(M);for(M=0;M<k.length;M++){for(var S=k[M],E=T._plots[S],A=[],z,H=0;H<F.length;H++){var Q=F[H],X=Q[0].trace;X.xaxis+X.yaxis===S&&((f.indexOf(X.index)!==-1||X.carpet)&&(z&&z[0].trace.xaxis+z[0].trace.yaxis===S&&["tonextx","tonexty","tonext"].indexOf(X.fill)!==-1&&A.indexOf(z)===-1&&A.push(z),A.push(Q)),z=Q)}h(x,E,A,b,d)}};function h(x,f,b,d,T){for(var k=a.traceLayerClasses,F=x._fullLayout,M=F._modules,S,E,A,z=[],H=[],Q=0;Q<M.length;Q++){S=M[Q];var X=S.name,ie=n.modules[X].categories;if(ie.svg){var R=S.layerName||X+"layer",O=S.plot;E=o(b,O),A=E[0],b=E[1],A.length&&z.push({i:k.indexOf(R),className:R,plotMethod:O,cdModule:A}),ie.zoomScale&&H.push("."+R)}}z.sort(function(ee,ne){return ee.i-ne.i});var U=f.plot.selectAll("g.mlayer").data(z,function(ee){return ee.className});if(U.enter().append("g").attr("class",function(ee){return ee.className}).classed("mlayer",!0).classed("rangeplot",f.isRangePlot),U.exit().remove(),U.order(),U.each(function(ee){var ne=i.select(this),me=ee.className;ee.plotMethod(x,f,ee.cdModule,ne,d,T),a.clipOnAxisFalseQuery.indexOf("."+me)===-1&&e.setClipUrl(ne,f.layerClipId,x)}),F._has("scattergl")&&(S=n.getModule("scattergl"),A=o(b,S)[0],S.plot(x,f,A)),!x._context.staticPlot&&(f._hasClipOnAxisFalse&&(f.clipOnAxisFalseTraces=f.plot.selectAll(a.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),H.length)){var K=f.plot.selectAll(H.join(",")).selectAll(".trace");f.zoomScalePts=K.selectAll("path.point"),f.zoomScaleTxt=K.selectAll(".textpoint")}}Y.clean=function(x,f,b,d){var T=d._plots||{},k=f._plots||{},F=d._subplots||{},M,S,E;if(d._hasOnlyLargeSploms&&!f._hasOnlyLargeSploms)for(E in T)M=T[E],M.plotgroup&&M.plotgroup.remove();var A=d._has&&d._has("gl"),z=f._has&&f._has("gl");if(A&&!z)for(E in T)M=T[E],M._scene&&M._scene.destroy();if(F.xaxis&&F.yaxis){var H=l.listIds({_fullLayout:d});for(S=0;S<H.length;S++){var Q=H[S];f[l.id2name(Q)]||d._infolayer.selectAll(".g-"+Q+"title").remove()}}var X=d._has&&d._has("cartesian"),ie=f._has&&f._has("cartesian");if(X&&!ie)w(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(F.cartesian)for(S=0;S<F.cartesian.length;S++){var R=F.cartesian[S];if(!k[R]){var O="."+R+",."+R+"-x,."+R+"-y";d._cartesianlayer.selectAll(O).remove(),y(R,d)}}},Y.drawFramework=function(x){var f=x._fullLayout,b=g(x),d=f._cartesianlayer.selectAll(".subplot").data(b,String);d.enter().append("g").attr("class",function(T){return"subplot "+T[0]}),d.order(),d.exit().call(w,f),d.each(function(T){var k=T[0],F=f._plots[k];F.plotgroup=i.select(this),m(x,F),F.draglayer=v(f._draggers,"g",k)})},Y.rangePlot=function(x,f,b){m(x,f),h(x,f,b),s.style(x)};function g(x){var f=x._fullLayout,b=f._subplots.cartesian,d=b.length,T,k,F,M,S,E,A=[],z=[];for(T=0;T<d;T++){F=b[T],M=f._plots[F],S=M.xaxis,E=M.yaxis;var H=S._mainAxis,Q=E._mainAxis,X=H._id+Q._id,ie=f._plots[X];M.overlays=[],X!==F&&ie?(M.mainplot=X,M.mainplotinfo=ie,z.push(F)):(M.mainplot=void 0,M.mainplotinfo=void 0,A.push(F))}for(T=0;T<z.length;T++)F=z[T],M=f._plots[F],M.mainplotinfo.overlays.push(M);var R=A.concat(z),O=new Array(d);for(T=0;T<d;T++){F=R[T],M=f._plots[F],S=M.xaxis,E=M.yaxis;var U=[F,S.layer,E.layer,S.overlaying||"",E.overlaying||""];for(k=0;k<M.overlays.length;k++)U.push(M.overlays[k].id);O[T]=U}return O}function m(x,f){var b=f.plotgroup,d=f.id,T=a.layerValue2layerClass[f.xaxis.layer],k=a.layerValue2layerClass[f.yaxis.layer],F=x._fullLayout._hasOnlyLargeSploms;if(f.mainplot){var S=f.mainplotinfo,E=S.plotgroup,A=d+"-x",z=d+"-y";f.minorGridlayer=S.minorGridlayer,f.gridlayer=S.gridlayer,f.zerolinelayer=S.zerolinelayer,v(S.overlinesBelow,"path",A),v(S.overlinesBelow,"path",z),v(S.overaxesBelow,"g",A),v(S.overaxesBelow,"g",z),f.plot=v(S.overplot,"g",d),v(S.overlinesAbove,"path",A),v(S.overlinesAbove,"path",z),v(S.overaxesAbove,"g",A),v(S.overaxesAbove,"g",z),f.xlines=E.select(".overlines-"+T).select("."+A),f.ylines=E.select(".overlines-"+k).select("."+z),f.xaxislayer=E.select(".overaxes-"+T).select("."+A),f.yaxislayer=E.select(".overaxes-"+k).select("."+z)}else if(F)f.xlines=v(b,"path","xlines-above"),f.ylines=v(b,"path","ylines-above"),f.xaxislayer=v(b,"g","xaxislayer-above"),f.yaxislayer=v(b,"g","yaxislayer-above");else{var M=v(b,"g","layer-subplot");f.shapelayer=v(M,"g","shapelayer"),f.imagelayer=v(M,"g","imagelayer"),f.minorGridlayer=v(b,"g","minor-gridlayer"),f.gridlayer=v(b,"g","gridlayer"),f.zerolinelayer=v(b,"g","zerolinelayer"),v(b,"path","xlines-below"),v(b,"path","ylines-below"),f.overlinesBelow=v(b,"g","overlines-below"),v(b,"g","xaxislayer-below"),v(b,"g","yaxislayer-below"),f.overaxesBelow=v(b,"g","overaxes-below"),f.plot=v(b,"g","plot"),f.overplot=v(b,"g","overplot"),f.xlines=v(b,"path","xlines-above"),f.ylines=v(b,"path","ylines-above"),f.overlinesAbove=v(b,"g","overlines-above"),v(b,"g","xaxislayer-above"),v(b,"g","yaxislayer-above"),f.overaxesAbove=v(b,"g","overaxes-above"),f.xlines=b.select(".xlines-"+T),f.ylines=b.select(".ylines-"+k),f.xaxislayer=b.select(".xaxislayer-"+T),f.yaxislayer=b.select(".yaxislayer-"+k)}F||(p(f.minorGridlayer,"g",f.xaxis._id),p(f.minorGridlayer,"g",f.yaxis._id),f.minorGridlayer.selectAll("g").map(function(H){return H[0]}).sort(l.idSort),p(f.gridlayer,"g",f.xaxis._id),p(f.gridlayer,"g",f.yaxis._id),f.gridlayer.selectAll("g").map(function(H){return H[0]}).sort(l.idSort)),f.xlines.style("fill","none").classed("crisp",!0),f.ylines.style("fill","none").classed("crisp",!0)}function w(x,f){if(!!x){var b={};x.each(function(S){var E=S[0],A=i.select(this);A.remove(),y(E,f),b[E]=!0});for(var d in f._plots)for(var T=f._plots[d],k=T.overlays||[],F=0;F<k.length;F++){var M=k[F];b[M.id]&&M.plot.selectAll(".trace").remove()}}}function y(x,f){f._draggers.selectAll("g."+x).remove(),f._defs.select("#clip"+f._uid+x+"plot").remove()}Y.toSVG=function(x){var f=x._fullLayout._glimages,b=i.select(x).selectAll(".svg-container"),d=b.filter(function(k,F){return F===b.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function T(){var k=this,F=k.toDataURL("image/png"),M=f.append("svg:image");M.attr({xmlns:t.svg,"xlink:href":F,preserveAspectRatio:"none",x:0,y:0,width:k.style.width,height:k.style.height})}d.each(T)},Y.updateFx=u("./graph_interact").updateFx},{"../../components/drawing":125,"../../constants/xmlns_namespaces":225,"../../lib":244,"../../registry":327,"../get_data":321,"../plots":325,"./attributes":289,"./axis_ids":295,"./constants":298,"./graph_interact":301,"./layout_attributes":304,"./layout_defaults":305,"./transition_axes":315,"@plotly/d3":11}],304:[function(u,te,Y){var i=u("../font_attributes"),n=u("../../components/color/attributes"),c=u("../../components/drawing/attributes").dash,s=u("../../lib/extend").extendFlat,e=u("../../plot_api/plot_template").templatedArray,o=u("../../plots/cartesian/axis_format_attributes").descriptionWithDates,l=u("../../constants/numerical").ONEDAY,a=u("./constants"),t=a.HOUR_PATTERN,v=a.WEEKDAY_PATTERN,p={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}};function h(M){return{valType:"integer",min:0,dflt:M?5:0,editType:"ticks"}}var g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},w={valType:"data_array",editType:"ticks"},y={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function x(M){var S={valType:"number",min:0,editType:"ticks"};return M||(S.dflt=5),S}function f(M){var S={valType:"number",min:0,editType:"ticks"};return M||(S.dflt=1),S}var b={valType:"color",dflt:n.defaultLine,editType:"ticks"},d={valType:"color",dflt:n.lightLine,editType:"ticks"};function T(M){var S={valType:"number",min:0,editType:"ticks"};return M||(S.dflt=1),S}var k=s({},c,{editType:"ticks"}),F={valType:"boolean",editType:"ticks"};te.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:n.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:i({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[a.idRegex.x.toString(),a.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[a.idRegex.x.toString(),a.idRegex.y.toString()],editType:"calc"},rangebreaks:e("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[v,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:l},editType:"calc"}),tickmode:p,nticks:h(),tick0:g,dtick:m,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:w,ticktext:{valType:"data_array",editType:"ticks"},ticks:y,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:x(),tickwidth:f(),tickcolor:b,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:s({},c,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:i({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:o("tick label")},tickformatstops:e("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:o("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:n.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:F,gridcolor:d,gridwidth:T(),griddash:k,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:n.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:n.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",a.idRegex.x.toString(),a.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",a.idRegex.x.toString(),a.idRegex.y.toString()],editType:"plot"},minor:{tickmode:p,nticks:h("minor"),tick0:g,dtick:m,tickvals:w,ticks:y,ticklen:x("minor"),tickwidth:f("minor"),tickcolor:b,gridcolor:d,gridwidth:T("minor"),griddash:k,showgrid:F,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:i({editType:"ticks"})}}},{"../../components/color/attributes":102,"../../components/drawing/attributes":124,"../../constants/numerical":224,"../../lib/extend":238,"../../plot_api/plot_template":280,"../../plots/cartesian/axis_format_attributes":294,"../font_attributes":319,"./constants":298}],305:[function(u,te,Y){var i=u("../../lib"),n=u("../../components/color"),c=u("../../components/fx/helpers").isUnifiedHover,s=u("../../components/fx/hovermode_defaults"),e=u("../../plot_api/plot_template"),o=u("../layout_attributes"),l=u("./layout_attributes"),a=u("./type_defaults"),t=u("./axis_defaults"),v=u("./constraints"),p=u("./position_defaults"),h=u("./axis_ids"),g=h.id2name,m=h.name2id,w=u("./constants").AX_ID_PATTERN,y=u("../../registry"),x=y.traceIs,f=y.getComponentMethod;function b(d,T,k){Array.isArray(d[T])?d[T].push(k):d[T]=[k]}te.exports=function(T,k,F){var M=k.autotypenumbers,S={},E={},A={},z={},H={},Q={},X={},ie={},R={},O={},U,K;for(U=0;U<F.length;U++){var ee=F[U];if(!(!x(ee,"cartesian")&&!x(ee,"gl2d"))){var ne;if(ee.xaxis)ne=g(ee.xaxis),b(S,ne,ee);else if(ee.xaxes)for(K=0;K<ee.xaxes.length;K++)b(S,g(ee.xaxes[K]),ee);var me;if(ee.yaxis)me=g(ee.yaxis),b(S,me,ee);else if(ee.yaxes)for(K=0;K<ee.yaxes.length;K++)b(S,g(ee.yaxes[K]),ee);if(ee.type==="funnel"?ee.orientation==="h"?(ne&&(E[ne]=!0),me&&(X[me]=!0)):me&&(A[me]=!0):ee.type==="image"?(me&&(ie[me]=!0),ne&&(ie[ne]=!0)):(me&&(H[me]=!0,Q[me]=!0),(!x(ee,"carpet")||ee.type==="carpet"&&!ee._cheater)&&ne&&(z[ne]=!0)),ee.type==="carpet"&&ee._cheater&&ne&&(E[ne]=!0),x(ee,"2dMap")&&(R[ne]=!0,R[me]=!0),x(ee,"oriented")){var pe=ee.orientation==="h"?me:ne;O[pe]=!0}}}var be=k._subplots,ve=be.xaxis,C=be.yaxis,I=i.simpleMap(ve,g),L=i.simpleMap(C,g),P=I.concat(L),B=n.background;ve.length&&C.length&&(B=i.coerce(T,k,o,"plot_bgcolor"));var V=n.combine(B,k.paper_bgcolor),N,Z,W,q,re;function se(){var ze=S[N]||[];re._traceIndices=ze.map(function(ae){return ae._expandedIndex}),re._annIndices=[],re._shapeIndices=[],re._selectionIndices=[],re._imgIndices=[],re._subplotsWith=[],re._counterAxes=[],re._name=re._attr=N,re._id=Z}function _e(ze,ae){return i.coerce(q,re,l,ze,ae)}function ge(ze,ae){return i.coerce2(q,re,l,ze,ae)}function Ae(ze){return ze==="x"?C:ve}function Ce(ze,ae){for(var xe=ze==="x"?I:L,Te=[],Me=0;Me<xe.length;Me++){var Je=xe[Me];Je!==ae&&!(T[Je]||{}).overlaying&&Te.push(m(Je))}return Te}var ue={x:Ae("x"),y:Ae("y")},he=ue.x.concat(ue.y),we={},ke=[];function Pe(){var ze=q.matches;w.test(ze)&&he.indexOf(ze)===-1&&(we[ze]=q.type,ke=Object.keys(we))}var fe=s(T,k),De=c(fe);for(U=0;U<P.length;U++){N=P[U],Z=m(N),W=N.charAt(0),i.isPlainObject(T[N])||(T[N]={}),q=T[N],re=e.newContainer(k,N,W+"axis"),se();var Fe=W==="x"&&!z[N]&&E[N]||W==="y"&&!H[N]&&A[N],et=W==="y"&&(!Q[N]&&X[N]||ie[N]),Xe={hasMinor:!0,letter:W,font:k.font,outerTicks:R[N],showGrid:!O[N],data:S[N]||[],bgColor:V,calendar:k.calendar,automargin:!0,visibleDflt:Fe,reverseDflt:et,autotypenumbersDflt:M,splomStash:((k._splomAxes||{})[W]||{})[Z]};_e("uirevision",k.uirevision),a(q,re,_e,Xe),t(q,re,_e,Xe,k);var qe=De&&W===fe.charAt(0),rt=ge("spikecolor",De?re.color:void 0),ut=ge("spikethickness",De?1.5:void 0),yt=ge("spikedash",De?"dot":void 0),Rt=ge("spikemode",De?"across":void 0),bt=ge("spikesnap"),je=_e("showspikes",!!qe||!!rt||!!ut||!!yt||!!Rt||!!bt);je||(delete re.spikecolor,delete re.spikethickness,delete re.spikedash,delete re.spikemode,delete re.spikesnap),p(q,re,_e,{letter:W,counterAxes:ue[W],overlayableAxes:Ce(W,N),grid:k.grid}),_e("title.standoff"),Pe(),re._input=q}for(U=0;U<ke.length;){Z=ke[U++],N=g(Z),W=N.charAt(0),i.isPlainObject(T[N])||(T[N]={}),q=T[N],re=e.newContainer(k,N,W+"axis"),se();var ct={letter:W,font:k.font,outerTicks:R[N],showGrid:!O[N],data:[],bgColor:V,calendar:k.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:M,splomStash:((k._splomAxes||{})[W]||{})[Z]};_e("uirevision",k.uirevision),re.type=we[Z]||"linear",t(q,re,_e,ct,k),p(q,re,_e,{letter:W,counterAxes:ue[W],overlayableAxes:Ce(W,N),grid:k.grid}),_e("fixedrange"),Pe(),re._input=q}var Dt=f("rangeslider","handleDefaults"),Lt=f("rangeselector","handleDefaults");for(U=0;U<I.length;U++)N=I[U],q=T[N],re=k[N],Dt(T,k,N),re.type==="date"&&Lt(q,re,k,L,re.calendar),_e("fixedrange");for(U=0;U<L.length;U++){N=L[U],q=T[N],re=k[N];var de=k[g(re.anchor)],Re=f("rangeslider","isVisible")(de);_e("fixedrange",Re)}v.handleDefaults(T,k,{axIds:he.concat(ke).sort(h.idSort),axHasImage:ie})}},{"../../components/color":103,"../../components/fx/helpers":139,"../../components/fx/hovermode_defaults":142,"../../lib":244,"../../plot_api/plot_template":280,"../../registry":327,"../layout_attributes":323,"./axis_defaults":293,"./axis_ids":295,"./constants":298,"./constraints":299,"./layout_attributes":304,"./position_defaults":307,"./type_defaults":316}],306:[function(u,te,Y){var i=u("tinycolor2").mix,n=u("../../components/color/attributes"),c=u("../../lib");te.exports=function(e,o,l,a){a=a||{};var t=a.dfltColor;function v(A,z){return c.coerce2(e,o,a.attributes,A,z)}var p=v("linecolor",t),h=v("linewidth"),g=l("showline",a.showLine||!!p||!!h);g||(delete o.linecolor,delete o.linewidth);var m=i(t,a.bgColor,a.blend||n.lightFraction).toRgbString(),w=v("gridcolor",m),y=v("gridwidth"),x=v("griddash"),f=l("showgrid",a.showGrid||!!w||!!y||!!x);if(f||(delete o.gridcolor,delete o.gridwidth,delete o.griddash),a.hasMinor){var b=i(o.gridcolor,a.bgColor,67).toRgbString(),d=v("minor.gridcolor",b),T=v("minor.gridwidth",o.gridwidth||1),k=v("minor.griddash",o.griddash||"solid"),F=l("minor.showgrid",!!d||!!T||!!k);F||(delete o.minor.gridcolor,delete o.minor.gridwidth,delete o.minor.griddash)}if(!a.noZeroLine){var M=v("zerolinecolor",t),S=v("zerolinewidth"),E=l("zeroline",a.showGrid||!!M||!!S);E||(delete o.zerolinecolor,delete o.zerolinewidth)}}},{"../../components/color/attributes":102,"../../lib":244,tinycolor2:68}],307:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("../../lib");te.exports=function(s,e,o,l){var a=l.counterAxes||[],t=l.overlayableAxes||[],v=l.letter,p=l.grid,h,g,m,w;p&&(g=p._domains[v][p._axisMap[e._id]],h=p._anchors[e._id],g&&(m=p[v+"side"].split(" ")[0],w=p.domain[v][m==="right"||m==="top"?1:0])),g=g||[0,1],h=h||(i(s.position)?"free":a[0]||"free"),m=m||(v==="x"?"bottom":"left"),w=w||0;var y=n.coerce(s,e,{anchor:{valType:"enumerated",values:["free"].concat(a),dflt:h}},"anchor");y==="free"&&o("position",w),n.coerce(s,e,{side:{valType:"enumerated",values:v==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");var x=!1;if(t.length&&(x=n.coerce(s,e,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!x){var f=o("domain",g);f[0]>f[1]-1/4096&&(e.domain=g),n.noneOrAll(s.domain,e.domain,g)}return o("layer"),e}},{"../../lib":244,"fast-isnumeric":17}],308:[function(u,te,Y){var i=u("./show_dflt");te.exports=function(c,s,e,o,l){l||(l={});var a=l.tickSuffixDflt,t=i(c),v=e("tickprefix");v&&e("showtickprefix",t);var p=e("ticksuffix",a);p&&e("showticksuffix",t)}},{"./show_dflt":311}],309:[function(u,te,Y){var i=u("../../constants/alignment").FROM_BL;te.exports=function(c,s,e){e===void 0&&(e=i[c.constraintoward||"center"]);var o=[c.r2l(c.range[0]),c.r2l(c.range[1])],l=o[0]+(o[1]-o[0])*e;c.range=c._input.range=[c.l2r(l+(o[0]-l)*s),c.l2r(l+(o[1]-l)*s)],c.setScale()}},{"../../constants/alignment":219}],310:[function(u,te,Y){var i=u("@plotly/d3"),n=u("d3-time-format").utcFormat,c=u("../../lib"),s=c.numberFormat,e=u("fast-isnumeric"),o=c.cleanNumber,l=c.ms2DateTime,a=c.dateTime2ms,t=c.ensureNumber,v=c.isArrayOrTypedArray,p=u("../../constants/numerical"),h=p.FP_SAFE,g=p.BADNUM,m=p.LOG_CLIP,w=p.ONEWEEK,y=p.ONEDAY,x=p.ONEHOUR,f=p.ONEMIN,b=p.ONESEC,d=u("./axis_ids"),T=u("./constants"),k=T.HOUR_PATTERN,F=T.WEEKDAY_PATTERN;function M(E){return Math.pow(10,E)}function S(E){return E!=null}te.exports=function(A,z){z=z||{};var H=A._id||"x",Q=H.charAt(0);function X(P,B){if(P>0)return Math.log(P)/Math.LN10;if(P<=0&&B&&A.range&&A.range.length===2){var V=A.range[0],N=A.range[1];return .5*(V+N-2*m*Math.abs(V-N))}else return g}function ie(P,B,V,N){if((N||{}).msUTC&&e(P))return+P;var Z=a(P,V||A.calendar);if(Z===g)if(e(P)){P=+P;var W=Math.floor(c.mod(P+.05,1)*10),q=Math.round(P-W/10);Z=a(new Date(q))+W/10}else return g;return Z}function R(P,B,V){return l(P,B,V||A.calendar)}function O(P){return A._categories[Math.round(P)]}function U(P){if(S(P)){if(A._categoriesMap===void 0&&(A._categoriesMap={}),A._categoriesMap[P]!==void 0)return A._categoriesMap[P];A._categories.push(typeof P=="number"?String(P):P);var B=A._categories.length-1;return A._categoriesMap[P]=B,B}return g}function K(P,B){for(var V=new Array(B),N=0;N<B;N++){var Z=(P[0]||[])[N],W=(P[1]||[])[N];V[N]=ee([Z,W])}return V}function ee(P){if(A._categoriesMap)return A._categoriesMap[P]}function ne(P){var B=ee(P);if(B!==void 0)return B;if(e(P))return+P}function me(P){return e(P)?+P:ee(P)}function pe(P,B,V){return i.round(V+B*P,2)}function be(P,B,V){return(P-V)/B}var ve=function(B){return e(B)?pe(B,A._m,A._b):g},C=function(P){return be(P,A._m,A._b)};if(A.rangebreaks){var I=Q==="y";ve=function(P){if(!e(P))return g;var B=A._rangebreaks.length;if(!B)return pe(P,A._m,A._b);var V=I;A.range[0]>A.range[1]&&(V=!V);for(var N=V?-1:1,Z=N*P,W=0,q=0;q<B;q++){var re=N*A._rangebreaks[q].min,se=N*A._rangebreaks[q].max;if(Z<re)break;if(Z>se)W=q+1;else{W=Z<(re+se)/2?q:q+1;break}}var _e=A._B[W]||0;return isFinite(_e)?pe(P,A._m2,_e):0},C=function(P){var B=A._rangebreaks.length;if(!B)return be(P,A._m,A._b);for(var V=0,N=0;N<B&&!(P<A._rangebreaks[N].pmin);N++)P>A._rangebreaks[N].pmax&&(V=N+1);return be(P,A._m2,A._B[V])}}A.c2l=A.type==="log"?X:t,A.l2c=A.type==="log"?M:t,A.l2p=ve,A.p2l=C,A.c2p=A.type==="log"?function(P,B){return ve(X(P,B))}:ve,A.p2c=A.type==="log"?function(P){return M(C(P))}:C,["linear","-"].indexOf(A.type)!==-1?(A.d2r=A.r2d=A.d2c=A.r2c=A.d2l=A.r2l=o,A.c2d=A.c2r=A.l2d=A.l2r=t,A.d2p=A.r2p=function(P){return A.l2p(o(P))},A.p2d=A.p2r=C,A.cleanPos=t):A.type==="log"?(A.d2r=A.d2l=function(P,B){return X(o(P),B)},A.r2d=A.r2c=function(P){return M(o(P))},A.d2c=A.r2l=o,A.c2d=A.l2r=t,A.c2r=X,A.l2d=M,A.d2p=function(P,B){return A.l2p(A.d2r(P,B))},A.p2d=function(P){return M(C(P))},A.r2p=function(P){return A.l2p(o(P))},A.p2r=C,A.cleanPos=t):A.type==="date"?(A.d2r=A.r2d=c.identity,A.d2c=A.r2c=A.d2l=A.r2l=ie,A.c2d=A.c2r=A.l2d=A.l2r=R,A.d2p=A.r2p=function(P,B,V){return A.l2p(ie(P,0,V))},A.p2d=A.p2r=function(P,B,V){return R(C(P),B,V)},A.cleanPos=function(P){return c.cleanDate(P,g,A.calendar)}):A.type==="category"?(A.d2c=A.d2l=U,A.r2d=A.c2d=A.l2d=O,A.d2r=A.d2l_noadd=ne,A.r2c=function(P){var B=me(P);return B!==void 0?B:A.fraction2r(.5)},A.l2r=A.c2r=t,A.r2l=me,A.d2p=function(P){return A.l2p(A.r2c(P))},A.p2d=function(P){return O(C(P))},A.r2p=A.d2p,A.p2r=C,A.cleanPos=function(P){return typeof P=="string"&&P!==""?P:t(P)}):A.type==="multicategory"&&(A.r2d=A.c2d=A.l2d=O,A.d2r=A.d2l_noadd=ne,A.r2c=function(P){var B=ne(P);return B!==void 0?B:A.fraction2r(.5)},A.r2c_just_indices=ee,A.l2r=A.c2r=t,A.r2l=ne,A.d2p=function(P){return A.l2p(A.r2c(P))},A.p2d=function(P){return O(C(P))},A.r2p=A.d2p,A.p2r=C,A.cleanPos=function(P){return Array.isArray(P)||typeof P=="string"&&P!==""?P:t(P)},A.setupMultiCategory=function(P){var B=A._traceIndices,V,N,Z=A._matchGroup;if(Z&&A._categories.length===0){for(var W in Z)if(W!==H){var q=z[d.id2name(W)];B=B.concat(q._traceIndices)}}var re=[[0,{}],[0,{}]],se=[];for(V=0;V<B.length;V++){var _e=P[B[V]];if(Q in _e){var ge=_e[Q],Ae=_e._length||c.minRowLength(ge);if(v(ge[0])&&v(ge[1]))for(N=0;N<Ae;N++){var Ce=ge[0][N],ue=ge[1][N];S(Ce)&&S(ue)&&(se.push([Ce,ue]),Ce in re[0][1]||(re[0][1][Ce]=re[0][0]++),ue in re[1][1]||(re[1][1][ue]=re[1][0]++))}}}for(se.sort(function(he,we){var ke=re[0][1],Pe=ke[he[0]]-ke[we[0]];if(Pe)return Pe;var fe=re[1][1];return fe[he[1]]-fe[we[1]]}),V=0;V<se.length;V++)U(se[V])}),A.fraction2r=function(P){var B=A.r2l(A.range[0]),V=A.r2l(A.range[1]);return A.l2r(B+P*(V-B))},A.r2fraction=function(P){var B=A.r2l(A.range[0]),V=A.r2l(A.range[1]);return(A.r2l(P)-B)/(V-B)},A.cleanRange=function(P,B){B||(B={}),P||(P="range");var V=c.nestedProperty(A,P).get(),N,Z;if(A.type==="date"?Z=c.dfltRange(A.calendar):Q==="y"?Z=T.DFLTRANGEY:A._name==="realaxis"?Z=[0,1]:Z=B.dfltRange||T.DFLTRANGEX,Z=Z.slice(),(A.rangemode==="tozero"||A.rangemode==="nonnegative")&&(Z[0]=0),!V||V.length!==2){c.nestedProperty(A,P).set(Z);return}for(A.type==="date"&&!A.autorange&&(V[0]=c.cleanDate(V[0],g,A.calendar),V[1]=c.cleanDate(V[1],g,A.calendar)),N=0;N<2;N++)if(A.type==="date"){if(!c.isDateTime(V[N],A.calendar)){A[P]=Z;break}if(A.r2l(V[0])===A.r2l(V[1])){var W=c.constrain(A.r2l(V[0]),c.MIN_MS+1e3,c.MAX_MS-1e3);V[0]=A.l2r(W-1e3),V[1]=A.l2r(W+1e3);break}}else{if(!e(V[N]))if(e(V[1-N]))V[N]=V[1-N]*(N?10:.1);else{A[P]=Z;break}if(V[N]<-h?V[N]=-h:V[N]>h&&(V[N]=h),V[0]===V[1]){var q=Math.max(1,Math.abs(V[0]*1e-6));V[0]-=q,V[1]+=q}}},A.setScale=function(P){var B=z._size;if(A.overlaying){var V=d.getFromId({_fullLayout:z},A.overlaying);A.domain=V.domain}var N=P&&A._r?"_r":"range",Z=A.calendar;A.cleanRange(N);var W=A.r2l(A[N][0],Z),q=A.r2l(A[N][1],Z),re=Q==="y";if(re?(A._offset=B.t+(1-A.domain[1])*B.h,A._length=B.h*(A.domain[1]-A.domain[0]),A._m=A._length/(W-q),A._b=-A._m*q):(A._offset=B.l+A.domain[0]*B.w,A._length=B.w*(A.domain[1]-A.domain[0]),A._m=A._length/(q-W),A._b=-A._m*W),A._rangebreaks=[],A._lBreaks=0,A._m2=0,A._B=[],A.rangebreaks){var se,_e;if(A._rangebreaks=A.locateBreaks(Math.min(W,q),Math.max(W,q)),A._rangebreaks.length){for(se=0;se<A._rangebreaks.length;se++)_e=A._rangebreaks[se],A._lBreaks+=Math.abs(_e.max-_e.min);var ge=re;W>q&&(ge=!ge),ge&&A._rangebreaks.reverse();var Ae=ge?-1:1;for(A._m2=Ae*A._length/(Math.abs(q-W)-A._lBreaks),A._B.push(-A._m2*(re?q:W)),se=0;se<A._rangebreaks.length;se++)_e=A._rangebreaks[se],A._B.push(A._B[A._B.length-1]-Ae*A._m2*(_e.max-_e.min));for(se=0;se<A._rangebreaks.length;se++)_e=A._rangebreaks[se],_e.pmin=ve(_e.min),_e.pmax=ve(_e.max)}}if(!isFinite(A._m)||!isFinite(A._b)||A._length<0)throw z._replotting=!1,new Error("Something went wrong with axis scaling")},A.maskBreaks=function(P){var B=A.rangebreaks||[],V,N,Z,W,q;B._cachedPatterns||(B._cachedPatterns=B.map(function(ke){return ke.enabled&&ke.bounds?c.simpleMap(ke.bounds,ke.pattern?o:A.d2c):null})),B._cachedValues||(B._cachedValues=B.map(function(ke){return ke.enabled&&ke.values?c.simpleMap(ke.values,A.d2c).sort(c.sorterAsc):null}));for(var re=0;re<B.length;re++){var se=B[re];if(se.enabled){if(se.bounds){var _e=se.pattern;switch(V=B._cachedPatterns[re],N=V[0],Z=V[1],_e){case F:q=new Date(P),W=q.getUTCDay(),N>Z&&(Z+=7,W<N&&(W+=7));break;case k:q=new Date(P);var ge=q.getUTCHours(),Ae=q.getUTCMinutes(),Ce=q.getUTCSeconds(),ue=q.getUTCMilliseconds();W=ge+(Ae/60+Ce/3600+ue/36e5),N>Z&&(Z+=24,W<N&&(W+=24));break;case"":W=P;break}if(W>=N&&W<Z)return g}else for(var he=B._cachedValues[re],we=0;we<he.length;we++)if(N=he[we],Z=N+se.dvalue,P>=N&&P<Z)return g}}return P},A.locateBreaks=function(P,B){var V,N,Z,W,q=[];if(!A.rangebreaks)return q;var re=A.rangebreaks.slice().sort(function(fe,De){return fe.pattern===F&&De.pattern===k?-1:De.pattern===F&&fe.pattern===k?1:0}),se=function(fe,De){if(fe=c.constrain(fe,P,B),De=c.constrain(De,P,B),fe!==De){for(var Fe=!0,et=0;et<q.length;et++){var Xe=q[et];fe<Xe.max&&De>=Xe.min&&(fe<Xe.min&&(Xe.min=fe),De>Xe.max&&(Xe.max=De),Fe=!1)}Fe&&q.push({min:fe,max:De})}};for(V=0;V<re.length;V++){var _e=re[V];if(_e.enabled)if(_e.bounds){var ge=P,Ae=B;_e.pattern&&(ge=Math.floor(ge)),N=c.simpleMap(_e.bounds,_e.pattern?o:A.r2l),Z=N[0],W=N[1];var Ce=new Date(ge),ue,he;switch(_e.pattern){case F:he=w,ue=((W<Z?7:0)+(W-Z))*y,ge+=Z*y-(Ce.getUTCDay()*y+Ce.getUTCHours()*x+Ce.getUTCMinutes()*f+Ce.getUTCSeconds()*b+Ce.getUTCMilliseconds());break;case k:he=y,ue=((W<Z?24:0)+(W-Z))*x,ge+=Z*x-(Ce.getUTCHours()*x+Ce.getUTCMinutes()*f+Ce.getUTCSeconds()*b+Ce.getUTCMilliseconds());break;default:ge=Math.min(N[0],N[1]),Ae=Math.max(N[0],N[1]),he=Ae-ge,ue=he}for(var we=ge;we<Ae;we+=he)se(we,we+ue)}else for(var ke=c.simpleMap(_e.values,A.d2c),Pe=0;Pe<ke.length;Pe++)Z=ke[Pe],W=Z+_e.dvalue,se(Z,W)}return q.sort(function(fe,De){return fe.min-De.min}),q},A.makeCalcdata=function(P,B,V){var N,Z,W,q,re=A.type,se=re==="date"&&P[B+"calendar"];if(B in P){if(N=P[B],q=P._length||c.minRowLength(N),c.isTypedArray(N)&&(re==="linear"||re==="log")){if(q===N.length)return N;if(N.subarray)return N.subarray(0,q)}if(re==="multicategory")return K(N,q);for(Z=new Array(q),W=0;W<q;W++)Z[W]=A.d2c(N[W],0,se,V)}else{var _e=B+"0"in P?A.d2c(P[B+"0"],0,se):0,ge=P["d"+B]?Number(P["d"+B]):1;for(N=P[{x:"y",y:"x"}[B]],q=P._length||N.length,Z=new Array(q),W=0;W<q;W++)Z[W]=_e+W*ge}if(A.rangebreaks)for(W=0;W<q;W++)Z[W]=A.maskBreaks(Z[W]);return Z},A.isValidRange=function(P){return Array.isArray(P)&&P.length===2&&e(A.r2l(P[0]))&&e(A.r2l(P[1]))},A.isPtWithinRange=function(P,B){var V=A.c2l(P[Q],null,B),N=A.r2l(A.range[0]),Z=A.r2l(A.range[1]);return N<Z?N<=V&&V<=Z:Z<=V&&V<=N},A._emptyCategories=function(){A._categories=[],A._categoriesMap={}},A.clearCalc=function(){var P=A._matchGroup;if(P){var B=null,V=null;for(var N in P){var Z=z[d.id2name(N)];if(Z._categories){B=Z._categories,V=Z._categoriesMap;break}}B&&V?(A._categories=B,A._categoriesMap=V):A._emptyCategories()}else A._emptyCategories();if(A._initialCategories)for(var W=0;W<A._initialCategories.length;W++)U(A._initialCategories[W])},A.sortByInitialCategories=function(){var P=[];if(A._emptyCategories(),A._initialCategories)for(var B=0;B<A._initialCategories.length;B++)U(A._initialCategories[B]);P=P.concat(A._traceIndices);var V=A._matchGroup;for(var N in V)if(H!==N){var Z=z[d.id2name(N)];Z._categories=A._categories,Z._categoriesMap=A._categoriesMap,P=P.concat(Z._traceIndices)}return P};var L=z._d3locale;A.type==="date"&&(A._dateFormat=L?L.timeFormat:n,A._extraFormat=z._extraFormat),A._separators=z.separators,A._numFormat=L?L.numberFormat:s,delete A._minDtick,delete A._forceTick0}},{"../../constants/numerical":224,"../../lib":244,"./axis_ids":295,"./constants":298,"@plotly/d3":11,"d3-time-format":14,"fast-isnumeric":17}],311:[function(u,te,Y){te.exports=function(n){var c=["showexponent","showtickprefix","showticksuffix"],s=c.filter(function(o){return n[o]!==void 0}),e=function(o){return n[o]===n[s[0]]};if(s.every(e)||s.length===1)return n[s[0]]}},{}],312:[function(u,te,Y){var i=u("../../lib"),n=u("../../components/color").contrast,c=u("./layout_attributes"),s=u("./show_dflt"),e=u("../array_container_defaults");te.exports=function(a,t,v,p,h){h||(h={});var g=s(a),m=v("showticklabels");if(m){var w=h.font||{},y=t.color,x=t.ticklabelposition||"",f=x.indexOf("inside")!==-1?n(h.bgColor):y&&y!==c.color.dflt?y:w.color;if(i.coerceFont(v,"tickfont",{family:w.family,size:w.size,color:f}),!h.noTicklabelstep&&p!=="multicategory"&&p!=="log"&&v("ticklabelstep"),h.noAng||v("tickangle"),p!=="category"){var b=v("tickformat");e(a,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:o}),t.tickformatstops.length||delete t.tickformatstops,!h.noExp&&!b&&p!=="date"&&(v("showexponent",g),v("exponentformat"),v("minexponent"),v("separatethousands"))}}};function o(l,a){function t(p,h){return i.coerce(l,a,c.tickformatstops,p,h)}var v=t("enabled");v&&(t("dtickrange"),t("value"))}},{"../../components/color":103,"../../lib":244,"../array_container_defaults":286,"./layout_attributes":304,"./show_dflt":311}],313:[function(u,te,Y){var i=u("../../lib"),n=u("./layout_attributes");te.exports=function(s,e,o,l){var a=l.isMinor,t=a?s.minor||{}:s,v=a?e.minor:e,p=a?n.minor:n,h=a?"minor.":"",g=i.coerce2(t,v,p,"ticklen",a?(e.ticklen||5)*.6:void 0),m=i.coerce2(t,v,p,"tickwidth",a?e.tickwidth||1:void 0),w=i.coerce2(t,v,p,"tickcolor",(a?e.tickcolor:void 0)||v.color),y=o(h+"ticks",!a&&l.outerTicks||g||m||w?"outside":"");y||(delete v.ticklen,delete v.tickwidth,delete v.tickcolor)}},{"../../lib":244,"./layout_attributes":304}],314:[function(u,te,Y){var i=u("./clean_ticks"),n=u("../../lib").isArrayOrTypedArray;te.exports=function(s,e,o,l,a){a||(a={});var t=a.isMinor,v=t?s.minor||{}:s,p=t?e.minor:e,h=t?"minor.":"";function g(T){var k=v[T];return k!==void 0?k:(p._template||{})[T]}var m=g("tick0"),w=g("dtick"),y=g("tickvals"),x=n(y)?"array":w?"linear":"auto",f=o(h+"tickmode",x);if(f==="auto")o(h+"nticks");else if(f==="linear"){var b=p.dtick=i.dtick(w,l);p.tick0=i.tick0(m,l,e.calendar,b)}else if(l!=="multicategory"){var d=o(h+"tickvals");d===void 0?p.tickmode="auto":t||o("ticktext")}}},{"../../lib":244,"./clean_ticks":297}],315:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../registry"),c=u("../../lib"),s=u("../../components/drawing"),e=u("./axes");te.exports=function(l,a,t,v){var p=l._fullLayout;if(a.length===0){e.redrawComponents(l);return}function h(k){var F=k.xaxis,M=k.yaxis;p._defs.select("#"+k.clipId+"> rect").call(s.setTranslate,0,0).call(s.setScale,1,1),k.plot.call(s.setTranslate,F._offset,M._offset).call(s.setScale,1,1);var S=k.plot.selectAll(".scatterlayer .trace");S.selectAll(".point").call(s.setPointGroupScale,1,1),S.selectAll(".textpoint").call(s.setTextPointsScale,1,1),S.call(s.hideOutsideRangePoints,k)}function g(k,F){var M=k.plotinfo,S=M.xaxis,E=M.yaxis,A=S._length,z=E._length,H=!!k.xr1,Q=!!k.yr1,X=[];if(H){var ie=c.simpleMap(k.xr0,S.r2l),R=c.simpleMap(k.xr1,S.r2l),O=ie[1]-ie[0],U=R[1]-R[0];X[0]=(ie[0]*(1-F)+F*R[0]-ie[0])/(ie[1]-ie[0])*A,X[2]=A*(1-F+F*U/O),S.range[0]=S.l2r(ie[0]*(1-F)+F*R[0]),S.range[1]=S.l2r(ie[1]*(1-F)+F*R[1])}else X[0]=0,X[2]=A;if(Q){var K=c.simpleMap(k.yr0,E.r2l),ee=c.simpleMap(k.yr1,E.r2l),ne=K[1]-K[0],me=ee[1]-ee[0];X[1]=(K[1]*(1-F)+F*ee[1]-K[1])/(K[0]-K[1])*z,X[3]=z*(1-F+F*me/ne),E.range[0]=S.l2r(K[0]*(1-F)+F*ee[0]),E.range[1]=E.l2r(K[1]*(1-F)+F*ee[1])}else X[1]=0,X[3]=z;e.drawOne(l,S,{skipTitle:!0}),e.drawOne(l,E,{skipTitle:!0}),e.redrawComponents(l,[S._id,E._id]);var pe=H?A/X[2]:1,be=Q?z/X[3]:1,ve=H?X[0]:0,C=Q?X[1]:0,I=H?X[0]/X[2]*A:0,L=Q?X[1]/X[3]*z:0,P=S._offset-I,B=E._offset-L;M.clipRect.call(s.setTranslate,ve,C).call(s.setScale,1/pe,1/be),M.plot.call(s.setTranslate,P,B).call(s.setScale,pe,be),s.setPointGroupScale(M.zoomScalePts,1/pe,1/be),s.setTextPointsScale(M.zoomScaleTxt,1/pe,1/be)}var m;v&&(m=v());function w(){for(var k={},F=0;F<a.length;F++){var M=a[F],S=M.plotinfo.xaxis,E=M.plotinfo.yaxis;M.xr1&&(k[S._name+".range"]=M.xr1.slice()),M.yr1&&(k[E._name+".range"]=M.yr1.slice())}return m&&m(),n.call("relayout",l,k).then(function(){for(var A=0;A<a.length;A++)h(a[A].plotinfo)})}function y(){for(var k={},F=0;F<a.length;F++){var M=a[F],S=M.plotinfo.xaxis,E=M.plotinfo.yaxis;M.xr0&&(k[S._name+".range"]=M.xr0.slice()),M.yr0&&(k[E._name+".range"]=M.yr0.slice())}return n.call("relayout",l,k).then(function(){for(var A=0;A<a.length;A++)h(a[A].plotinfo)})}var x,f,b,d=i.ease(t.easing);l._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(b),b=null,y()});function T(){f=Date.now();for(var k=Math.min(1,(f-x)/t.duration),F=d(k),M=0;M<a.length;M++)g(a[M],F);f-x>t.duration?(w(),b=window.cancelAnimationFrame(T)):b=window.requestAnimationFrame(T)}return x=Date.now(),b=window.requestAnimationFrame(T),Promise.resolve()}},{"../../components/drawing":125,"../../lib":244,"../../registry":327,"./axes":291,"@plotly/d3":11}],316:[function(u,te,Y){var i=u("../../registry").traceIs,n=u("./axis_autotype");te.exports=function(a,t,v,p){v("autotypenumbers",p.autotypenumbersDflt);var h=v("type",(p.splomStash||{}).type);h==="-"&&(c(t,p.data),t.type==="-"?t.type="linear":a.type=t.type)};function c(l,a){if(l.type==="-"){var t=l._id,v=t.charAt(0),p;t.indexOf("scene")!==-1&&(t=v);var h=s(a,t,v);if(!!h){if(h.type==="histogram"&&v==={v:"y",h:"x"}[h.orientation||"v"]){l.type="linear";return}var g=v+"calendar",m=h[g],w={noMultiCategory:!i(h,"cartesian")||i(h,"noMultiCategory")};if(h.type==="box"&&h._hasPreCompStats&&v==={h:"x",v:"y"}[h.orientation||"v"]&&(w.noMultiCategory=!0),w.autotypenumbers=l.autotypenumbers,o(h,v)){var y=e(h),x=[];for(p=0;p<a.length;p++){var f=a[p];!i(f,"box-violin")||(f[v+"axis"]||v)!==t||(f[y]!==void 0?x.push(f[y][0]):f.name!==void 0?x.push(f.name):x.push("text"),f[g]!==m&&(m=void 0))}l.type=n(x,m,w)}else if(h.type==="splom"){var b=h.dimensions,d=b[h._axesDim[t]];d.visible&&(l.type=n(d.values,m,w))}else l.type=n(h[v]||[h[v+"0"]],m,w)}}}function s(l,a,t){for(var v=0;v<l.length;v++){var p=l[v];if(p.type==="splom"&&p._length>0&&(p["_"+t+"axes"]||{})[a])return p;if((p[t+"axis"]||t)===a){if(o(p,t))return p;if((p[t]||[]).length||p[t+"0"])return p}}}function e(l){return{v:"x",h:"y"}[l.orientation||"v"]}function o(l,a){var t=e(l),v=i(l,"box-violin"),p=i(l._fullInput||{},"candlestick");return v&&!p&&a===t&&l[t]===void 0&&l[t+"0"]===void 0}},{"../../registry":327,"./axis_autotype":292}],317:[function(u,te,Y){var i=u("../registry"),n=u("../lib");Y.manageCommandObserver=function(a,t,v,p){var h={},g=!0;t&&t._commandObserver&&(h=t._commandObserver),h.cache||(h.cache={}),h.lookupTable={};var m=Y.hasSimpleAPICommandBindings(a,v,h.lookupTable);if(t&&t._commandObserver){if(m)return h;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,h}if(m){c(a,m,h.cache),h.check=function(){if(!!g){var f=c(a,m,h.cache);return f.changed&&p&&h.lookupTable[f.value]!==void 0&&(h.disable(),Promise.resolve(p({value:f.value,type:m.type,prop:m.prop,traces:m.traces,index:h.lookupTable[f.value]})).then(h.enable,h.enable)),f.changed}};for(var w=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],y=0;y<w.length;y++)a._internalOn(w[y],h.check);h.remove=function(){for(var x=0;x<w.length;x++)a._removeInternalListener(w[x],h.check)}}else n.log("Unable to automatically bind plot updates to API command"),h.lookupTable={},h.remove=function(){};return h.disable=function(){g=!1},h.enable=function(){g=!0},t&&(t._commandObserver=h),h},Y.hasSimpleAPICommandBindings=function(a,t,v){var p,h=t.length,g;for(p=0;p<h;p++){var m,w=t[p],y=w.method,x=w.args;if(Array.isArray(x)||(x=[]),!y)return!1;var f=Y.computeAPICommandBindings(a,y,x);if(f.length!==1)return!1;if(!g)g=f[0],Array.isArray(g.traces)&&g.traces.sort();else{if(m=f[0],m.type!==g.type||m.prop!==g.prop)return!1;if(Array.isArray(g.traces))if(Array.isArray(m.traces)){m.traces.sort();for(var b=0;b<g.traces.length;b++)if(g.traces[b]!==m.traces[b])return!1}else return!1;else if(m.prop!==g.prop)return!1}m=f[0];var d=m.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;v&&(v[d]=p)}return g};function c(a,t,v){var p,h,g,m=!1;if(t.type==="data")p=a._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")p=a._fullLayout;else return!1;return h=n.nestedProperty(p,t.prop).get(),g=v[t.type]=v[t.type]||{},g.hasOwnProperty(t.prop)&&g[t.prop]!==h&&(m=!0),g[t.prop]=h,{changed:m,value:h}}Y.executeAPICommand=function(a,t,v){if(t==="skip")return Promise.resolve();var p=i.apiMethodRegistry[t],h=[a];Array.isArray(v)||(v=[]);for(var g=0;g<v.length;g++)h.push(v[g]);return p.apply(null,h).catch(function(m){return n.warn("API call to Plotly."+t+" rejected.",m),Promise.reject(m)})},Y.computeAPICommandBindings=function(a,t,v){var p;switch(Array.isArray(v)||(v=[]),t){case"restyle":p=o(a,v);break;case"relayout":p=e(a,v);break;case"update":p=o(a,[v[0],v[2]]).concat(e(a,[v[1]]));break;case"animate":p=s(a,v);break;default:p=[]}return p};function s(a,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function e(a,t){var v=[],p=t[0],h={};if(typeof p=="string")h[p]=t[1];else if(n.isPlainObject(p))h=p;else return v;return l(h,function(g,m,w){v.push({type:"layout",prop:g,value:w})},"",0),v}function o(a,t){var v,p,h,g,m=[];if(p=t[0],h=t[1],v=t[2],g={},typeof p=="string")g[p]=h;else if(n.isPlainObject(p))g=p,v===void 0&&(v=h);else return m;return v===void 0&&(v=null),l(g,function(w,y,x){var f,b;if(Array.isArray(x)){b=x.slice();var d=Math.min(b.length,a.data.length);v&&(d=Math.min(d,v.length)),f=[];for(var T=0;T<d;T++)f[T]=v?v[T]:T}else b=x,f=v?v.slice():null;if(f===null)Array.isArray(b)&&(b=b[0]);else if(Array.isArray(f)){if(!Array.isArray(b)){var k=b;b=[];for(var F=0;F<f.length;F++)b[F]=k}b.length=Math.min(f.length,b.length)}m.push({type:"data",prop:w,traces:f,value:b})},"",0),m}function l(a,t,v,p){Object.keys(a).forEach(function(h){var g=a[h];if(h[0]!=="_"){var m=v+(p>0?".":"")+h;n.isPlainObject(g)?l(g,t,m,p+1):t(m,h,g)}})}},{"../lib":244,"../registry":327}],318:[function(u,te,Y){var i=u("../lib/extend").extendFlat;Y.attributes=function(n,c){n=n||{},c=c||{};var s={valType:"info_array",editType:n.editType,items:[{valType:"number",min:0,max:1,editType:n.editType},{valType:"number",min:0,max:1,editType:n.editType}],dflt:[0,1]};n.name&&n.name+"",n.trace,c.description&&""+c.description;var e={x:i({},s,{}),y:i({},s,{}),editType:n.editType};return n.noGridCell||(e.row={valType:"integer",min:0,dflt:0,editType:n.editType},e.column={valType:"integer",min:0,dflt:0,editType:n.editType}),e},Y.defaults=function(n,c,s,e){var o=e&&e.x||[0,1],l=e&&e.y||[0,1],a=c.grid;if(a){var t=s("domain.column");t!==void 0&&(t<a.columns?o=a._domains.x[t]:delete n.domain.column);var v=s("domain.row");v!==void 0&&(v<a.rows?l=a._domains.y[v]:delete n.domain.row)}var p=s("domain.x",o),h=s("domain.y",l);p[0]<p[1]||(n.domain.x=o.slice()),h[0]<h[1]||(n.domain.y=l.slice())}},{"../lib/extend":238}],319:[function(u,te,Y){te.exports=function(i){var n=i.editType,c=i.colorEditType;c===void 0&&(c=n);var s={family:{valType:"string",noBlank:!0,strict:!0,editType:n},size:{valType:"number",min:1,editType:n},color:{valType:"color",editType:c},editType:n};return i.autoSize&&(s.size.dflt="auto"),i.autoColor&&(s.color.dflt="auto"),i.arrayOk&&(s.family.arrayOk=!0,s.size.arrayOk=!0,s.color.arrayOk=!0),s}},{}],320:[function(u,te,Y){te.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],321:[function(u,te,Y){var i=u("../registry"),n=u("./cartesian/constants").SUBPLOT_PATTERN;Y.getSubplotCalcData=function(c,s,e){var o=i.subplotsRegistry[s];if(!o)return[];for(var l=o.attr,a=[],t=0;t<c.length;t++){var v=c[t],p=v[0].trace;p[l]===e&&a.push(v)}return a},Y.getModuleCalcData=function(c,s){var e=[],o=[],l;if(typeof s=="string"?l=i.getModule(s).plot:typeof s=="function"?l=s:l=s.plot,!l)return[e,c];for(var a=0;a<c.length;a++){var t=c[a],v=t[0].trace;v.visible!==!0||v._length===0||(v._module.plot===l?e.push(t):o.push(t))}return[e,o]},Y.getSubplotData=function(s,e,o){if(!i.subplotsRegistry[e])return[];var l=i.subplotsRegistry[e].attr,a=[],t,v,p;if(e==="gl2d"){var h=o.match(n);v="x"+h[1],p="y"+h[2]}for(var g=0;g<s.length;g++)t=s[g],e==="gl2d"&&i.traceIs(t,"gl2d")?t[l[0]]===v&&t[l[1]]===p&&a.push(t):t[l]===o&&a.push(t);return a}},{"../registry":327,"./cartesian/constants":298}],322:[function(u,te,Y){function i(c,s){var e=[0,0,0,0],o,l;for(o=0;o<4;++o)for(l=0;l<4;++l)e[l]+=c[4*o+l]*s[o];return e}function n(c,s){var e=i(c.projection,i(c.view,i(c.model,[s[0],s[1],s[2],1])));return e}te.exports=n},{}],323:[function(u,te,Y){var i=u("./font_attributes"),n=u("./animation_attributes"),c=u("../components/color/attributes"),s=u("../components/shapes/draw_newshape/attributes"),e=u("../components/selections/draw_newselection/attributes"),o=u("./pad_attributes"),l=u("../lib/extend").extendFlat,a=i({editType:"calc"});a.family.dflt='"Open Sans", verdana, arial, sans-serif',a.size.dflt=12,a.color.dflt=c.defaultLine,te.exports={font:a,title:{text:{valType:"string",editType:"layoutstyle"},font:i({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:l(o({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:c.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:c.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:c.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:s.newshape,activeshape:s.activeshape,newselection:e.newselection,activeselection:e.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:l({},n.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:i({editType:"layoutstyle"})}}},{"../components/color/attributes":102,"../components/selections/draw_newselection/attributes":187,"../components/shapes/draw_newshape/attributes":199,"../lib/extend":238,"./animation_attributes":285,"./font_attributes":319,"./pad_attributes":324}],324:[function(u,te,Y){te.exports=function(i){var n=i.editType;return{t:{valType:"number",dflt:0,editType:n},r:{valType:"number",dflt:0,editType:n},b:{valType:"number",dflt:0,editType:n},l:{valType:"number",dflt:0,editType:n},editType:n}}},{}],325:[function(u,te,Y){var i=u("@plotly/d3"),n=u("d3-time-format").timeFormatLocale,c=u("d3-format").formatLocale,s=u("fast-isnumeric"),e=u("../registry"),o=u("../plot_api/plot_schema"),l=u("../plot_api/plot_template"),a=u("../lib"),t=u("../components/color"),v=u("../constants/numerical").BADNUM,p=u("./cartesian/axis_ids"),h=u("../components/shapes/handle_outline").clearOutline,g=u("./animation_attributes"),m=u("./frame_attributes"),w=u("../plots/get_data").getModuleCalcData,y=a.relinkPrivateKeys,x=a._,f=te.exports={};a.extendFlat(f,e),f.attributes=u("./attributes"),f.attributes.type.values=f.allTypes,f.fontAttrs=u("./font_attributes"),f.layoutAttributes=u("./layout_attributes"),f.fontWeight="normal";var b=f.transformsRegistry,d=u("./command");f.executeAPICommand=d.executeAPICommand,f.computeAPICommandBindings=d.computeAPICommandBindings,f.manageCommandObserver=d.manageCommandObserver,f.hasSimpleAPICommandBindings=d.hasSimpleAPICommandBindings,f.redrawText=function(C){return C=a.getGraphDiv(C),new Promise(function(I){setTimeout(function(){!C._fullLayout||(e.getComponentMethod("annotations","draw")(C),e.getComponentMethod("legend","draw")(C),e.getComponentMethod("colorbar","draw")(C),I(f.previousPromises(C)))},300)})},f.resize=function(C){C=a.getGraphDiv(C);var I,L=new Promise(function(P,B){(!C||a.isHidden(C))&&B(new Error("Resize must be passed a displayed plot div element.")),C._redrawTimer&&clearTimeout(C._redrawTimer),C._resolveResize&&(I=C._resolveResize),C._resolveResize=P,C._redrawTimer=setTimeout(function(){if(!C.layout||C.layout.width&&C.layout.height||a.isHidden(C)){P(C);return}delete C.layout.width,delete C.layout.height;var V=C.changed;C.autoplay=!0,e.call("relayout",C,{autosize:!0}).then(function(){C.changed=V,C._resolveResize===P&&(delete C._resolveResize,P(C))})},100)});return I&&I(L),L},f.previousPromises=function(C){if((C._promises||[]).length)return Promise.all(C._promises).then(function(){C._promises=[]})},f.addLinks=function(C){if(!(!C._context.showLink&&!C._context.showSources)){var I=C._fullLayout,L=a.ensureSingle(I._paper,"text","js-plot-link-container",function(W){W.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:t.defaultLine,"pointer-events":"all"}).each(function(){var q=i.select(this);q.append("tspan").classed("js-link-to-tool",!0),q.append("tspan").classed("js-link-spacer",!0),q.append("tspan").classed("js-sourcelinks",!0)})}),P=L.node(),B={y:I._paper.attr("height")-9};document.body.contains(P)&&P.getComputedTextLength()>=I.width-20?(B["text-anchor"]="start",B.x=5):(B["text-anchor"]="end",B.x=I._paper.attr("width")-7),L.attr(B);var V=L.select(".js-link-to-tool"),N=L.select(".js-link-spacer"),Z=L.select(".js-sourcelinks");C._context.showSources&&C._context.showSources(C),C._context.showLink&&T(C,V),N.text(V.text()&&Z.text()?" - ":"")}};function T(C,I){I.text("");var L=I.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(C._context.linkText+" "+String.fromCharCode(187));if(C._context.sendData)L.on("click",function(){f.sendDataToCloud(C)});else{var P=window.location.pathname.split("/"),B=window.location.search;L.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+P[2].split(".")[0]+"/"+P[1]+B})}}f.sendDataToCloud=function(C){var I=(window.PLOTLYENV||{}).BASE_URL||C._context.plotlyServerURL;if(!!I){C.emit("plotly_beforeexport");var L=i.select(C).append("div").attr("id","hiddenform").style("display","none"),P=L.append("form").attr({action:I+"/external",method:"post",target:"_blank"}),B=P.append("input").attr({type:"text",name:"data"});return B.node().value=f.graphJson(C,!1,"keepdata"),P.node().submit(),L.remove(),C.emit("plotly_afterexport"),!1}};var k=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],F=["year","month","dayMonth","dayMonthYear"];f.supplyDefaults=function(C,I){var L=I&&I.skipUpdateCalc,P=C._fullLayout||{};if(P._skipDefaults){delete P._skipDefaults;return}var B=C._fullLayout={},V=C.layout||{},N=C._fullData||[],Z=C._fullData=[],W=C.data||[],q=C.calcdata||[],re=C._context||{},se;C._transitionData||f.createTransitionData(C),B._dfltTitle={plot:x(C,"Click to enter Plot title"),x:x(C,"Click to enter X axis title"),y:x(C,"Click to enter Y axis title"),colorbar:x(C,"Click to enter Colorscale title"),annotation:x(C,"new text")},B._traceWord=x(C,"trace");var _e=E(C,k);if(B._mapboxAccessToken=re.mapboxAccessToken,P._initialAutoSizeIsDone){var ge=P.width,Ae=P.height;f.supplyLayoutGlobalDefaults(V,B,_e),V.width||(B.width=ge),V.height||(B.height=Ae),f.sanitizeMargins(B)}else{f.supplyLayoutGlobalDefaults(V,B,_e);var Ce=!V.width||!V.height,ue=B.autosize,he=re.autosizable,we=Ce&&(ue||he);we?f.plotAutoSize(C,V,B):Ce&&f.sanitizeMargins(B),!ue&&Ce&&(V.width=B.width,V.height=B.height)}B._d3locale=A(_e,B.separators),B._extraFormat=E(C,F),B._initialAutoSizeIsDone=!0,B._dataLength=W.length,B._modules=[],B._visibleModules=[],B._basePlotModules=[];var ke=B._subplots=S(),Pe=B._splomAxes={x:{},y:{}},fe=B._splomSubplots={};B._splomGridDflt={},B._scatterStackOpts={},B._firstScatter={},B._alignmentOpts={},B._colorAxes={},B._requestRangeslider={},B._traceUids=M(N,W),B._globalTransforms=(C._context||{}).globalTransforms,f.supplyDataDefaults(W,Z,V,B);var De=Object.keys(Pe.x),Fe=Object.keys(Pe.y);if(De.length>1&&Fe.length>1){for(e.getComponentMethod("grid","sizeDefaults")(V,B),se=0;se<De.length;se++)a.pushUnique(ke.xaxis,De[se]);for(se=0;se<Fe.length;se++)a.pushUnique(ke.yaxis,Fe[se]);for(var et in fe)a.pushUnique(ke.cartesian,et)}if(B._has=f._hasPlotType.bind(B),N.length===Z.length)for(se=0;se<Z.length;se++)y(Z[se],N[se]);f.supplyLayoutModuleDefaults(V,B,Z,C._transitionData);var Xe=B._visibleModules,qe=[];for(se=0;se<Xe.length;se++){var rt=Xe[se].crossTraceDefaults;rt&&a.pushUnique(qe,rt)}for(se=0;se<qe.length;se++)qe[se](Z,B);B._hasOnlyLargeSploms=B._basePlotModules.length===1&&B._basePlotModules[0].name==="splom"&&De.length>15&&Fe.length>15&&B.shapes.length===0&&B.images.length===0,f.linkSubplots(Z,B,N,P),f.cleanPlot(Z,B,N,P);var ut=!!(P._has&&P._has("gl2d")),yt=!!(B._has&&B._has("gl2d")),Rt=!!(P._has&&P._has("cartesian")),bt=!!(B._has&&B._has("cartesian")),je=Rt||ut,ct=bt||yt;je&&!ct?P._bgLayer.remove():ct&&!je&&(B._shouldCreateBgLayer=!0),P._zoomlayer&&!C._dragging&&h({_fullLayout:P}),z(Z,B),y(B,P),e.getComponentMethod("colorscale","crossTraceDefaults")(Z,B),B._preGUI||(B._preGUI={}),B._tracePreGUI||(B._tracePreGUI={});var Dt=B._tracePreGUI,Lt={},de;for(de in Dt)Lt[de]="old";for(se=0;se<Z.length;se++)de=Z[se]._fullInput.uid,Lt[de]||(Dt[de]={}),Lt[de]="new";for(de in Lt)Lt[de]==="old"&&delete Dt[de];R(B),e.getComponentMethod("rangeslider","makeData")(B),!L&&q.length===Z.length&&f.supplyDefaultsUpdateCalc(q,Z)},f.supplyDefaultsUpdateCalc=function(C,I){for(var L=0;L<I.length;L++){var P=I[L],B=(C[L]||[])[0];if(B&&B.trace){var V=B.trace;if(V._hasCalcTransform){var N=V._arrayAttrs,Z,W,q;for(Z=0;Z<N.length;Z++)W=N[Z],q=a.nestedProperty(V,W).get().slice(),a.nestedProperty(P,W).set(q)}B.trace=P}}};function M(C,I){var L=I.length,P=[],B,V;for(B=0;B<C.length;B++){var N=C[B]._fullInput;N!==V&&P.push(N),V=N}var Z=P.length,W=new Array(L),q={};function re(ge,Ae){W[Ae]=ge,q[ge]=1}function se(ge,Ae){if(ge&&typeof ge=="string"&&!q[ge])return re(ge,Ae),!0}for(B=0;B<L;B++){var _e=I[B].uid;typeof _e=="number"&&(_e=String(_e)),!se(_e,B)&&(B<Z&&se(P[B].uid,B)||re(a.randstr(q),B))}return W}function S(){var C=e.collectableSubplotTypes,I={},L,P;if(!C){C=[];var B=e.subplotsRegistry;for(var V in B){var N=B[V],Z=N.attr;if(Z&&(C.push(V),Array.isArray(Z)))for(P=0;P<Z.length;P++)a.pushUnique(C,Z[P])}}for(L=0;L<C.length;L++)I[C[L]]=[];return I}function E(C,I){var L=C._context.locale;L||(L="en-US");var P=!1,B={};function V(se){for(var _e=!0,ge=0;ge<I.length;ge++){var Ae=I[ge];B[Ae]||(se[Ae]?B[Ae]=se[Ae]:_e=!1)}_e&&(P=!0)}for(var N=0;N<2;N++){for(var Z=C._context.locales,W=0;W<2;W++){var q=(Z[L]||{}).format;if(q&&(V(q),P))break;Z=e.localeRegistry}var re=L.split("-")[0];if(P||re===L)break;L=re}return P||V(e.localeRegistry.en.format),B}function A(C,I){return C.decimal=I.charAt(0),C.thousands=I.charAt(1),{numberFormat:function(L){try{L=c(C).format(a.adjustFormat(L))}catch{return a.warnBadFormat(L),a.noFormat}return L},timeFormat:n(C).utcFormat}}function z(C,I){var L,P=[];I.meta&&(L=I._meta={meta:I.meta,layout:{meta:I.meta}});for(var B=0;B<C.length;B++){var V=C[B];V.meta?P[V.index]=V._meta={meta:V.meta}:I.meta&&(V._meta={meta:I.meta}),I.meta&&(V._meta.layout={meta:I.meta})}P.length&&(L||(L=I._meta={}),L.data=P)}f.createTransitionData=function(C){C._transitionData||(C._transitionData={}),C._transitionData._frames||(C._transitionData._frames=[]),C._transitionData._frameHash||(C._transitionData._frameHash={}),C._transitionData._counter||(C._transitionData._counter=0),C._transitionData._interruptCallbacks||(C._transitionData._interruptCallbacks=[])},f._hasPlotType=function(C){var I,L=this._basePlotModules||[];for(I=0;I<L.length;I++)if(L[I].name===C)return!0;var P=this._modules||[];for(I=0;I<P.length;I++){var B=P[I].name;if(B===C)return!0;var V=e.modules[B];if(V&&V.categories[C])return!0}return!1},f.cleanPlot=function(C,I,L,P){var B,V,N=P._basePlotModules||[];for(B=0;B<N.length;B++){var Z=N[B];Z.clean&&Z.clean(C,I,L,P)}var W=P._has&&P._has("gl"),q=I._has&&I._has("gl");W&&!q&&P._glcontainer!==void 0&&(P._glcontainer.selectAll(".gl-canvas").remove(),P._glcontainer.selectAll(".no-webgl").remove(),P._glcanvas=null);var re=!!P._infolayer;e:for(B=0;B<L.length;B++){var se=L[B],_e=se.uid;for(V=0;V<C.length;V++){var ge=C[V];if(_e===ge.uid)continue e}re&&P._infolayer.select(".cb"+_e).remove()}},f.linkSubplots=function(C,I,L,P){var B,V,N=P._plots||{},Z=I._plots={},W=I._subplots,q={_fullData:C,_fullLayout:I},re=W.cartesian.concat(W.gl2d||[]);for(B=0;B<re.length;B++){var se=re[B],_e=N[se],ge=p.getFromId(q,se,"x"),Ae=p.getFromId(q,se,"y"),Ce;for(_e?Ce=Z[se]=_e:(Ce=Z[se]={},Ce.id=se),ge._counterAxes.push(Ae._id),Ae._counterAxes.push(ge._id),ge._subplotsWith.push(se),Ae._subplotsWith.push(se),Ce.xaxis=ge,Ce.yaxis=Ae,Ce._hasClipOnAxisFalse=!1,V=0;V<C.length;V++){var ue=C[V];if(ue.xaxis===Ce.xaxis._id&&ue.yaxis===Ce.yaxis._id&&ue.cliponaxis===!1){Ce._hasClipOnAxisFalse=!0;break}}}var he=p.list(q,null,!0),we;for(B=0;B<he.length;B++){we=he[B];var ke=null;we.overlaying&&(ke=p.getFromId(q,we.overlaying),ke&&ke.overlaying&&(we.overlaying=!1,ke=null)),we._mainAxis=ke||we,ke&&(we.domain=ke.domain.slice()),we._anchorAxis=we.anchor==="free"?null:p.getFromId(q,we.anchor)}for(B=0;B<he.length;B++)if(we=he[B],we._counterAxes.sort(p.idSort),we._subplotsWith.sort(a.subplotSort),we._mainSubplot=H(we,I),we._counterAxes.length&&(we.spikemode&&we.spikemode.indexOf("across")!==-1||we.automargin&&we.mirror&&we.anchor!=="free"||e.getComponentMethod("rangeslider","isVisible")(we))){var Pe=1,fe=0;for(V=0;V<we._counterAxes.length;V++){var De=p.getFromId(q,we._counterAxes[V]);Pe=Math.min(Pe,De.domain[0]),fe=Math.max(fe,De.domain[1])}Pe<fe&&(we._counterDomainMin=Pe,we._counterDomainMax=fe)}};function H(C,I){var L={_fullLayout:I},P=C._id.charAt(0)==="x",B=C._mainAxis._anchorAxis,V="",N="",Z="";if(B&&(Z=B._mainAxis._id,V=P?C._id+Z:Z+C._id),!V||!I._plots[V]){V="";for(var W=C._counterAxes,q=0;q<W.length;q++){var re=W[q],se=P?C._id+re:re+C._id;N||(N=se);var _e=p.getFromId(L,re);if(Z&&_e.overlaying===Z){V=se;break}}}return V||N}f.clearExpandedTraceDefaultColors=function(C){var I,L,P;function B(N,Z,W,q){L[q]=Z,L.length=q+1,N.valType==="color"&&N.dflt===void 0&&I.push(L.join("."))}for(L=[],I=C._module._colorAttrs,I||(C._module._colorAttrs=I=[],o.crawl(C._module.attributes,B)),P=0;P<I.length;P++){var V=a.nestedProperty(C,"_input."+I[P]);V.get()||a.nestedProperty(C,I[P]).set(null)}},f.supplyDataDefaults=function(C,I,L,P){var B=P._modules,V=P._visibleModules,N=P._basePlotModules,Z=0,W=0,q,re,se;P._transformModules=[];function _e(Fe){I.push(Fe);var et=Fe._module;!et||(a.pushUnique(B,et),Fe.visible===!0&&a.pushUnique(V,et),a.pushUnique(N,Fe._module.basePlotModule),Z++,Fe._input.visible!==!1&&W++)}var ge={},Ae=[],Ce=(L.template||{}).data||{},ue=l.traceTemplater(Ce);for(q=0;q<C.length;q++){if(se=C[q],re=ue.newTrace(se),re.uid=P._traceUids[q],f.supplyTraceDefaults(se,re,W,P,q),re.index=q,re._input=se,re._expandedIndex=Z,re.transforms&&re.transforms.length)for(var he=se.visible!==!1&&re.visible===!1,we=X(re,I,L,P),ke=0;ke<we.length;ke++){var Pe=we[ke],fe={_template:re._template,type:re.type,uid:re.uid+ke};he&&Pe.visible===!1&&delete Pe.visible,f.supplyTraceDefaults(Pe,fe,Z,P,q),y(fe,Pe),fe.index=q,fe._input=se,fe._fullInput=re,fe._expandedIndex=Z,fe._expandedInput=Pe,_e(fe)}else re._fullInput=re,re._expandedInput=re,_e(re);e.traceIs(re,"carpetAxis")&&(ge[re.carpet]=re),e.traceIs(re,"carpetDependent")&&Ae.push(q)}for(q=0;q<Ae.length;q++)if(re=I[Ae[q]],!!re.visible){var De=ge[re.carpet];if(re._carpet=De,!De||!De.visible){re.visible=!1;continue}re.xaxis=De.xaxis,re.yaxis=De.yaxis}},f.supplyAnimationDefaults=function(C){C=C||{};var I,L={};function P(B,V){return a.coerce(C||{},L,g,B,V)}if(P("mode"),P("direction"),P("fromcurrent"),Array.isArray(C.frame))for(L.frame=[],I=0;I<C.frame.length;I++)L.frame[I]=f.supplyAnimationFrameDefaults(C.frame[I]||{});else L.frame=f.supplyAnimationFrameDefaults(C.frame||{});if(Array.isArray(C.transition))for(L.transition=[],I=0;I<C.transition.length;I++)L.transition[I]=f.supplyAnimationTransitionDefaults(C.transition[I]||{});else L.transition=f.supplyAnimationTransitionDefaults(C.transition||{});return L},f.supplyAnimationFrameDefaults=function(C){var I={};function L(P,B){return a.coerce(C||{},I,g.frame,P,B)}return L("duration"),L("redraw"),I},f.supplyAnimationTransitionDefaults=function(C){var I={};function L(P,B){return a.coerce(C||{},I,g.transition,P,B)}return L("duration"),L("easing"),I},f.supplyFrameDefaults=function(C){var I={};function L(P,B){return a.coerce(C,I,m,P,B)}return L("group"),L("name"),L("traces"),L("baseframe"),L("data"),L("layout"),I},f.supplyTraceDefaults=function(C,I,L,P,B){var V=P.colorway||t.defaults,N=V[L%V.length],Z;function W(we,ke){return a.coerce(C,I,f.attributes,we,ke)}var q=W("visible");W("type"),W("name",P._traceWord+" "+B),W("uirevision",P.uirevision);var re=f.getModule(I);if(I._module=re,re){var se=re.basePlotModule,_e=se.attr,ge=se.attributes;if(_e&&ge){var Ae=P._subplots,Ce="";if(q||se.name!=="gl2d"){if(Array.isArray(_e))for(Z=0;Z<_e.length;Z++){var ue=_e[Z],he=a.coerce(C,I,ge,ue);Ae[ue]&&a.pushUnique(Ae[ue],he),Ce+=he}else Ce=a.coerce(C,I,ge,_e);Ae[se.name]&&a.pushUnique(Ae[se.name],Ce)}}}return q&&(W("customdata"),W("ids"),W("meta"),e.traceIs(I,"showLegend")?(a.coerce(C,I,re.attributes.showlegend?re.attributes:f.attributes,"showlegend"),W("legendwidth"),W("legendgroup"),W("legendgrouptitle.text"),W("legendrank"),I._dfltShowLegend=!0):I._dfltShowLegend=!1,re&&re.supplyDefaults(C,I,N,P),e.traceIs(I,"noOpacity")||W("opacity"),e.traceIs(I,"notLegendIsolatable")&&(I.visible=!!I.visible),e.traceIs(I,"noHover")||(I.hovertemplate||a.coerceHoverinfo(C,I,P),I.type!=="parcats"&&e.getComponentMethod("fx","supplyDefaults")(C,I,N,P)),re&&re.selectPoints&&W("selectedpoints"),f.supplyTransformDefaults(C,I,P)),I};function Q(C){var I=C.transforms;if(Array.isArray(I)&&I.length)for(var L=0;L<I.length;L++){var P=I[L],B=P._module||b[P.type];if(B&&B.makesData)return!0}return!1}f.hasMakesDataTransform=Q,f.supplyTransformDefaults=function(C,I,L){if(!!(I._length||Q(C))){var P=L._globalTransforms||[],B=L._transformModules||[];if(!(!Array.isArray(C.transforms)&&P.length===0))for(var V=C.transforms||[],N=P.concat(V),Z=I.transforms=[],W=0;W<N.length;W++){var q=N[W],re=q.type,se=b[re],_e,ge=!(q._module&&q._module===se),Ae=se&&typeof se.transform=="function";se||a.warn("Unrecognized transform type "+re+"."),se&&se.supplyDefaults&&(ge||Ae)?(_e=se.supplyDefaults(q,I,L,C),_e.type=re,_e._module=se,a.pushUnique(B,se)):_e=a.extendFlat({},q),Z.push(_e)}}};function X(C,I,L,P){for(var B=C.transforms,V=[C],N=0;N<B.length;N++){var Z=B[N],W=b[Z.type];W&&W.transform&&(V=W.transform(V,{transform:Z,fullTrace:C,fullData:I,layout:L,fullLayout:P,transformIndex:N}))}return V}f.supplyLayoutGlobalDefaults=function(C,I,L){function P(q,re){return a.coerce(C,I,f.layoutAttributes,q,re)}var B=C.template;a.isPlainObject(B)&&(I.template=B,I._template=B.layout,I._dataTemplate=B.data),P("autotypenumbers");var V=a.coerceFont(P,"font"),N=V.size;a.coerceFont(P,"title.font",a.extendFlat({},V,{size:Math.round(N*1.4)})),P("title.text",I._dfltTitle.plot),P("title.xref"),P("title.yref"),P("title.x"),P("title.y"),P("title.xanchor"),P("title.yanchor"),P("title.pad.t"),P("title.pad.r"),P("title.pad.b"),P("title.pad.l");var Z=P("uniformtext.mode");Z&&P("uniformtext.minsize"),P("autosize",!(C.width&&C.height)),P("width"),P("height"),P("minreducedwidth"),P("minreducedheight"),P("margin.l"),P("margin.r"),P("margin.t"),P("margin.b"),P("margin.pad"),P("margin.autoexpand"),C.width&&C.height&&f.sanitizeMargins(I),e.getComponentMethod("grid","sizeDefaults")(C,I),P("paper_bgcolor"),P("separators",L.decimal+L.thousands),P("hidesources"),P("colorway"),P("datarevision");var W=P("uirevision");P("editrevision",W),P("selectionrevision",W),e.getComponentMethod("modebar","supplyLayoutDefaults")(C,I),e.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(C,I,P),e.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(C,I,P),P("meta"),a.isPlainObject(C.transition)&&(P("transition.duration"),P("transition.easing"),P("transition.ordering")),e.getComponentMethod("calendars","handleDefaults")(C,I,"calendar"),e.getComponentMethod("fx","supplyLayoutGlobalDefaults")(C,I,P)};function ie(C){return typeof C=="string"&&C.substr(C.length-2)==="px"&&parseFloat(C)}f.plotAutoSize=function(I,L,P){var B=I._context||{},V=B.frameMargins,N,Z,W=a.isPlotDiv(I);if(W&&I.emit("plotly_autosize"),B.fillFrame)N=window.innerWidth,Z=window.innerHeight,document.body.style.overflow="hidden";else{var q=W?window.getComputedStyle(I):{};if(N=ie(q.width)||ie(q.maxWidth)||P.width,Z=ie(q.height)||ie(q.maxHeight)||P.height,s(V)&&V>0){var re=1-2*V;N=Math.round(re*N),Z=Math.round(re*Z)}}var se=f.layoutAttributes.width.min,_e=f.layoutAttributes.height.min;N<se&&(N=se),Z<_e&&(Z=_e);var ge=!L.width&&Math.abs(P.width-N)>1,Ae=!L.height&&Math.abs(P.height-Z)>1;(Ae||ge)&&(ge&&(P.width=N),Ae&&(P.height=Z)),I._initialAutoSize||(I._initialAutoSize={width:N,height:Z}),f.sanitizeMargins(P)},f.supplyLayoutModuleDefaults=function(C,I,L,P){var B=e.componentsRegistry,V=I._basePlotModules,N,Z,W,q=e.subplotsRegistry.cartesian;for(N in B)W=B[N],W.includeBasePlot&&W.includeBasePlot(C,I);V.length||V.push(q),I._has("cartesian")&&(e.getComponentMethod("grid","contentDefaults")(C,I),q.finalizeSubplots(C,I));for(var re in I._subplots)I._subplots[re].sort(a.subplotSort);for(Z=0;Z<V.length;Z++)W=V[Z],W.supplyLayoutDefaults&&W.supplyLayoutDefaults(C,I,L);var se=I._modules;for(Z=0;Z<se.length;Z++)W=se[Z],W.supplyLayoutDefaults&&W.supplyLayoutDefaults(C,I,L);var _e=I._transformModules;for(Z=0;Z<_e.length;Z++)W=_e[Z],W.supplyLayoutDefaults&&W.supplyLayoutDefaults(C,I,L,P);for(N in B)W=B[N],W.supplyLayoutDefaults&&W.supplyLayoutDefaults(C,I,L)},f.purge=function(C){var I=C._fullLayout||{};I._glcontainer!==void 0&&(I._glcontainer.selectAll(".gl-canvas").remove(),I._glcontainer.remove(),I._glcanvas=null),I._modeBar&&I._modeBar.destroy(),C._transitionData&&(C._transitionData._interruptCallbacks&&(C._transitionData._interruptCallbacks.length=0),C._transitionData._animationRaf&&window.cancelAnimationFrame(C._transitionData._animationRaf)),a.clearThrottle(),a.clearResponsive(C),delete C.data,delete C.layout,delete C._fullData,delete C._fullLayout,delete C.calcdata,delete C.empty,delete C.fid,delete C.undoqueue,delete C.undonum,delete C.autoplay,delete C.changed,delete C._promises,delete C._redrawTimer,delete C._hmlumcount,delete C._hmpixcount,delete C._transitionData,delete C._transitioning,delete C._initialAutoSize,delete C._transitioningWithDuration,delete C._dragging,delete C._dragged,delete C._dragdata,delete C._hoverdata,delete C._snapshotInProgress,delete C._editing,delete C._mouseDownTime,delete C._legendMouseDownTime,C.removeAllListeners&&C.removeAllListeners()},f.style=function(C){var I=C._fullLayout._visibleModules,L=[],P;for(P=0;P<I.length;P++){var B=I[P];B.style&&a.pushUnique(L,B.style)}for(P=0;P<L.length;P++)L[P](C)},f.sanitizeMargins=function(C){if(!(!C||!C.margin)){var I=C.width,L=C.height,P=C.margin,B=I-(P.l+P.r),V=L-(P.t+P.b),N;B<0&&(N=(I-1)/(P.l+P.r),P.l=Math.floor(N*P.l),P.r=Math.floor(N*P.r)),V<0&&(N=(L-1)/(P.t+P.b),P.t=Math.floor(N*P.t),P.b=Math.floor(N*P.b))}},f.clearAutoMarginIds=function(C){C._fullLayout._pushmarginIds={}},f.allowAutoMargin=function(C,I){C._fullLayout._pushmarginIds[I]=1};function R(C){var I=C.margin;if(!C._size){var L=C._size={l:Math.round(I.l),r:Math.round(I.r),t:Math.round(I.t),b:Math.round(I.b),p:Math.round(I.pad)};L.w=Math.round(C.width)-L.l-L.r,L.h=Math.round(C.height)-L.t-L.b}C._pushmargin||(C._pushmargin={}),C._pushmarginIds||(C._pushmarginIds={})}var O=2,U=2;f.autoMargin=function(C,I,L){var P=C._fullLayout,B=P.width,V=P.height,N=P.margin,Z=P.minreducedwidth,W=P.minreducedheight,q=a.constrain(B-N.l-N.r,O,Z),re=a.constrain(V-N.t-N.b,U,W),se=Math.max(0,B-q),_e=Math.max(0,V-re),ge=P._pushmargin,Ae=P._pushmarginIds;if(N.autoexpand!==!1){if(!L)delete ge[I],delete Ae[I];else{var Ce=L.pad;if(Ce===void 0&&(Ce=Math.min(12,N.l,N.r,N.t,N.b)),se){var ue=(L.l+L.r)/se;ue>1&&(L.l/=ue,L.r/=ue)}if(_e){var he=(L.t+L.b)/_e;he>1&&(L.t/=he,L.b/=he)}var we=L.xl!==void 0?L.xl:L.x,ke=L.xr!==void 0?L.xr:L.x,Pe=L.yt!==void 0?L.yt:L.y,fe=L.yb!==void 0?L.yb:L.y;ge[I]={l:{val:we,size:L.l+Ce},r:{val:ke,size:L.r+Ce},b:{val:fe,size:L.b+Ce},t:{val:Pe,size:L.t+Ce}},Ae[I]=1}if(!P._replotting)return f.doAutoMargin(C)}},f.doAutoMargin=function(C){var I=C._fullLayout,L=I.width,P=I.height;I._size||(I._size={}),R(I);var B=I._size,V=I.margin,N=a.extendFlat({},B),Z=V.l,W=V.r,q=V.t,re=V.b,se=I._pushmargin,_e=I._pushmarginIds,ge=I.minreducedwidth,Ae=I.minreducedheight;if(I.margin.autoexpand!==!1){for(var Ce in se)_e[Ce]||delete se[Ce];se.base={l:{val:0,size:Z},r:{val:1,size:W},t:{val:1,size:q},b:{val:0,size:re}};for(var ue in se){var he=se[ue].l||{},we=se[ue].b||{},ke=he.val,Pe=he.size,fe=we.val,De=we.size;for(var Fe in se){if(s(Pe)&&se[Fe].r){var et=se[Fe].r.val,Xe=se[Fe].r.size;if(et>ke){var qe=(Pe*et+(Xe-L)*ke)/(et-ke),rt=(Xe*(1-ke)+(Pe-L)*(1-et))/(et-ke);qe+rt>Z+W&&(Z=qe,W=rt)}}if(s(De)&&se[Fe].t){var ut=se[Fe].t.val,yt=se[Fe].t.size;if(ut>fe){var Rt=(De*ut+(yt-P)*fe)/(ut-fe),bt=(yt*(1-fe)+(De-P)*(1-ut))/(ut-fe);Rt+bt>re+q&&(re=Rt,q=bt)}}}}}var je=a.constrain(L-V.l-V.r,O,ge),ct=a.constrain(P-V.t-V.b,U,Ae),Dt=Math.max(0,L-je),Lt=Math.max(0,P-ct);if(Dt){var de=(Z+W)/Dt;de>1&&(Z/=de,W/=de)}if(Lt){var Re=(re+q)/Lt;Re>1&&(re/=Re,q/=Re)}if(B.l=Math.round(Z),B.r=Math.round(W),B.t=Math.round(q),B.b=Math.round(re),B.p=Math.round(V.pad),B.w=Math.round(L)-B.l-B.r,B.h=Math.round(P)-B.t-B.b,!I._replotting&&f.didMarginChange(N,B)){"_redrawFromAutoMarginCount"in I?I._redrawFromAutoMarginCount++:I._redrawFromAutoMarginCount=1;var ze=3*(1+Object.keys(_e).length);if(I._redrawFromAutoMarginCount<ze)return e.call("_doPlot",C);I._size=N,a.warn("Too many auto-margin redraws.")}K(C)};function K(C){var I=p.list(C,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(L){for(var P=0;P<I.length;P++){var B=I[P][L];B&&B()}})}var ee=["l","r","t","b","p","w","h"];f.didMarginChange=function(C,I){for(var L=0;L<ee.length;L++){var P=ee[L],B=C[P],V=I[P];if(!s(B)||Math.abs(V-B)>1)return!0}return!1},f.graphJson=function(C,I,L,P,B,V){(B&&I&&!C._fullData||B&&!I&&!C._fullLayout)&&f.supplyDefaults(C);var N=B?C._fullData:C.data,Z=B?C._fullLayout:C.layout,W=(C._transitionData||{})._frames;function q(_e,ge){if(typeof _e=="function")return ge?"_function_":null;if(a.isPlainObject(_e)){var Ae={},Ce;return Object.keys(_e).sort().forEach(function(ue){if(["_","["].indexOf(ue.charAt(0))===-1){if(typeof _e[ue]=="function"){ge&&(Ae[ue]="_function");return}if(L==="keepdata"){if(ue.substr(ue.length-3)==="src")return}else if(L==="keepstream"){if(Ce=_e[ue+"src"],typeof Ce=="string"&&Ce.indexOf(":")>0&&!a.isPlainObject(_e.stream))return}else if(L!=="keepall"&&(Ce=_e[ue+"src"],typeof Ce=="string"&&Ce.indexOf(":")>0))return;Ae[ue]=q(_e[ue],ge)}}),Ae}return Array.isArray(_e)?_e.map(function(ue){return q(ue,ge)}):a.isTypedArray(_e)?a.simpleMap(_e,a.identity):a.isJSDate(_e)?a.ms2DateTimeLocal(+_e):_e}var re={data:(N||[]).map(function(_e){var ge=q(_e);return I&&delete ge.fit,ge})};if(!I&&(re.layout=q(Z),B)){var se=Z._size;re.layout.computed={margin:{b:se.b,l:se.l,r:se.r,t:se.t}}}return W&&(re.frames=q(W)),V&&(re.config=q(C._context,!0)),P==="object"?re:JSON.stringify(re)},f.modifyFrames=function(C,I){var L,P,B,V=C._transitionData._frames,N=C._transitionData._frameHash;for(L=0;L<I.length;L++)switch(P=I[L],P.type){case"replace":B=P.value;var Z=(V[P.index]||{}).name,W=B.name;V[P.index]=N[W]=B,W!==Z&&(delete N[Z],N[W]=B);break;case"insert":B=P.value,N[B.name]=B,V.splice(P.index,0,B);break;case"delete":B=V[P.index],delete N[B.name],V.splice(P.index,1);break}return Promise.resolve()},f.computeFrame=function(C,I){var L=C._transitionData._frameHash,P,B,V,N;if(!I)throw new Error("computeFrame must be given a string frame name");var Z=L[I.toString()];if(!Z)return!1;for(var W=[Z],q=[Z.name];Z.baseframe&&(Z=L[Z.baseframe.toString()])&&q.indexOf(Z.name)===-1;)W.push(Z),q.push(Z.name);for(var re={};Z=W.pop();)if(Z.layout&&(re.layout=f.extendLayout(re.layout,Z.layout)),Z.data){if(re.data||(re.data=[]),B=Z.traces,!B)for(B=[],P=0;P<Z.data.length;P++)B[P]=P;for(re.traces||(re.traces=[]),P=0;P<Z.data.length;P++)V=B[P],V!=null&&(N=re.traces.indexOf(V),N===-1&&(N=re.data.length,re.traces[N]=V),re.data[N]=f.extendTrace(re.data[N],Z.data[P]))}return re},f.recomputeFrameHash=function(C){for(var I=C._transitionData._frameHash={},L=C._transitionData._frames,P=0;P<L.length;P++){var B=L[P];B&&B.name&&(I[B.name]=B)}},f.extendObjectWithContainers=function(C,I,L){var P,B,V,N,Z,W,q,re,se=a.extendDeepNoArrays({},I||{}),_e=a.expandObjectPaths(se),ge={};if(L&&L.length)for(V=0;V<L.length;V++)P=a.nestedProperty(_e,L[V]),B=P.get(),B===void 0?a.nestedProperty(ge,L[V]).set(null):(P.set(null),a.nestedProperty(ge,L[V]).set(B));if(C=a.extendDeepNoArrays(C||{},_e),L&&L.length){for(V=0;V<L.length;V++)if(Z=a.nestedProperty(ge,L[V]),q=Z.get(),!!q){for(W=a.nestedProperty(C,L[V]),re=W.get(),Array.isArray(re)||(re=[],W.set(re)),N=0;N<q.length;N++){var Ae=q[N];Ae===null?re[N]=null:re[N]=f.extendObjectWithContainers(re[N],Ae)}W.set(re)}}return C},f.dataArrayContainers=["transforms","dimensions"],f.layoutArrayContainers=e.layoutArrayContainers,f.extendTrace=function(C,I){return f.extendObjectWithContainers(C,I,f.dataArrayContainers)},f.extendLayout=function(C,I){return f.extendObjectWithContainers(C,I,f.layoutArrayContainers)},f.transition=function(C,I,L,P,B,V){var N={redraw:B.redraw},Z={},W=[];return N.prepareFn=function(){for(var q=Array.isArray(I)?I.length:0,re=P.slice(0,q),se=0;se<re.length;se++){var _e=re[se],ge=C._fullData[_e],Ae=ge._module;if(!!Ae){if(Ae.animatable){var Ce=Ae.basePlotModule.name;Z[Ce]||(Z[Ce]=[]),Z[Ce].push(_e)}C.data[re[se]]=f.extendTrace(C.data[re[se]],I[se])}}var ue=a.expandObjectPaths(a.extendDeepNoArrays({},L)),he=/^[xy]axis[0-9]*$/;for(var we in ue)!he.test(we)||delete ue[we].range;f.extendLayout(C.layout,ue),delete C.calcdata,f.supplyDefaults(C),f.doCalcdata(C);var ke=a.expandObjectPaths(L);if(ke){var Pe=C._fullLayout._plots;for(var fe in Pe){var De=Pe[fe],Fe=De.xaxis,et=De.yaxis,Xe=Fe.range.slice(),qe=et.range.slice(),rt=null,ut=null,yt=null,Rt=null;Array.isArray(ke[Fe._name+".range"])?rt=ke[Fe._name+".range"].slice():Array.isArray((ke[Fe._name]||{}).range)&&(rt=ke[Fe._name].range.slice()),Array.isArray(ke[et._name+".range"])?ut=ke[et._name+".range"].slice():Array.isArray((ke[et._name]||{}).range)&&(ut=ke[et._name].range.slice()),Xe&&rt&&(Fe.r2l(Xe[0])!==Fe.r2l(rt[0])||Fe.r2l(Xe[1])!==Fe.r2l(rt[1]))&&(yt={xr0:Xe,xr1:rt}),qe&&ut&&(et.r2l(qe[0])!==et.r2l(ut[0])||et.r2l(qe[1])!==et.r2l(ut[1]))&&(Rt={yr0:qe,yr1:ut}),(yt||Rt)&&W.push(a.extendFlat({plotinfo:De},yt,Rt))}}return Promise.resolve()},N.runFn=function(q){var re,se=C._fullLayout._basePlotModules,_e=W.length,ge;if(L)for(ge=0;ge<se.length;ge++)se[ge].transitionAxes&&se[ge].transitionAxes(C,W,V,q);_e?(re=a.extendFlat({},V),re.duration=0,delete Z.cartesian):re=V;for(var Ae in Z){var Ce=Z[Ae],ue=C._fullData[Ce[0]]._module;ue.basePlotModule.plot(C,Ce,re,q)}},ne(C,V,N)},f.transitionFromReact=function(C,I,L,P){var B=C._fullLayout,V=B.transition,N={},Z=[];return N.prepareFn=function(){var W=B._plots;N.redraw=!1,I.anim==="some"&&(N.redraw=!0),L.anim==="some"&&(N.redraw=!0);for(var q in W){var re=W[q],se=re.xaxis,_e=re.yaxis,ge=P[se._name].range.slice(),Ae=P[_e._name].range.slice(),Ce=se.range.slice(),ue=_e.range.slice();se.setScale(),_e.setScale();var he=null,we=null;(se.r2l(ge[0])!==se.r2l(Ce[0])||se.r2l(ge[1])!==se.r2l(Ce[1]))&&(he={xr0:ge,xr1:Ce}),(_e.r2l(Ae[0])!==_e.r2l(ue[0])||_e.r2l(Ae[1])!==_e.r2l(ue[1]))&&(we={yr0:Ae,yr1:ue}),(he||we)&&Z.push(a.extendFlat({plotinfo:re},he,we))}return Promise.resolve()},N.runFn=function(W){for(var q=C._fullData,re=C._fullLayout,se=re._basePlotModules,_e,ge,Ae,Ce=[],ue=0;ue<q.length;ue++)Ce.push(ue);function he(){if(!!C._fullLayout)for(var ke=0;ke<se.length;ke++)se[ke].transitionAxes&&se[ke].transitionAxes(C,Z,_e,W)}function we(){if(!!C._fullLayout)for(var ke=0;ke<se.length;ke++)se[ke].plot(C,Ae,ge,W)}Z.length&&I.anim?V.ordering==="traces first"?(_e=a.extendFlat({},V,{duration:0}),Ae=Ce,ge=V,setTimeout(he,V.duration),we()):(_e=V,Ae=null,ge=a.extendFlat({},V,{duration:0}),setTimeout(we,_e.duration),he()):Z.length?(_e=V,he()):I.anim&&(Ae=Ce,ge=V,we())},ne(C,V,N)};function ne(C,I,L){var P=!1;function B(se){var _e=Promise.resolve();if(!se)return _e;for(;se.length;)_e=_e.then(se.shift());return _e}function V(se){if(!!se)for(;se.length;)se.shift()}function N(){return C.emit("plotly_transitioning",[]),new Promise(function(se){C._transitioning=!0,I.duration>0&&(C._transitioningWithDuration=!0),C._transitionData._interruptCallbacks.push(function(){P=!0}),L.redraw&&C._transitionData._interruptCallbacks.push(function(){return e.call("redraw",C)}),C._transitionData._interruptCallbacks.push(function(){C.emit("plotly_transitioninterrupted",[])});var _e=0,ge=0;function Ae(){return _e++,function(){ge++,!P&&ge===_e&&Z(se)}}L.runFn(Ae),setTimeout(Ae())})}function Z(se){if(!!C._transitionData)return V(C._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(L.redraw)return e.call("redraw",C)}).then(function(){C._transitioning=!1,C._transitioningWithDuration=!1,C.emit("plotly_transitioned",[])}).then(se)}function W(){if(!!C._transitionData)return C._transitioning=!1,B(C._transitionData._interruptCallbacks)}var q=[f.previousPromises,W,L.prepareFn,f.rehover,f.reselect,N],re=a.syncOrAsync(q,C);return(!re||!re.then)&&(re=Promise.resolve()),re.then(function(){return C})}f.doCalcdata=function(C,I){var L=p.list(C),P=C._fullData,B=C._fullLayout,V,N,Z,W,q=new Array(P.length),re=(C.calcdata||[]).slice();for(C.calcdata=q,B._numBoxes=0,B._numViolins=0,B._violinScaleGroupStats={},C._hmpixcount=0,C._hmlumcount=0,B._piecolormap={},B._sunburstcolormap={},B._treemapcolormap={},B._iciclecolormap={},B._funnelareacolormap={},Z=0;Z<P.length;Z++)if(Array.isArray(I)&&I.indexOf(Z)===-1){q[Z]=re[Z];continue}for(Z=0;Z<P.length;Z++)V=P[Z],V._arrayAttrs=o.findArrayAttributes(V),V._extremes={};var se=B._subplots.polar||[];for(Z=0;Z<se.length;Z++)L.push(B[se[Z]].radialaxis,B[se[Z]].angularaxis);for(var _e in B._colorAxes){var ge=B[_e];ge.cauto!==!1&&(delete ge.cmin,delete ge.cmax)}var Ae=!1;function Ce(we){if(V=P[we],N=V._module,V.visible===!0&&V.transforms){if(N&&N.calc){var ke=N.calc(C,V);ke[0]&&ke[0].t&&ke[0].t._scene&&delete ke[0].t._scene.dirty}for(W=0;W<V.transforms.length;W++){var Pe=V.transforms[W];N=b[Pe.type],N&&N.calcTransform&&(V._hasCalcTransform=!0,Ae=!0,N.calcTransform(C,V,Pe))}}}function ue(we,ke){if(V=P[we],N=V._module,!!N.isContainer===ke){var Pe=[];if(V.visible===!0&&V._length!==0){delete V._indexToPoints;var fe=V.transforms||[];for(W=fe.length-1;W>=0;W--)if(fe[W].enabled){V._indexToPoints=fe[W]._indexToPoints;break}N&&N.calc&&(Pe=N.calc(C,V))}(!Array.isArray(Pe)||!Pe[0])&&(Pe=[{x:v,y:v}]),Pe[0].t||(Pe[0].t={}),Pe[0].trace=V,q[we]=Pe}}for(be(L,P,B),Z=0;Z<P.length;Z++)ue(Z,!0);for(Z=0;Z<P.length;Z++)Ce(Z);for(Ae&&be(L,P,B),Z=0;Z<P.length;Z++)ue(Z,!0);for(Z=0;Z<P.length;Z++)ue(Z,!1);ve(C);var he=pe(L,C);if(he.length){for(B._numBoxes=0,B._numViolins=0,Z=0;Z<he.length;Z++)ue(he[Z],!0);for(Z=0;Z<he.length;Z++)ue(he[Z],!1);ve(C)}e.getComponentMethod("fx","calc")(C),e.getComponentMethod("errorbars","calc")(C)};var me=/(total|sum|min|max|mean|median) (ascending|descending)/;function pe(C,I){var L=[],P,B,V,N,Z;function W(je,ct,Dt){var Lt=ct._id.charAt(0);if(je==="histogram2dcontour"){var de=ct._counterAxes[0],Re=p.getFromId(I,de),ze=Lt==="x"||de==="x"&&Re.type==="category",ae=Lt==="y"||de==="y"&&Re.type==="category";return function(xe,Te){return xe===0||Te===0||ze&&xe===Dt[Te].length-1||ae&&Te===Dt.length-1?-1:(Lt==="y"?Te:xe)-1}}else return function(xe,Te){return Lt==="y"?Te:xe}}var q={min:function(je){return a.aggNums(Math.min,null,je)},max:function(je){return a.aggNums(Math.max,null,je)},sum:function(je){return a.aggNums(function(ct,Dt){return ct+Dt},null,je)},total:function(je){return a.aggNums(function(ct,Dt){return ct+Dt},null,je)},mean:function(je){return a.mean(je)},median:function(je){return a.median(je)}};for(P=0;P<C.length;P++){var re=C[P];if(re.type==="category"){var se=re.categoryorder.match(me);if(se){var _e=se[1],ge=se[2],Ae=re._id.charAt(0),Ce=Ae==="x",ue=[];for(B=0;B<re._categories.length;B++)ue.push([re._categories[B],[]]);for(B=0;B<re._traceIndices.length;B++){var he=re._traceIndices[B],we=I._fullData[he];if(we.visible===!0){var ke=we.type;e.traceIs(we,"histogram")&&(delete we._xautoBinFinished,delete we._yautoBinFinished);var Pe=ke==="splom",fe=ke==="scattergl",De=I.calcdata[he];for(V=0;V<De.length;V++){var Fe=De[V],et,Xe;if(Pe){var qe=we._axesDim[re._id];if(!Ce){var rt=we._diag[qe][0];rt&&(re=I._fullLayout[p.id2name(rt)])}var ut=Fe.trace.dimensions[qe].values;for(N=0;N<ut.length;N++)for(et=re._categoriesMap[ut[N]],Z=0;Z<Fe.trace.dimensions.length;Z++)if(Z!==qe){var yt=Fe.trace.dimensions[Z];ue[et][1].push(yt.values[N])}}else if(fe){for(N=0;N<Fe.t.x.length;N++)Ce?(et=Fe.t.x[N],Xe=Fe.t.y[N]):(et=Fe.t.y[N],Xe=Fe.t.x[N]),ue[et][1].push(Xe);Fe.t&&Fe.t._scene&&delete Fe.t._scene.dirty}else if(Fe.hasOwnProperty("z")){Xe=Fe.z;var Rt=W(we.type,re,Xe);for(N=0;N<Xe.length;N++)for(Z=0;Z<Xe[N].length;Z++)et=Rt(Z,N),et+1&&ue[et][1].push(Xe[N][Z])}else for(et=Fe.p,et===void 0&&(et=Fe[Ae]),Xe=Fe.s,Xe===void 0&&(Xe=Fe.v),Xe===void 0&&(Xe=Ce?Fe.y:Fe.x),Array.isArray(Xe)||(Xe===void 0?Xe=[]:Xe=[Xe]),N=0;N<Xe.length;N++)ue[et][1].push(Xe[N])}}}re._categoriesValue=ue;var bt=[];for(B=0;B<ue.length;B++)bt.push([ue[B][0],q[_e](ue[B][1])]);bt.sort(function(je,ct){return je[1]-ct[1]}),re._categoriesAggregatedValue=bt,re._initialCategories=bt.map(function(je){return je[0]}),ge==="descending"&&re._initialCategories.reverse(),L=L.concat(re.sortByInitialCategories())}}}return L}function be(C,I,L){var P={};function B(W){W.clearCalc(),W.type==="multicategory"&&W.setupMultiCategory(I),P[W._id]=1}a.simpleMap(C,B);for(var V=L._axisMatchGroups||[],N=0;N<V.length;N++)for(var Z in V[N])P[Z]||B(L[p.id2name(Z)])}function ve(C){var I=C._fullLayout,L=I._visibleModules,P={},B,V,N;for(V=0;V<L.length;V++){var Z=L[V],W=Z.crossTraceCalc;if(W){var q=Z.basePlotModule.name;P[q]?a.pushUnique(P[q],W):P[q]=[W]}}for(N in P){var re=P[N],se=I._subplots[N];if(Array.isArray(se))for(B=0;B<se.length;B++){var _e=se[B],ge=N==="cartesian"?I._plots[_e]:I[_e];for(V=0;V<re.length;V++)re[V](C,ge,_e)}else for(V=0;V<re.length;V++)re[V](C)}}f.rehover=function(C){C._fullLayout._rehover&&C._fullLayout._rehover()},f.redrag=function(C){C._fullLayout._redrag&&C._fullLayout._redrag()},f.reselect=function(C){var I=C._fullLayout,L=(C.layout||{}).selections,P=I._previousSelections;I._previousSelections=L;var B=I._reselect||JSON.stringify(L)!==JSON.stringify(P);e.getComponentMethod("selections","reselect")(C,B)},f.generalUpdatePerTraceModule=function(C,I,L,P){var B=I.traceHash,V={},N;for(N=0;N<L.length;N++){var Z=L[N],W=Z[0].trace;W.visible&&(V[W.type]=V[W.type]||[],V[W.type].push(Z))}for(var q in B)if(!V[q]){var re=B[q][0],se=re[0].trace;se.visible=!1,V[q]=[re]}for(var _e in V){var ge=V[_e],Ae=ge[0][0].trace._module;Ae.plot(C,I,a.filterVisible(ge),P)}I.traceHash=V},f.plotBasePlot=function(C,I,L,P,B){var V=e.getModule(C),N=w(I.calcdata,V)[0];V.plot(I,N,P,B)},f.cleanBasePlot=function(C,I,L,P,B){var V=B._has&&B._has(C),N=L._has&&L._has(C);V&&!N&&B["_"+C+"layer"].selectAll("g.trace").remove()}},{"../components/color":103,"../components/shapes/handle_outline":204,"../constants/numerical":224,"../lib":244,"../plot_api/plot_schema":279,"../plot_api/plot_template":280,"../plots/get_data":321,"../registry":327,"./animation_attributes":285,"./attributes":287,"./cartesian/axis_ids":295,"./command":317,"./font_attributes":319,"./frame_attributes":320,"./layout_attributes":323,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],326:[function(u,te,Y){var i=u("../constants/docs");i.FORMAT_LINK,i.DATE_FORMAT_LINK;function n(c){var s=c.description?" "+c.description:"",e=c.keys||[];if(e.length>0){for(var o=[],l=0;l<e.length;l++)o[l]="`"+e[l]+"`";s=s+"Finally, the template string has access to ",e.length===1?s="variable "+o[0]:s="variables "+o.slice(0,-1).join(", ")+" and "+o.slice(-1)+"."}return s}Y.hovertemplateAttrs=function(c,s){c=c||{},s=s||{},n(s);var e={valType:"string",dflt:"",editType:c.editType||"none"};return c.arrayOk!==!1&&(e.arrayOk=!0),e},Y.texttemplateAttrs=function(c,s){c=c||{},s=s||{},n(s);var e={valType:"string",dflt:"",editType:c.editType||"calc"};return c.arrayOk!==!1&&(e.arrayOk=!0),e}},{"../constants/docs":221}],327:[function(u,te,Y){var i=u("./lib/loggers"),n=u("./lib/noop"),c=u("./lib/push_unique"),s=u("./lib/is_plain_object"),e=u("./lib/dom").addStyleRule,o=u("./lib/extend"),l=u("./plots/attributes"),a=u("./plots/layout_attributes"),t=o.extendFlat,v=o.extendDeepAll;Y.modules={},Y.allCategories={},Y.allTypes=[],Y.subplotsRegistry={},Y.transformsRegistry={},Y.componentsRegistry={},Y.layoutArrayContainers=[],Y.layoutArrayRegexes=[],Y.traceLayoutAttributes={},Y.localeRegistry={},Y.apiMethodRegistry={},Y.collectableSubplotTypes=null,Y.register=function(k){if(Y.collectableSubplotTypes=null,k)k&&!Array.isArray(k)&&(k=[k]);else throw new Error("No argument passed to Plotly.register.");for(var F=0;F<k.length;F++){var M=k[F];if(!M)throw new Error("Invalid module was attempted to be registered!");switch(M.moduleType){case"trace":p(M);break;case"transform":m(M);break;case"component":g(M);break;case"locale":w(M);break;case"apiMethod":var S=M.name;Y.apiMethodRegistry[S]=M.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},Y.getModule=function(T){var k=Y.modules[d(T)];return k?k._module:!1},Y.traceIs=function(T,k){if(T=d(T),T==="various")return!1;var F=Y.modules[T];return F||(T&&i.log("Unrecognized trace type "+T+"."),F=Y.modules[l.type.dflt]),!!F.categories[k]},Y.getTransformIndices=function(T,k){for(var F=[],M=T.transforms||[],S=0;S<M.length;S++)M[S].type===k&&F.push(S);return F},Y.hasTransform=function(T,k){for(var F=T.transforms||[],M=0;M<F.length;M++)if(F[M].type===k)return!0;return!1},Y.getComponentMethod=function(T,k){var F=Y.componentsRegistry[T];return F&&F[k]||n},Y.call=function(){var T=arguments[0],k=[].slice.call(arguments,1);return Y.apiMethodRegistry[T].apply(null,k)};function p(T){var k=T.name,F=T.categories,M=T.meta;if(Y.modules[k]){i.log("Type "+k+" already registered");return}Y.subplotsRegistry[T.basePlotModule.name]||h(T.basePlotModule);for(var S={},E=0;E<F.length;E++)S[F[E]]=!0,Y.allCategories[F[E]]=!0;Y.modules[k]={_module:T,categories:S},M&&Object.keys(M).length&&(Y.modules[k].meta=M),Y.allTypes.push(k);for(var A in Y.componentsRegistry)x(A,k);T.layoutAttributes&&t(Y.traceLayoutAttributes,T.layoutAttributes);var z=T.basePlotModule,H=z.name;if(H==="mapbox"){var Q=z.constants.styleRules;for(var X in Q)e(".js-plotly-plot .plotly .mapboxgl-"+X,Q[X])}(H==="geo"||H==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function h(T){var k=T.name;if(Y.subplotsRegistry[k]){i.log("Plot type "+k+" already registered.");return}y(T),Y.subplotsRegistry[k]=T;for(var F in Y.componentsRegistry)b(F,T.name)}function g(T){if(typeof T.name!="string")throw new Error("Component module *name* must be a string.");var k=T.name;Y.componentsRegistry[k]=T,T.layoutAttributes&&(T.layoutAttributes._isLinkedToArray&&c(Y.layoutArrayContainers,k),y(T));for(var F in Y.modules)x(k,F);for(var M in Y.subplotsRegistry)b(k,M);for(var S in Y.transformsRegistry)f(k,S);T.schema&&T.schema.layout&&v(a,T.schema.layout)}function m(T){if(typeof T.name!="string")throw new Error("Transform module *name* must be a string.");var k="Transform module "+T.name,F=typeof T.transform=="function",M=typeof T.calcTransform=="function";if(!F&&!M)throw new Error(k+" is missing a *transform* or *calcTransform* method.");F&&M&&i.log([k+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),s(T.attributes)||i.log(k+" registered without an *attributes* object."),typeof T.supplyDefaults!="function"&&i.log(k+" registered without a *supplyDefaults* method."),Y.transformsRegistry[T.name]=T;for(var S in Y.componentsRegistry)f(S,T.name)}function w(T){var k=T.name,F=k.split("-")[0],M=T.dictionary,S=T.format,E=M&&Object.keys(M).length,A=S&&Object.keys(S).length,z=Y.localeRegistry,H=z[k];if(H||(z[k]=H={}),F!==k){var Q=z[F];Q||(z[F]=Q={}),E&&Q.dictionary===H.dictionary&&(Q.dictionary=M),A&&Q.format===H.format&&(Q.format=S)}E&&(H.dictionary=M),A&&(H.format=S)}function y(T){if(T.layoutAttributes){var k=T.layoutAttributes._arrayAttrRegexps;if(k)for(var F=0;F<k.length;F++)c(Y.layoutArrayRegexes,k[F])}}function x(T,k){var F=Y.componentsRegistry[T].schema;if(!(!F||!F.traces)){var M=F.traces[k];M&&v(Y.modules[k]._module.attributes,M)}}function f(T,k){var F=Y.componentsRegistry[T].schema;if(!(!F||!F.transforms)){var M=F.transforms[k];M&&v(Y.transformsRegistry[k].attributes,M)}}function b(T,k){var F=Y.componentsRegistry[T].schema;if(!(!F||!F.subplots)){var M=Y.subplotsRegistry[k],S=M.layoutAttributes,E=M.attr==="subplot"?M.name:M.attr;Array.isArray(E)&&(E=E[0]);var A=F.subplots[E];S&&A&&v(S,A)}}function d(T){return typeof T=="object"&&(T=T.type),T}},{"./lib/dom":236,"./lib/extend":238,"./lib/is_plain_object":245,"./lib/loggers":248,"./lib/noop":253,"./lib/push_unique":258,"./plots/attributes":287,"./plots/layout_attributes":323}],328:[function(u,te,Y){var i=u("../registry"),n=u("../lib"),c=n.extendFlat,s=n.extendDeep;function e(l){var a;switch(l){case"themes__thumb":a={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":a={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:a={}}return a}function o(l){var a=["xaxis","yaxis","zaxis"];return a.indexOf(l.slice(0,5))>-1}te.exports=function(a,t){var v,p=a.data,h=a.layout,g=s([],p),m=s({},h,e(t.tileClass)),w=a._context||{};if(t.width&&(m.width=t.width),t.height&&(m.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){m.annotations=[];var y=Object.keys(m);for(v=0;v<y.length;v++)o(y[v])&&(m[y[v]].title={text:""});for(v=0;v<g.length;v++){var x=g[v];x.showscale=!1,x.marker&&(x.marker.showscale=!1),i.traceIs(x,"pie-like")&&(x.textposition="none")}}if(Array.isArray(t.annotations))for(v=0;v<t.annotations.length;v++)m.annotations.push(t.annotations[v]);var f=Object.keys(m).filter(function(F){return F.match(/^scene\d*$/)});if(f.length){var b={};for(t.tileClass==="thumbnail"&&(b={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),v=0;v<f.length;v++){var d=m[f[v]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),c(d.xaxis,b),c(d.yaxis,b),c(d.zaxis,b),d._scene=null}}var T=document.createElement("div");t.tileClass&&(T.className=t.tileClass);var k={gd:T,td:T,layout:m,data:g,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:w.mapboxAccessToken}};return t.setBackground!=="transparent"&&(k.config.setBackground=t.setBackground||"opaque"),k.gd.defaultLayout=e(t.tileClass),k}},{"../lib":244,"../registry":327}],329:[function(u,te,Y){var i=u("../lib"),n=u("../plot_api/to_image"),c=u("./filesaver"),s=u("./helpers");function e(o,l){var a;return i.isPlainObject(o)||(a=i.getGraphDiv(o)),l=l||{},l.format=l.format||"png",l.width=l.width||null,l.height=l.height||null,l.imageDataOnly=!0,new Promise(function(t,v){a&&a._snapshotInProgress&&v(new Error("Snapshotting already in progress.")),i.isIE()&&l.format!=="svg"&&v(new Error(s.MSG_IE_BAD_FORMAT)),a&&(a._snapshotInProgress=!0);var p=n(o,l),h=l.filename||o.fn||"newplot";h+="."+l.format.replace("-","."),p.then(function(g){return a&&(a._snapshotInProgress=!1),c(g,h,l.format)}).then(function(g){t(g)}).catch(function(g){a&&(a._snapshotInProgress=!1),v(g)})})}te.exports=e},{"../lib":244,"../plot_api/to_image":283,"./filesaver":330,"./helpers":331}],330:[function(u,te,Y){var i=u("../lib"),n=u("./helpers");function c(s,e,o){var l=document.createElement("a"),a="download"in l,t=new Promise(function(v,p){var h,g;if(i.isIE())return h=n.createBlob(s,"svg"),window.navigator.msSaveBlob(h,e),h=null,v(e);if(a)return h=n.createBlob(s,o),g=n.createObjectURL(h),l.href=g,l.download=e,document.body.appendChild(l),l.click(),document.body.removeChild(l),n.revokeObjectURL(g),h=null,v(e);if(i.isSafari()){var m=o==="svg"?",":";base64,";return n.octetStream(m+encodeURIComponent(s)),v(e)}p(new Error("download error"))});return t}te.exports=c},{"../lib":244,"./helpers":331}],331:[function(u,te,Y){var i=u("../registry");Y.getDelay=function(s){return s._has&&(s._has("gl3d")||s._has("gl2d")||s._has("mapbox"))?500:0},Y.getRedrawFunc=function(s){return function(){i.getComponentMethod("colorbar","draw")(s)}},Y.encodeSVG=function(s){return"data:image/svg+xml,"+encodeURIComponent(s)},Y.encodeJSON=function(s){return"data:application/json,"+encodeURIComponent(s)};var n=window.URL||window.webkitURL;Y.createObjectURL=function(s){return n.createObjectURL(s)},Y.revokeObjectURL=function(s){return n.revokeObjectURL(s)},Y.createBlob=function(s,e){if(e==="svg")return new window.Blob([s],{type:"image/svg+xml;charset=utf-8"});if(e==="full-json")return new window.Blob([s],{type:"application/json;charset=utf-8"});var o=c(window.atob(s));return new window.Blob([o],{type:"image/"+e})},Y.octetStream=function(s){document.location.href="data:application/octet-stream"+s};function c(s){for(var e=s.length,o=new ArrayBuffer(e),l=new Uint8Array(o),a=0;a<e;a++)l[a]=s.charCodeAt(a);return o}Y.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,Y.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":327}],332:[function(u,te,Y){var i=u("./helpers"),n={getDelay:i.getDelay,getRedrawFunc:i.getRedrawFunc,clone:u("./cloneplot"),toSVG:u("./tosvg"),svgToImg:u("./svgtoimg"),toImage:u("./toimage"),downloadImage:u("./download")};te.exports=n},{"./cloneplot":328,"./download":329,"./helpers":331,"./svgtoimg":333,"./toimage":334,"./tosvg":335}],333:[function(u,te,Y){var i=u("../lib"),n=u("events").EventEmitter,c=u("./helpers");function s(e){var o=e.emitter||new n,l=new Promise(function(a,t){var v=window.Image,p=e.svg,h=e.format||"png";if(i.isIE()&&h!=="svg"){var g=new Error(c.MSG_IE_BAD_FORMAT);return t(g),e.promise?l:o.emit("error",g)}var m=e.canvas,w=e.scale||1,y=e.width||300,x=e.height||150,f=w*y,b=w*x,d=m.getContext("2d",{willReadFrequently:!0}),T=new v,k,F;h==="svg"||i.isSafari()?F=c.encodeSVG(p):(k=c.createBlob(p,"svg"),F=c.createObjectURL(k)),m.width=f,m.height=b,T.onload=function(){var M;switch(k=null,c.revokeObjectURL(F),h!=="svg"&&d.drawImage(T,0,0,f,b),h){case"jpeg":M=m.toDataURL("image/jpeg");break;case"png":M=m.toDataURL("image/png");break;case"webp":M=m.toDataURL("image/webp");break;case"svg":M=F;break;default:var S="Image format is not jpeg, png, svg or webp.";if(t(new Error(S)),!e.promise)return o.emit("error",S)}a(M),e.promise||o.emit("success",M)},T.onerror=function(M){if(k=null,c.revokeObjectURL(F),t(M),!e.promise)return o.emit("error",M)},T.src=F});return e.promise?l:o}te.exports=s},{"../lib":244,"./helpers":331,events:12}],334:[function(u,te,Y){var i=u("events").EventEmitter,n=u("../registry"),c=u("../lib"),s=u("./helpers"),e=u("./cloneplot"),o=u("./tosvg"),l=u("./svgtoimg");function a(t,v){var p=new i,h=e(t,{format:"png"}),g=h.gd;g.style.position="absolute",g.style.left="-5000px",document.body.appendChild(g);function m(){var y=s.getDelay(g._fullLayout);setTimeout(function(){var x=o(g),f=document.createElement("canvas");f.id=c.randstr(),p=l({format:v.format,width:g._fullLayout.width,height:g._fullLayout.height,canvas:f,emitter:p,svg:x}),p.clean=function(){g&&document.body.removeChild(g)}},y)}var w=s.getRedrawFunc(g);return n.call("_doPlot",g,h.data,h.layout,h.config).then(w).then(m).catch(function(y){p.emit("error",y)}),p}te.exports=a},{"../lib":244,"../registry":327,"./cloneplot":328,"./helpers":331,"./svgtoimg":333,"./tosvg":335,events:12}],335:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../lib"),c=u("../components/drawing"),s=u("../components/color"),e=u("../constants/xmlns_namespaces"),o=/"/g,l="TOBESTRIPPED",a=new RegExp('("'+l+")|("+l+'")',"g");function t(p){var h=i.select("body").append("div").style({display:"none"}).html(""),g=p.replace(/(&[^;]*;)/gi,function(m){return m==="&lt;"?"&#60;":m==="&rt;"?"&#62;":m.indexOf("<")!==-1||m.indexOf(">")!==-1?"":h.html(m).text()});return h.remove(),g}function v(p){return p.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}te.exports=function(h,g,m){var w=h._fullLayout,y=w._paper,x=w._toppaper,f=w.width,b=w.height,d;y.insert("rect",":first-child").call(c.setRect,0,0,f,b).call(s.fill,w.paper_bgcolor);var T=w._basePlotModules||[];for(d=0;d<T.length;d++){var k=T[d];k.toSVG&&k.toSVG(h)}if(x){var F=x.node().childNodes,M=Array.prototype.slice.call(F);for(d=0;d<M.length;d++){var S=M[d];S.childNodes.length&&y.node().appendChild(S)}}w._draggers&&w._draggers.remove(),y.node().style.background="",y.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var A=i.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){A.remove();return}else A.style({visibility:null,display:null});var z=this.style.fontFamily;z&&z.indexOf('"')!==-1&&A.style("font-family",z.replace(o,l))}),y.selectAll(".gradient_filled,.pattern_filled").each(function(){var A=i.select(this),z=this.style.fill;z&&z.indexOf("url(")!==-1&&A.style("fill",z.replace(o,l));var H=this.style.stroke;H&&H.indexOf("url(")!==-1&&A.style("stroke",H.replace(o,l))}),(g==="pdf"||g==="eps")&&y.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),y.node().setAttributeNS(e.xmlns,"xmlns",e.svg),y.node().setAttributeNS(e.xmlns,"xmlns:xlink",e.xlink),g==="svg"&&m&&(y.attr("width",m*f),y.attr("height",m*b),y.attr("viewBox","0 0 "+f+" "+b));var E=new window.XMLSerializer().serializeToString(y.node());return E=t(E),E=v(E),E=E.replace(a,"'"),n.isIE()&&(E=E.replace(/"/gi,"'"),E=E.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),E=E.replace(/(\\')/gi,'"')),E}},{"../components/color":103,"../components/drawing":125,"../constants/xmlns_namespaces":225,"../lib":244,"@plotly/d3":11}],336:[function(u,te,Y){var i=u("../../lib");te.exports=function(c,s){for(var e=0;e<c.length;e++)c[e].i=e;i.mergeArray(s.text,c,"tx"),i.mergeArray(s.hovertext,c,"htx");var o=s.marker;if(o){i.mergeArray(o.opacity,c,"mo",!0),i.mergeArray(o.color,c,"mc");var l=o.line;l&&(i.mergeArray(l.color,c,"mlc"),i.mergeArrayCastPositive(l.width,c,"mlw"))}}},{"../../lib":244}],337:[function(u,te,Y){var i=u("../scatter/attributes"),n=u("../../plots/cartesian/axis_format_attributes").axisHoverFormat,c=u("../../plots/template_attributes").hovertemplateAttrs,s=u("../../plots/template_attributes").texttemplateAttrs,e=u("../../components/colorscale/attributes"),o=u("../../plots/font_attributes"),l=u("./constants"),a=u("../../components/drawing/attributes").pattern,t=u("../../lib/extend").extendFlat,v=o({editType:"calc",arrayOk:!0,colorEditType:"style"}),p=i.marker,h=p.line,g=t({},h.width,{dflt:0}),m=t({width:g,editType:"calc"},e("marker.line")),w=t({line:m,editType:"calc"},e("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:a});te.exports={x:i.x,x0:i.x0,dx:i.dx,y:i.y,y0:i.y0,dy:i.dy,xperiod:i.xperiod,yperiod:i.yperiod,xperiod0:i.xperiod0,yperiod0:i.yperiod0,xperiodalignment:i.xperiodalignment,yperiodalignment:i.yperiodalignment,xhoverformat:n("x"),yhoverformat:n("y"),text:i.text,texttemplate:s({editType:"plot"},{keys:l.eventDataKeys}),hovertext:i.hovertext,hovertemplate:c({},{keys:l.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},v,{}),insidetextfont:t({},v,{}),outsidetextfont:t({},v,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},i.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:w,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:i.selected.marker.opacity,color:i.selected.marker.color,editType:"style"},textfont:i.selected.textfont,editType:"style"},unselected:{marker:{opacity:i.unselected.marker.opacity,color:i.unselected.marker.color,editType:"style"},textfont:i.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorscale/attributes":110,"../../components/drawing/attributes":124,"../../lib/extend":238,"../../plots/cartesian/axis_format_attributes":294,"../../plots/font_attributes":319,"../../plots/template_attributes":326,"../scatter/attributes":367,"./constants":339}],338:[function(u,te,Y){var i=u("../../plots/cartesian/axes"),n=u("../../plots/cartesian/align_period"),c=u("../../components/colorscale/helpers").hasColorscale,s=u("../../components/colorscale/calc"),e=u("./arrays_to_calcdata"),o=u("../scatter/calc_selection");te.exports=function(a,t){var v=i.getFromId(a,t.xaxis||"x"),p=i.getFromId(a,t.yaxis||"y"),h,g,m,w,y,x,f={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(h=v.makeCalcdata(t,"x",f),m=p.makeCalcdata(t,"y"),w=n(t,p,"y",m),y=!!t.yperiodalignment,x="y"):(h=p.makeCalcdata(t,"y",f),m=v.makeCalcdata(t,"x"),w=n(t,v,"x",m),y=!!t.xperiodalignment,x="x"),g=w.vals;for(var b=Math.min(g.length,h.length),d=new Array(b),T=0;T<b;T++)d[T]={p:g[T],s:h[T]},y&&(d[T].orig_p=m[T],d[T][x+"End"]=w.ends[T],d[T][x+"Start"]=w.starts[T]),t.ids&&(d[T].id=String(t.ids[T]));return c(t,"marker")&&s(a,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),c(t,"marker.line")&&s(a,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),e(d,t),o(d,t),d}},{"../../components/colorscale/calc":111,"../../components/colorscale/helpers":114,"../../plots/cartesian/align_period":288,"../../plots/cartesian/axes":291,"../scatter/calc_selection":369,"./arrays_to_calcdata":336}],339:[function(u,te,Y){te.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},{}],340:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("../../lib").isArrayOrTypedArray,c=u("../../constants/numerical").BADNUM,s=u("../../registry"),e=u("../../plots/cartesian/axes"),o=u("../../plots/cartesian/constraints").getAxisGroup,l=u("./sieve.js");function a(E,A){for(var z=A.xaxis,H=A.yaxis,Q=E._fullLayout,X=E._fullData,ie=E.calcdata,R=[],O=[],U=0;U<X.length;U++){var K=X[U];if(K.visible===!0&&s.traceIs(K,"bar")&&K.xaxis===z._id&&K.yaxis===H._id&&(K.orientation==="h"?R.push(ie[U]):O.push(ie[U]),K._computePh))for(var ee=E.calcdata[U],ne=0;ne<ee.length;ne++)typeof ee[ne].ph0=="function"&&(ee[ne].ph0=ee[ne].ph0()),typeof ee[ne].ph1=="function"&&(ee[ne].ph1=ee[ne].ph1())}var me={xCat:z.type==="category"||z.type==="multicategory",yCat:H.type==="category"||H.type==="multicategory",mode:Q.barmode,norm:Q.barnorm,gap:Q.bargap,groupgap:Q.bargroupgap};t(E,z,H,O,me),t(E,H,z,R,me)}function t(E,A,z,H,Q){if(!!H.length){var X,ie,R,O,U;switch(v(z,H),Q.mode){case"overlay":p(A,z,H,Q);break;case"group":for(X=[],ie=[],R=0;R<H.length;R++)O=H[R],U=O[0].trace,U.offset===void 0?ie.push(O):X.push(O);ie.length&&h(E,A,z,ie,Q),X.length&&p(A,z,X,Q);break;case"stack":case"relative":for(X=[],ie=[],R=0;R<H.length;R++)O=H[R],U=O[0].trace,U.base===void 0?ie.push(O):X.push(O);ie.length&&g(E,A,z,ie,Q),X.length&&p(A,z,X,Q);break}M(H,A)}}function v(E,A){var z,H;for(z=0;z<A.length;z++){var Q=A[z],X=Q[0].trace,ie=X.type==="funnel"?X._base:X.base,R,O=X.orientation==="h"?X.xcalendar:X.ycalendar,U=E.type==="category"||E.type==="multicategory"?function(){return null}:E.d2c;if(n(ie)){for(H=0;H<Math.min(ie.length,Q.length);H++)R=U(ie[H],0,O),i(R)?(Q[H].b=+R,Q[H].hasB=1):Q[H].b=0;for(;H<Q.length;H++)Q[H].b=0}else{R=U(ie,0,O);var K=i(R);for(R=K?R:0,H=0;H<Q.length;H++)Q[H].b=R,K&&(Q[H].hasB=1)}}}function p(E,A,z,H){for(var Q=0;Q<z.length;Q++){var X=z[Q],ie=new l([X],{posAxis:E,sepNegVal:!1,overlapNoMerge:!H.norm});m(E,ie,H),H.norm?(T(ie),F(A,ie,H)):b(A,ie)}}function h(E,A,z,H,Q){var X=new l(H,{posAxis:A,sepNegVal:!1,overlapNoMerge:!Q.norm});w(E,A,X,Q),k(X,A),Q.norm?(T(X),F(z,X,Q)):b(z,X)}function g(E,A,z,H,Q){var X=new l(H,{posAxis:A,sepNegVal:Q.mode==="relative",overlapNoMerge:!(Q.norm||Q.mode==="stack"||Q.mode==="relative")});m(A,X,Q),d(z,X,Q);for(var ie=0;ie<H.length;ie++)for(var R=H[ie],O=0;O<R.length;O++){var U=R[O];if(U.s!==c){var K=U.b+U.s===X.get(U.p,U.s);K&&(U._outmost=!0)}}Q.norm&&F(z,X,Q)}function m(E,A,z){for(var H=A.minDiff,Q=A.traces,X=H*(1-z.gap),ie=X,R=ie*(1-(z.groupgap||0)),O=-R/2,U=0;U<Q.length;U++){var K=Q[U],ee=K[0].t;ee.barwidth=R,ee.poffset=O,ee.bargroupwidth=X,ee.bardelta=H}A.binWidth=Q[0][0].t.barwidth/100,y(A),x(E,A),f(E,A)}function w(E,A,z,H){for(var Q=E._fullLayout,X=z.positions,ie=z.distinctPositions,R=z.minDiff,O=z.traces,U=O.length,K=X.length!==ie.length,ee=R*(1-H.gap),ne=o(Q,A._id)+O[0][0].trace.orientation,me=Q._alignmentOpts[ne]||{},pe=0;pe<U;pe++){var be=O[pe],ve=be[0].trace,C=me[ve.alignmentgroup]||{},I=Object.keys(C.offsetGroups||{}).length,L;I?L=ee/I:L=K?ee/U:ee;var P=L*(1-(H.groupgap||0)),B;I?B=((2*ve._offsetIndex+1-I)*L-P)/2:B=K?((2*pe+1-U)*L-P)/2:-P/2;var V=be[0].t;V.barwidth=P,V.poffset=B,V.bargroupwidth=ee,V.bardelta=R}z.binWidth=O[0][0].t.barwidth/100,y(z),x(A,z),f(A,z,K)}function y(E){var A=E.traces,z,H;for(z=0;z<A.length;z++){var Q=A[z],X=Q[0],ie=X.trace,R=X.t,O=ie._offset||ie.offset,U=R.poffset,K;if(n(O)){for(K=Array.prototype.slice.call(O,0,Q.length),H=0;H<K.length;H++)i(K[H])||(K[H]=U);for(H=K.length;H<Q.length;H++)K.push(U);R.poffset=K}else O!==void 0&&(R.poffset=O);var ee=ie._width||ie.width,ne=R.barwidth;if(n(ee)){var me=Array.prototype.slice.call(ee,0,Q.length);for(H=0;H<me.length;H++)i(me[H])||(me[H]=ne);for(H=me.length;H<Q.length;H++)me.push(ne);if(R.barwidth=me,O===void 0){for(K=[],H=0;H<Q.length;H++)K.push(U+(ne-me[H])/2);R.poffset=K}}else ee!==void 0&&(R.barwidth=ee,O===void 0&&(R.poffset=U+(ne-ee)/2))}}function x(E,A){for(var z=A.traces,H=S(E),Q=0;Q<z.length;Q++)for(var X=z[Q],ie=X[0].t,R=ie.poffset,O=Array.isArray(R),U=ie.barwidth,K=Array.isArray(U),ee=0;ee<X.length;ee++){var ne=X[ee],me=ne.w=K?U[ee]:U;ne[H]=ne.p+(O?R[ee]:R)+me/2}}function f(E,A,z){var H=A.traces,Q=A.minDiff,X=Q/2;e.minDtick(E,A.minDiff,A.distinctPositions[0],z);for(var ie=0;ie<H.length;ie++){var R=H[ie],O=R[0],U=O.trace,K=[],ee,ne,me,pe;for(pe=0;pe<R.length;pe++)ee=R[pe],ne=ee.p-X,me=ee.p+X,K.push(ne,me);if(U.width||U.offset){var be=O.t,ve=be.poffset,C=be.barwidth,I=Array.isArray(ve),L=Array.isArray(C);for(pe=0;pe<R.length;pe++){ee=R[pe];var P=I?ve[pe]:ve,B=L?C[pe]:C;ne=ee.p+P,me=ne+B,K.push(ne,me)}}U._extremes[E._id]=e.findExtremes(E,K,{padded:!1})}}function b(E,A){for(var z=A.traces,H=S(E),Q=0;Q<z.length;Q++){for(var X=z[Q],ie=X[0].trace,R=[],O=!1,U=0;U<X.length;U++){var K=X[U],ee=K.b,ne=ee+K.s;K[H]=ne,R.push(ne),K.hasB&&R.push(ee),(!K.hasB||!K.b)&&(O=!0)}ie._extremes[E._id]=e.findExtremes(E,R,{tozero:O,padded:!0})}}function d(E,A,z){var H=S(E),Q=A.traces,X,ie,R,O,U,K;for(O=0;O<Q.length;O++)if(X=Q[O],ie=X[0].trace,ie.type==="funnel")for(U=0;U<X.length;U++)K=X[U],K.s!==c&&A.put(K.p,-.5*K.s);for(O=0;O<Q.length;O++){X=Q[O],ie=X[0].trace,R=ie.type==="funnel";var ee=[];for(U=0;U<X.length;U++)if(K=X[U],K.s!==c){var ne;R?ne=K.s:ne=K.s+K.b;var me=A.put(K.p,ne),pe=me+ne;K.b=me,K[H]=pe,z.norm||(ee.push(pe),K.hasB&&ee.push(me))}z.norm||(ie._extremes[E._id]=e.findExtremes(E,ee,{tozero:!0,padded:!0}))}}function T(E){for(var A=E.traces,z=0;z<A.length;z++)for(var H=A[z],Q=0;Q<H.length;Q++){var X=H[Q];X.s!==c&&E.put(X.p,X.b+X.s)}}function k(E,A){for(var z=E.traces,H=0;H<z.length;H++){var Q=z[H],X=Q[0].trace;if(X.base===void 0)for(var ie=new l([Q],{posAxis:A,sepNegVal:!0,overlapNoMerge:!0}),R=0;R<Q.length;R++){var O=Q[R];if(O.p!==c){var U=ie.put(O.p,O.b+O.s);U&&(O.b=U)}}}}function F(E,A,z){var H=A.traces,Q=S(E),X=z.norm==="fraction"?1:100,ie=X/1e9,R=E.l2c(E.c2l(0)),O=z.mode==="stack"?X:R;function U(B){return i(E.c2l(B))&&(B<R-ie||B>O+ie||!i(R))}for(var K=0;K<H.length;K++){for(var ee=H[K],ne=ee[0].trace,me=[],pe=!1,be=!1,ve=0;ve<ee.length;ve++){var C=ee[ve];if(C.s!==c){var I=Math.abs(X/A.get(C.p,C.s));C.b*=I,C.s*=I;var L=C.b,P=L+C.s;C[Q]=P,me.push(P),be=be||U(P),C.hasB&&(me.push(L),be=be||U(L)),(!C.hasB||!C.b)&&(pe=!0)}}ne._extremes[E._id]=e.findExtremes(E,me,{tozero:pe,padded:be})}}function M(E,A){var z=S(A),H={},Q,X,ie,R=1/0,O=-1/0;for(Q=0;Q<E.length;Q++)for(ie=E[Q],X=0;X<ie.length;X++){var U=ie[X].p;i(U)&&(R=Math.min(R,U),O=Math.max(O,U))}var K=1e4/(O-R),ee=H.round=function(I){return String(Math.round(K*(I-R)))};for(Q=0;Q<E.length;Q++){ie=E[Q],ie[0].t.extents=H;var ne=ie[0].t.poffset,me=Array.isArray(ne);for(X=0;X<ie.length;X++){var pe=ie[X],be=pe[z]-pe.w/2;if(i(be)){var ve=pe[z]+pe.w/2,C=ee(pe.p);H[C]?H[C]=[Math.min(be,H[C][0]),Math.max(ve,H[C][1])]:H[C]=[be,ve]}pe.p0=pe.p+(me?ne[X]:ne),pe.p1=pe.p0+pe.w,pe.s0=pe.b,pe.s1=pe.s0+pe.s}}}function S(E){return E._id.charAt(0)}te.exports={crossTraceCalc:a,setGroupPositions:t}},{"../../constants/numerical":224,"../../lib":244,"../../plots/cartesian/axes":291,"../../plots/cartesian/constraints":299,"../../registry":327,"./sieve.js":350,"fast-isnumeric":17}],341:[function(u,te,Y){var i=u("../../lib"),n=u("../../components/color"),c=u("../../registry"),s=u("../scatter/xy_defaults"),e=u("../scatter/period_defaults"),o=u("./style_defaults"),l=u("../../plots/cartesian/constraints").getAxisGroup,a=u("./attributes"),t=i.coerceFont;function v(m,w,y,x){function f(F,M){return i.coerce(m,w,a,F,M)}var b=s(m,w,x,f);if(!b){w.visible=!1;return}e(m,w,x,f),f("xhoverformat"),f("yhoverformat"),f("orientation",w.x&&!w.y?"h":"v"),f("base"),f("offset"),f("width"),f("text"),f("hovertext"),f("hovertemplate");var d=f("textposition");g(m,w,x,f,d,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),o(m,w,f,y,x);var T=(w.marker.line||{}).color,k=c.getComponentMethod("errorbars","supplyDefaults");k(m,w,T||n.defaultLine,{axis:"y"}),k(m,w,T||n.defaultLine,{axis:"x",inherit:"y"}),i.coerceSelectionMarkerOpacity(w,f)}function p(m,w,y,x){var f=w.orientation,b=w[{v:"x",h:"y"}[f]+"axis"],d=l(y,b)+f,T=y._alignmentOpts||{},k=x("alignmentgroup"),F=T[d];F||(F=T[d]={});var M=F[k];M?M.traces.push(w):M=F[k]={traces:[w],alignmentIndex:Object.keys(F).length,offsetGroups:{}};var S=x("offsetgroup"),E=M.offsetGroups,A=E[S];S&&(A||(A=E[S]={offsetIndex:Object.keys(E).length}),w._offsetIndex=A.offsetIndex)}function h(m,w){var y,x;function f(d){return i.coerce(x._input,x,a,d)}if(w.barmode==="group")for(var b=0;b<m.length;b++)x=m[b],x.type==="bar"&&(y=x._input,p(y,x,w,f))}function g(m,w,y,x,f,b){b=b||{};var d=b.moduleHasSelected!==!1,T=b.moduleHasUnselected!==!1,k=b.moduleHasConstrain!==!1,F=b.moduleHasCliponaxis!==!1,M=b.moduleHasTextangle!==!1,S=b.moduleHasInsideanchor!==!1,E=!!b.hasPathbar,A=Array.isArray(f)||f==="auto",z=A||f==="inside",H=A||f==="outside";if(z||H){var Q=t(x,"textfont",y.font),X=i.extendFlat({},Q),ie=m.textfont&&m.textfont.color,R=!ie;if(R&&delete X.color,t(x,"insidetextfont",X),E){var O=i.extendFlat({},Q);R&&delete O.color,t(x,"pathbar.textfont",O)}H&&t(x,"outsidetextfont",Q),d&&x("selected.textfont.color"),T&&x("unselected.textfont.color"),k&&x("constraintext"),F&&x("cliponaxis"),M&&x("textangle"),x("texttemplate")}z&&S&&x("insidetextanchor")}te.exports={supplyDefaults:v,crossTraceDefaults:h,handleGroupingDefaults:p,handleText:g}},{"../../components/color":103,"../../lib":244,"../../plots/cartesian/constraints":299,"../../registry":327,"../scatter/period_defaults":387,"../scatter/xy_defaults":394,"./attributes":337,"./style_defaults":352}],342:[function(u,te,Y){te.exports=function(n,c,s){return n.x="xVal"in c?c.xVal:c.x,n.y="yVal"in c?c.yVal:c.y,c.xa&&(n.xaxis=c.xa),c.ya&&(n.yaxis=c.ya),s.orientation==="h"?(n.label=n.y,n.value=n.x):(n.label=n.x,n.value=n.y),n}},{}],343:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("tinycolor2"),c=u("../../lib").isArrayOrTypedArray;Y.coerceString=function(s,e,o){if(typeof e=="string"){if(e||!s.noBlank)return e}else if((typeof e=="number"||e===!0)&&!s.strict)return String(e);return o!==void 0?o:s.dflt},Y.coerceNumber=function(s,e,o){if(i(e)){e=+e;var l=s.min,a=s.max,t=l!==void 0&&e<l||a!==void 0&&e>a;if(!t)return e}return o!==void 0?o:s.dflt},Y.coerceColor=function(s,e,o){return n(e).isValid()?e:o!==void 0?o:s.dflt},Y.coerceEnumerated=function(s,e,o){return s.coerceNumber&&(e=+e),s.values.indexOf(e)!==-1?e:o!==void 0?o:s.dflt},Y.getValue=function(s,e){var o;return Array.isArray(s)?e<s.length&&(o=s[e]):o=s,o},Y.getLineWidth=function(s,e){var o=0<e.mlw?e.mlw:c(s.marker.line.width)?0:s.marker.line.width;return o}},{"../../lib":244,"fast-isnumeric":17,tinycolor2:68}],344:[function(u,te,Y){var i=u("../../components/fx"),n=u("../../registry"),c=u("../../components/color"),s=u("../../lib").fillText,e=u("./helpers").getLineWidth,o=u("../../plots/cartesian/axes").hoverLabelText,l=u("../../constants/numerical").BADNUM;function a(p,h,g,m,w){var y=t(p,h,g,m,w);if(y){var x=y.cd,f=x[0].trace,b=x[y.index];return y.color=v(f,b),n.getComponentMethod("errorbars","hoverInfo")(b,f,y),[y]}}function t(p,h,g,m,w){var y=p.cd,x=y[0].trace,f=y[0].t,b=m==="closest",d=x.type==="waterfall",T=p.maxHoverDistance,k=p.maxSpikeDistance,F,M,S,E,A,z,H;x.orientation==="h"?(F=g,M=h,S="y",E="x",A=ve,z=me):(F=h,M=g,S="x",E="y",z=ve,A=me);var Q=x[S+"period"],X=b||Q;function ie(re){return O(re,-1)}function R(re){return O(re,1)}function O(re,se){var _e=re.w;return re[S]+se*_e/2}function U(re){return re[S+"End"]-re[S+"Start"]}var K=b?ie:Q?function(re){return re.p-U(re)/2}:function(re){return Math.min(ie(re),re.p-f.bardelta/2)},ee=b?R:Q?function(re){return re.p+U(re)/2}:function(re){return Math.max(R(re),re.p+f.bardelta/2)};function ne(re,se,_e){return w.finiteRange&&(_e=0),i.inbox(re-F,se-F,_e+Math.min(1,Math.abs(se-re)/H)-1)}function me(re){return ne(K(re),ee(re),T)}function pe(re){return ne(ie(re),R(re),k)}function be(re){var se=re[E];if(d){var _e=Math.abs(re.rawS)||0;M>0?se+=_e:M<0&&(se-=_e)}return se}function ve(re){var se=M,_e=re.b,ge=be(re);return i.inbox(_e-se,ge-se,T+(ge-se)/(ge-_e)-1)}function C(re){var se=M,_e=re.b,ge=be(re);return i.inbox(_e-se,ge-se,k+(ge-se)/(ge-_e)-1)}var I=p[S+"a"],L=p[E+"a"];H=Math.abs(I.r2c(I.range[1])-I.r2c(I.range[0]));function P(re){return(A(re)+z(re))/2}var B=i.getDistanceFunction(m,A,z,P);if(i.getClosest(y,B,p),p.index!==!1&&y[p.index].p!==l){X||(K=function(re){return Math.min(ie(re),re.p-f.bargroupwidth/2)},ee=function(re){return Math.max(R(re),re.p+f.bargroupwidth/2)});var V=p.index,N=y[V],Z=x.base?N.b+N.s:N.s;p[E+"0"]=p[E+"1"]=L.c2p(N[E],!0),p[E+"LabelVal"]=Z;var W=f.extents[f.extents.round(N.p)];p[S+"0"]=I.c2p(b?K(N):W[0],!0),p[S+"1"]=I.c2p(b?ee(N):W[1],!0);var q=N.orig_p!==void 0;return p[S+"LabelVal"]=q?N.orig_p:N.p,p.labelLabel=o(I,p[S+"LabelVal"],x[S+"hoverformat"]),p.valueLabel=o(L,p[E+"LabelVal"],x[E+"hoverformat"]),p.baseLabel=o(L,N.b,x[E+"hoverformat"]),p.spikeDistance=(C(N)+pe(N))/2,p[S+"Spike"]=I.c2p(N.p,!0),s(N,x,p),p.hovertemplate=x.hovertemplate,p}}function v(p,h){var g=h.mcc||p.marker.color,m=h.mlcc||p.marker.line.color,w=e(p,h);if(c.opacity(g))return g;if(c.opacity(m)&&w)return m}te.exports={hoverPoints:a,hoverOnBars:t,getTraceColor:v}},{"../../components/color":103,"../../components/fx":143,"../../constants/numerical":224,"../../lib":244,"../../plots/cartesian/axes":291,"../../registry":327,"./helpers":343}],345:[function(u,te,Y){te.exports={attributes:u("./attributes"),layoutAttributes:u("./layout_attributes"),supplyDefaults:u("./defaults").supplyDefaults,crossTraceDefaults:u("./defaults").crossTraceDefaults,supplyLayoutDefaults:u("./layout_defaults"),calc:u("./calc"),crossTraceCalc:u("./cross_trace_calc").crossTraceCalc,colorbar:u("../scatter/marker_colorbar"),arraysToCalcdata:u("./arrays_to_calcdata"),plot:u("./plot").plot,style:u("./style").style,styleOnSelect:u("./style").styleOnSelect,hoverPoints:u("./hover").hoverPoints,eventData:u("./event_data"),selectPoints:u("./select"),moduleType:"trace",name:"bar",basePlotModule:u("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},{"../../plots/cartesian":303,"../scatter/marker_colorbar":385,"./arrays_to_calcdata":336,"./attributes":337,"./calc":338,"./cross_trace_calc":340,"./defaults":341,"./event_data":342,"./hover":344,"./layout_attributes":346,"./layout_defaults":347,"./plot":348,"./select":349,"./style":351}],346:[function(u,te,Y){te.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],347:[function(u,te,Y){var i=u("../../registry"),n=u("../../plots/cartesian/axes"),c=u("../../lib"),s=u("./layout_attributes");te.exports=function(e,o,l){function a(f,b){return c.coerce(e,o,s,f,b)}for(var t=!1,v=!1,p=!1,h={},g=a("barmode"),m=0;m<l.length;m++){var w=l[m];if(i.traceIs(w,"bar")&&w.visible)t=!0;else continue;if(g==="group"){var y=w.xaxis+w.yaxis;h[y]&&(p=!0),h[y]=!0}if(w.visible&&w.type==="histogram"){var x=n.getFromId({_fullLayout:o},w[w.orientation==="v"?"xaxis":"yaxis"]);x.type!=="category"&&(v=!0)}}if(!t){delete o.barmode;return}g!=="overlay"&&a("barnorm"),a("bargap",v&&!p?0:.2),a("bargroupgap")}},{"../../lib":244,"../../plots/cartesian/axes":291,"../../registry":327,"./layout_attributes":346}],348:[function(u,te,Y){var i=u("@plotly/d3"),n=u("fast-isnumeric"),c=u("../../lib"),s=u("../../lib/svg_text_utils"),e=u("../../components/color"),o=u("../../components/drawing"),l=u("../../registry"),a=u("../../plots/cartesian/axes").tickText,t=u("./uniform_text"),v=t.recordMinTextSize,p=t.clearMinTextSize,h=u("./style"),g=u("./helpers"),m=u("./constants"),w=u("./attributes"),y=w.text,x=w.textposition,f=u("../../components/fx/helpers").appendArrayPointValue,b=m.TEXTPAD;function d(K){return K.id}function T(K){if(K.ids)return d}function k(K,ee){return K<ee?1:-1}function F(K,ee,ne,me){var pe=[],be=[],ve=me?ee:ne,C=me?ne:ee;return pe[0]=ve.c2p(K.s0,!0),be[0]=C.c2p(K.p0,!0),pe[1]=ve.c2p(K.s1,!0),be[1]=C.c2p(K.p1,!0),me?[pe,be]:[be,pe]}function M(K,ee,ne,me){if(!ee.uniformtext.mode&&S(ne)){var pe;return me&&(pe=me()),K.transition().duration(ne.duration).ease(ne.easing).each("end",function(){pe&&pe()}).each("interrupt",function(){pe&&pe()})}else return K}function S(K){return K&&K.duration>0}function E(K,ee,ne,me,pe,be){var ve=ee.xaxis,C=ee.yaxis,I=K._fullLayout;pe||(pe={mode:I.barmode,norm:I.barmode,gap:I.bargap,groupgap:I.bargroupgap},p("bar",I));var L=c.makeTraceGroups(me,ne,"trace bars").each(function(P){var B=i.select(this),V=P[0].trace,N=V.type==="waterfall",Z=V.type==="funnel",W=V.type==="bar",q=W||Z,re=0;N&&V.connector.visible&&V.connector.mode==="between"&&(re=V.connector.line.width/2);var se=V.orientation==="h",_e=S(pe),ge=c.ensureSingle(B,"g","points"),Ae=T(V),Ce=ge.selectAll("g.point").data(c.identity,Ae);Ce.enter().append("g").classed("point",!0),Ce.exit().remove(),Ce.each(function(he,we){var ke=i.select(this),Pe=F(he,ve,C,se),fe=Pe[0][0],De=Pe[0][1],Fe=Pe[1][0],et=Pe[1][1],Xe=(se?De-fe:et-Fe)===0;Xe&&q&&g.getLineWidth(V,he)&&(Xe=!1),Xe||(Xe=!n(fe)||!n(De)||!n(Fe)||!n(et)),he.isBlank=Xe,Xe&&(se?De=fe:et=Fe),re&&!Xe&&(se?(fe-=k(fe,De)*re,De+=k(fe,De)*re):(Fe-=k(Fe,et)*re,et+=k(Fe,et)*re));var qe,rt;if(V.type==="waterfall"){if(!Xe){var ut=V[he.dir].marker;qe=ut.line.width,rt=ut.color}}else qe=g.getLineWidth(V,he),rt=he.mc||V.marker.color;function yt(Lt){var de=i.round(qe/2%1,2);return pe.gap===0&&pe.groupgap===0?i.round(Math.round(Lt)-de,2):Lt}function Rt(Lt,de,Re){return Re&&Lt===de?Lt:Math.abs(Lt-de)>=2?yt(Lt):Lt>de?Math.ceil(Lt):Math.floor(Lt)}if(!K._context.staticPlot){var bt=e.opacity(rt),je=bt<1||qe>.01?yt:Rt;fe=je(fe,De,se),De=je(De,fe,se),Fe=je(Fe,et,!se),et=je(et,Fe,!se)}var ct=M(c.ensureSingle(ke,"path"),I,pe,be);if(ct.style("vector-effect","non-scaling-stroke").attr("d",isNaN((De-fe)*(et-Fe))||Xe&&K._context.staticPlot?"M0,0Z":"M"+fe+","+Fe+"V"+et+"H"+De+"V"+Fe+"Z").call(o.setClipUrl,ee.layerClipId,K),!I.uniformtext.mode&&_e){var Dt=o.makePointStyleFns(V);o.singlePointStyle(he,ct,V,Dt,K)}A(K,ee,ke,P,we,fe,De,Fe,et,pe,be),ee.layerClipId&&o.hideOutsideRangePoint(he,ke.select("text"),ve,C,V.xcalendar,V.ycalendar)});var ue=V.cliponaxis===!1;o.setClipUrl(B,ue?null:ee.layerClipId,K)});l.getComponentMethod("errorbars","plot")(K,L,ee,pe)}function A(K,ee,ne,me,pe,be,ve,C,I,L,P){var B=ee.xaxis,V=ee.yaxis,N=K._fullLayout,Z;function W(de,Re,ze){var ae=c.ensureSingle(de,"text").text(Re).attr({class:"bartext bartext-"+Z,"text-anchor":"middle","data-notex":1}).call(o.font,ze).call(s.convertToTspans,K);return ae}var q=me[0].trace,re=q.orientation==="h",se=ie(N,me,pe,B,V);Z=R(q,pe);var _e=L.mode==="stack"||L.mode==="relative",ge=me[pe],Ae=!_e||ge._outmost;if(!se||Z==="none"||(ge.isBlank||be===ve||C===I)&&(Z==="auto"||Z==="inside")){ne.select("text").remove();return}var Ce=N.font,ue=h.getBarColor(me[pe],q),he=h.getInsideTextFont(q,pe,Ce,ue),we=h.getOutsideTextFont(q,pe,Ce),ke=ne.datum();re?B.type==="log"&&ke.s0<=0&&(B.range[0]<B.range[1]?be=0:be=B._length):V.type==="log"&&ke.s0<=0&&(V.range[0]<V.range[1]?C=V._length:C=0);var Pe=Math.abs(ve-be)-2*b,fe=Math.abs(I-C)-2*b,De,Fe,et,Xe,qe;if(Z==="outside"&&!Ae&&!ge.hasB&&(Z="inside"),Z==="auto")if(Ae){Z="inside",qe=c.ensureUniformFontSize(K,he),De=W(ne,se,qe),Fe=o.bBox(De.node()),et=Fe.width,Xe=Fe.height;var rt=et>0&&Xe>0,ut=et<=Pe&&Xe<=fe,yt=et<=fe&&Xe<=Pe,Rt=re?Pe>=et*(fe/Xe):fe>=Xe*(Pe/et);rt&&(ut||yt||Rt)?Z="inside":(Z="outside",De.remove(),De=null)}else Z="inside";if(!De){qe=c.ensureUniformFontSize(K,Z==="outside"?we:he),De=W(ne,se,qe);var bt=De.attr("transform");if(De.attr("transform",""),Fe=o.bBox(De.node()),et=Fe.width,Xe=Fe.height,De.attr("transform",bt),et<=0||Xe<=0){De.remove();return}}var je=q.textangle,ct,Dt;Z==="outside"?(Dt=q.constraintext==="both"||q.constraintext==="outside",ct=X(be,ve,C,I,Fe,{isHorizontal:re,constrained:Dt,angle:je})):(Dt=q.constraintext==="both"||q.constraintext==="inside",ct=Q(be,ve,C,I,Fe,{isHorizontal:re,constrained:Dt,angle:je,anchor:q.insidetextanchor})),ct.fontSize=qe.size,v(q.type==="histogram"?"bar":q.type,ct,N),ge.transform=ct;var Lt=M(De,N,L,P);c.setTransormAndDisplay(Lt,ct)}function z(K){return K==="auto"?0:K}function H(K,ee){var ne=Math.PI/180*ee,me=Math.abs(Math.sin(ne)),pe=Math.abs(Math.cos(ne));return{x:K.width*pe+K.height*me,y:K.width*me+K.height*pe}}function Q(K,ee,ne,me,pe,be){var ve=!!be.isHorizontal,C=!!be.constrained,I=be.angle||0,L=be.anchor||"end",P=L==="end",B=L==="start",V=be.leftToRight||0,N=(V+1)/2,Z=1-N,W=pe.width,q=pe.height,re=Math.abs(ee-K),se=Math.abs(me-ne),_e=re>2*b&&se>2*b?b:0;re-=2*_e,se-=2*_e;var ge=z(I);I==="auto"&&!(W<=re&&q<=se)&&(W>re||q>se)&&(!(W>se||q>re)||W<q!=re<se)&&(ge+=90);var Ae=H(pe,ge),Ce=1;C&&(Ce=Math.min(1,re/Ae.x,se/Ae.y));var ue=pe.left*Z+pe.right*N,he=(pe.top+pe.bottom)/2,we=(K+b)*Z+(ee-b)*N,ke=(ne+me)/2,Pe=0,fe=0;if(B||P){var De=(ve?Ae.x:Ae.y)/2,Fe=ve?k(K,ee):k(ne,me);ve?B?(we=K+Fe*_e,Pe=-Fe*De):(we=ee-Fe*_e,Pe=Fe*De):B?(ke=ne+Fe*_e,fe=-Fe*De):(ke=me-Fe*_e,fe=Fe*De)}return{textX:ue,textY:he,targetX:we,targetY:ke,anchorX:Pe,anchorY:fe,scale:Ce,rotate:ge}}function X(K,ee,ne,me,pe,be){var ve=!!be.isHorizontal,C=!!be.constrained,I=be.angle||0,L=pe.width,P=pe.height,B=Math.abs(ee-K),V=Math.abs(me-ne),N;ve?N=V>2*b?b:0:N=B>2*b?b:0;var Z=1;C&&(Z=ve?Math.min(1,V/P):Math.min(1,B/L));var W=z(I),q=H(pe,W),re=(ve?q.x:q.y)/2,se=(pe.left+pe.right)/2,_e=(pe.top+pe.bottom)/2,ge=(K+ee)/2,Ae=(ne+me)/2,Ce=0,ue=0,he=ve?k(ee,K):k(ne,me);return ve?(ge=ee-he*N,Ce=he*re):(Ae=me+he*N,ue=-he*re),{textX:se,textY:_e,targetX:ge,targetY:Ae,anchorX:Ce,anchorY:ue,scale:Z,rotate:W}}function ie(K,ee,ne,me,pe){var be=ee[0].trace,ve=be.texttemplate,C;return ve?C=O(K,ee,ne,me,pe):be.textinfo?C=U(ee,ne,me,pe):C=g.getValue(be.text,ne),g.coerceString(y,C)}function R(K,ee){var ne=g.getValue(K.textposition,ee);return g.coerceEnumerated(x,ne)}function O(K,ee,ne,me,pe){var be=ee[0].trace,ve=c.castOption(be,ne,"texttemplate");if(!ve)return"";var C=be.type==="histogram",I=be.type==="waterfall",L=be.type==="funnel",P=be.orientation==="h",B,V,N,Z;P?(B="y",V=pe,N="x",Z=me):(B="x",V=me,N="y",Z=pe);function W(Ce){return a(V,V.c2l(Ce),!0).text}function q(Ce){return a(Z,Z.c2l(Ce),!0).text}var re=ee[ne],se={};se.label=re.p,se.labelLabel=se[B+"Label"]=W(re.p);var _e=c.castOption(be,re.i,"text");(_e===0||_e)&&(se.text=_e),se.value=re.s,se.valueLabel=se[N+"Label"]=q(re.s);var ge={};f(ge,be,re.i),(C||ge.x===void 0)&&(ge.x=P?se.value:se.label),(C||ge.y===void 0)&&(ge.y=P?se.label:se.value),(C||ge.xLabel===void 0)&&(ge.xLabel=P?se.valueLabel:se.labelLabel),(C||ge.yLabel===void 0)&&(ge.yLabel=P?se.labelLabel:se.valueLabel),I&&(se.delta=+re.rawS||re.s,se.deltaLabel=q(se.delta),se.final=re.v,se.finalLabel=q(se.final),se.initial=se.final-se.delta,se.initialLabel=q(se.initial)),L&&(se.value=re.s,se.valueLabel=q(se.value),se.percentInitial=re.begR,se.percentInitialLabel=c.formatPercent(re.begR),se.percentPrevious=re.difR,se.percentPreviousLabel=c.formatPercent(re.difR),se.percentTotal=re.sumR,se.percenTotalLabel=c.formatPercent(re.sumR));var Ae=c.castOption(be,re.i,"customdata");return Ae&&(se.customdata=Ae),c.texttemplateString(ve,se,K._d3locale,ge,se,be._meta||{})}function U(K,ee,ne,me){var pe=K[0].trace,be=pe.orientation==="h",ve=pe.type==="waterfall",C=pe.type==="funnel";function I(Ae){var Ce=be?me:ne;return a(Ce,Ae,!0).text}function L(Ae){var Ce=be?ne:me;return a(Ce,+Ae,!0).text}var P=pe.textinfo,B=K[ee],V=P.split("+"),N=[],Z,W=function(Ae){return V.indexOf(Ae)!==-1};if(W("label")&&N.push(I(K[ee].p)),W("text")&&(Z=c.castOption(pe,B.i,"text"),(Z===0||Z)&&N.push(Z)),ve){var q=+B.rawS||B.s,re=B.v,se=re-q;W("initial")&&N.push(L(se)),W("delta")&&N.push(L(q)),W("final")&&N.push(L(re))}if(C){W("value")&&N.push(L(B.s));var _e=0;W("percent initial")&&_e++,W("percent previous")&&_e++,W("percent total")&&_e++;var ge=_e>1;W("percent initial")&&(Z=c.formatPercent(B.begR),ge&&(Z+=" of initial"),N.push(Z)),W("percent previous")&&(Z=c.formatPercent(B.difR),ge&&(Z+=" of previous"),N.push(Z)),W("percent total")&&(Z=c.formatPercent(B.sumR),ge&&(Z+=" of total"),N.push(Z))}return N.join("<br>")}te.exports={plot:E,toMoveInsideBar:Q}},{"../../components/color":103,"../../components/drawing":125,"../../components/fx/helpers":139,"../../lib":244,"../../lib/svg_text_utils":267,"../../plots/cartesian/axes":291,"../../registry":327,"./attributes":337,"./constants":339,"./helpers":343,"./style":351,"./uniform_text":353,"@plotly/d3":11,"fast-isnumeric":17}],349:[function(u,te,Y){te.exports=function(c,s){var e=c.cd,o=c.xaxis,l=c.yaxis,a=e[0].trace,t=a.type==="funnel",v=a.orientation==="h",p=[],h;if(s===!1)for(h=0;h<e.length;h++)e[h].selected=0;else for(h=0;h<e.length;h++){var g=e[h],m="ct"in g?g.ct:i(g,o,l,v,t);s.contains(m,!1,h,c)?(p.push({pointNumber:h,x:o.c2d(g.x),y:l.c2d(g.y)}),g.selected=1):g.selected=0}return p};function i(n,c,s,e,o){var l=c.c2p(e?n.s0:n.p0,!0),a=c.c2p(e?n.s1:n.p1,!0),t=s.c2p(e?n.p0:n.s0,!0),v=s.c2p(e?n.p1:n.s1,!0);return o?[(l+a)/2,(t+v)/2]:e?[a,(t+v)/2]:[(l+a)/2,v]}},{}],350:[function(u,te,Y){te.exports=c;var i=u("../../lib").distinctVals,n=u("../../constants/numerical").BADNUM;function c(s,e){this.traces=s,this.sepNegVal=e.sepNegVal,this.overlapNoMerge=e.overlapNoMerge;for(var o=1/0,l=[],a=0;a<s.length;a++){for(var t=s[a],v=0;v<t.length;v++){var p=t[v];p.p!==n&&l.push(p.p)}t[0]&&t[0].width1&&(o=Math.min(t[0].width1,o))}this.positions=l;var h=i(l);this.distinctPositions=h.vals,h.vals.length===1&&o!==1/0?this.minDiff=o:this.minDiff=Math.min(h.minDiff,o);var g=(e.posAxis||{}).type;(g==="category"||g==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}c.prototype.put=function(e,o){var l=this.getLabel(e,o),a=this.bins[l]||0;return this.bins[l]=a+o,a},c.prototype.get=function(e,o){var l=this.getLabel(e,o);return this.bins[l]||0},c.prototype.getLabel=function(e,o){var l=o<0&&this.sepNegVal?"v":"^",a=this.overlapNoMerge?e:Math.round(e/this.binWidth);return l+a}},{"../../constants/numerical":224,"../../lib":244}],351:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../components/color"),c=u("../../components/drawing"),s=u("../../lib"),e=u("../../registry"),o=u("./uniform_text").resizeText,l=u("./attributes"),a=l.textfont,t=l.insidetextfont,v=l.outsidetextfont,p=u("./helpers");function h(M){var S=i.select(M).selectAll("g.barlayer").selectAll("g.trace");o(M,S,"bar");var E=S.size(),A=M._fullLayout;S.style("opacity",function(z){return z[0].trace.opacity}).each(function(z){(A.barmode==="stack"&&E>1||A.bargap===0&&A.bargroupgap===0&&!z[0].trace.marker.line.width)&&i.select(this).attr("shape-rendering","crispEdges")}),S.selectAll("g.points").each(function(z){var H=i.select(this),Q=z[0].trace;g(H,Q,M)}),e.getComponentMethod("errorbars","style")(S)}function g(M,S,E){c.pointStyle(M.selectAll("path"),S,E),m(M,S,E)}function m(M,S,E){M.selectAll("text").each(function(A){var z=i.select(this),H=s.ensureUniformFontSize(E,f(z,A,S,E));c.font(z,H)})}function w(M,S,E){var A=S[0].trace;A.selectedpoints?y(E,A,M):(g(E,A,M),e.getComponentMethod("errorbars","style")(E))}function y(M,S,E){c.selectedPointStyle(M.selectAll("path"),S),x(M.selectAll("text"),S,E)}function x(M,S,E){M.each(function(A){var z=i.select(this),H;if(A.selected){H=s.ensureUniformFontSize(E,f(z,A,S,E));var Q=S.selected.textfont&&S.selected.textfont.color;Q&&(H.color=Q),c.font(z,H)}else c.selectedTextStyle(z,S)})}function f(M,S,E,A){var z=A._fullLayout.font,H=E.textfont;if(M.classed("bartext-inside")){var Q=F(S,E);H=d(E,S.i,z,Q)}else M.classed("bartext-outside")&&(H=T(E,S.i,z));return H}function b(M,S,E){return k(a,M.textfont,S,E)}function d(M,S,E,A){var z=b(M,S,E),H=M._input.textfont===void 0||M._input.textfont.color===void 0||Array.isArray(M.textfont.color)&&M.textfont.color[S]===void 0;return H&&(z={color:n.contrast(A),family:z.family,size:z.size}),k(t,M.insidetextfont,S,z)}function T(M,S,E){var A=b(M,S,E);return k(v,M.outsidetextfont,S,A)}function k(M,S,E,A){S=S||{};var z=p.getValue(S.family,E),H=p.getValue(S.size,E),Q=p.getValue(S.color,E);return{family:p.coerceString(M.family,z,A.family),size:p.coerceNumber(M.size,H,A.size),color:p.coerceColor(M.color,Q,A.color)}}function F(M,S){return S.type==="waterfall"?S[M.dir].marker.color:M.mcc||M.mc||S.marker.color}te.exports={style:h,styleTextPoints:m,styleOnSelect:w,getInsideTextFont:d,getOutsideTextFont:T,getBarColor:F,resizeText:o}},{"../../components/color":103,"../../components/drawing":125,"../../lib":244,"../../registry":327,"./attributes":337,"./helpers":343,"./uniform_text":353,"@plotly/d3":11}],352:[function(u,te,Y){var i=u("../../components/color"),n=u("../../components/colorscale/helpers").hasColorscale,c=u("../../components/colorscale/defaults"),s=u("../../lib").coercePattern;te.exports=function(o,l,a,t,v){var p=a("marker.color",t),h=n(o,"marker");h&&c(o,l,v,a,{prefix:"marker.",cLetter:"c"}),a("marker.line.color",i.defaultLine),n(o,"marker.line")&&c(o,l,v,a,{prefix:"marker.line.",cLetter:"c"}),a("marker.line.width"),a("marker.opacity"),s(a,"marker.pattern",p,h),a("selected.marker.color"),a("unselected.marker.color")}},{"../../components/color":103,"../../components/colorscale/defaults":113,"../../components/colorscale/helpers":114,"../../lib":244}],353:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../lib");function c(l,a,t){var v=l._fullLayout,p=v["_"+t+"Text_minsize"];if(p){var h=v.uniformtext.mode==="hide",g;switch(t){case"funnelarea":case"pie":case"sunburst":g="g.slice";break;case"treemap":case"icicle":g="g.slice, g.pathbar";break;default:g="g.points > g.point"}a.selectAll(g).each(function(m){var w=m.transform;if(w){w.scale=h&&w.hide?0:p/w.fontSize;var y=i.select(this).select("text");n.setTransormAndDisplay(y,w)}})}}function s(l,a,t){if(t.uniformtext.mode){var v=o(l),p=t.uniformtext.minsize,h=a.scale*a.fontSize;a.hide=h<p,t[v]=t[v]||1/0,a.hide||(t[v]=Math.min(t[v],Math.max(h,p)))}}function e(l,a){var t=o(l);a[t]=void 0}function o(l){return"_"+l+"Text_minsize"}te.exports={recordMinTextSize:s,clearMinTextSize:e,resizeText:c}},{"../../lib":244,"@plotly/d3":11}],354:[function(u,te,Y){var i=u("../../plots/attributes"),n=u("../../plots/domain").attributes,c=u("../../plots/font_attributes"),s=u("../../components/color/attributes"),e=u("../../plots/template_attributes").hovertemplateAttrs,o=u("../../plots/template_attributes").texttemplateAttrs,l=u("../../lib/extend").extendFlat,a=c({editType:"plot",arrayOk:!0,colorEditType:"plot"});te.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:s.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:l({},i.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:e({},{keys:["label","color","value","percent","text"]}),texttemplate:o({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:l({},a,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:l({},a,{}),outsidetextfont:l({},a,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:l({},a,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:n({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:l({},a,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},{"../../components/color/attributes":102,"../../lib/extend":238,"../../plots/attributes":287,"../../plots/domain":318,"../../plots/font_attributes":319,"../../plots/template_attributes":326}],355:[function(u,te,Y){var i=u("../../plots/plots");Y.name="pie",Y.plot=function(n,c,s,e){i.plotBasePlot(Y.name,n,c,s,e)},Y.clean=function(n,c,s,e){i.cleanBasePlot(Y.name,n,c,s,e)}},{"../../plots/plots":325}],356:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("tinycolor2"),c=u("../../components/color"),s={};function e(t,v){var p=[],h=t._fullLayout,g=h.hiddenlabels||[],m=v.labels,w=v.marker.colors||[],y=v.values,x=v._length,f=v._hasValues&&x,b,d;if(v.dlabel)for(m=new Array(x),b=0;b<x;b++)m[b]=String(v.label0+b*v.dlabel);var T={},k=o(h["_"+v.type+"colormap"]),F=0,M=!1;for(b=0;b<x;b++){var S,E,A;if(f){if(S=y[b],!i(S))continue;S=+S}else S=1;E=m[b],(E===void 0||E==="")&&(E=b),E=String(E);var z=T[E];z===void 0?(T[E]=p.length,A=g.indexOf(E)!==-1,A||(F+=S),p.push({v:S,label:E,color:k(w[b],E),i:b,pts:[b],hidden:A})):(M=!0,d=p[z],d.v+=S,d.pts.push(b),d.hidden||(F+=S),d.color===!1&&w[b]&&(d.color=k(w[b],E)))}p=p.filter(function(Q){return Q.v>=0});var H=v.type==="funnelarea"?M:v.sort;return H&&p.sort(function(Q,X){return X.v-Q.v}),p[0]&&(p[0].vTotal=F),p}function o(t){return function(p,h){return!p||(p=n(p),!p.isValid())?!1:(p=c.addOpacity(p,p.getAlpha()),t[h]||(t[h]=p),p)}}function l(t,v){var p=(v||{}).type;p||(p="pie");var h=t._fullLayout,g=t.calcdata,m=h[p+"colorway"],w=h["_"+p+"colormap"];h["extend"+p+"colors"]&&(m=a(m,s));for(var y=0,x=0;x<g.length;x++){var f=g[x],b=f[0].trace.type;if(b===p)for(var d=0;d<f.length;d++){var T=f[d];T.color===!1&&(w[T.label]?T.color=w[T.label]:(w[T.label]=T.color=m[y%m.length],y++))}}}function a(t,v){var p,h=JSON.stringify(t),g=v[h];if(!g){for(g=t.slice(),p=0;p<t.length;p++)g.push(n(t[p]).lighten(20).toHexString());for(p=0;p<t.length;p++)g.push(n(t[p]).darken(20).toHexString());v[h]=g}return g}te.exports={calc:e,crossTraceCalc:l,makePullColorFn:o,generateExtendedColors:a}},{"../../components/color":103,"fast-isnumeric":17,tinycolor2:68}],357:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("../../lib"),c=u("./attributes"),s=u("../../plots/domain").defaults,e=u("../bar/defaults").handleText;function o(a,t){var v=Array.isArray(a),p=n.isArrayOrTypedArray(t),h=Math.min(v?a.length:1/0,p?t.length:1/0);if(isFinite(h)||(h=0),h&&p){for(var g,m=0;m<h;m++){var w=t[m];if(i(w)&&w>0){g=!0;break}}g||(h=0)}return{hasLabels:v,hasValues:p,len:h}}function l(a,t,v,p){function h(A,z){return n.coerce(a,t,c,A,z)}var g=h("labels"),m=h("values"),w=o(g,m),y=w.len;if(t._hasLabels=w.hasLabels,t._hasValues=w.hasValues,!t._hasLabels&&t._hasValues&&(h("label0"),h("dlabel")),!y){t.visible=!1;return}t._length=y;var x=h("marker.line.width");x&&h("marker.line.color"),h("marker.colors"),h("scalegroup");var f=h("text"),b=h("texttemplate"),d;if(b||(d=h("textinfo",Array.isArray(f)?"text+percent":"percent")),h("hovertext"),h("hovertemplate"),b||d&&d!=="none"){var T=h("textposition");e(a,t,p,h,T,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var k=Array.isArray(T)||T==="auto",F=k||T==="outside";F&&h("automargin"),(T==="inside"||T==="auto"||Array.isArray(T))&&h("insidetextorientation")}s(t,p,h);var M=h("hole"),S=h("title.text");if(S){var E=h("title.position",M?"middle center":"top center");!M&&E==="middle center"&&(t.title.position="top center"),n.coerceFont(h,"title.font",p.font)}h("sort"),h("direction"),h("rotation"),h("pull")}te.exports={handleLabelsAndValues:o,supplyDefaults:l}},{"../../lib":244,"../../plots/domain":318,"../bar/defaults":341,"./attributes":354,"fast-isnumeric":17}],358:[function(u,te,Y){var i=u("../../components/fx/helpers").appendArrayMultiPointValues;te.exports=function(c,s){var e={curveNumber:s.index,pointNumbers:c.pts,data:s._input,fullData:s,label:c.label,color:c.color,value:c.v,percent:c.percent,text:c.text,bbox:c.bbox,v:c.v};return c.pts.length===1&&(e.pointNumber=e.i=c.pts[0]),i(e,s,c.pts),s.type==="funnelarea"&&(delete e.v,delete e.i),e}},{"../../components/fx/helpers":139}],359:[function(u,te,Y){var i=u("../../lib");function n(c){return c.indexOf("e")!==-1?c.replace(/[.]?0+e/,"e"):c.indexOf(".")!==-1?c.replace(/[.]?0+$/,""):c}Y.formatPiePercent=function(s,e){var o=n((s*100).toPrecision(3));return i.numSeparate(o,e)+"%"},Y.formatPieValue=function(s,e){var o=n(s.toPrecision(10));return i.numSeparate(o,e)},Y.getFirstFilled=function(s,e){if(!!Array.isArray(s))for(var o=0;o<e.length;o++){var l=s[e[o]];if(l||l===0||l==="")return l}},Y.castOption=function(s,e){if(Array.isArray(s))return Y.getFirstFilled(s,e);if(s)return s},Y.getRotationAngle=function(c){return(c==="auto"?0:c)*Math.PI/180}},{"../../lib":244}],360:[function(u,te,Y){te.exports={attributes:u("./attributes"),supplyDefaults:u("./defaults").supplyDefaults,supplyLayoutDefaults:u("./layout_defaults"),layoutAttributes:u("./layout_attributes"),calc:u("./calc").calc,crossTraceCalc:u("./calc").crossTraceCalc,plot:u("./plot").plot,style:u("./style"),styleOne:u("./style_one"),moduleType:"trace",name:"pie",basePlotModule:u("./base_plot"),categories:["pie-like","pie","showLegend"],meta:{}}},{"./attributes":354,"./base_plot":355,"./calc":356,"./defaults":357,"./layout_attributes":361,"./layout_defaults":362,"./plot":363,"./style":364,"./style_one":365}],361:[function(u,te,Y){te.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],362:[function(u,te,Y){var i=u("../../lib"),n=u("./layout_attributes");te.exports=function(s,e){function o(l,a){return i.coerce(s,e,n,l,a)}o("hiddenlabels"),o("piecolorway",e.colorway),o("extendpiecolors")}},{"../../lib":244,"./layout_attributes":361}],363:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../plots/plots"),c=u("../../components/fx"),s=u("../../components/color"),e=u("../../components/drawing"),o=u("../../lib"),l=o.strScale,a=o.strTranslate,t=u("../../lib/svg_text_utils"),v=u("../bar/uniform_text"),p=v.recordMinTextSize,h=v.clearMinTextSize,g=u("../bar/constants").TEXTPAD,m=u("./helpers"),w=u("./event_data"),y=u("../../lib").isValidTextValue;function x(I,L){var P=I._context.staticPlot,B=I._fullLayout,V=B._size;h("pie",B),k(L,I),ne(L,V);var N=o.makeTraceGroups(B._pielayer,L,"trace").each(function(Z){var W=i.select(this),q=Z[0],re=q.trace;pe(Z),W.attr("stroke-linejoin","round"),W.each(function(){var se=i.select(this).selectAll("g.slice").data(Z);se.enter().append("g").classed("slice",!0),se.exit().remove();var _e=[[[],[]],[[],[]]],ge=!1;se.each(function(fe,De){if(fe.hidden){i.select(this).selectAll("path,g").remove();return}fe.pointNumber=fe.i,fe.curveNumber=re.index,_e[fe.pxmid[1]<0?0:1][fe.pxmid[0]<0?0:1].push(fe);var Fe=q.cx,et=q.cy,Xe=i.select(this),qe=Xe.selectAll("path.surface").data([fe]);if(qe.enter().append("path").classed("surface",!0).style({"pointer-events":P?"none":"all"}),Xe.call(b,I,Z),re.pull){var rt=+m.castOption(re.pull,fe.pts)||0;rt>0&&(Fe+=rt*fe.pxmid[0],et+=rt*fe.pxmid[1])}fe.cxFinal=Fe,fe.cyFinal=et;function ut(Lt,de,Re,ze){var ae=ze*(de[0]-Lt[0]),xe=ze*(de[1]-Lt[1]);return"a"+ze*q.r+","+ze*q.r+" 0 "+fe.largeArc+(Re?" 1 ":" 0 ")+ae+","+xe}var yt=re.hole;if(fe.v===q.vTotal){var Rt="M"+(Fe+fe.px0[0])+","+(et+fe.px0[1])+ut(fe.px0,fe.pxmid,!0,1)+ut(fe.pxmid,fe.px0,!0,1)+"Z";yt?qe.attr("d","M"+(Fe+yt*fe.px0[0])+","+(et+yt*fe.px0[1])+ut(fe.px0,fe.pxmid,!1,yt)+ut(fe.pxmid,fe.px0,!1,yt)+"Z"+Rt):qe.attr("d",Rt)}else{var bt=ut(fe.px0,fe.px1,!0,1);if(yt){var je=1-yt;qe.attr("d","M"+(Fe+yt*fe.px1[0])+","+(et+yt*fe.px1[1])+ut(fe.px1,fe.px0,!1,yt)+"l"+je*fe.px0[0]+","+je*fe.px0[1]+bt+"Z")}else qe.attr("d","M"+Fe+","+et+"l"+fe.px0[0]+","+fe.px0[1]+bt+"Z")}ve(I,fe,q);var ct=m.castOption(re.textposition,fe.pts),Dt=Xe.selectAll("g.slicetext").data(fe.text&&ct!=="none"?[0]:[]);Dt.enter().append("g").classed("slicetext",!0),Dt.exit().remove(),Dt.each(function(){var Lt=o.ensureSingle(i.select(this),"text","",function(Je){Je.attr("data-notex",1)}),de=o.ensureUniformFontSize(I,ct==="outside"?d(re,fe,B.font):T(re,fe,B.font));Lt.text(fe.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(e.font,de).call(t.convertToTspans,I);var Re=e.bBox(Lt.node()),ze;if(ct==="outside")ze=X(Re,fe);else if(ze=F(Re,fe,q),ct==="auto"&&ze.scale<1){var ae=o.ensureUniformFontSize(I,re.outsidetextfont);Lt.call(e.font,ae),Re=e.bBox(Lt.node()),ze=X(Re,fe)}var xe=ze.textPosAngle,Te=xe===void 0?fe.pxmid:be(q.r,xe);if(ze.targetX=Fe+Te[0]*ze.rCenter+(ze.x||0),ze.targetY=et+Te[1]*ze.rCenter+(ze.y||0),C(ze,Re),ze.outside){var Me=ze.targetY;fe.yLabelMin=Me-Re.height/2,fe.yLabelMid=Me,fe.yLabelMax=Me+Re.height/2,fe.labelExtraX=0,fe.labelExtraY=0,ge=!0}ze.fontSize=de.size,p(re.type,ze,B),Z[De].transform=ze,o.setTransormAndDisplay(Lt,ze)})});var Ae=i.select(this).selectAll("g.titletext").data(re.title.text?[0]:[]);if(Ae.enter().append("g").classed("titletext",!0),Ae.exit().remove(),Ae.each(function(){var fe=o.ensureSingle(i.select(this),"text","",function(et){et.attr("data-notex",1)}),De=re.title.text;re._meta&&(De=o.templateString(De,re._meta)),fe.text(De).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(e.font,re.title.font).call(t.convertToTspans,I);var Fe;re.title.position==="middle center"?Fe=ie(q):Fe=R(q,V),fe.attr("transform",a(Fe.x,Fe.y)+l(Math.min(1,Fe.scale))+a(Fe.tx,Fe.ty))}),ge&&ee(_e,re),f(se,re),ge&&re.automargin){var Ce=e.bBox(W.node()),ue=re.domain,he=V.w*(ue.x[1]-ue.x[0]),we=V.h*(ue.y[1]-ue.y[0]),ke=(.5*he-q.r)/V.w,Pe=(.5*we-q.r)/V.h;n.autoMargin(I,"pie."+re.uid+".automargin",{xl:ue.x[0]-ke,xr:ue.x[1]+ke,yb:ue.y[0]-Pe,yt:ue.y[1]+Pe,l:Math.max(q.cx-q.r-Ce.left,0),r:Math.max(Ce.right-(q.cx+q.r),0),b:Math.max(Ce.bottom-(q.cy+q.r),0),t:Math.max(q.cy-q.r-Ce.top,0),pad:5})}})});setTimeout(function(){N.selectAll("tspan").each(function(){var Z=i.select(this);Z.attr("dy")&&Z.attr("dy",Z.attr("dy"))})},0)}function f(I,L){I.each(function(P){var B=i.select(this);if(!P.labelExtraX&&!P.labelExtraY){B.select("path.textline").remove();return}var V=B.select("g.slicetext text");P.transform.targetX+=P.labelExtraX,P.transform.targetY+=P.labelExtraY,o.setTransormAndDisplay(V,P.transform);var N=P.cxFinal+P.pxmid[0],Z=P.cyFinal+P.pxmid[1],W="M"+N+","+Z,q=(P.yLabelMax-P.yLabelMin)*(P.pxmid[0]<0?-1:1)/4;if(P.labelExtraX){var re=P.labelExtraX*P.pxmid[1]/P.pxmid[0],se=P.yLabelMid+P.labelExtraY-(P.cyFinal+P.pxmid[1]);Math.abs(re)>Math.abs(se)?W+="l"+se*P.pxmid[0]/P.pxmid[1]+","+se+"H"+(N+P.labelExtraX+q):W+="l"+P.labelExtraX+","+re+"v"+(se-re)+"h"+q}else W+="V"+(P.yLabelMid+P.labelExtraY)+"h"+q;o.ensureSingle(B,"path","textline").call(s.stroke,L.outsidetextfont.color).attr({"stroke-width":Math.min(2,L.outsidetextfont.size/8),d:W,fill:"none"})})}function b(I,L,P){var B=P[0],V=B.cx,N=B.cy,Z=B.trace,W=Z.type==="funnelarea";"_hasHoverLabel"in Z||(Z._hasHoverLabel=!1),"_hasHoverEvent"in Z||(Z._hasHoverEvent=!1),I.on("mouseover",function(q){var re=L._fullLayout,se=L._fullData[Z.index];if(!(L._dragging||re.hovermode===!1)){var _e=se.hoverinfo;if(Array.isArray(_e)&&(_e=c.castHoverinfo({hoverinfo:[m.castOption(_e,q.pts)],_module:Z._module},re,0)),_e==="all"&&(_e="label+text+value+percent+name"),se.hovertemplate||_e!=="none"&&_e!=="skip"&&_e){var ge=q.rInscribed||0,Ae=V+q.pxmid[0]*(1-ge),Ce=N+q.pxmid[1]*(1-ge),ue=re.separators,he=[];if(_e&&_e.indexOf("label")!==-1&&he.push(q.label),q.text=m.castOption(se.hovertext||se.text,q.pts),_e&&_e.indexOf("text")!==-1){var we=q.text;o.isValidTextValue(we)&&he.push(we)}q.value=q.v,q.valueLabel=m.formatPieValue(q.v,ue),_e&&_e.indexOf("value")!==-1&&he.push(q.valueLabel),q.percent=q.v/B.vTotal,q.percentLabel=m.formatPiePercent(q.percent,ue),_e&&_e.indexOf("percent")!==-1&&he.push(q.percentLabel);var ke=se.hoverlabel,Pe=ke.font,fe=[];c.loneHover({trace:Z,x0:Ae-ge*B.r,x1:Ae+ge*B.r,y:Ce,_x0:W?V+q.TL[0]:Ae-ge*B.r,_x1:W?V+q.TR[0]:Ae+ge*B.r,_y0:W?N+q.TL[1]:Ce-ge*B.r,_y1:W?N+q.BL[1]:Ce+ge*B.r,text:he.join("<br>"),name:se.hovertemplate||_e.indexOf("name")!==-1?se.name:void 0,idealAlign:q.pxmid[0]<0?"left":"right",color:m.castOption(ke.bgcolor,q.pts)||q.color,borderColor:m.castOption(ke.bordercolor,q.pts),fontFamily:m.castOption(Pe.family,q.pts),fontSize:m.castOption(Pe.size,q.pts),fontColor:m.castOption(Pe.color,q.pts),nameLength:m.castOption(ke.namelength,q.pts),textAlign:m.castOption(ke.align,q.pts),hovertemplate:m.castOption(se.hovertemplate,q.pts),hovertemplateLabels:q,eventData:[w(q,se)]},{container:re._hoverlayer.node(),outerContainer:re._paper.node(),gd:L,inOut_bbox:fe}),q.bbox=fe[0],Z._hasHoverLabel=!0}Z._hasHoverEvent=!0,L.emit("plotly_hover",{points:[w(q,se)],event:i.event})}}),I.on("mouseout",function(q){var re=L._fullLayout,se=L._fullData[Z.index],_e=i.select(this).datum();Z._hasHoverEvent&&(q.originalEvent=i.event,L.emit("plotly_unhover",{points:[w(_e,se)],event:i.event}),Z._hasHoverEvent=!1),Z._hasHoverLabel&&(c.loneUnhover(re._hoverlayer.node()),Z._hasHoverLabel=!1)}),I.on("click",function(q){var re=L._fullLayout,se=L._fullData[Z.index];L._dragging||re.hovermode===!1||(L._hoverdata=[w(q,se)],c.click(L,i.event))})}function d(I,L,P){var B=m.castOption(I.outsidetextfont.color,L.pts)||m.castOption(I.textfont.color,L.pts)||P.color,V=m.castOption(I.outsidetextfont.family,L.pts)||m.castOption(I.textfont.family,L.pts)||P.family,N=m.castOption(I.outsidetextfont.size,L.pts)||m.castOption(I.textfont.size,L.pts)||P.size;return{color:B,family:V,size:N}}function T(I,L,P){var B=m.castOption(I.insidetextfont.color,L.pts);!B&&I._input.textfont&&(B=m.castOption(I._input.textfont.color,L.pts));var V=m.castOption(I.insidetextfont.family,L.pts)||m.castOption(I.textfont.family,L.pts)||P.family,N=m.castOption(I.insidetextfont.size,L.pts)||m.castOption(I.textfont.size,L.pts)||P.size;return{color:B||s.contrast(L.color),family:V,size:N}}function k(I,L){for(var P,B,V=0;V<I.length;V++)if(P=I[V][0],B=P.trace,B.title.text){var N=B.title.text;B._meta&&(N=o.templateString(N,B._meta));var Z=e.tester.append("text").attr("data-notex",1).text(N).call(e.font,B.title.font).call(t.convertToTspans,L),W=e.bBox(Z.node(),!0);P.titleBox={width:W.width,height:W.height},Z.remove()}}function F(I,L,P){var B=P.r||L.rpx1,V=L.rInscribed,N=L.startangle===L.stopangle;if(N)return{rCenter:1-V,scale:0,rotate:0,textPosAngle:0};var Z=L.ring,W=Z===1&&Math.abs(L.startangle-L.stopangle)===Math.PI*2,q=L.halfangle,re=L.midangle,se=P.trace.insidetextorientation,_e=se==="horizontal",ge=se==="tangential",Ae=se==="radial",Ce=se==="auto",ue=[],he;if(!Ce){var we=function(Xe,qe){if(M(L,Xe)){var rt=Math.abs(Xe-L.startangle),ut=Math.abs(Xe-L.stopangle),yt=rt<ut?rt:ut;qe==="tan"?he=E(I,B,Z,yt,0):he=S(I,B,Z,yt,Math.PI/2),he.textPosAngle=Xe,ue.push(he)}},ke;if(_e||ge){for(ke=4;ke>=-4;ke-=2)we(Math.PI*ke,"tan");for(ke=4;ke>=-4;ke-=2)we(Math.PI*(ke+1),"tan")}if(_e||Ae){for(ke=4;ke>=-4;ke-=2)we(Math.PI*(ke+1.5),"rad");for(ke=4;ke>=-4;ke-=2)we(Math.PI*(ke+.5),"rad")}}if(W||Ce||_e){var Pe=Math.sqrt(I.width*I.width+I.height*I.height);if(he={scale:V*B*2/Pe,rCenter:1-V,rotate:0},he.textPosAngle=(L.startangle+L.stopangle)/2,he.scale>=1)return he;ue.push(he)}(Ce||Ae)&&(he=S(I,B,Z,q,re),he.textPosAngle=(L.startangle+L.stopangle)/2,ue.push(he)),(Ce||ge)&&(he=E(I,B,Z,q,re),he.textPosAngle=(L.startangle+L.stopangle)/2,ue.push(he));for(var fe=0,De=0,Fe=0;Fe<ue.length;Fe++){var et=ue[Fe].scale;if(De<et&&(De=et,fe=Fe),!Ce&&De>=1)break}return ue[fe]}function M(I,L){var P=I.startangle,B=I.stopangle;return P>L&&L>B||P<L&&L<B}function S(I,L,P,B,V){L=Math.max(0,L-2*g);var N=I.width/I.height,Z=H(N,B,L,P);return{scale:Z*2/I.height,rCenter:A(N,Z/L),rotate:z(V)}}function E(I,L,P,B,V){L=Math.max(0,L-2*g);var N=I.height/I.width,Z=H(N,B,L,P);return{scale:Z*2/I.width,rCenter:A(N,Z/L),rotate:z(V+Math.PI/2)}}function A(I,L){return Math.cos(L)-I*L}function z(I){return(180/Math.PI*I+720)%180-90}function H(I,L,P,B){var V=I+1/(2*Math.tan(L));return P*Math.min(1/(Math.sqrt(V*V+.5)+V),B/(Math.sqrt(I*I+B/2)+I))}function Q(I,L){return I.v===L.vTotal&&!L.trace.hole?1:Math.min(1/(1+1/Math.sin(I.halfangle)),I.ring/2)}function X(I,L){var P=L.pxmid[0],B=L.pxmid[1],V=I.width/2,N=I.height/2;return P<0&&(V*=-1),B<0&&(N*=-1),{scale:1,rCenter:1,rotate:0,x:V+Math.abs(N)*(V>0?1:-1)/2,y:N/(1+P*P/(B*B)),outside:!0}}function ie(I){var L=Math.sqrt(I.titleBox.width*I.titleBox.width+I.titleBox.height*I.titleBox.height);return{x:I.cx,y:I.cy,scale:I.trace.hole*I.r*2/L,tx:0,ty:-I.titleBox.height/2+I.trace.title.font.size}}function R(I,L){var P=1,B=1,V,N=I.trace,Z={x:I.cx,y:I.cy},W={tx:0,ty:0};W.ty+=N.title.font.size,V=K(N),N.title.position.indexOf("top")!==-1?(Z.y-=(1+V)*I.r,W.ty-=I.titleBox.height):N.title.position.indexOf("bottom")!==-1&&(Z.y+=(1+V)*I.r);var q=O(I.r,I.trace.aspectratio),re=L.w*(N.domain.x[1]-N.domain.x[0])/2;return N.title.position.indexOf("left")!==-1?(re=re+q,Z.x-=(1+V)*q,W.tx+=I.titleBox.width/2):N.title.position.indexOf("center")!==-1?re*=2:N.title.position.indexOf("right")!==-1&&(re=re+q,Z.x+=(1+V)*q,W.tx-=I.titleBox.width/2),P=re/I.titleBox.width,B=U(I,L)/I.titleBox.height,{x:Z.x,y:Z.y,scale:Math.min(P,B),tx:W.tx,ty:W.ty}}function O(I,L){return I/(L===void 0?1:L)}function U(I,L){var P=I.trace,B=L.h*(P.domain.y[1]-P.domain.y[0]);return Math.min(I.titleBox.height,B/2)}function K(I){var L=I.pull;if(!L)return 0;var P;if(Array.isArray(L))for(L=0,P=0;P<I.pull.length;P++)I.pull[P]>L&&(L=I.pull[P]);return L}function ee(I,L){var P,B,V,N,Z,W,q,re,se,_e,ge,Ae,Ce;function ue(Pe,fe){return Pe.pxmid[1]-fe.pxmid[1]}function he(Pe,fe){return fe.pxmid[1]-Pe.pxmid[1]}function we(Pe,fe){fe||(fe={});var De=fe.labelExtraY+(B?fe.yLabelMax:fe.yLabelMin),Fe=B?Pe.yLabelMin:Pe.yLabelMax,et=B?Pe.yLabelMax:Pe.yLabelMin,Xe=Pe.cyFinal+Z(Pe.px0[1],Pe.px1[1]),qe=De-Fe,rt,ut,yt,Rt,bt,je;if(qe*q>0&&(Pe.labelExtraY=qe),!!Array.isArray(L.pull))for(ut=0;ut<_e.length;ut++)yt=_e[ut],!(yt===Pe||(m.castOption(L.pull,Pe.pts)||0)>=(m.castOption(L.pull,yt.pts)||0))&&((Pe.pxmid[1]-yt.pxmid[1])*q>0?(Rt=yt.cyFinal+Z(yt.px0[1],yt.px1[1]),qe=Rt-Fe-Pe.labelExtraY,qe*q>0&&(Pe.labelExtraY+=qe)):(et+Pe.labelExtraY-Xe)*q>0&&(rt=3*W*Math.abs(ut-_e.indexOf(Pe)),bt=yt.cxFinal+N(yt.px0[0],yt.px1[0]),je=bt+rt-(Pe.cxFinal+Pe.pxmid[0])-Pe.labelExtraX,je*W>0&&(Pe.labelExtraX+=je)))}for(B=0;B<2;B++)for(V=B?ue:he,Z=B?Math.max:Math.min,q=B?1:-1,P=0;P<2;P++){for(N=P?Math.max:Math.min,W=P?1:-1,re=I[B][P],re.sort(V),se=I[1-B][P],_e=se.concat(re),Ae=[],ge=0;ge<re.length;ge++)re[ge].yLabelMid!==void 0&&Ae.push(re[ge]);for(Ce=!1,ge=0;B&&ge<se.length;ge++)if(se[ge].yLabelMid!==void 0){Ce=se[ge];break}for(ge=0;ge<Ae.length;ge++){var ke=ge&&Ae[ge-1];Ce&&!ge&&(ke=Ce),we(Ae[ge],ke)}}}function ne(I,L){for(var P=[],B=0;B<I.length;B++){var V=I[B][0],N=V.trace,Z=N.domain,W=L.w*(Z.x[1]-Z.x[0]),q=L.h*(Z.y[1]-Z.y[0]);N.title.text&&N.title.position!=="middle center"&&(q-=U(V,L));var re=W/2,se=q/2;N.type==="funnelarea"&&!N.scalegroup&&(se/=N.aspectratio),V.r=Math.min(re,se)/(1+K(N)),V.cx=L.l+L.w*(N.domain.x[1]+N.domain.x[0])/2,V.cy=L.t+L.h*(1-N.domain.y[0])-q/2,N.title.text&&N.title.position.indexOf("bottom")!==-1&&(V.cy-=U(V,L)),N.scalegroup&&P.indexOf(N.scalegroup)===-1&&P.push(N.scalegroup)}me(I,P)}function me(I,L){for(var P,B,V,N=0;N<L.length;N++){var Z=1/0,W=L[N];for(B=0;B<I.length;B++)if(P=I[B][0],V=P.trace,V.scalegroup===W){var q;if(V.type==="pie")q=P.r*P.r;else if(V.type==="funnelarea"){var re,se;V.aspectratio>1?(re=P.r,se=re/V.aspectratio):(se=P.r,re=se*V.aspectratio),re*=(1+V.baseratio)/2,q=re*se}Z=Math.min(Z,q/P.vTotal)}for(B=0;B<I.length;B++)if(P=I[B][0],V=P.trace,V.scalegroup===W){var _e=Z*P.vTotal;V.type==="funnelarea"&&(_e/=(1+V.baseratio)/2,_e/=V.aspectratio),P.r=Math.sqrt(_e)}}}function pe(I){var L=I[0],P=L.r,B=L.trace,V=m.getRotationAngle(B.rotation),N=2*Math.PI/L.vTotal,Z="px0",W="px1",q,re,se;if(B.direction==="counterclockwise"){for(q=0;q<I.length&&I[q].hidden;q++);if(q===I.length)return;V+=N*I[q].v,N*=-1,Z="px1",W="px0"}for(se=be(P,V),q=0;q<I.length;q++)re=I[q],!re.hidden&&(re[Z]=se,re.startangle=V,V+=N*re.v/2,re.pxmid=be(P,V),re.midangle=V,V+=N*re.v/2,se=be(P,V),re.stopangle=V,re[W]=se,re.largeArc=re.v>L.vTotal/2?1:0,re.halfangle=Math.PI*Math.min(re.v/L.vTotal,.5),re.ring=1-B.hole,re.rInscribed=Q(re,L))}function be(I,L){return[I*Math.sin(L),-I*Math.cos(L)]}function ve(I,L,P){var B=I._fullLayout,V=P.trace,N=V.texttemplate,Z=V.textinfo;if(!N&&Z&&Z!=="none"){var W=Z.split("+"),q=function(fe){return W.indexOf(fe)!==-1},re=q("label"),se=q("text"),_e=q("value"),ge=q("percent"),Ae=B.separators,Ce;if(Ce=re?[L.label]:[],se){var ue=m.getFirstFilled(V.text,L.pts);y(ue)&&Ce.push(ue)}_e&&Ce.push(m.formatPieValue(L.v,Ae)),ge&&Ce.push(m.formatPiePercent(L.v/P.vTotal,Ae)),L.text=Ce.join("<br>")}function he(fe){return{label:fe.label,value:fe.v,valueLabel:m.formatPieValue(fe.v,B.separators),percent:fe.v/P.vTotal,percentLabel:m.formatPiePercent(fe.v/P.vTotal,B.separators),color:fe.color,text:fe.text,customdata:o.castOption(V,fe.i,"customdata")}}if(N){var we=o.castOption(V,L.i,"texttemplate");if(!we)L.text="";else{var ke=he(L),Pe=m.getFirstFilled(V.text,L.pts);(y(Pe)||Pe==="")&&(ke.text=Pe),L.text=o.texttemplateString(we,ke,I._fullLayout._d3locale,ke,V._meta||{})}}}function C(I,L){var P=I.rotate*Math.PI/180,B=Math.cos(P),V=Math.sin(P),N=(L.left+L.right)/2,Z=(L.top+L.bottom)/2;I.textX=N*B-Z*V,I.textY=N*V+Z*B,I.noCenter=!0}te.exports={plot:x,formatSliceLabel:ve,transformInsideText:F,determineInsideTextFont:T,positionTitleOutside:R,prerenderTitles:k,layoutAreas:ne,attachFxHandlers:b,computeTransform:C}},{"../../components/color":103,"../../components/drawing":125,"../../components/fx":143,"../../lib":244,"../../lib/svg_text_utils":267,"../../plots/plots":325,"../bar/constants":339,"../bar/uniform_text":353,"./event_data":358,"./helpers":359,"@plotly/d3":11}],364:[function(u,te,Y){var i=u("@plotly/d3"),n=u("./style_one"),c=u("../bar/uniform_text").resizeText;te.exports=function(e){var o=e._fullLayout._pielayer.selectAll(".trace");c(e,o,"pie"),o.each(function(l){var a=l[0],t=a.trace,v=i.select(this);v.style({opacity:t.opacity}),v.selectAll("path.surface").each(function(p){i.select(this).call(n,p,t)})})}},{"../bar/uniform_text":353,"./style_one":365,"@plotly/d3":11}],365:[function(u,te,Y){var i=u("../../components/color"),n=u("./helpers").castOption;te.exports=function(s,e,o){var l=o.marker.line,a=n(l.color,e.pts)||i.defaultLine,t=n(l.width,e.pts)||0;s.style("stroke-width",t).call(i.fill,e.color).call(i.stroke,a)}},{"../../components/color":103,"./helpers":359}],366:[function(u,te,Y){var i=u("../../lib");te.exports=function(c,s){for(var e=0;e<c.length;e++)c[e].i=e;i.mergeArray(s.text,c,"tx"),i.mergeArray(s.texttemplate,c,"txt"),i.mergeArray(s.hovertext,c,"htx"),i.mergeArray(s.customdata,c,"data"),i.mergeArray(s.textposition,c,"tp"),s.textfont&&(i.mergeArrayCastPositive(s.textfont.size,c,"ts"),i.mergeArray(s.textfont.color,c,"tc"),i.mergeArray(s.textfont.family,c,"tf"));var o=s.marker;if(o){i.mergeArrayCastPositive(o.size,c,"ms"),i.mergeArrayCastPositive(o.opacity,c,"mo"),i.mergeArray(o.symbol,c,"mx"),i.mergeArray(o.angle,c,"ma"),i.mergeArray(o.standoff,c,"mf"),i.mergeArray(o.color,c,"mc");var l=o.line;o.line&&(i.mergeArray(l.color,c,"mlc"),i.mergeArrayCastPositive(l.width,c,"mlw"));var a=o.gradient;a&&a.type!=="none"&&(i.mergeArray(a.type,c,"mgt"),i.mergeArray(a.color,c,"mgc"))}}},{"../../lib":244}],367:[function(u,te,Y){var i=u("../../plots/cartesian/axis_format_attributes").axisHoverFormat,n=u("../../plots/template_attributes").texttemplateAttrs,c=u("../../plots/template_attributes").hovertemplateAttrs,s=u("../../components/colorscale/attributes"),e=u("../../plots/font_attributes"),o=u("../../components/drawing/attributes").dash,l=u("../../components/drawing/attributes").pattern,a=u("../../components/drawing"),t=u("./constants"),v=u("../../lib/extend").extendFlat;function p(m){return{valType:"any",dflt:0,editType:"calc"}}function h(m){return{valType:"any",editType:"calc"}}function g(m){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}te.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:p(),yperiod:p(),xperiod0:h(),yperiod0:h(),xperiodalignment:g(),yperiodalignment:g(),xhoverformat:i("x"),yhoverformat:i("y"),stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:n({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:c({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:v({},o,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:l,marker:v({symbol:{valType:"enumerated",values:a.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:v({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},s("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},s("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:e({editType:"calc",colorEditType:"style",arrayOk:!0})}},{"../../components/colorscale/attributes":110,"../../components/drawing":125,"../../components/drawing/attributes":124,"../../lib/extend":238,"../../plots/cartesian/axis_format_attributes":294,"../../plots/font_attributes":319,"../../plots/template_attributes":326,"./constants":371}],368:[function(u,te,Y){var i=u("fast-isnumeric"),n=u("../../lib"),c=u("../../plots/cartesian/axes"),s=u("../../plots/cartesian/align_period"),e=u("../../constants/numerical").BADNUM,o=u("./subtypes"),l=u("./colorscale_calc"),a=u("./arrays_to_calcdata"),t=u("./calc_selection");function v(y,x){var f=y._fullLayout,b=x._xA=c.getFromId(y,x.xaxis||"x","x"),d=x._yA=c.getFromId(y,x.yaxis||"y","y"),T=b.makeCalcdata(x,"x"),k=d.makeCalcdata(x,"y"),F=s(x,b,"x",T),M=s(x,d,"y",k),S=F.vals,E=M.vals,A=x._length,z=new Array(A),H=x.ids,Q=w(x,f,b,d),X=!1,ie,R,O,U,K,ee;g(f,x);var ne="x",me="y",pe;if(Q)n.pushUnique(Q.traceIndices,x._expandedIndex),ie=Q.orientation==="v",ie?(me="s",pe="x"):(ne="s",pe="y"),K=Q.stackgaps==="interpolate";else{var be=h(x,A);p(y,x,b,d,S,E,be)}var ve=!!x.xperiodalignment,C=!!x.yperiodalignment;for(R=0;R<A;R++){var I=z[R]={},L=i(S[R]),P=i(E[R]);L&&P?(I[ne]=S[R],I[me]=E[R],ve&&(I.orig_x=T[R],I.xEnd=F.ends[R],I.xStart=F.starts[R]),C&&(I.orig_y=k[R],I.yEnd=M.ends[R],I.yStart=M.starts[R])):Q&&(ie?L:P)?(I[pe]=ie?S[R]:E[R],I.gap=!0,K?(I.s=e,X=!0):I.s=0):I[ne]=I[me]=e,H&&(I.id=String(H[R]))}if(a(z,x),l(y,x),t(z,x),Q){for(R=0;R<z.length;)z[R][pe]===e?z.splice(R,1):R++;if(n.sort(z,function(Z,W){return Z[pe]-W[pe]||Z.i-W.i}),X){for(R=0;R<z.length-1&&z[R].gap;)R++;for(ee=z[R].s,ee||(ee=z[R].s=0),O=0;O<R;O++)z[O].s=ee;for(U=z.length-1;U>R&&z[U].gap;)U--;for(ee=z[U].s,O=z.length-1;O>U;O--)z[O].s=ee;for(;R<U;)if(R++,z[R].gap){for(O=R+1;z[O].gap;)O++;for(var B=z[R-1][pe],V=z[R-1].s,N=(z[O].s-V)/(z[O][pe]-B);R<O;)z[R].s=V+(z[R][pe]-B)*N,R++}}}return z}function p(y,x,f,b,d,T,k){var F=x._length,M=y._fullLayout,S=f._id,E=b._id,A=M._firstScatter[m(x)]===x.uid,z=(w(x,M,f,b)||{}).orientation,H=x.fill;f._minDtick=0,b._minDtick=0;var Q={padded:!0},X={padded:!0};k&&(Q.ppad=X.ppad=k);var ie=F<2||d[0]!==d[F-1]||T[0]!==T[F-1];ie&&(H==="tozerox"||H==="tonextx"&&(A||z==="h"))?Q.tozero=!0:!(x.error_y||{}).visible&&(H==="tonexty"||H==="tozeroy"||!o.hasMarkers(x)&&!o.hasText(x))&&(Q.padded=!1,Q.ppad=0),ie&&(H==="tozeroy"||H==="tonexty"&&(A||z==="v"))?X.tozero=!0:(H==="tonextx"||H==="tozerox")&&(X.padded=!1),S&&(x._extremes[S]=c.findExtremes(f,d,Q)),E&&(x._extremes[E]=c.findExtremes(b,T,X))}function h(y,x){if(!!o.hasMarkers(y)){var f=y.marker,b=1.6*(y.marker.sizeref||1),d;if(y.marker.sizemode==="area"?d=function(S){return Math.max(Math.sqrt((S||0)/b),3)}:d=function(S){return Math.max((S||0)/b,3)},n.isArrayOrTypedArray(f.size)){var T={type:"linear"};c.setConvert(T);for(var k=T.makeCalcdata(y.marker,"size"),F=new Array(x),M=0;M<x;M++)F[M]=d(k[M]);return F}else return d(f.size)}}function g(y,x){var f=m(x),b=y._firstScatter;b[f]||(b[f]=x.uid)}function m(y){var x=y.stackgroup;return y.xaxis+y.yaxis+y.type+(x?"-"+x:"")}function w(y,x,f,b){var d=y.stackgroup;if(!!d){var T=x._scatterStackOpts[f._id+b._id][d],k=T.orientation==="v"?b:f;if(k.type==="linear"||k.type==="log")return T}}te.exports={calc:v,calcMarkerSize:h,calcAxisExpansion:p,setFirstScatter:g,getStackOpts:w}},{"../../constants/numerical":224,"../../lib":244,"../../plots/cartesian/align_period":288,"../../plots/cartesian/axes":291,"./arrays_to_calcdata":366,"./calc_selection":369,"./colorscale_calc":370,"./subtypes":392,"fast-isnumeric":17}],369:[function(u,te,Y){var i=u("../../lib");te.exports=function(c,s){i.isArrayOrTypedArray(s.selectedpoints)&&i.tagSelected(c,s)}},{"../../lib":244}],370:[function(u,te,Y){var i=u("../../components/colorscale/helpers").hasColorscale,n=u("../../components/colorscale/calc"),c=u("./subtypes");te.exports=function(e,o){c.hasLines(o)&&i(o,"line")&&n(e,o,{vals:o.line.color,containerStr:"line",cLetter:"c"}),c.hasMarkers(o)&&(i(o,"marker")&&n(e,o,{vals:o.marker.color,containerStr:"marker",cLetter:"c"}),i(o,"marker.line")&&n(e,o,{vals:o.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":111,"../../components/colorscale/helpers":114,"./subtypes":392}],371:[function(u,te,Y){te.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],372:[function(u,te,Y){var i=u("./calc");te.exports=function(e,o){var l=o.xaxis,a=o.yaxis,t=l._id+a._id,v=e._fullLayout._scatterStackOpts[t];if(!!v){var p=e.calcdata,h,g,m,w,y,x,f,b,d,T,k,F,M,S,E;for(var A in v){T=v[A];var z=T.traceIndices;if(!!z.length){for(k=T.stackgaps==="interpolate",F=T.groupnorm,T.orientation==="v"?(M="x",S="y"):(M="y",S="x"),E=new Array(z.length),h=0;h<E.length;h++)E[h]=!1;x=p[z[0]];var H=new Array(x.length);for(h=0;h<x.length;h++)H[h]=x[h][M];for(h=1;h<z.length;h++){for(y=p[z[h]],g=m=0;g<y.length;g++){for(f=y[g][M];f>H[m]&&m<H.length;m++)n(y,g,H[m],h,E,k,M),g++;if(f!==H[m]){for(w=0;w<h;w++)n(p[z[w]],m,f,w,E,k,M);H.splice(m,0,f)}m++}for(;m<H.length;m++)n(y,g,H[m],h,E,k,M),g++}var Q=H.length;for(g=0;g<x.length;g++){for(b=x[g][S]=x[g].s,h=1;h<z.length;h++)y=p[z[h]],y[0].trace._rawLength=y[0].trace._length,y[0].trace._length=Q,b+=y[g].s,y[g][S]=b;if(F)for(d=(F==="fraction"?b:b/100)||1,h=0;h<z.length;h++){var X=p[z[h]][g];X[S]/=d,X.sNorm=X.s/d}}for(h=0;h<z.length;h++){y=p[z[h]];var ie=y[0].trace,R=i.calcMarkerSize(ie,ie._rawLength),O=Array.isArray(R);if(R&&E[h]||O){var U=R;for(R=new Array(Q),g=0;g<Q;g++)R[g]=y[g].gap?0:O?U[y[g].i]:U}var K=new Array(Q),ee=new Array(Q);for(g=0;g<Q;g++)K[g]=y[g].x,ee[g]=y[g].y;i.calcAxisExpansion(e,ie,l,a,K,ee,R),y[0].t.orientation=T.orientation}}}}};function n(s,e,o,l,a,t,v){a[l]=!0;var p={i:null,gap:!0,s:0};if(p[v]=o,s.splice(e,0,p),e&&o===s[e-1][v]){var h=s[e-1];p.s=h.s,p.i=h.i,p.gap=h.gap}else t&&(p.s=c(s,e,o,v));e||(s[0].t=s[1].t,s[0].trace=s[1].trace,delete s[1].t,delete s[1].trace)}function c(s,e,o,l){var a=s[e-1],t=s[e+1];return t?a?a.s+(t.s-a.s)*(o-a[l])/(t[l]-a[l]):t.s:a.s}},{"./calc":368}],373:[function(u,te,Y){te.exports=function(n){for(var c=0;c<n.length;c++){var s=n[c];if(s.type==="scatter"){var e=s.fill;if(!(e==="none"||e==="toself")&&(s.opacity=void 0,e==="tonexty"||e==="tonextx"))for(var o=c-1;o>=0;o--){var l=n[o];if(l.type==="scatter"&&l.xaxis===s.xaxis&&l.yaxis===s.yaxis){l.opacity=void 0;break}}}}}},{}],374:[function(u,te,Y){var i=u("../../lib"),n=u("../../registry"),c=u("./attributes"),s=u("./constants"),e=u("./subtypes"),o=u("./xy_defaults"),l=u("./period_defaults"),a=u("./stack_defaults"),t=u("./marker_defaults"),v=u("./line_defaults"),p=u("./line_shape_defaults"),h=u("./text_defaults"),g=u("./fillcolor_defaults"),m=u("../../lib").coercePattern;te.exports=function(y,x,f,b){function d(z,H){return i.coerce(y,x,c,z,H)}var T=o(y,x,b,d);if(T||(x.visible=!1),!!x.visible){l(y,x,b,d),d("xhoverformat"),d("yhoverformat");var k=a(y,x,b,d),F=!k&&T<s.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",F),e.hasLines(x)&&(v(y,x,f,b,d,{backoff:!0}),p(y,x,d),d("connectgaps"),d("line.simplify")),e.hasMarkers(x)&&t(y,x,f,b,d,{gradient:!0}),e.hasText(x)&&(d("texttemplate"),h(y,x,b,d));var M=[];(e.hasMarkers(x)||e.hasText(x))&&(d("cliponaxis"),d("marker.maxdisplayed"),M.push("points")),d("fill",k?k.fillDflt:"none"),x.fill!=="none"&&(g(y,x,f,d),e.hasLines(x)||p(y,x,d),m(d,"fillpattern",x.fillcolor,!1));var S=(x.line||{}).color,E=(x.marker||{}).color;(x.fill==="tonext"||x.fill==="toself")&&M.push("fills"),d("hoveron",M.join("+")||"points"),x.hoveron!=="fills"&&d("hovertemplate");var A=n.getComponentMethod("errorbars","supplyDefaults");A(y,x,S||E||f,{axis:"y"}),A(y,x,S||E||f,{axis:"x",inherit:"y"}),i.coerceSelectionMarkerOpacity(x,d)}}},{"../../lib":244,"../../registry":327,"./attributes":367,"./constants":371,"./fillcolor_defaults":375,"./line_defaults":380,"./line_shape_defaults":382,"./marker_defaults":386,"./period_defaults":387,"./stack_defaults":390,"./subtypes":392,"./text_defaults":393,"./xy_defaults":394}],375:[function(u,te,Y){var i=u("../../components/color"),n=u("../../lib").isArrayOrTypedArray;te.exports=function(s,e,o,l){var a=!1;if(e.marker){var t=e.marker.color,v=(e.marker.line||{}).color;t&&!n(t)?a=t:v&&!n(v)&&(a=v)}l("fillcolor",i.addOpacity((e.line||{}).color||a||o,.5))}},{"../../components/color":103,"../../lib":244}],376:[function(u,te,Y){var i=u("../../plots/cartesian/axes");te.exports=function(c,s,e){var o={},l={_fullLayout:e},a=i.getFromTrace(l,s,"x"),t=i.getFromTrace(l,s,"y");return o.xLabel=i.tickText(a,a.c2l(c.x),!0).text,o.yLabel=i.tickText(t,t.c2l(c.y),!0).text,o}},{"../../plots/cartesian/axes":291}],377:[function(u,te,Y){var i=u("../../components/color"),n=u("./subtypes");te.exports=function(s,e){var o,l;if(s.mode==="lines")return o=s.line.color,o&&i.opacity(o)?o:s.fillcolor;if(s.mode==="none")return s.fill?s.fillcolor:"";var a=e.mcc||(s.marker||{}).color,t=e.mlcc||((s.marker||{}).line||{}).color;return l=a&&i.opacity(a)?a:t&&i.opacity(t)&&(e.mlw||((s.marker||{}).line||{}).width)?t:"",l?i.opacity(l)<.3?i.addOpacity(l,.3):l:(o=(s.line||{}).color,o&&i.opacity(o)&&n.hasLines(s)&&s.line.width?o:s.fillcolor)}},{"../../components/color":103,"./subtypes":392}],378:[function(u,te,Y){var i=u("../../lib"),n=u("../../components/fx"),c=u("../../registry"),s=u("./get_trace_color"),e=u("../../components/color"),o=i.fillText;te.exports=function(a,t,v,p){var h=a.cd,g=h[0].trace,m=a.xa,w=a.ya,y=m.c2p(t),x=w.c2p(v),f=[y,x],b=g.hoveron||"",d=g.mode.indexOf("markers")!==-1?3:.5,T=!!g.xperiodalignment,k=!!g.yperiodalignment;if(b.indexOf("points")!==-1){var F=function(re){if(T){var se=m.c2p(re.xStart),_e=m.c2p(re.xEnd);return y>=Math.min(se,_e)&&y<=Math.max(se,_e)?0:1/0}var ge=Math.max(3,re.mrc||0),Ae=1-1/ge,Ce=Math.abs(m.c2p(re.x)-y);return Ce<ge?Ae*Ce/ge:Ce-ge+Ae},M=function(re){if(k){var se=w.c2p(re.yStart),_e=w.c2p(re.yEnd);return x>=Math.min(se,_e)&&x<=Math.max(se,_e)?0:1/0}var ge=Math.max(3,re.mrc||0),Ae=1-1/ge,Ce=Math.abs(w.c2p(re.y)-x);return Ce<ge?Ae*Ce/ge:Ce-ge+Ae},S=function(re){var se=Math.max(d,re.mrc||0),_e=m.c2p(re.x)-y,ge=w.c2p(re.y)-x;return Math.max(Math.sqrt(_e*_e+ge*ge)-se,1-d/se)},E=n.getDistanceFunction(p,F,M,S);if(n.getClosest(h,E,a),a.index!==!1){var A=h[a.index],z=m.c2p(A.x,!0),H=w.c2p(A.y,!0),Q=A.mrc||1;a.index=A.i;var X=h[0].t.orientation,ie=X&&(A.sNorm||A.s),R=X==="h"?ie:A.orig_x!==void 0?A.orig_x:A.x,O=X==="v"?ie:A.orig_y!==void 0?A.orig_y:A.y;return i.extendFlat(a,{color:s(g,A),x0:z-Q,x1:z+Q,xLabelVal:R,y0:H-Q,y1:H+Q,yLabelVal:O,spikeDistance:S(A),hovertemplate:g.hovertemplate}),o(A,g,a),c.getComponentMethod("errorbars","hoverInfo")(A,g,a),[a]}}if(b.indexOf("fills")!==-1&&g._polygons){var U=g._polygons,K=[],ee=!1,ne=1/0,me=-1/0,pe=1/0,be=-1/0,ve,C,I,L,P,B,V,N,Z;for(ve=0;ve<U.length;ve++)I=U[ve],I.contains(f)&&(ee=!ee,K.push(I),pe=Math.min(pe,I.ymin),be=Math.max(be,I.ymax));if(ee){pe=Math.max(pe,0),be=Math.min(be,w._length);var W=(pe+be)/2;for(ve=0;ve<K.length;ve++)for(L=K[ve].pts,C=1;C<L.length;C++)N=L[C-1][1],Z=L[C][1],N>W!=Z>=W&&(B=L[C-1][0],V=L[C][0],Z-N&&(P=B+(V-B)*(W-N)/(Z-N),ne=Math.min(ne,P),me=Math.max(me,P)));ne=Math.max(ne,0),me=Math.min(me,m._length);var q=e.defaultLine;return e.opacity(g.fillcolor)?q=g.fillcolor:e.opacity((g.line||{}).color)&&(q=g.line.color),i.extendFlat(a,{distance:a.maxHoverDistance,x0:ne,x1:me,y0:W,y1:W,color:q,hovertemplate:!1}),delete a.index,g.text&&!Array.isArray(g.text)?a.text=String(g.text):a.text=g.name,[a]}}}},{"../../components/color":103,"../../components/fx":143,"../../lib":244,"../../registry":327,"./get_trace_color":377}],379:[function(u,te,Y){var i=u("./subtypes");te.exports={hasLines:i.hasLines,hasMarkers:i.hasMarkers,hasText:i.hasText,isBubble:i.isBubble,attributes:u("./attributes"),supplyDefaults:u("./defaults"),crossTraceDefaults:u("./cross_trace_defaults"),calc:u("./calc").calc,crossTraceCalc:u("./cross_trace_calc"),arraysToCalcdata:u("./arrays_to_calcdata"),plot:u("./plot"),colorbar:u("./marker_colorbar"),formatLabels:u("./format_labels"),style:u("./style").style,styleOnSelect:u("./style").styleOnSelect,hoverPoints:u("./hover"),selectPoints:u("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:u("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":303,"./arrays_to_calcdata":366,"./attributes":367,"./calc":368,"./cross_trace_calc":372,"./cross_trace_defaults":373,"./defaults":374,"./format_labels":376,"./hover":378,"./marker_colorbar":385,"./plot":388,"./select":389,"./style":391,"./subtypes":392}],380:[function(u,te,Y){var i=u("../../lib").isArrayOrTypedArray,n=u("../../components/colorscale/helpers").hasColorscale,c=u("../../components/colorscale/defaults");te.exports=function(e,o,l,a,t,v){v||(v={});var p=(e.marker||{}).color;if(t("line.color",l),n(e,"line"))c(e,o,a,t,{prefix:"line.",cLetter:"c"});else{var h=(i(p)?!1:p)||l;t("line.color",h)}t("line.width"),v.noDash||t("line.dash"),v.backoff&&t("line.backoff")}},{"../../components/colorscale/defaults":113,"../../components/colorscale/helpers":114,"../../lib":244}],381:[function(u,te,Y){var i=u("../../components/drawing"),n=u("../../constants/numerical"),c=n.BADNUM,s=n.LOG_CLIP,e=s+.5,o=s-.5,l=u("../../lib"),a=l.segmentsIntersect,t=l.constrain,v=u("./constants");te.exports=function(h,g){var m=g.trace||{},w=g.xaxis,y=g.yaxis,x=w.type==="log",f=y.type==="log",b=w._length,d=y._length,T=g.backoff,k=m.marker,F=g.connectGaps,M=g.baseTolerance,S=g.shape,E=S==="linear",A=m.fill&&m.fill!=="none",z=[],H=v.minTolerance,Q=h.length,X=new Array(Q),ie=0,R,O,U,K,ee,ne,me,pe,be,ve,C,I,L,P,B,V;function N(Ge){var Ke=h[Ge];if(!Ke)return!1;var Qe=g.linearized?w.l2p(Ke.x):w.c2p(Ke.x),Ie=g.linearized?y.l2p(Ke.y):y.c2p(Ke.y);if(Qe===c){if(x&&(Qe=w.c2p(Ke.x,!0)),Qe===c)return!1;f&&Ie===c&&(Qe*=Math.abs(w._m*d*(w._m>0?e:o)/(y._m*b*(y._m>0?e:o)))),Qe*=1e3}if(Ie===c){if(f&&(Ie=y.c2p(Ke.y,!0)),Ie===c)return!1;Ie*=1e3}return[Qe,Ie]}function Z(Ge,Ke,Qe,Ie){var ft=Qe-Ge,vt=Ie-Ke,pt=.5-Ge,Ot=.5-Ke,Gt=ft*ft+vt*vt,Wt=ft*pt+vt*Ot;if(Wt>0&&Wt<Gt){var It=pt*vt-Ot*ft;if(It*It<Gt)return!0}}var W,q;function re(Ge,Ke){var Qe=Ge[0]/b,Ie=Ge[1]/d,ft=Math.max(0,-Qe,Qe-1,-Ie,Ie-1);return ft&&W!==void 0&&Z(Qe,Ie,W,q)&&(ft=0),ft&&Ke&&Z(Qe,Ie,Ke[0]/b,Ke[1]/d)&&(ft=0),(1+v.toleranceGrowth*ft)*M}function se(Ge,Ke){var Qe=Ge[0]-Ke[0],Ie=Ge[1]-Ke[1];return Math.sqrt(Qe*Qe+Ie*Ie)}var _e=v.maxScreensAway,ge=-b*_e,Ae=b*(1+_e),Ce=-d*_e,ue=d*(1+_e),he=[[ge,Ce,Ae,Ce],[Ae,Ce,Ae,ue],[Ae,ue,ge,ue],[ge,ue,ge,Ce]],we,ke,Pe,fe,De,Fe;function et(Ge,Ke){for(var Qe=[],Ie=0,ft=0;ft<4;ft++){var vt=he[ft],pt=a(Ge[0],Ge[1],Ke[0],Ke[1],vt[0],vt[1],vt[2],vt[3]);pt&&(!Ie||Math.abs(pt.x-Qe[0][0])>1||Math.abs(pt.y-Qe[0][1])>1)&&(pt=[pt.x,pt.y],Ie&&se(pt,Ge)<se(Qe[0],Ge)?Qe.unshift(pt):Qe.push(pt),Ie++)}return Qe}function Xe(Ge){if(Ge[0]<ge||Ge[0]>Ae||Ge[1]<Ce||Ge[1]>ue)return[t(Ge[0],ge,Ae),t(Ge[1],Ce,ue)]}function qe(Ge,Ke){if(Ge[0]===Ke[0]&&(Ge[0]===ge||Ge[0]===Ae)||Ge[1]===Ke[1]&&(Ge[1]===Ce||Ge[1]===ue))return!0}function rt(Ge,Ke){var Qe=[],Ie=Xe(Ge),ft=Xe(Ke);return Ie&&ft&&qe(Ie,ft)||(Ie&&Qe.push(Ie),ft&&Qe.push(ft)),Qe}function ut(Ge,Ke,Qe){return function(Ie,ft){var vt=Xe(Ie),pt=Xe(ft),Ot=[];if(vt&&pt&&qe(vt,pt))return Ot;vt&&Ot.push(vt),pt&&Ot.push(pt);var Gt=2*l.constrain((Ie[Ge]+ft[Ge])/2,Ke,Qe)-((vt||Ie)[Ge]+(pt||ft)[Ge]);if(Gt){var Wt;vt&&pt?Wt=Gt>0==vt[Ge]>pt[Ge]?vt:pt:Wt=vt||pt,Wt[Ge]+=Gt}return Ot}}var yt;S==="linear"||S==="spline"?yt=et:S==="hv"||S==="vh"?yt=rt:S==="hvh"?yt=ut(0,ge,Ae):S==="vhv"&&(yt=ut(1,Ce,ue));function Rt(Ge,Ke){var Qe=Ke[0]-Ge[0],Ie=(Ke[1]-Ge[1])/Qe,ft=(Ge[1]*Ke[0]-Ke[1]*Ge[0])/Qe;return ft>0?[Ie>0?ge:Ae,ue]:[Ie>0?Ae:ge,Ce]}function bt(Ge){var Ke=Ge[0],Qe=Ge[1],Ie=Ke===X[ie-1][0],ft=Qe===X[ie-1][1];if(!(Ie&&ft))if(ie>1){var vt=Ke===X[ie-2][0],pt=Qe===X[ie-2][1];Ie&&(Ke===ge||Ke===Ae)&&vt?pt?ie--:X[ie-1]=Ge:ft&&(Qe===Ce||Qe===ue)&&pt?vt?ie--:X[ie-1]=Ge:X[ie++]=Ge}else X[ie++]=Ge}function je(Ge){X[ie-1][0]!==Ge[0]&&X[ie-1][1]!==Ge[1]&&bt([Pe,fe]),bt(Ge),De=null,Pe=fe=0}var ct=l.isArrayOrTypedArray(k);function Dt(Ge){if(Ge&&T&&(Ge.i=R,Ge.d=h,Ge.trace=m,Ge.marker=ct?k[Ge.i]:k,Ge.backoff=T),W=Ge[0]/b,q=Ge[1]/d,we=Ge[0]<ge?ge:Ge[0]>Ae?Ae:0,ke=Ge[1]<Ce?Ce:Ge[1]>ue?ue:0,we||ke){if(!ie)X[ie++]=[we||Ge[0],ke||Ge[1]];else if(De){var Ke=yt(De,Ge);Ke.length>1&&(je(Ke[0]),X[ie++]=Ke[1])}else Fe=yt(X[ie-1],Ge)[0],X[ie++]=Fe;var Qe=X[ie-1];we&&ke&&(Qe[0]!==we||Qe[1]!==ke)?(De&&(Pe!==we&&fe!==ke?bt(Pe&&fe?Rt(De,Ge):[Pe||we,fe||ke]):Pe&&fe&&bt([Pe,fe])),bt([we,ke])):Pe-we&&fe-ke&&bt([we||Pe,ke||fe]),De=Ge,Pe=we,fe=ke}else De&&je(yt(De,Ge)[0]),X[ie++]=Ge}for(R=0;R<Q;R++)if(O=N(R),!!O){for(ie=0,De=null,Dt(O),R++;R<Q;R++){if(K=N(R),!K){if(F)continue;break}if(!E||!g.simplify){Dt(K);continue}var Lt=N(R+1);if(ve=se(K,O),!(!(A&&(ie===0||ie===Q-1))&&ve<re(K,Lt)*H)){for(pe=[(K[0]-O[0])/ve,(K[1]-O[1])/ve],ee=O,C=ve,I=P=B=0,me=!1,U=K,R++;R<h.length;R++){if(ne=Lt,Lt=N(R+1),!ne){if(F)continue;break}if(be=[ne[0]-O[0],ne[1]-O[1]],V=be[0]*pe[1]-be[1]*pe[0],P=Math.min(P,V),B=Math.max(B,V),B-P>re(ne,Lt))break;U=ne,L=be[0]*pe[0]+be[1]*pe[1],L>C?(C=L,K=ne,me=!1):L<I&&(I=L,ee=ne,me=!0)}if(me?(Dt(K),U!==ee&&Dt(ee)):(ee!==O&&Dt(ee),U!==K&&Dt(K)),Dt(U),R>=h.length||!ne)break;Dt(ne),O=ne}}De&&bt([Pe||De[0],fe||De[1]]),z.push(X.slice(0,ie))}var de=S.slice(S.length-1);if(T&&de!=="h"&&de!=="v"){for(var Re=!1,ze=-1,ae=[],xe=0;xe<z.length;xe++)for(var Te=0;Te<z[xe].length-1;Te++){var Me=z[xe][Te],Je=z[xe][Te+1],Ve=i.applyBackoff(Je,Me);(Ve[0]!==Je[0]||Ve[1]!==Je[1])&&(Re=!0),ae[ze+1]||(ze++,ae[ze]=[Me,[Ve[0],Ve[1]]])}return Re?ae:z}return z}},{"../../components/drawing":125,"../../constants/numerical":224,"../../lib":244,"./constants":371}],382:[function(u,te,Y){te.exports=function(n,c,s){var e=s("line.shape");e==="spline"&&s("line.smoothing")}},{}],383:[function(u,te,Y){var i={tonextx:1,tonexty:1,tonext:1};te.exports=function(c,s,e){var o,l,a,t,v,p={},h=!1,g=-1,m=0,w=-1;for(l=0;l<e.length;l++)o=e[l][0].trace,a=o.stackgroup||"",a?a in p?v=p[a]:(v=p[a]=m,m++):o.fill in i&&w>=0?v=w:(v=w=m,m++),v<g&&(h=!0),o._groupIndex=g=v;var y=e.slice();h&&y.sort(function(f,b){var d=f[0].trace,T=b[0].trace;return d._groupIndex-T._groupIndex||d.index-T.index});var x={};for(l=0;l<y.length;l++)o=y[l][0].trace,a=o.stackgroup||"",o.visible===!0?(o._nexttrace=null,o.fill in i&&(t=x[a],o._prevtrace=t||null,t&&(t._nexttrace=o)),o._ownfill=o.fill&&(o.fill.substr(0,6)==="tozero"||o.fill==="toself"||o.fill.substr(0,2)==="to"&&!o._prevtrace),x[a]=o):o._prevtrace=o._nexttrace=o._ownfill=null;return y}},{}],384:[function(u,te,Y){var i=u("fast-isnumeric");te.exports=function(c,s){s||(s=2);var e=c.marker,o=e.sizeref||1,l=e.sizemin||0,a=e.sizemode==="area"?function(t){return Math.sqrt(t/o)}:function(t){return t/o};return function(t){var v=a(t/s);return i(v)&&v>0?Math.max(v,l):0}}},{"fast-isnumeric":17}],385:[function(u,te,Y){te.exports={container:"marker",min:"cmin",max:"cmax"}},{}],386:[function(u,te,Y){var i=u("../../components/color"),n=u("../../components/colorscale/helpers").hasColorscale,c=u("../../components/colorscale/defaults"),s=u("./subtypes");te.exports=function(o,l,a,t,v,p){var h=s.isBubble(o),g=(o.line||{}).color,m;if(p=p||{},g&&(a=g),v("marker.symbol"),v("marker.opacity",h?.7:1),v("marker.size"),p.noAngle||(v("marker.angle"),p.noAngleRef||v("marker.angleref"),p.noStandOff||v("marker.standoff")),v("marker.color",a),n(o,"marker")&&c(o,l,t,v,{prefix:"marker.",cLetter:"c"}),p.noSelect||(v("selected.marker.color"),v("unselected.marker.color"),v("selected.marker.size"),v("unselected.marker.size")),p.noLine||(g&&!Array.isArray(g)&&l.marker.color!==g?m=g:h?m=i.background:m=i.defaultLine,v("marker.line.color",m),n(o,"marker.line")&&c(o,l,t,v,{prefix:"marker.line.",cLetter:"c"}),v("marker.line.width",h?1:0)),h&&(v("marker.sizeref"),v("marker.sizemin"),v("marker.sizemode")),p.gradient){var w=v("marker.gradient.type");w!=="none"&&v("marker.gradient.color")}}},{"../../components/color":103,"../../components/colorscale/defaults":113,"../../components/colorscale/helpers":114,"./subtypes":392}],387:[function(u,te,Y){var i=u("../../lib").dateTick0,n=u("../../constants/numerical"),c=n.ONEWEEK;function s(e,o){return e%c===0?i(o,1):i(o,0)}te.exports=function(o,l,a,t,v){if(v||(v={x:!0,y:!0}),v.x){var p=t("xperiod");p&&(t("xperiod0",s(p,l.xcalendar)),t("xperiodalignment"))}if(v.y){var h=t("yperiod");h&&(t("yperiod0",s(h,l.ycalendar)),t("yperiodalignment"))}}},{"../../constants/numerical":224,"../../lib":244}],388:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../registry"),c=u("../../lib"),s=c.ensureSingle,e=c.identity,o=u("../../components/drawing"),l=u("./subtypes"),a=u("./line_points"),t=u("./link_traces"),v=u("../../lib/polygon").tester;te.exports=function(w,y,x,f,b,d){var T,k,F=!b,M=!!b&&b.duration>0,S=t(w,y,x);if(T=f.selectAll("g.trace").data(S,function(A){return A[0].trace.uid}),T.enter().append("g").attr("class",function(A){return"trace scatter trace"+A[0].trace.uid}).style("stroke-miterlimit",2),T.order(),p(w,T,y),M){d&&(k=d());var E=i.transition().duration(b.duration).ease(b.easing).each("end",function(){k&&k()}).each("interrupt",function(){k&&k()});E.each(function(){f.selectAll("g.trace").each(function(A,z){h(w,z,y,A,S,this,b)})})}else T.each(function(A,z){h(w,z,y,A,S,this,b)});F&&T.exit().remove(),f.selectAll("path:not([d])").remove()};function p(m,w,y){w.each(function(x){var f=s(i.select(this),"g","fills");o.setClipUrl(f,y.layerClipId,m);var b=x[0].trace,d=[];b._ownfill&&d.push("_ownFill"),b._nexttrace&&d.push("_nextFill");var T=f.selectAll("g").data(d,e);T.enter().append("g"),T.exit().each(function(k){b[k]=null}).remove(),T.order().each(function(k){b[k]=s(i.select(this),"path","js-fill")})})}function h(m,w,y,x,f,b,d){var T;g(m,w,y,x,f);var k=!!d&&d.duration>0;function F(Pe){return k?Pe.transition():Pe}var M=y.xaxis,S=y.yaxis,E=x[0].trace,A=E.line,z=i.select(b),H=s(z,"g","errorbars"),Q=s(z,"g","lines"),X=s(z,"g","points"),ie=s(z,"g","text");if(n.getComponentMethod("errorbars","plot")(m,H,y,d),E.visible!==!0)return;F(z).style("opacity",E.opacity);var R,O,U=E.fill.charAt(E.fill.length-1);U!=="x"&&U!=="y"&&(U=""),x[0][y.isRangePlot?"nodeRangePlot3":"node3"]=z;var K="",ee=[],ne=E._prevtrace;ne&&(K=ne._prevRevpath||"",O=ne._nextFill,ee=ne._polygons);var me,pe,be="",ve="",C,I,L,P,B,V,N,Z=[],W=c.noop;if(R=E._ownFill,l.hasLines(E)||E.fill!=="none"){for(O&&O.datum(x),["hv","vh","hvh","vhv"].indexOf(A.shape)!==-1?(C=o.steps(A.shape),I=o.steps(A.shape.split("").reverse().join(""))):A.shape==="spline"?C=I=function(Pe){var fe=Pe[Pe.length-1];return Pe.length>1&&Pe[0][0]===fe[0]&&Pe[0][1]===fe[1]?o.smoothclosed(Pe.slice(1),A.smoothing):o.smoothopen(Pe,A.smoothing)}:C=I=function(Pe){return"M"+Pe.join("L")},L=function(Pe){return I(Pe.reverse())},Z=a(x,{xaxis:M,yaxis:S,trace:E,connectGaps:E.connectgaps,baseTolerance:Math.max(A.width||1,3)/4,shape:A.shape,backoff:A.backoff,simplify:A.simplify,fill:E.fill}),N=E._polygons=new Array(Z.length),T=0;T<Z.length;T++)E._polygons[T]=v(Z[T]);Z.length&&(P=Z[0][0],B=Z[Z.length-1],V=B[B.length-1]),W=function(Pe){return function(fe){if(me=C(fe),pe=L(fe),be?U?(be+="L"+me.substr(1),ve=pe+("L"+ve.substr(1))):(be+="Z"+me,ve=pe+"Z"+ve):(be=me,ve=pe),l.hasLines(E)&&fe.length>1){var De=i.select(this);if(De.datum(x),Pe)F(De.style("opacity",0).attr("d",me).call(o.lineGroupStyle)).style("opacity",1);else{var Fe=F(De);Fe.attr("d",me),o.singleLineStyle(x,Fe)}}}}}var q=Q.selectAll(".js-line").data(Z);F(q.exit()).style("opacity",0).remove(),q.each(W(!1)),q.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(o.lineGroupStyle).each(W(!0)),o.setClipUrl(q,y.layerClipId,m);function re(Pe){F(Pe).attr("d","M0,0Z")}Z.length?(R?(R.datum(x),P&&V&&(U?(U==="y"?P[1]=V[1]=S.c2p(0,!0):U==="x"&&(P[0]=V[0]=M.c2p(0,!0)),F(R).attr("d","M"+V+"L"+P+"L"+be.substr(1)).call(o.singleFillStyle,m)):F(R).attr("d",be+"Z").call(o.singleFillStyle,m))):O&&(E.fill.substr(0,6)==="tonext"&&be&&K?(E.fill==="tonext"?F(O).attr("d",be+"Z"+K+"Z").call(o.singleFillStyle,m):F(O).attr("d",be+"L"+K.substr(1)+"Z").call(o.singleFillStyle,m),E._polygons=E._polygons.concat(ee)):(re(O),E._polygons=null)),E._prevRevpath=ve,E._prevPolygons=N):(R?re(R):O&&re(O),E._polygons=E._prevRevpath=E._prevPolygons=null);function se(Pe){return Pe.filter(function(fe){return!fe.gap&&fe.vis})}function _e(Pe){return Pe.filter(function(fe){return fe.vis})}function ge(Pe){return Pe.filter(function(fe){return!fe.gap})}function Ae(Pe){return Pe.id}function Ce(Pe){if(Pe.ids)return Ae}function ue(){return!1}function he(Pe,fe,De){var Fe,et,Xe,qe=De[0].trace,rt=l.hasMarkers(qe),ut=l.hasText(qe),yt=Ce(qe),Rt=ue,bt=ue;if(rt||ut){var je=e,ct=qe.stackgroup,Dt=ct&&m._fullLayout._scatterStackOpts[M._id+S._id][ct].stackgaps==="infer zero";qe.marker.maxdisplayed||qe._needsCull?je=Dt?_e:se:ct&&!Dt&&(je=ge),rt&&(Rt=je),ut&&(bt=je)}et=Pe.selectAll("path.point"),Fe=et.data(Rt,yt);var Lt=Fe.enter().append("path").classed("point",!0);k&&Lt.call(o.pointStyle,qe,m).call(o.translatePoints,M,S).style("opacity",0).transition().style("opacity",1),Fe.order();var de;rt&&(de=o.makePointStyleFns(qe)),Fe.each(function(Re){var ze=i.select(this),ae=F(ze);Xe=o.translatePoint(Re,ae,M,S),Xe?(o.singlePointStyle(Re,ae,qe,de,m),y.layerClipId&&o.hideOutsideRangePoint(Re,ae,M,S,qe.xcalendar,qe.ycalendar),qe.customdata&&ze.classed("plotly-customdata",Re.data!==null&&Re.data!==void 0)):ae.remove()}),k?Fe.exit().transition().style("opacity",0).remove():Fe.exit().remove(),et=fe.selectAll("g"),Fe=et.data(bt,yt),Fe.enter().append("g").classed("textpoint",!0).append("text"),Fe.order(),Fe.each(function(Re){var ze=i.select(this),ae=F(ze.select("text"));Xe=o.translatePoint(Re,ae,M,S),Xe?y.layerClipId&&o.hideOutsideRangePoint(Re,ze,M,S,qe.xcalendar,qe.ycalendar):ze.remove()}),Fe.selectAll("text").call(o.textPointStyle,qe,m).each(function(Re){var ze=M.c2p(Re.x),ae=S.c2p(Re.y);i.select(this).selectAll("tspan.line").each(function(){F(i.select(this)).attr({x:ze,y:ae})})}),Fe.exit().remove()}X.datum(x),ie.datum(x),he(X,ie,x);var we=E.cliponaxis===!1,ke=we?null:y.layerClipId;o.setClipUrl(X,ke,m),o.setClipUrl(ie,ke,m)}function g(m,w,y,x,f){var b=y.xaxis,d=y.yaxis,T=i.extent(c.simpleMap(b.range,b.r2c)),k=i.extent(c.simpleMap(d.range,d.r2c)),F=x[0].trace;if(!!l.hasMarkers(F)){var M=F.marker.maxdisplayed;if(M!==0){var S=x.filter(function(H){return H.x>=T[0]&&H.x<=T[1]&&H.y>=k[0]&&H.y<=k[1]}),E=Math.ceil(S.length/M),A=0;f.forEach(function(H,Q){var X=H[0].trace;l.hasMarkers(X)&&X.marker.maxdisplayed>0&&Q<w&&A++});var z=Math.round(A*E/3+Math.floor(A/3)*E/7.1);x.forEach(function(H){delete H.vis}),S.forEach(function(H,Q){Math.round((Q+z)%E)===0&&(H.vis=!0)})}}}},{"../../components/drawing":125,"../../lib":244,"../../lib/polygon":256,"../../registry":327,"./line_points":381,"./link_traces":383,"./subtypes":392,"@plotly/d3":11}],389:[function(u,te,Y){var i=u("./subtypes");te.exports=function(c,s){var e=c.cd,o=c.xaxis,l=c.yaxis,a=[],t=e[0].trace,v,p,h,g,m=!i.hasMarkers(t)&&!i.hasText(t);if(m)return[];if(s===!1)for(v=0;v<e.length;v++)e[v].selected=0;else for(v=0;v<e.length;v++)p=e[v],h=o.c2p(p.x),g=l.c2p(p.y),p.i!==null&&s.contains([h,g],!1,v,c)?(a.push({pointNumber:p.i,x:o.c2d(p.x),y:l.c2d(p.y)}),p.selected=1):p.selected=0;return a}},{"./subtypes":392}],390:[function(u,te,Y){var i=["orientation","groupnorm","stackgaps"];te.exports=function(c,s,e,o){var l=e._scatterStackOpts,a=o("stackgroup");if(a){var t=s.xaxis+s.yaxis,v=l[t];v||(v=l[t]={});var p=v[a],h=!1;p?p.traces.push(s):(p=v[a]={traceIndices:[],traces:[s]},h=!0);for(var g={orientation:s.x&&!s.y?"h":"v"},m=0;m<i.length;m++){var w=i[m],y=w+"Found";if(!p[y]){var x=c[w]!==void 0,f=w==="orientation";if((x||h)&&(p[w]=o(w,g[w]),f&&(p.fillDflt=p[w]==="h"?"tonextx":"tonexty"),x&&(p[y]=!0,!h&&(delete p.traces[0][w],f))))for(var b=0;b<p.traces.length-1;b++){var d=p.traces[b];d._input.fill!==d.fill&&(d.fill=p.fillDflt)}}}return p}}},{}],391:[function(u,te,Y){var i=u("@plotly/d3"),n=u("../../components/drawing"),c=u("../../registry");function s(a){var t=i.select(a).selectAll("g.trace.scatter");t.style("opacity",function(v){return v[0].trace.opacity}),t.selectAll("g.points").each(function(v){var p=i.select(this),h=v.trace||v[0].trace;e(p,h,a)}),t.selectAll("g.text").each(function(v){var p=i.select(this),h=v.trace||v[0].trace;o(p,h,a)}),t.selectAll("g.trace path.js-line").call(n.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(n.fillGroupStyle,a),c.getComponentMethod("errorbars","style")(t)}function e(a,t,v){n.pointStyle(a.selectAll("path.point"),t,v)}function o(a,t,v){n.textPointStyle(a.selectAll("text"),t,v)}function l(a,t,v){var p=t[0].trace;p.selectedpoints?(n.selectedPointStyle(v.selectAll("path.point"),p),n.selectedTextStyle(v.selectAll("text"),p)):(e(v,p,a),o(v,p,a))}te.exports={style:s,stylePoints:e,styleText:o,styleOnSelect:l}},{"../../components/drawing":125,"../../registry":327,"@plotly/d3":11}],392:[function(u,te,Y){var i=u("../../lib");te.exports={hasLines:function(n){return n.visible&&n.mode&&n.mode.indexOf("lines")!==-1},hasMarkers:function(n){return n.visible&&(n.mode&&n.mode.indexOf("markers")!==-1||n.type==="splom")},hasText:function(n){return n.visible&&n.mode&&n.mode.indexOf("text")!==-1},isBubble:function(n){return i.isPlainObject(n.marker)&&i.isArrayOrTypedArray(n.marker.size)}}},{"../../lib":244}],393:[function(u,te,Y){var i=u("../../lib");te.exports=function(n,c,s,e,o){o=o||{},e("textposition"),i.coerceFont(e,"textfont",s.font),o.noSelect||(e("selected.textfont.color"),e("unselected.textfont.color"))}},{"../../lib":244}],394:[function(u,te,Y){var i=u("../../lib"),n=u("../../registry");te.exports=function(s,e,o,l){var a=l("x"),t=l("y"),v,p=n.getComponentMethod("calendars","handleTraceDefaults");if(p(s,e,["x","y"],o),a){var h=i.minRowLength(a);t?v=Math.min(h,i.minRowLength(t)):(v=h,l("y0"),l("dy"))}else{if(!t)return 0;v=i.minRowLength(t),l("x0"),l("dx")}return e._length=v,v}},{"../../lib":244,"../../registry":327}],395:[function(u,te,Y){var i=u("../plots/cartesian/axes"),n=u("../lib"),c=u("../plot_api/plot_schema"),s=u("./helpers").pointsAccessorFunction,e=u("../constants/numerical").BADNUM;Y.moduleType="transform",Y.name="aggregate";var o=Y.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},l=o.aggregations;Y.supplyDefaults=function(g,m){var w={},y;function x(H,Q){return n.coerce(g,w,o,H,Q)}var f=x("enabled");if(!f)return w;var b=c.findArrayAttributes(m),d={};for(y=0;y<b.length;y++)d[b[y]]=1;var T=x("groups");if(!Array.isArray(T)){if(!d[T])return w.enabled=!1,w;d[T]=0}var k=g.aggregations||[],F=w.aggregations=new Array(k.length),M;function S(H,Q){return n.coerce(k[y],M,l,H,Q)}for(y=0;y<k.length;y++){M={_index:y};var E=S("target"),A=S("func"),z=S("enabled");z&&E&&(d[E]||A==="count"&&d[E]===void 0)?(A==="stddev"&&S("funcmode"),d[E]=0,F[y]=M):F[y]={enabled:!1,_index:y}}for(y=0;y<b.length;y++)d[b[y]]&&F.push({target:b[y],func:l.func.dflt,enabled:!0,_index:-1});return w},Y.calcTransform=function(g,m,w){if(!!w.enabled){var y=w.groups,x=n.getTargetArray(m,{target:y});if(!!x){var f,b,d,T,k={},F={},M=[],S=s(m.transforms,w),E=x.length;for(m._length&&(E=Math.min(E,m._length)),f=0;f<E;f++)b=x[f],d=k[b],d===void 0?(k[b]=M.length,T=[f],M.push(T),F[k[b]]=S(f)):(M[d].push(f),F[k[b]]=(F[k[b]]||[]).concat(S(f)));w._indexToPoints=F;var A=w.aggregations;for(f=0;f<A.length;f++)a(g,m,M,A[f]);typeof y=="string"&&a(g,m,M,{target:y,func:"first",enabled:!0}),m._length=M.length}}};function a(g,m,w,y){if(!!y.enabled){for(var x=y.target,f=n.nestedProperty(m,x),b=f.get(),d=i.getDataConversions(g,m,x,b),T=t(y,d),k=new Array(w.length),F=0;F<w.length;F++)k[F]=T(b,w[F]);f.set(k),y.func==="count"&&n.pushUnique(m._arrayAttrs,x)}}function t(g,m){var w=g.func,y=m.d2c,x=m.c2d;switch(w){case"count":return v;case"first":return p;case"last":return h;case"sum":return function(f,b){for(var d=0,T=0;T<b.length;T++){var k=y(f[b[T]]);k!==e&&(d+=k)}return x(d)};case"avg":return function(f,b){for(var d=0,T=0,k=0;k<b.length;k++){var F=y(f[b[k]]);F!==e&&(d+=F,T++)}return T?x(d/T):e};case"min":return function(f,b){for(var d=1/0,T=0;T<b.length;T++){var k=y(f[b[T]]);k!==e&&(d=Math.min(d,k))}return d===1/0?e:x(d)};case"max":return function(f,b){for(var d=-1/0,T=0;T<b.length;T++){var k=y(f[b[T]]);k!==e&&(d=Math.max(d,k))}return d===-1/0?e:x(d)};case"range":return function(f,b){for(var d=1/0,T=-1/0,k=0;k<b.length;k++){var F=y(f[b[k]]);F!==e&&(d=Math.min(d,F),T=Math.max(T,F))}return T===-1/0||d===1/0?e:x(T-d)};case"change":return function(f,b){var d=y(f[b[0]]),T=y(f[b[b.length-1]]);return d===e||T===e?e:x(T-d)};case"median":return function(f,b){for(var d=[],T=0;T<b.length;T++){var k=y(f[b[T]]);k!==e&&d.push(k)}if(!d.length)return e;d.sort(n.sorterAsc);var F=(d.length-1)/2;return x((d[Math.floor(F)]+d[Math.ceil(F)])/2)};case"mode":return function(f,b){for(var d={},T=0,k=e,F=0;F<b.length;F++){var M=y(f[b[F]]);if(M!==e){var S=d[M]=(d[M]||0)+1;S>T&&(T=S,k=M)}}return T?x(k):e};case"rms":return function(f,b){for(var d=0,T=0,k=0;k<b.length;k++){var F=y(f[b[k]]);F!==e&&(d+=F*F,T++)}return T?x(Math.sqrt(d/T)):e};case"stddev":return function(f,b){var d=0,T=0,k=1,F=e,M;for(M=0;M<b.length&&F===e;M++)F=y(f[b[M]]);if(F===e)return e;for(;M<b.length;M++){var S=y(f[b[M]]);if(S!==e){var E=S-F;d+=E,T+=E*E,k++}}var A=g.funcmode==="sample"?k-1:k;return A?Math.sqrt((T-d*d/k)/A):0}}}function v(g,m){return m.length}function p(g,m){return g[m[0]]}function h(g,m){return g[m[m.length-1]]}},{"../constants/numerical":224,"../lib":244,"../plot_api/plot_schema":279,"../plots/cartesian/axes":291,"./helpers":398}],396:[function(u,te,Y){var i=u("../lib"),n=u("../registry"),c=u("../plots/cartesian/axes"),s=u("./helpers").pointsAccessorFunction,e=u("../constants/filter_ops"),o=e.COMPARISON_OPS,l=e.INTERVAL_OPS,a=e.SET_OPS;Y.moduleType="transform",Y.name="filter",Y.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(o).concat(l).concat(a),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},Y.supplyDefaults=function(v){var p={};function h(y,x){return i.coerce(v,p,Y.attributes,y,x)}var g=h("enabled");if(g){var m=h("target");if(i.isArrayOrTypedArray(m)&&m.length===0)return p.enabled=!1,p;h("preservegaps"),h("operation"),h("value");var w=n.getComponentMethod("calendars","handleDefaults");w(v,p,"valuecalendar",null),w(v,p,"targetcalendar",null)}return p},Y.calcTransform=function(v,p,h){if(!h.enabled)return;var g=i.getTargetArray(p,h);if(!g)return;var m=h.target,w=g.length;p._length&&(w=Math.min(w,p._length));var y=h.targetcalendar,x=p._arrayAttrs,f=h.preservegaps;if(typeof m=="string"){var b=i.nestedProperty(p,m+"calendar").get();b&&(y=b)}var d=c.getDataToCoordFunc(v,p,m,g),T=t(h,d,y),k={},F={},M=0;function S(X,ie){for(var R=0;R<x.length;R++){var O=i.nestedProperty(p,x[R]);X(O,ie)}}var E,A;f?(E=function(X){k[X.astr]=i.extendDeep([],X.get()),X.set(new Array(w))},A=function(X,ie){var R=k[X.astr][ie];X.get()[ie]=R}):(E=function(X){k[X.astr]=i.extendDeep([],X.get()),X.set([])},A=function(X,ie){var R=k[X.astr][ie];X.get().push(R)}),S(E);for(var z=s(p.transforms,h),H=0;H<w;H++){var Q=T(g[H]);Q?(S(A,H),F[M++]=z(H)):f&&M++}h._indexToPoints=F,p._length=M};function t(v,p,h){var g=v.operation,m=v.value,w=Array.isArray(m);function y(d){return d.indexOf(g)!==-1}var x=function(d){return p(d,0,v.valuecalendar)},f=function(d){return p(d,0,h)},b;switch(y(o)?b=x(w?m[0]:m):y(l)?b=w?[x(m[0]),x(m[1])]:[x(m),x(m)]:y(a)&&(b=w?m.map(x):[x(m)]),g){case"=":return function(d){return f(d)===b};case"!=":return function(d){return f(d)!==b};case"<":return function(d){return f(d)<b};case"<=":return function(d){return f(d)<=b};case">":return function(d){return f(d)>b};case">=":return function(d){return f(d)>=b};case"[]":return function(d){var T=f(d);return T>=b[0]&&T<=b[1]};case"()":return function(d){var T=f(d);return T>b[0]&&T<b[1]};case"[)":return function(d){var T=f(d);return T>=b[0]&&T<b[1]};case"(]":return function(d){var T=f(d);return T>b[0]&&T<=b[1]};case"][":return function(d){var T=f(d);return T<=b[0]||T>=b[1]};case")(":return function(d){var T=f(d);return T<b[0]||T>b[1]};case"](":return function(d){var T=f(d);return T<=b[0]||T>b[1]};case")[":return function(d){var T=f(d);return T<b[0]||T>=b[1]};case"{}":return function(d){return b.indexOf(f(d))!==-1};case"}{":return function(d){return b.indexOf(f(d))===-1}}}},{"../constants/filter_ops":222,"../lib":244,"../plots/cartesian/axes":291,"../registry":327,"./helpers":398}],397:[function(u,te,Y){var i=u("../lib"),n=u("../plot_api/plot_schema"),c=u("../plots/plots"),s=u("./helpers").pointsAccessorFunction;Y.moduleType="transform",Y.name="groupby",Y.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},Y.supplyDefaults=function(o,l,a){var t,v={};function p(x,f){return i.coerce(o,v,Y.attributes,x,f)}var h=p("enabled");if(!h)return v;p("groups"),p("nameformat",a._dataLength>1?"%{group} (%{trace})":"%{group}");var g=o.styles,m=v.styles=[];if(g)for(t=0;t<g.length;t++){var w=m[t]={};i.coerce(g[t],m[t],Y.attributes.styles,"target");var y=i.coerce(g[t],m[t],Y.attributes.styles,"value");i.isPlainObject(y)?w.value=i.extendDeep({},y):y&&delete w.value}return v},Y.transform=function(o,l){var a,t,v,p=[];for(t=0;t<o.length;t++)for(a=e(o[t],l),v=0;v<a.length;v++)p.push(a[v]);return p};function e(o,l){var a,t,v,p,h,g,m,w,y,x,f=l.transform,b=l.transformIndex,d=o.transforms[b].groups,T=s(o.transforms,f);if(!i.isArrayOrTypedArray(d)||d.length===0)return[o];var k=i.filterUnique(d),F=new Array(k.length),M=d.length,S=n.findArrayAttributes(o),E=f.styles||[],A={};for(a=0;a<E.length;a++)A[E[a].target]=E[a].value;f.styles&&(x=i.keyedContainer(f,"styles","target","value.name"));var z={},H={};for(a=0;a<k.length;a++){g=k[a],z[g]=a,H[g]=0,m=F[a]=i.extendDeepNoArrays({},o),m._group=g,m.transforms[b]._indexToPoints={};var Q=null;for(x&&(Q=x.get(g)),Q||Q===""?m.name=Q:m.name=i.templateString(f.nameformat,{trace:o.name,group:g}),w=m.transforms,m.transforms=[],t=0;t<w.length;t++)m.transforms[t]=i.extendDeepNoArrays({},w[t]);for(t=0;t<S.length;t++)i.nestedProperty(m,S[t]).set([])}for(v=0;v<S.length;v++){for(p=S[v],t=0,y=[];t<k.length;t++)y[t]=i.nestedProperty(F[t],p).get();for(h=i.nestedProperty(o,p).get(),t=0;t<M;t++)y[z[d[t]]].push(h[t])}for(t=0;t<M;t++){m=F[z[d[t]]];var X=m.transforms[b]._indexToPoints;X[H[d[t]]]=T(t),H[d[t]]++}for(a=0;a<k.length;a++)g=k[a],m=F[a],c.clearExpandedTraceDefaultColors(m),m=i.extendDeepNoArrays(m,A[g]||{});return F}},{"../lib":244,"../plot_api/plot_schema":279,"../plots/plots":325,"./helpers":398}],398:[function(u,te,Y){Y.pointsAccessorFunction=function(i,n){for(var c,s,e=0;e<i.length&&(c=i[e],c!==n);e++)!c._indexToPoints||c.enabled===!1||(s=c._indexToPoints);var o=s?function(l){return s[l]}:function(l){return[l]};return o}},{}],399:[function(u,te,Y){var i=u("../lib"),n=u("../plots/cartesian/axes"),c=u("./helpers").pointsAccessorFunction,s=u("../constants/numerical").BADNUM;Y.moduleType="transform",Y.name="sort",Y.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},Y.supplyDefaults=function(l){var a={};function t(p,h){return i.coerce(l,a,Y.attributes,p,h)}var v=t("enabled");return v&&(t("target"),t("order")),a},Y.calcTransform=function(l,a,t){if(!!t.enabled){var v=i.getTargetArray(a,t);if(!!v){var p=t.target,h=v.length;a._length&&(h=Math.min(h,a._length));var g=a._arrayAttrs,m=n.getDataToCoordFunc(l,a,p,v),w=e(t,v,m,h),y=c(a.transforms,t),x={},f,b;for(f=0;f<g.length;f++){var d=i.nestedProperty(a,g[f]),T=d.get(),k=new Array(h);for(b=0;b<h;b++)k[b]=T[w[b]];d.set(k)}for(b=0;b<h;b++)x[b]=y(w[b]);t._indexToPoints=x,a._length=h}}};function e(l,a,t,v){var p=new Array(v),h=new Array(v),g;for(g=0;g<v;g++)p[g]={v:a[g],i:g};for(p.sort(o(l,t)),g=0;g<v;g++)h[g]=p[g].i;return h}function o(l,a){switch(l.order){case"ascending":return function(t,v){var p=a(t.v),h=a(v.v);return p===s?1:h===s?-1:p-h};case"descending":return function(t,v){var p=a(t.v),h=a(v.v);return p===s?1:h===s?-1:h-p}}}},{"../constants/numerical":224,"../lib":244,"../plots/cartesian/axes":291,"./helpers":398}],400:[function(u,te,Y){Y.version="2.16.3"},{}]},{},[8])(8)})})(wa);const ns=Dn({__name:"GraphPlot",setup(Ar){const Pr=Pn(),u=Hi(),te=as(u.toggleTheme,i);function Y(l){l.altKey||l.ctrlKey||l.shiftKey||l.repeat||l.code=="KeyT"&&u.toggleTheme()}function i(){n=Cn(u.useDarkTheme),o.value&&wa.exports.relayout(o.value,n)}let n=Cn(u.useDarkTheme);u.$subscribe((l,a)=>{n=Cn(a.useDarkTheme),o.value&&wa.exports.relayout(o.value,n)});let c=!1;function s(){!o.value||(c=!1,wa.exports.react(o.value,rs(Pr.visible),n,te))}const e=new ResizeObserver(()=>{!o.value||wa.exports.relayout(o.value,n)}),o=nn(null);return Oi(()=>{if(!o.value)throw Error("Plot div not present!");wa.exports.newPlot(o.value,[],n,te),Pr.$subscribe(()=>{c||(c=!0,Il(s))}),e.observe(o.value),document.addEventListener("keydown",Y)}),Hl(()=>{document.removeEventListener("keydown",Y)}),(l,a)=>(Ta(),Ma("div",{ref_key:"plotDiv",ref:o,class:"root"},null,512))}});const is=Rn(ns,[["__scopeId","data-v-2bad327e"]]),os={class:"main"},ls={class:"sidebar-container"},ss=Dn({__name:"App.Plot",setup(Ar){const Pr=Pn();return Hi(),Oi(()=>{Ol().then(u=>u.map(te=>te)).then(u=>Pr.$patch({graphs:u}))}),(u,te)=>(Ta(),Ma("div",os,[an(is),an(Yl,{"grip-position":"left","store-key":"plot-sidebar-width","default-size":"300px",class:"sidebar"},{default:Bl(()=>[ga("div",ls,[an($l)])]),_:1})]))}});const us=Rn(ss,[["__scopeId","data-v-c95b79bf"]]);Ul(us).use(Gl()).mount("#app");
